function r6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var o6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var B1={exports:{}},hf={},N1={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=Symbol.for("react.element"),i6=Symbol.for("react.portal"),s6=Symbol.for("react.fragment"),a6=Symbol.for("react.strict_mode"),l6=Symbol.for("react.profiler"),c6=Symbol.for("react.provider"),u6=Symbol.for("react.context"),f6=Symbol.for("react.forward_ref"),d6=Symbol.for("react.suspense"),h6=Symbol.for("react.memo"),p6=Symbol.for("react.lazy"),ng=Symbol.iterator;function m6(t){return t===null||typeof t!="object"?null:(t=ng&&t[ng]||t["@@iterator"],typeof t=="function"?t:null)}var $1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R1=Object.assign,L1={};function ba(t,e,n){this.props=t,this.context=e,this.refs=L1,this.updater=n||$1}ba.prototype.isReactComponent={};ba.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ba.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function D1(){}D1.prototype=ba.prototype;function Yp(t,e,n){this.props=t,this.context=e,this.refs=L1,this.updater=n||$1}var Xp=Yp.prototype=new D1;Xp.constructor=Yp;R1(Xp,ba.prototype);Xp.isPureReactComponent=!0;var rg=Array.isArray,U1=Object.prototype.hasOwnProperty,Qp={current:null},F1={key:!0,ref:!0,__self:!0,__source:!0};function V1(t,e,n){var r,a={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)U1.call(e,r)&&!F1.hasOwnProperty(r)&&(a[r]=e[r]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var l=Array(i),u=0;u<i;u++)l[u]=arguments[u+2];a.children=l}if(t&&t.defaultProps)for(r in i=t.defaultProps,i)a[r]===void 0&&(a[r]=i[r]);return{$$typeof:ql,type:t,key:o,ref:s,props:a,_owner:Qp.current}}function y6(t,e){return{$$typeof:ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zp(t){return typeof t=="object"&&t!==null&&t.$$typeof===ql}function g6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var og=/\/+/g;function od(t,e){return typeof t=="object"&&t!==null&&t.key!=null?g6(""+t.key):e.toString(36)}function Fc(t,e,n,r,a){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ql:case i6:s=!0}}if(s)return s=t,a=a(s),t=r===""?"."+od(s,0):r,rg(a)?(n="",t!=null&&(n=t.replace(og,"$&/")+"/"),Fc(a,e,n,"",function(u){return u})):a!=null&&(Zp(a)&&(a=y6(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(og,"$&/")+"/")+t)),e.push(a)),1;if(s=0,r=r===""?".":r+":",rg(t))for(var i=0;i<t.length;i++){o=t[i];var l=r+od(o,i);s+=Fc(o,e,n,l,a)}else if(l=m6(t),typeof l=="function")for(t=l.call(t),i=0;!(o=t.next()).done;)o=o.value,l=r+od(o,i++),s+=Fc(o,e,n,l,a);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function gc(t,e,n){if(t==null)return t;var r=[],a=0;return Fc(t,r,"","",function(o){return e.call(n,o,a++)}),r}function b6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ur={current:null},Vc={transition:null},v6={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:Vc,ReactCurrentOwner:Qp};zt.Children={map:gc,forEach:function(t,e,n){gc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gc(t,function(){e++}),e},toArray:function(t){return gc(t,function(e){return e})||[]},only:function(t){if(!Zp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};zt.Component=ba;zt.Fragment=s6;zt.Profiler=l6;zt.PureComponent=Yp;zt.StrictMode=a6;zt.Suspense=d6;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v6;zt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=R1({},t.props),a=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Qp.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var i=t.type.defaultProps;for(l in e)U1.call(e,l)&&!F1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&i!==void 0?i[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){i=Array(l);for(var u=0;u<l;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:ql,type:t.type,key:a,ref:o,props:r,_owner:s}};zt.createContext=function(t){return t={$$typeof:u6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:c6,_context:t},t.Consumer=t};zt.createElement=V1;zt.createFactory=function(t){var e=V1.bind(null,t);return e.type=t,e};zt.createRef=function(){return{current:null}};zt.forwardRef=function(t){return{$$typeof:f6,render:t}};zt.isValidElement=Zp;zt.lazy=function(t){return{$$typeof:p6,_payload:{_status:-1,_result:t},_init:b6}};zt.memo=function(t,e){return{$$typeof:h6,type:t,compare:e===void 0?null:e}};zt.startTransition=function(t){var e=Vc.transition;Vc.transition={};try{t()}finally{Vc.transition=e}};zt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};zt.useCallback=function(t,e){return ur.current.useCallback(t,e)};zt.useContext=function(t){return ur.current.useContext(t)};zt.useDebugValue=function(){};zt.useDeferredValue=function(t){return ur.current.useDeferredValue(t)};zt.useEffect=function(t,e){return ur.current.useEffect(t,e)};zt.useId=function(){return ur.current.useId()};zt.useImperativeHandle=function(t,e,n){return ur.current.useImperativeHandle(t,e,n)};zt.useInsertionEffect=function(t,e){return ur.current.useInsertionEffect(t,e)};zt.useLayoutEffect=function(t,e){return ur.current.useLayoutEffect(t,e)};zt.useMemo=function(t,e){return ur.current.useMemo(t,e)};zt.useReducer=function(t,e,n){return ur.current.useReducer(t,e,n)};zt.useRef=function(t){return ur.current.useRef(t)};zt.useState=function(t){return ur.current.useState(t)};zt.useSyncExternalStore=function(t,e,n){return ur.current.useSyncExternalStore(t,e,n)};zt.useTransition=function(){return ur.current.useTransition()};zt.version="18.2.0";N1.exports=zt;var he=N1.exports;const em=Jo(he),w6=r6({__proto__:null,default:em},[he]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _6=he,S6=Symbol.for("react.element"),x6=Symbol.for("react.fragment"),k6=Object.prototype.hasOwnProperty,E6=_6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O6={key:!0,ref:!0,__self:!0,__source:!0};function z1(t,e,n){var r,a={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)k6.call(e,r)&&!O6.hasOwnProperty(r)&&(a[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)a[r]===void 0&&(a[r]=e[r]);return{$$typeof:S6,type:t,key:o,ref:s,props:a,_owner:E6.current}}hf.Fragment=x6;hf.jsx=z1;hf.jsxs=z1;B1.exports=hf;var J=B1.exports,ch={},H1={exports:{}},Tr={},q1={exports:{}},W1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,O){var I=U.length;U.push(O);e:for(;0<I;){var j=I-1>>>1,P=U[j];if(0<a(P,O))U[j]=O,U[I]=P,I=j;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var O=U[0],I=U.pop();if(I!==O){U[0]=I;e:for(var j=0,P=U.length,A=P>>>1;j<A;){var $=2*(j+1)-1,q=U[$],X=$+1,te=U[X];if(0>a(q,I))X<P&&0>a(te,q)?(U[j]=te,U[X]=I,j=X):(U[j]=q,U[$]=I,j=$);else if(X<P&&0>a(te,I))U[j]=te,U[X]=I,j=X;else break e}}return O}function a(U,O){var I=U.sortIndex-O.sortIndex;return I!==0?I:U.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,i=s.now();t.unstable_now=function(){return s.now()-i}}var l=[],u=[],g=1,h=null,b=3,w=!1,p=!1,d=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(U){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=U)r(u),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(u)}}function v(U){if(d=!1,f(U),!p)if(n(l)!==null)p=!0,D(_);else{var O=n(u);O!==null&&z(v,O.startTime-U)}}function _(U,O){p=!1,d&&(d=!1,m(x),x=-1),w=!0;var I=b;try{for(f(O),h=n(l);h!==null&&(!(h.expirationTime>O)||U&&!C());){var j=h.callback;if(typeof j=="function"){h.callback=null,b=h.priorityLevel;var P=j(h.expirationTime<=O);O=t.unstable_now(),typeof P=="function"?h.callback=P:h===n(l)&&r(l),f(O)}else r(l);h=n(l)}if(h!==null)var A=!0;else{var $=n(u);$!==null&&z(v,$.startTime-O),A=!1}return A}finally{h=null,b=I,w=!1}}var S=!1,E=null,x=-1,k=5,T=-1;function C(){return!(t.unstable_now()-T<k)}function M(){if(E!==null){var U=t.unstable_now();T=U;var O=!0;try{O=E(!0,U)}finally{O?N():(S=!1,E=null)}}else S=!1}var N;if(typeof c=="function")N=function(){c(M)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,R=L.port2;L.port1.onmessage=M,N=function(){R.postMessage(null)}}else N=function(){y(M,0)};function D(U){E=U,S||(S=!0,N())}function z(U,O){x=y(function(){U(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){p||w||(p=!0,D(_))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(b){case 1:case 2:case 3:var O=3;break;default:O=b}var I=b;b=O;try{return U()}finally{b=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,O){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var I=b;b=U;try{return O()}finally{b=I}},t.unstable_scheduleCallback=function(U,O,I){var j=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?j+I:j):I=j,U){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=I+P,U={id:g++,callback:O,priorityLevel:U,startTime:I,expirationTime:P,sortIndex:-1},I>j?(U.sortIndex=I,e(u,U),n(l)===null&&U===n(u)&&(d?(m(x),x=-1):d=!0,z(v,I-j))):(U.sortIndex=P,e(l,U),p||w||(p=!0,D(_))),U},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(U){var O=b;return function(){var I=b;b=O;try{return U.apply(this,arguments)}finally{b=I}}}})(W1);q1.exports=W1;var A6=q1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1=he,Or=A6;function Ge(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G1=new Set,bl={};function bs(t,e){ia(t,e),ia(t+"Capture",e)}function ia(t,e){for(bl[t]=e,t=0;t<e.length;t++)G1.add(e[t])}var Uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uh=Object.prototype.hasOwnProperty,T6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ig={},sg={};function j6(t){return uh.call(sg,t)?!0:uh.call(ig,t)?!1:T6.test(t)?sg[t]=!0:(ig[t]=!0,!1)}function C6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function P6(t,e,n,r){if(e===null||typeof e>"u"||C6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fr(t,e,n,r,a,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kn[t]=new fr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kn[e]=new fr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kn[t]=new fr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kn[t]=new fr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kn[t]=new fr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kn[t]=new fr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kn[t]=new fr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kn[t]=new fr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kn[t]=new fr(t,5,!1,t.toLowerCase(),null,!1,!1)});var tm=/[\-:]([a-z])/g;function nm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tm,nm);Kn[e]=new fr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tm,nm);Kn[e]=new fr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tm,nm);Kn[e]=new fr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kn[t]=new fr(t,1,!1,t.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kn[t]=new fr(t,1,!1,t.toLowerCase(),null,!0,!0)});function rm(t,e,n,r){var a=Kn.hasOwnProperty(e)?Kn[e]:null;(a!==null?a.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(P6(e,n,a,r)&&(n=null),r||a===null?j6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):a.mustUseProperty?t[a.propertyName]=n===null?a.type===3?!1:"":n:(e=a.attributeName,r=a.attributeNamespace,n===null?t.removeAttribute(e):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yo=K1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bc=Symbol.for("react.element"),Ns=Symbol.for("react.portal"),$s=Symbol.for("react.fragment"),om=Symbol.for("react.strict_mode"),fh=Symbol.for("react.profiler"),J1=Symbol.for("react.provider"),Y1=Symbol.for("react.context"),im=Symbol.for("react.forward_ref"),dh=Symbol.for("react.suspense"),hh=Symbol.for("react.suspense_list"),sm=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),X1=Symbol.for("react.offscreen"),ag=Symbol.iterator;function Na(t){return t===null||typeof t!="object"?null:(t=ag&&t[ag]||t["@@iterator"],typeof t=="function"?t:null)}var bn=Object.assign,id;function Ka(t){if(id===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);id=e&&e[1]||""}return`
`+id+t}var sd=!1;function ad(t,e){if(!t||sd)return"";sd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=r.stack.split(`
`),s=a.length-1,i=o.length-1;1<=s&&0<=i&&a[s]!==o[i];)i--;for(;1<=s&&0<=i;s--,i--)if(a[s]!==o[i]){if(s!==1||i!==1)do if(s--,i--,0>i||a[s]!==o[i]){var l=`
`+a[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=i);break}}}finally{sd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ka(t):""}function M6(t){switch(t.tag){case 5:return Ka(t.type);case 16:return Ka("Lazy");case 13:return Ka("Suspense");case 19:return Ka("SuspenseList");case 0:case 2:case 15:return t=ad(t.type,!1),t;case 11:return t=ad(t.type.render,!1),t;case 1:return t=ad(t.type,!0),t;default:return""}}function ph(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $s:return"Fragment";case Ns:return"Portal";case fh:return"Profiler";case om:return"StrictMode";case dh:return"Suspense";case hh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Y1:return(t.displayName||"Context")+".Consumer";case J1:return(t._context.displayName||"Context")+".Provider";case im:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sm:return e=t.displayName||null,e!==null?e:ph(t.type)||"Memo";case ni:e=t._payload,t=t._init;try{return ph(t(e))}catch{}}return null}function I6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ph(e);case 8:return e===om?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Q1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function B6(t){var e=Q1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vc(t){t._valueTracker||(t._valueTracker=B6(t))}function Z1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Q1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mh(t,e){var n=e.checked;return bn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ev(t,e){e=e.checked,e!=null&&rm(t,"checked",e,!1)}function yh(t,e){ev(t,e);var n=ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gh(t,e.type,n):e.hasOwnProperty("defaultValue")&&gh(t,e.type,ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gh(t,e,n){(e!=="number"||pu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ga=Array.isArray;function Xs(t,e,n,r){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ji(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function bh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return bn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ug(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ge(92));if(Ga(n)){if(1<n.length)throw Error(Ge(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ji(n)}}function tv(t,e){var n=ji(e.value),r=ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wc,rv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,a){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wc=wc||document.createElement("div"),wc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N6=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(t){N6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),el[e]=el[t]})});function ov(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||el.hasOwnProperty(t)&&el[t]?(""+e).trim():e+"px"}function iv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=ov(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,a):t[n]=a}}var $6=bn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wh(t,e){if(e){if($6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ge(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ge(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ge(62))}}function _h(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sh=null;function am(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xh=null,Qs=null,Zs=null;function dg(t){if(t=Gl(t)){if(typeof xh!="function")throw Error(Ge(280));var e=t.stateNode;e&&(e=bf(e),xh(t.stateNode,t.type,e))}}function sv(t){Qs?Zs?Zs.push(t):Zs=[t]:Qs=t}function av(){if(Qs){var t=Qs,e=Zs;if(Zs=Qs=null,dg(t),e)for(t=0;t<e.length;t++)dg(e[t])}}function lv(t,e){return t(e)}function cv(){}var ld=!1;function uv(t,e,n){if(ld)return t(e,n);ld=!0;try{return lv(t,e,n)}finally{ld=!1,(Qs!==null||Zs!==null)&&(cv(),av())}}function wl(t,e){var n=t.stateNode;if(n===null)return null;var r=bf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ge(231,e,typeof n));return n}var kh=!1;if(Uo)try{var $a={};Object.defineProperty($a,"passive",{get:function(){kh=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{kh=!1}function R6(t,e,n,r,a,o,s,i,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(g){this.onError(g)}}var tl=!1,mu=null,yu=!1,Eh=null,L6={onError:function(t){tl=!0,mu=t}};function D6(t,e,n,r,a,o,s,i,l){tl=!1,mu=null,R6.apply(L6,arguments)}function U6(t,e,n,r,a,o,s,i,l){if(D6.apply(this,arguments),tl){if(tl){var u=mu;tl=!1,mu=null}else throw Error(Ge(198));yu||(yu=!0,Eh=u)}}function vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hg(t){if(vs(t)!==t)throw Error(Ge(188))}function F6(t){var e=t.alternate;if(!e){if(e=vs(t),e===null)throw Error(Ge(188));return e!==t?null:t}for(var n=t,r=e;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return hg(a),t;if(o===r)return hg(a),e;o=o.sibling}throw Error(Ge(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,i=a.child;i;){if(i===n){s=!0,n=a,r=o;break}if(i===r){s=!0,r=a,n=o;break}i=i.sibling}if(!s){for(i=o.child;i;){if(i===n){s=!0,n=o,r=a;break}if(i===r){s=!0,r=o,n=a;break}i=i.sibling}if(!s)throw Error(Ge(189))}}if(n.alternate!==r)throw Error(Ge(190))}if(n.tag!==3)throw Error(Ge(188));return n.stateNode.current===n?t:e}function dv(t){return t=F6(t),t!==null?hv(t):null}function hv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hv(t);if(e!==null)return e;t=t.sibling}return null}var pv=Or.unstable_scheduleCallback,pg=Or.unstable_cancelCallback,V6=Or.unstable_shouldYield,z6=Or.unstable_requestPaint,kn=Or.unstable_now,H6=Or.unstable_getCurrentPriorityLevel,lm=Or.unstable_ImmediatePriority,mv=Or.unstable_UserBlockingPriority,gu=Or.unstable_NormalPriority,q6=Or.unstable_LowPriority,yv=Or.unstable_IdlePriority,pf=null,po=null;function W6(t){if(po&&typeof po.onCommitFiberRoot=="function")try{po.onCommitFiberRoot(pf,t,void 0,(t.current.flags&128)===128)}catch{}}var Xr=Math.clz32?Math.clz32:J6,K6=Math.log,G6=Math.LN2;function J6(t){return t>>>=0,t===0?32:31-(K6(t)/G6|0)|0}var _c=64,Sc=4194304;function Ja(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,a=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var i=s&~a;i!==0?r=Ja(i):(o&=s,o!==0&&(r=Ja(o)))}else s=n&~a,s!==0?r=Ja(s):o!==0&&(r=Ja(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&a)&&(a=r&-r,o=e&-e,a>=o||a===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xr(e),a=1<<n,r|=t[n],e&=~a;return r}function Y6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Xr(o),i=1<<s,l=a[s];l===-1?(!(i&n)||i&r)&&(a[s]=Y6(i,e)):l<=e&&(t.expiredLanes|=i),o&=~i}}function Oh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gv(){var t=_c;return _c<<=1,!(_c&4194240)&&(_c=64),t}function cd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xr(e),t[e]=n}function Q6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var a=31-Xr(n),o=1<<a;e[a]=0,r[a]=-1,t[a]=-1,n&=~o}}function cm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xr(n),a=1<<r;a&e|t[r]&e&&(t[r]|=e),n&=~a}}var Qt=0;function bv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vv,um,wv,_v,Sv,Ah=!1,xc=[],mi=null,yi=null,gi=null,_l=new Map,Sl=new Map,ii=[],Z6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mg(t,e){switch(t){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":_l.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(e.pointerId)}}function Ra(t,e,n,r,a,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},e!==null&&(e=Gl(e),e!==null&&um(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function ex(t,e,n,r,a){switch(e){case"focusin":return mi=Ra(mi,t,e,n,r,a),!0;case"dragenter":return yi=Ra(yi,t,e,n,r,a),!0;case"mouseover":return gi=Ra(gi,t,e,n,r,a),!0;case"pointerover":var o=a.pointerId;return _l.set(o,Ra(_l.get(o)||null,t,e,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Sl.set(o,Ra(Sl.get(o)||null,t,e,n,r,a)),!0}return!1}function xv(t){var e=Yi(t.target);if(e!==null){var n=vs(e);if(n!==null){if(e=n.tag,e===13){if(e=fv(n),e!==null){t.blockedOn=e,Sv(t.priority,function(){wv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Th(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sh=r,n.target.dispatchEvent(r),Sh=null}else return e=Gl(n),e!==null&&um(e),t.blockedOn=n,!1;e.shift()}return!0}function yg(t,e,n){zc(t)&&n.delete(e)}function tx(){Ah=!1,mi!==null&&zc(mi)&&(mi=null),yi!==null&&zc(yi)&&(yi=null),gi!==null&&zc(gi)&&(gi=null),_l.forEach(yg),Sl.forEach(yg)}function La(t,e){t.blockedOn===e&&(t.blockedOn=null,Ah||(Ah=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,tx)))}function xl(t){function e(a){return La(a,t)}if(0<xc.length){La(xc[0],t);for(var n=1;n<xc.length;n++){var r=xc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mi!==null&&La(mi,t),yi!==null&&La(yi,t),gi!==null&&La(gi,t),_l.forEach(e),Sl.forEach(e),n=0;n<ii.length;n++)r=ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)xv(n),n.blockedOn===null&&ii.shift()}var ea=Yo.ReactCurrentBatchConfig,vu=!0;function nx(t,e,n,r){var a=Qt,o=ea.transition;ea.transition=null;try{Qt=1,fm(t,e,n,r)}finally{Qt=a,ea.transition=o}}function rx(t,e,n,r){var a=Qt,o=ea.transition;ea.transition=null;try{Qt=4,fm(t,e,n,r)}finally{Qt=a,ea.transition=o}}function fm(t,e,n,r){if(vu){var a=Th(t,e,n,r);if(a===null)vd(t,e,r,wu,n),mg(t,r);else if(ex(a,t,e,n,r))r.stopPropagation();else if(mg(t,r),e&4&&-1<Z6.indexOf(t)){for(;a!==null;){var o=Gl(a);if(o!==null&&vv(o),o=Th(t,e,n,r),o===null&&vd(t,e,r,wu,n),o===a)break;a=o}a!==null&&r.stopPropagation()}else vd(t,e,r,null,n)}}var wu=null;function Th(t,e,n,r){if(wu=null,t=am(r),t=Yi(t),t!==null)if(e=vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wu=t,null}function kv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H6()){case lm:return 1;case mv:return 4;case gu:case q6:return 16;case yv:return 536870912;default:return 16}default:return 16}}var di=null,dm=null,Hc=null;function Ev(){if(Hc)return Hc;var t,e=dm,n=e.length,r,a="value"in di?di.value:di.textContent,o=a.length;for(t=0;t<n&&e[t]===a[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===a[o-r];r++);return Hc=a.slice(t,1<r?1-r:void 0)}function qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kc(){return!0}function gg(){return!1}function jr(t){function e(n,r,a,o,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var i in t)t.hasOwnProperty(i)&&(n=t[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?kc:gg,this.isPropagationStopped=gg,this}return bn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kc)},persist:function(){},isPersistent:kc}),e}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hm=jr(va),Kl=bn({},va,{view:0,detail:0}),ox=jr(Kl),ud,fd,Da,mf=bn({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Da&&(Da&&t.type==="mousemove"?(ud=t.screenX-Da.screenX,fd=t.screenY-Da.screenY):fd=ud=0,Da=t),ud)},movementY:function(t){return"movementY"in t?t.movementY:fd}}),bg=jr(mf),ix=bn({},mf,{dataTransfer:0}),sx=jr(ix),ax=bn({},Kl,{relatedTarget:0}),dd=jr(ax),lx=bn({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),cx=jr(lx),ux=bn({},va,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fx=jr(ux),dx=bn({},va,{data:0}),vg=jr(dx),hx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},px={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mx[t])?!!e[t]:!1}function pm(){return yx}var gx=bn({},Kl,{key:function(t){if(t.key){var e=hx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?px[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pm,charCode:function(t){return t.type==="keypress"?qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bx=jr(gx),vx=bn({},mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wg=jr(vx),wx=bn({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pm}),_x=jr(wx),Sx=bn({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),xx=jr(Sx),kx=bn({},mf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ex=jr(kx),Ox=[9,13,27,32],mm=Uo&&"CompositionEvent"in window,nl=null;Uo&&"documentMode"in document&&(nl=document.documentMode);var Ax=Uo&&"TextEvent"in window&&!nl,Ov=Uo&&(!mm||nl&&8<nl&&11>=nl),_g=String.fromCharCode(32),Sg=!1;function Av(t,e){switch(t){case"keyup":return Ox.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rs=!1;function Tx(t,e){switch(t){case"compositionend":return Tv(e);case"keypress":return e.which!==32?null:(Sg=!0,_g);case"textInput":return t=e.data,t===_g&&Sg?null:t;default:return null}}function jx(t,e){if(Rs)return t==="compositionend"||!mm&&Av(t,e)?(t=Ev(),Hc=dm=di=null,Rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ov&&e.locale!=="ko"?null:e.data;default:return null}}var Cx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Cx[t.type]:e==="textarea"}function jv(t,e,n,r){sv(r),e=_u(e,"onChange"),0<e.length&&(n=new hm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rl=null,kl=null;function Px(t){Uv(t,0)}function yf(t){var e=Us(t);if(Z1(e))return t}function Mx(t,e){if(t==="change")return e}var Cv=!1;if(Uo){var hd;if(Uo){var pd="oninput"in document;if(!pd){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),pd=typeof kg.oninput=="function"}hd=pd}else hd=!1;Cv=hd&&(!document.documentMode||9<document.documentMode)}function Eg(){rl&&(rl.detachEvent("onpropertychange",Pv),kl=rl=null)}function Pv(t){if(t.propertyName==="value"&&yf(kl)){var e=[];jv(e,kl,t,am(t)),uv(Px,e)}}function Ix(t,e,n){t==="focusin"?(Eg(),rl=e,kl=n,rl.attachEvent("onpropertychange",Pv)):t==="focusout"&&Eg()}function Bx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yf(kl)}function Nx(t,e){if(t==="click")return yf(e)}function $x(t,e){if(t==="input"||t==="change")return yf(e)}function Rx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var to=typeof Object.is=="function"?Object.is:Rx;function El(t,e){if(to(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!uh.call(e,a)||!to(t[a],e[a]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ag(t,e){var n=Og(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Og(n)}}function Mv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Iv(){for(var t=window,e=pu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pu(t.document)}return e}function ym(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Lx(t){var e=Iv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Mv(n.ownerDocument.documentElement,n)){if(r!==null&&ym(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!t.extend&&o>r&&(a=r,r=o,o=a),a=Ag(n,o);var s=Ag(n,r);a&&s&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Dx=Uo&&"documentMode"in document&&11>=document.documentMode,Ls=null,jh=null,ol=null,Ch=!1;function Tg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ch||Ls==null||Ls!==pu(r)||(r=Ls,"selectionStart"in r&&ym(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ol&&El(ol,r)||(ol=r,r=_u(jh,"onSelect"),0<r.length&&(e=new hm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ls)))}function Ec(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ds={animationend:Ec("Animation","AnimationEnd"),animationiteration:Ec("Animation","AnimationIteration"),animationstart:Ec("Animation","AnimationStart"),transitionend:Ec("Transition","TransitionEnd")},md={},Bv={};Uo&&(Bv=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function gf(t){if(md[t])return md[t];if(!Ds[t])return t;var e=Ds[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Bv)return md[t]=e[n];return t}var Nv=gf("animationend"),$v=gf("animationiteration"),Rv=gf("animationstart"),Lv=gf("transitionend"),Dv=new Map,jg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(t,e){Dv.set(t,e),bs(e,[t])}for(var yd=0;yd<jg.length;yd++){var gd=jg[yd],Ux=gd.toLowerCase(),Fx=gd[0].toUpperCase()+gd.slice(1);Bi(Ux,"on"+Fx)}Bi(Nv,"onAnimationEnd");Bi($v,"onAnimationIteration");Bi(Rv,"onAnimationStart");Bi("dblclick","onDoubleClick");Bi("focusin","onFocus");Bi("focusout","onBlur");Bi(Lv,"onTransitionEnd");ia("onMouseEnter",["mouseout","mouseover"]);ia("onMouseLeave",["mouseout","mouseover"]);ia("onPointerEnter",["pointerout","pointerover"]);ia("onPointerLeave",["pointerout","pointerover"]);bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ya));function Cg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,U6(r,e,void 0,t),t.currentTarget=null}function Uv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var i=r[s],l=i.instance,u=i.currentTarget;if(i=i.listener,l!==o&&a.isPropagationStopped())break e;Cg(a,i,u),o=l}else for(s=0;s<r.length;s++){if(i=r[s],l=i.instance,u=i.currentTarget,i=i.listener,l!==o&&a.isPropagationStopped())break e;Cg(a,i,u),o=l}}}if(yu)throw t=Eh,yu=!1,Eh=null,t}function cn(t,e){var n=e[Nh];n===void 0&&(n=e[Nh]=new Set);var r=t+"__bubble";n.has(r)||(Fv(e,t,2,!1),n.add(r))}function bd(t,e,n){var r=0;e&&(r|=4),Fv(n,t,r,e)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Ol(t){if(!t[Oc]){t[Oc]=!0,G1.forEach(function(n){n!=="selectionchange"&&(Vx.has(n)||bd(n,!1,t),bd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oc]||(e[Oc]=!0,bd("selectionchange",!1,e))}}function Fv(t,e,n,r){switch(kv(e)){case 1:var a=nx;break;case 4:a=rx;break;default:a=fm}n=a.bind(null,e,n,t),a=void 0,!kh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function vd(t,e,n,r,a){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var i=r.stateNode.containerInfo;if(i===a||i.nodeType===8&&i.parentNode===a)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;i!==null;){if(s=Yi(i),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}i=i.parentNode}}r=r.return}uv(function(){var u=o,g=am(n),h=[];e:{var b=Dv.get(t);if(b!==void 0){var w=hm,p=t;switch(t){case"keypress":if(qc(n)===0)break e;case"keydown":case"keyup":w=bx;break;case"focusin":p="focus",w=dd;break;case"focusout":p="blur",w=dd;break;case"beforeblur":case"afterblur":w=dd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=bg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=sx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=_x;break;case Nv:case $v:case Rv:w=cx;break;case Lv:w=xx;break;case"scroll":w=ox;break;case"wheel":w=Ex;break;case"copy":case"cut":case"paste":w=fx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=wg}var d=(e&4)!==0,y=!d&&t==="scroll",m=d?b!==null?b+"Capture":null:b;d=[];for(var c=u,f;c!==null;){f=c;var v=f.stateNode;if(f.tag===5&&v!==null&&(f=v,m!==null&&(v=wl(c,m),v!=null&&d.push(Al(c,v,f)))),y)break;c=c.return}0<d.length&&(b=new w(b,p,null,n,g),h.push({event:b,listeners:d}))}}if(!(e&7)){e:{if(b=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",b&&n!==Sh&&(p=n.relatedTarget||n.fromElement)&&(Yi(p)||p[Fo]))break e;if((w||b)&&(b=g.window===g?g:(b=g.ownerDocument)?b.defaultView||b.parentWindow:window,w?(p=n.relatedTarget||n.toElement,w=u,p=p?Yi(p):null,p!==null&&(y=vs(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(w=null,p=u),w!==p)){if(d=bg,v="onMouseLeave",m="onMouseEnter",c="mouse",(t==="pointerout"||t==="pointerover")&&(d=wg,v="onPointerLeave",m="onPointerEnter",c="pointer"),y=w==null?b:Us(w),f=p==null?b:Us(p),b=new d(v,c+"leave",w,n,g),b.target=y,b.relatedTarget=f,v=null,Yi(g)===u&&(d=new d(m,c+"enter",p,n,g),d.target=f,d.relatedTarget=y,v=d),y=v,w&&p)t:{for(d=w,m=p,c=0,f=d;f;f=Cs(f))c++;for(f=0,v=m;v;v=Cs(v))f++;for(;0<c-f;)d=Cs(d),c--;for(;0<f-c;)m=Cs(m),f--;for(;c--;){if(d===m||m!==null&&d===m.alternate)break t;d=Cs(d),m=Cs(m)}d=null}else d=null;w!==null&&Pg(h,b,w,d,!1),p!==null&&y!==null&&Pg(h,y,p,d,!0)}}e:{if(b=u?Us(u):window,w=b.nodeName&&b.nodeName.toLowerCase(),w==="select"||w==="input"&&b.type==="file")var _=Mx;else if(xg(b))if(Cv)_=$x;else{_=Bx;var S=Ix}else(w=b.nodeName)&&w.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(_=Nx);if(_&&(_=_(t,u))){jv(h,_,n,g);break e}S&&S(t,b,u),t==="focusout"&&(S=b._wrapperState)&&S.controlled&&b.type==="number"&&gh(b,"number",b.value)}switch(S=u?Us(u):window,t){case"focusin":(xg(S)||S.contentEditable==="true")&&(Ls=S,jh=u,ol=null);break;case"focusout":ol=jh=Ls=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,Tg(h,n,g);break;case"selectionchange":if(Dx)break;case"keydown":case"keyup":Tg(h,n,g)}var E;if(mm)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Rs?Av(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Ov&&n.locale!=="ko"&&(Rs||x!=="onCompositionStart"?x==="onCompositionEnd"&&Rs&&(E=Ev()):(di=g,dm="value"in di?di.value:di.textContent,Rs=!0)),S=_u(u,x),0<S.length&&(x=new vg(x,t,null,n,g),h.push({event:x,listeners:S}),E?x.data=E:(E=Tv(n),E!==null&&(x.data=E)))),(E=Ax?Tx(t,n):jx(t,n))&&(u=_u(u,"onBeforeInput"),0<u.length&&(g=new vg("onBeforeInput","beforeinput",null,n,g),h.push({event:g,listeners:u}),g.data=E))}Uv(h,e)})}function Al(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _u(t,e){for(var n=e+"Capture",r=[];t!==null;){var a=t,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=wl(t,n),o!=null&&r.unshift(Al(t,o,a)),o=wl(t,e),o!=null&&r.push(Al(t,o,a))),t=t.return}return r}function Cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pg(t,e,n,r,a){for(var o=e._reactName,s=[];n!==null&&n!==r;){var i=n,l=i.alternate,u=i.stateNode;if(l!==null&&l===r)break;i.tag===5&&u!==null&&(i=u,a?(l=wl(n,o),l!=null&&s.unshift(Al(n,l,i))):a||(l=wl(n,o),l!=null&&s.push(Al(n,l,i)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var zx=/\r\n?/g,Hx=/\u0000|\uFFFD/g;function Mg(t){return(typeof t=="string"?t:""+t).replace(zx,`
`).replace(Hx,"")}function Ac(t,e,n){if(e=Mg(e),Mg(t)!==e&&n)throw Error(Ge(425))}function Su(){}var Ph=null,Mh=null;function Ih(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bh=typeof setTimeout=="function"?setTimeout:void 0,qx=typeof clearTimeout=="function"?clearTimeout:void 0,Ig=typeof Promise=="function"?Promise:void 0,Wx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ig<"u"?function(t){return Ig.resolve(null).then(t).catch(Kx)}:Bh;function Kx(t){setTimeout(function(){throw t})}function wd(t,e){var n=e,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){t.removeChild(a),xl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);xl(e)}function bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wa=Math.random().toString(36).slice(2),ho="__reactFiber$"+wa,Tl="__reactProps$"+wa,Fo="__reactContainer$"+wa,Nh="__reactEvents$"+wa,Gx="__reactListeners$"+wa,Jx="__reactHandles$"+wa;function Yi(t){var e=t[ho];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fo]||n[ho]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bg(t);t!==null;){if(n=t[ho])return n;t=Bg(t)}return e}t=n,n=t.parentNode}return null}function Gl(t){return t=t[ho]||t[Fo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Us(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ge(33))}function bf(t){return t[Tl]||null}var $h=[],Fs=-1;function Ni(t){return{current:t}}function fn(t){0>Fs||(t.current=$h[Fs],$h[Fs]=null,Fs--)}function sn(t,e){Fs++,$h[Fs]=t.current,t.current=e}var Ci={},nr=Ni(Ci),yr=Ni(!1),ss=Ci;function sa(t,e){var n=t.type.contextTypes;if(!n)return Ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in n)a[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function gr(t){return t=t.childContextTypes,t!=null}function xu(){fn(yr),fn(nr)}function Ng(t,e,n){if(nr.current!==Ci)throw Error(Ge(168));sn(nr,e),sn(yr,n)}function Vv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in e))throw Error(Ge(108,I6(t)||"Unknown",a));return bn({},n,r)}function ku(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ci,ss=nr.current,sn(nr,t),sn(yr,yr.current),!0}function $g(t,e,n){var r=t.stateNode;if(!r)throw Error(Ge(169));n?(t=Vv(t,e,ss),r.__reactInternalMemoizedMergedChildContext=t,fn(yr),fn(nr),sn(nr,t)):fn(yr),sn(yr,n)}var To=null,vf=!1,_d=!1;function zv(t){To===null?To=[t]:To.push(t)}function Yx(t){vf=!0,zv(t)}function $i(){if(!_d&&To!==null){_d=!0;var t=0,e=Qt;try{var n=To;for(Qt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}To=null,vf=!1}catch(a){throw To!==null&&(To=To.slice(t+1)),pv(lm,$i),a}finally{Qt=e,_d=!1}}return null}var Vs=[],zs=0,Eu=null,Ou=0,Nr=[],$r=0,as=null,Co=1,Po="";function qi(t,e){Vs[zs++]=Ou,Vs[zs++]=Eu,Eu=t,Ou=e}function Hv(t,e,n){Nr[$r++]=Co,Nr[$r++]=Po,Nr[$r++]=as,as=t;var r=Co;t=Po;var a=32-Xr(r)-1;r&=~(1<<a),n+=1;var o=32-Xr(e)+a;if(30<o){var s=a-a%5;o=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Co=1<<32-Xr(e)+a|n<<a|r,Po=o+t}else Co=1<<o|n<<a|r,Po=t}function gm(t){t.return!==null&&(qi(t,1),Hv(t,1,0))}function bm(t){for(;t===Eu;)Eu=Vs[--zs],Vs[zs]=null,Ou=Vs[--zs],Vs[zs]=null;for(;t===as;)as=Nr[--$r],Nr[$r]=null,Po=Nr[--$r],Nr[$r]=null,Co=Nr[--$r],Nr[$r]=null}var kr=null,xr=null,hn=!1,Gr=null;function qv(t,e){var n=Rr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kr=t,xr=bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kr=t,xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=as!==null?{id:Co,overflow:Po}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kr=t,xr=null,!0):!1;default:return!1}}function Rh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lh(t){if(hn){var e=xr;if(e){var n=e;if(!Rg(t,e)){if(Rh(t))throw Error(Ge(418));e=bi(n.nextSibling);var r=kr;e&&Rg(t,e)?qv(r,n):(t.flags=t.flags&-4097|2,hn=!1,kr=t)}}else{if(Rh(t))throw Error(Ge(418));t.flags=t.flags&-4097|2,hn=!1,kr=t}}}function Lg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kr=t}function Tc(t){if(t!==kr)return!1;if(!hn)return Lg(t),hn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ih(t.type,t.memoizedProps)),e&&(e=xr)){if(Rh(t))throw Wv(),Error(Ge(418));for(;e;)qv(t,e),e=bi(e.nextSibling)}if(Lg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ge(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xr=bi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xr=null}}else xr=kr?bi(t.stateNode.nextSibling):null;return!0}function Wv(){for(var t=xr;t;)t=bi(t.nextSibling)}function aa(){xr=kr=null,hn=!1}function vm(t){Gr===null?Gr=[t]:Gr.push(t)}var Xx=Yo.ReactCurrentBatchConfig;function Wr(t,e){if(t&&t.defaultProps){e=bn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Au=Ni(null),Tu=null,Hs=null,wm=null;function _m(){wm=Hs=Tu=null}function Sm(t){var e=Au.current;fn(Au),t._currentValue=e}function Dh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ta(t,e){Tu=t,wm=Hs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pr=!0),t.firstContext=null)}function Fr(t){var e=t._currentValue;if(wm!==t)if(t={context:t,memoizedValue:e,next:null},Hs===null){if(Tu===null)throw Error(Ge(308));Hs=t,Tu.dependencies={lanes:0,firstContext:t}}else Hs=Hs.next=t;return e}var Xi=null;function xm(t){Xi===null?Xi=[t]:Xi.push(t)}function Kv(t,e,n,r){var a=e.interleaved;return a===null?(n.next=n,xm(e)):(n.next=a.next,a.next=n),e.interleaved=n,Vo(t,r)}function Vo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ri=!1;function km(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ro(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Kt&2){var a=r.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),r.pending=e,Vo(t,n)}return a=r.interleaved,a===null?(e.next=e,xm(r)):(e.next=a.next,a.next=e),r.interleaved=e,Vo(t,n)}function Wc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cm(t,n)}}function Dg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?a=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?a=o=e:o=o.next=e}else a=o=e;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ju(t,e,n,r){var a=t.updateQueue;ri=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var l=i,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var g=t.alternate;g!==null&&(g=g.updateQueue,i=g.lastBaseUpdate,i!==s&&(i===null?g.firstBaseUpdate=u:i.next=u,g.lastBaseUpdate=l))}if(o!==null){var h=a.baseState;s=0,g=u=l=null,i=o;do{var b=i.lane,w=i.eventTime;if((r&b)===b){g!==null&&(g=g.next={eventTime:w,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=t,d=i;switch(b=e,w=n,d.tag){case 1:if(p=d.payload,typeof p=="function"){h=p.call(w,h,b);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=d.payload,b=typeof p=="function"?p.call(w,h,b):p,b==null)break e;h=bn({},h,b);break e;case 2:ri=!0}}i.callback!==null&&i.lane!==0&&(t.flags|=64,b=a.effects,b===null?a.effects=[i]:b.push(i))}else w={eventTime:w,lane:b,tag:i.tag,payload:i.payload,callback:i.callback,next:null},g===null?(u=g=w,l=h):g=g.next=w,s|=b;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;b=i,i=b.next,b.next=null,a.lastBaseUpdate=b,a.shared.pending=null}}while(1);if(g===null&&(l=h),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=g,e=a.shared.interleaved,e!==null){a=e;do s|=a.lane,a=a.next;while(a!==e)}else o===null&&(a.shared.lanes=0);cs|=s,t.lanes=s,t.memoizedState=h}}function Ug(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(Ge(191,a));a.call(r)}}}var Jv=new K1.Component().refs;function Uh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wf={isMounted:function(t){return(t=t._reactInternals)?vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cr(),a=_i(t),o=Ro(r,a);o.payload=e,n!=null&&(o.callback=n),e=vi(t,o,a),e!==null&&(Qr(e,t,a,r),Wc(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cr(),a=_i(t),o=Ro(r,a);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=vi(t,o,a),e!==null&&(Qr(e,t,a,r),Wc(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cr(),r=_i(t),a=Ro(n,r);a.tag=2,e!=null&&(a.callback=e),e=vi(t,a,r),e!==null&&(Qr(e,t,r,n),Wc(e,t,r))}};function Fg(t,e,n,r,a,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!El(n,r)||!El(a,o):!0}function Yv(t,e,n){var r=!1,a=Ci,o=e.contextType;return typeof o=="object"&&o!==null?o=Fr(o):(a=gr(e)?ss:nr.current,r=e.contextTypes,o=(r=r!=null)?sa(t,a):Ci),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=o),e}function Vg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wf.enqueueReplaceState(e,e.state,null)}function Fh(t,e,n,r){var a=t.stateNode;a.props=n,a.state=t.memoizedState,a.refs=Jv,km(t);var o=e.contextType;typeof o=="object"&&o!==null?a.context=Fr(o):(o=gr(e)?ss:nr.current,a.context=sa(t,o)),a.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Uh(t,e,o,n),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&wf.enqueueReplaceState(a,a.state,null),ju(t,n,a,r),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Ua(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ge(309));var r=n.stateNode}if(!r)throw Error(Ge(147,t));var a=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var i=a.refs;i===Jv&&(i=a.refs={}),s===null?delete i[o]:i[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Ge(284));if(!n._owner)throw Error(Ge(290,t))}return t}function jc(t,e){throw t=Object.prototype.toString.call(e),Error(Ge(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zg(t){var e=t._init;return e(t._payload)}function Xv(t){function e(m,c){if(t){var f=m.deletions;f===null?(m.deletions=[c],m.flags|=16):f.push(c)}}function n(m,c){if(!t)return null;for(;c!==null;)e(m,c),c=c.sibling;return null}function r(m,c){for(m=new Map;c!==null;)c.key!==null?m.set(c.key,c):m.set(c.index,c),c=c.sibling;return m}function a(m,c){return m=Si(m,c),m.index=0,m.sibling=null,m}function o(m,c,f){return m.index=f,t?(f=m.alternate,f!==null?(f=f.index,f<c?(m.flags|=2,c):f):(m.flags|=2,c)):(m.flags|=1048576,c)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function i(m,c,f,v){return c===null||c.tag!==6?(c=Td(f,m.mode,v),c.return=m,c):(c=a(c,f),c.return=m,c)}function l(m,c,f,v){var _=f.type;return _===$s?g(m,c,f.props.children,v,f.key):c!==null&&(c.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ni&&zg(_)===c.type)?(v=a(c,f.props),v.ref=Ua(m,c,f),v.return=m,v):(v=Qc(f.type,f.key,f.props,null,m.mode,v),v.ref=Ua(m,c,f),v.return=m,v)}function u(m,c,f,v){return c===null||c.tag!==4||c.stateNode.containerInfo!==f.containerInfo||c.stateNode.implementation!==f.implementation?(c=jd(f,m.mode,v),c.return=m,c):(c=a(c,f.children||[]),c.return=m,c)}function g(m,c,f,v,_){return c===null||c.tag!==7?(c=rs(f,m.mode,v,_),c.return=m,c):(c=a(c,f),c.return=m,c)}function h(m,c,f){if(typeof c=="string"&&c!==""||typeof c=="number")return c=Td(""+c,m.mode,f),c.return=m,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case bc:return f=Qc(c.type,c.key,c.props,null,m.mode,f),f.ref=Ua(m,null,c),f.return=m,f;case Ns:return c=jd(c,m.mode,f),c.return=m,c;case ni:var v=c._init;return h(m,v(c._payload),f)}if(Ga(c)||Na(c))return c=rs(c,m.mode,f,null),c.return=m,c;jc(m,c)}return null}function b(m,c,f,v){var _=c!==null?c.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return _!==null?null:i(m,c,""+f,v);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case bc:return f.key===_?l(m,c,f,v):null;case Ns:return f.key===_?u(m,c,f,v):null;case ni:return _=f._init,b(m,c,_(f._payload),v)}if(Ga(f)||Na(f))return _!==null?null:g(m,c,f,v,null);jc(m,f)}return null}function w(m,c,f,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(f)||null,i(c,m,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case bc:return m=m.get(v.key===null?f:v.key)||null,l(c,m,v,_);case Ns:return m=m.get(v.key===null?f:v.key)||null,u(c,m,v,_);case ni:var S=v._init;return w(m,c,f,S(v._payload),_)}if(Ga(v)||Na(v))return m=m.get(f)||null,g(c,m,v,_,null);jc(c,v)}return null}function p(m,c,f,v){for(var _=null,S=null,E=c,x=c=0,k=null;E!==null&&x<f.length;x++){E.index>x?(k=E,E=null):k=E.sibling;var T=b(m,E,f[x],v);if(T===null){E===null&&(E=k);break}t&&E&&T.alternate===null&&e(m,E),c=o(T,c,x),S===null?_=T:S.sibling=T,S=T,E=k}if(x===f.length)return n(m,E),hn&&qi(m,x),_;if(E===null){for(;x<f.length;x++)E=h(m,f[x],v),E!==null&&(c=o(E,c,x),S===null?_=E:S.sibling=E,S=E);return hn&&qi(m,x),_}for(E=r(m,E);x<f.length;x++)k=w(E,m,x,f[x],v),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?x:k.key),c=o(k,c,x),S===null?_=k:S.sibling=k,S=k);return t&&E.forEach(function(C){return e(m,C)}),hn&&qi(m,x),_}function d(m,c,f,v){var _=Na(f);if(typeof _!="function")throw Error(Ge(150));if(f=_.call(f),f==null)throw Error(Ge(151));for(var S=_=null,E=c,x=c=0,k=null,T=f.next();E!==null&&!T.done;x++,T=f.next()){E.index>x?(k=E,E=null):k=E.sibling;var C=b(m,E,T.value,v);if(C===null){E===null&&(E=k);break}t&&E&&C.alternate===null&&e(m,E),c=o(C,c,x),S===null?_=C:S.sibling=C,S=C,E=k}if(T.done)return n(m,E),hn&&qi(m,x),_;if(E===null){for(;!T.done;x++,T=f.next())T=h(m,T.value,v),T!==null&&(c=o(T,c,x),S===null?_=T:S.sibling=T,S=T);return hn&&qi(m,x),_}for(E=r(m,E);!T.done;x++,T=f.next())T=w(E,m,x,T.value,v),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?x:T.key),c=o(T,c,x),S===null?_=T:S.sibling=T,S=T);return t&&E.forEach(function(M){return e(m,M)}),hn&&qi(m,x),_}function y(m,c,f,v){if(typeof f=="object"&&f!==null&&f.type===$s&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case bc:e:{for(var _=f.key,S=c;S!==null;){if(S.key===_){if(_=f.type,_===$s){if(S.tag===7){n(m,S.sibling),c=a(S,f.props.children),c.return=m,m=c;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ni&&zg(_)===S.type){n(m,S.sibling),c=a(S,f.props),c.ref=Ua(m,S,f),c.return=m,m=c;break e}n(m,S);break}else e(m,S);S=S.sibling}f.type===$s?(c=rs(f.props.children,m.mode,v,f.key),c.return=m,m=c):(v=Qc(f.type,f.key,f.props,null,m.mode,v),v.ref=Ua(m,c,f),v.return=m,m=v)}return s(m);case Ns:e:{for(S=f.key;c!==null;){if(c.key===S)if(c.tag===4&&c.stateNode.containerInfo===f.containerInfo&&c.stateNode.implementation===f.implementation){n(m,c.sibling),c=a(c,f.children||[]),c.return=m,m=c;break e}else{n(m,c);break}else e(m,c);c=c.sibling}c=jd(f,m.mode,v),c.return=m,m=c}return s(m);case ni:return S=f._init,y(m,c,S(f._payload),v)}if(Ga(f))return p(m,c,f,v);if(Na(f))return d(m,c,f,v);jc(m,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,c!==null&&c.tag===6?(n(m,c.sibling),c=a(c,f),c.return=m,m=c):(n(m,c),c=Td(f,m.mode,v),c.return=m,m=c),s(m)):n(m,c)}return y}var la=Xv(!0),Qv=Xv(!1),Jl={},mo=Ni(Jl),jl=Ni(Jl),Cl=Ni(Jl);function Qi(t){if(t===Jl)throw Error(Ge(174));return t}function Em(t,e){switch(sn(Cl,e),sn(jl,t),sn(mo,Jl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vh(e,t)}fn(mo),sn(mo,e)}function ca(){fn(mo),fn(jl),fn(Cl)}function Zv(t){Qi(Cl.current);var e=Qi(mo.current),n=vh(e,t.type);e!==n&&(sn(jl,t),sn(mo,n))}function Om(t){jl.current===t&&(fn(mo),fn(jl))}var mn=Ni(0);function Cu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sd=[];function Am(){for(var t=0;t<Sd.length;t++)Sd[t]._workInProgressVersionPrimary=null;Sd.length=0}var Kc=Yo.ReactCurrentDispatcher,xd=Yo.ReactCurrentBatchConfig,ls=0,gn=null,$n=null,Dn=null,Pu=!1,il=!1,Pl=0,Qx=0;function Jn(){throw Error(Ge(321))}function Tm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!to(t[n],e[n]))return!1;return!0}function jm(t,e,n,r,a,o){if(ls=o,gn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kc.current=t===null||t.memoizedState===null?n4:r4,t=n(r,a),il){o=0;do{if(il=!1,Pl=0,25<=o)throw Error(Ge(301));o+=1,Dn=$n=null,e.updateQueue=null,Kc.current=o4,t=n(r,a)}while(il)}if(Kc.current=Mu,e=$n!==null&&$n.next!==null,ls=0,Dn=$n=gn=null,Pu=!1,e)throw Error(Ge(300));return t}function Cm(){var t=Pl!==0;return Pl=0,t}function uo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?gn.memoizedState=Dn=t:Dn=Dn.next=t,Dn}function Vr(){if($n===null){var t=gn.alternate;t=t!==null?t.memoizedState:null}else t=$n.next;var e=Dn===null?gn.memoizedState:Dn.next;if(e!==null)Dn=e,$n=t;else{if(t===null)throw Error(Ge(310));$n=t,t={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Dn===null?gn.memoizedState=Dn=t:Dn=Dn.next=t}return Dn}function Ml(t,e){return typeof e=="function"?e(t):e}function kd(t){var e=Vr(),n=e.queue;if(n===null)throw Error(Ge(311));n.lastRenderedReducer=t;var r=$n,a=r.baseQueue,o=n.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(a!==null){o=a.next,r=r.baseState;var i=s=null,l=null,u=o;do{var g=u.lane;if((ls&g)===g)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:g,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(i=l=h,s=r):l=l.next=h,gn.lanes|=g,cs|=g}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=i,to(r,e.memoizedState)||(pr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){a=t;do o=a.lane,gn.lanes|=o,cs|=o,a=a.next;while(a!==t)}else a===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ed(t){var e=Vr(),n=e.queue;if(n===null)throw Error(Ge(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,o=e.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=t(o,s.action),s=s.next;while(s!==a);to(o,e.memoizedState)||(pr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ew(){}function tw(t,e){var n=gn,r=Vr(),a=e(),o=!to(r.memoizedState,a);if(o&&(r.memoizedState=a,pr=!0),r=r.queue,Pm(ow.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Dn!==null&&Dn.memoizedState.tag&1){if(n.flags|=2048,Il(9,rw.bind(null,n,r,a,e),void 0,null),Un===null)throw Error(Ge(349));ls&30||nw(n,e,a)}return a}function nw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gn.updateQueue,e===null?(e={lastEffect:null,stores:null},gn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rw(t,e,n,r){e.value=n,e.getSnapshot=r,iw(e)&&sw(t)}function ow(t,e,n){return n(function(){iw(e)&&sw(t)})}function iw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!to(t,n)}catch{return!0}}function sw(t){var e=Vo(t,1);e!==null&&Qr(e,t,1,-1)}function Hg(t){var e=uo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:t},e.queue=t,t=t.dispatch=t4.bind(null,gn,t),[e.memoizedState,t]}function Il(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gn.updateQueue,e===null?(e={lastEffect:null,stores:null},gn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aw(){return Vr().memoizedState}function Gc(t,e,n,r){var a=uo();gn.flags|=t,a.memoizedState=Il(1|e,n,void 0,r===void 0?null:r)}function _f(t,e,n,r){var a=Vr();r=r===void 0?null:r;var o=void 0;if($n!==null){var s=$n.memoizedState;if(o=s.destroy,r!==null&&Tm(r,s.deps)){a.memoizedState=Il(e,n,o,r);return}}gn.flags|=t,a.memoizedState=Il(1|e,n,o,r)}function qg(t,e){return Gc(8390656,8,t,e)}function Pm(t,e){return _f(2048,8,t,e)}function lw(t,e){return _f(4,2,t,e)}function cw(t,e){return _f(4,4,t,e)}function uw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fw(t,e,n){return n=n!=null?n.concat([t]):null,_f(4,4,uw.bind(null,e,t),n)}function Mm(){}function dw(t,e){var n=Vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hw(t,e){var n=Vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pw(t,e,n){return ls&21?(to(n,e)||(n=gv(),gn.lanes|=n,cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pr=!0),t.memoizedState=n)}function Zx(t,e){var n=Qt;Qt=n!==0&&4>n?n:4,t(!0);var r=xd.transition;xd.transition={};try{t(!1),e()}finally{Qt=n,xd.transition=r}}function mw(){return Vr().memoizedState}function e4(t,e,n){var r=_i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yw(t))gw(e,n);else if(n=Kv(t,e,n,r),n!==null){var a=cr();Qr(n,t,r,a),bw(n,e,r)}}function t4(t,e,n){var r=_i(t),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yw(t))gw(e,a);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,i=o(s,n);if(a.hasEagerState=!0,a.eagerState=i,to(i,s)){var l=e.interleaved;l===null?(a.next=a,xm(e)):(a.next=l.next,l.next=a),e.interleaved=a;return}}catch{}finally{}n=Kv(t,e,a,r),n!==null&&(a=cr(),Qr(n,t,r,a),bw(n,e,r))}}function yw(t){var e=t.alternate;return t===gn||e!==null&&e===gn}function gw(t,e){il=Pu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cm(t,n)}}var Mu={readContext:Fr,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},n4={readContext:Fr,useCallback:function(t,e){return uo().memoizedState=[t,e===void 0?null:e],t},useContext:Fr,useEffect:qg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gc(4194308,4,uw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gc(4,2,t,e)},useMemo:function(t,e){var n=uo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=uo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=e4.bind(null,gn,t),[r.memoizedState,t]},useRef:function(t){var e=uo();return t={current:t},e.memoizedState=t},useState:Hg,useDebugValue:Mm,useDeferredValue:function(t){return uo().memoizedState=t},useTransition:function(){var t=Hg(!1),e=t[0];return t=Zx.bind(null,t[1]),uo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gn,a=uo();if(hn){if(n===void 0)throw Error(Ge(407));n=n()}else{if(n=e(),Un===null)throw Error(Ge(349));ls&30||nw(r,e,n)}a.memoizedState=n;var o={value:n,getSnapshot:e};return a.queue=o,qg(ow.bind(null,r,o,t),[t]),r.flags|=2048,Il(9,rw.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=uo(),e=Un.identifierPrefix;if(hn){var n=Po,r=Co;n=(r&~(1<<32-Xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Qx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},r4={readContext:Fr,useCallback:dw,useContext:Fr,useEffect:Pm,useImperativeHandle:fw,useInsertionEffect:lw,useLayoutEffect:cw,useMemo:hw,useReducer:kd,useRef:aw,useState:function(){return kd(Ml)},useDebugValue:Mm,useDeferredValue:function(t){var e=Vr();return pw(e,$n.memoizedState,t)},useTransition:function(){var t=kd(Ml)[0],e=Vr().memoizedState;return[t,e]},useMutableSource:ew,useSyncExternalStore:tw,useId:mw,unstable_isNewReconciler:!1},o4={readContext:Fr,useCallback:dw,useContext:Fr,useEffect:Pm,useImperativeHandle:fw,useInsertionEffect:lw,useLayoutEffect:cw,useMemo:hw,useReducer:Ed,useRef:aw,useState:function(){return Ed(Ml)},useDebugValue:Mm,useDeferredValue:function(t){var e=Vr();return $n===null?e.memoizedState=t:pw(e,$n.memoizedState,t)},useTransition:function(){var t=Ed(Ml)[0],e=Vr().memoizedState;return[t,e]},useMutableSource:ew,useSyncExternalStore:tw,useId:mw,unstable_isNewReconciler:!1};function ua(t,e){try{var n="",r=e;do n+=M6(r),r=r.return;while(r);var a=n}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:a,digest:null}}function Od(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var i4=typeof WeakMap=="function"?WeakMap:Map;function vw(t,e,n){n=Ro(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bu||(Bu=!0,Qh=r),Vh(t,e)},n}function ww(t,e,n){n=Ro(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var a=e.value;n.payload=function(){return r(a)},n.callback=function(){Vh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Vh(t,e),typeof r!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Wg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new i4;var a=new Set;r.set(e,a)}else a=r.get(e),a===void 0&&(a=new Set,r.set(e,a));a.has(n)||(a.add(n),t=v4.bind(null,t,e,n),e.then(t,t))}function Kg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gg(t,e,n,r,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ro(-1,1),e.tag=2,vi(n,e,1))),n.lanes|=1),t)}var s4=Yo.ReactCurrentOwner,pr=!1;function lr(t,e,n,r){e.child=t===null?Qv(e,null,n,r):la(e,t.child,n,r)}function Jg(t,e,n,r,a){n=n.render;var o=e.ref;return ta(e,a),r=jm(t,e,n,r,o,a),n=Cm(),t!==null&&!pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,zo(t,e,a)):(hn&&n&&gm(e),e.flags|=1,lr(t,e,r,a),e.child)}function Yg(t,e,n,r,a){if(t===null){var o=n.type;return typeof o=="function"&&!Um(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,_w(t,e,o,r,a)):(t=Qc(n.type,null,r,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&a)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:El,n(s,r)&&t.ref===e.ref)return zo(t,e,a)}return e.flags|=1,t=Si(o,r),t.ref=e.ref,t.return=e,e.child=t}function _w(t,e,n,r,a){if(t!==null){var o=t.memoizedProps;if(El(o,r)&&t.ref===e.ref)if(pr=!1,e.pendingProps=r=o,(t.lanes&a)!==0)t.flags&131072&&(pr=!0);else return e.lanes=t.lanes,zo(t,e,a)}return zh(t,e,n,r,a)}function Sw(t,e,n){var r=e.pendingProps,a=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},sn(Ws,Sr),Sr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,sn(Ws,Sr),Sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,sn(Ws,Sr),Sr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,sn(Ws,Sr),Sr|=r;return lr(t,e,a,n),e.child}function xw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zh(t,e,n,r,a){var o=gr(n)?ss:nr.current;return o=sa(e,o),ta(e,a),n=jm(t,e,n,r,o,a),r=Cm(),t!==null&&!pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,zo(t,e,a)):(hn&&r&&gm(e),e.flags|=1,lr(t,e,n,a),e.child)}function Xg(t,e,n,r,a){if(gr(n)){var o=!0;ku(e)}else o=!1;if(ta(e,a),e.stateNode===null)Jc(t,e),Yv(e,n,r),Fh(e,n,r,a),r=!0;else if(t===null){var s=e.stateNode,i=e.memoizedProps;s.props=i;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fr(u):(u=gr(n)?ss:nr.current,u=sa(e,u));var g=n.getDerivedStateFromProps,h=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==r||l!==u)&&Vg(e,s,r,u),ri=!1;var b=e.memoizedState;s.state=b,ju(e,r,s,a),l=e.memoizedState,i!==r||b!==l||yr.current||ri?(typeof g=="function"&&(Uh(e,n,g,r),l=e.memoizedState),(i=ri||Fg(e,n,i,r,b,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=i):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Gv(t,e),i=e.memoizedProps,u=e.type===e.elementType?i:Wr(e.type,i),s.props=u,h=e.pendingProps,b=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fr(l):(l=gr(n)?ss:nr.current,l=sa(e,l));var w=n.getDerivedStateFromProps;(g=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==h||b!==l)&&Vg(e,s,r,l),ri=!1,b=e.memoizedState,s.state=b,ju(e,r,s,a);var p=e.memoizedState;i!==h||b!==p||yr.current||ri?(typeof w=="function"&&(Uh(e,n,w,r),p=e.memoizedState),(u=ri||Fg(e,n,u,r,b,p,l)||!1)?(g||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===t.memoizedProps&&b===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&b===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||i===t.memoizedProps&&b===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&b===t.memoizedState||(e.flags|=1024),r=!1)}return Hh(t,e,n,r,o,a)}function Hh(t,e,n,r,a,o){xw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return a&&$g(e,n,!1),zo(t,e,o);r=e.stateNode,s4.current=e;var i=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=la(e,t.child,null,o),e.child=la(e,null,i,o)):lr(t,e,i,o),e.memoizedState=r.state,a&&$g(e,n,!0),e.child}function kw(t){var e=t.stateNode;e.pendingContext?Ng(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ng(t,e.context,!1),Em(t,e.containerInfo)}function Qg(t,e,n,r,a){return aa(),vm(a),e.flags|=256,lr(t,e,n,r),e.child}var qh={dehydrated:null,treeContext:null,retryLane:0};function Wh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ew(t,e,n){var r=e.pendingProps,a=mn.current,o=!1,s=(e.flags&128)!==0,i;if((i=s)||(i=t!==null&&t.memoizedState===null?!1:(a&2)!==0),i?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),sn(mn,a&1),t===null)return Lh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=kf(s,r,0,null),t=rs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Wh(n),e.memoizedState=qh,t):Im(e,s));if(a=t.memoizedState,a!==null&&(i=a.dehydrated,i!==null))return a4(t,e,s,r,i,a,n);if(o){o=r.fallback,s=e.mode,a=t.child,i=a.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==a?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Si(a,l),r.subtreeFlags=a.subtreeFlags&14680064),i!==null?o=Si(i,o):(o=rs(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Wh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=qh,r}return o=t.child,t=o.sibling,r=Si(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Im(t,e){return e=kf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cc(t,e,n,r){return r!==null&&vm(r),la(e,t.child,null,n),t=Im(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function a4(t,e,n,r,a,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Od(Error(Ge(422))),Cc(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,a=e.mode,r=kf({mode:"visible",children:r.children},a,0,null),o=rs(o,a,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&la(e,t.child,null,s),e.child.memoizedState=Wh(s),e.memoizedState=qh,o);if(!(e.mode&1))return Cc(t,e,s,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var i=r.dgst;return r=i,o=Error(Ge(419)),r=Od(o,r,void 0),Cc(t,e,s,r)}if(i=(s&t.childLanes)!==0,pr||i){if(r=Un,r!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|s)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Vo(t,a),Qr(r,t,a,-1))}return Dm(),r=Od(Error(Ge(421))),Cc(t,e,s,r)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=w4.bind(null,t),a._reactRetry=e,null):(t=o.treeContext,xr=bi(a.nextSibling),kr=e,hn=!0,Gr=null,t!==null&&(Nr[$r++]=Co,Nr[$r++]=Po,Nr[$r++]=as,Co=t.id,Po=t.overflow,as=e),e=Im(e,r.children),e.flags|=4096,e)}function Zg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dh(t.return,e,n)}function Ad(t,e,n,r,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Ow(t,e,n){var r=e.pendingProps,a=r.revealOrder,o=r.tail;if(lr(t,e,r.children,n),r=mn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zg(t,n,e);else if(t.tag===19)Zg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(sn(mn,r),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&Cu(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),Ad(e,!1,a,n,o);break;case"backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Cu(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}Ad(e,!0,n,null,o);break;case"together":Ad(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ge(153));if(e.child!==null){for(t=e.child,n=Si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function l4(t,e,n){switch(e.tag){case 3:kw(e),aa();break;case 5:Zv(e);break;case 1:gr(e.type)&&ku(e);break;case 4:Em(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,a=e.memoizedProps.value;sn(Au,r._currentValue),r._currentValue=a;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(sn(mn,mn.current&1),e.flags|=128,null):n&e.child.childLanes?Ew(t,e,n):(sn(mn,mn.current&1),t=zo(t,e,n),t!==null?t.sibling:null);sn(mn,mn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ow(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),sn(mn,mn.current),r)break;return null;case 22:case 23:return e.lanes=0,Sw(t,e,n)}return zo(t,e,n)}var Aw,Kh,Tw,jw;Aw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kh=function(){};Tw=function(t,e,n,r){var a=t.memoizedProps;if(a!==r){t=e.stateNode,Qi(mo.current);var o=null;switch(n){case"input":a=mh(t,a),r=mh(t,r),o=[];break;case"select":a=bn({},a,{value:void 0}),r=bn({},r,{value:void 0}),o=[];break;case"textarea":a=bh(t,a),r=bh(t,r),o=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Su)}wh(n,r);var s;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var i=a[u];for(s in i)i.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(i=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&l!==i&&(l!=null||i!=null))if(u==="style")if(i){for(s in i)!i.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&i[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,i=i?i.__html:void 0,l!=null&&i!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&cn("scroll",t),o||i===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};jw=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fa(t,e){if(!hn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function c4(t,e,n){var r=e.pendingProps;switch(bm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(e),null;case 1:return gr(e.type)&&xu(),Yn(e),null;case 3:return r=e.stateNode,ca(),fn(yr),fn(nr),Am(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gr!==null&&(tp(Gr),Gr=null))),Kh(t,e),Yn(e),null;case 5:Om(e);var a=Qi(Cl.current);if(n=e.type,t!==null&&e.stateNode!=null)Tw(t,e,n,r,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ge(166));return Yn(e),null}if(t=Qi(mo.current),Tc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ho]=e,r[Tl]=o,t=(e.mode&1)!==0,n){case"dialog":cn("cancel",r),cn("close",r);break;case"iframe":case"object":case"embed":cn("load",r);break;case"video":case"audio":for(a=0;a<Ya.length;a++)cn(Ya[a],r);break;case"source":cn("error",r);break;case"img":case"image":case"link":cn("error",r),cn("load",r);break;case"details":cn("toggle",r);break;case"input":lg(r,o),cn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},cn("invalid",r);break;case"textarea":ug(r,o),cn("invalid",r)}wh(n,o),a=null;for(var s in o)if(o.hasOwnProperty(s)){var i=o[s];s==="children"?typeof i=="string"?r.textContent!==i&&(o.suppressHydrationWarning!==!0&&Ac(r.textContent,i,t),a=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&Ac(r.textContent,i,t),a=["children",""+i]):bl.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&cn("scroll",r)}switch(n){case"input":vc(r),cg(r,o,!0);break;case"textarea":vc(r),fg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Su)}r=a,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ho]=e,t[Tl]=r,Aw(t,e,!1,!1),e.stateNode=t;e:{switch(s=_h(n,r),n){case"dialog":cn("cancel",t),cn("close",t),a=r;break;case"iframe":case"object":case"embed":cn("load",t),a=r;break;case"video":case"audio":for(a=0;a<Ya.length;a++)cn(Ya[a],t);a=r;break;case"source":cn("error",t),a=r;break;case"img":case"image":case"link":cn("error",t),cn("load",t),a=r;break;case"details":cn("toggle",t),a=r;break;case"input":lg(t,r),a=mh(t,r),cn("invalid",t);break;case"option":a=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=bn({},r,{value:void 0}),cn("invalid",t);break;case"textarea":ug(t,r),a=bh(t,r),cn("invalid",t);break;default:a=r}wh(n,a),i=a;for(o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="style"?iv(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rv(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vl(t,l):typeof l=="number"&&vl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(bl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&cn("scroll",t):l!=null&&rm(t,o,l,s))}switch(n){case"input":vc(t),cg(t,r,!1);break;case"textarea":vc(t),fg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ji(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Xs(t,!!r.multiple,o,!1):r.defaultValue!=null&&Xs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yn(e),null;case 6:if(t&&e.stateNode!=null)jw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ge(166));if(n=Qi(Cl.current),Qi(mo.current),Tc(e)){if(r=e.stateNode,n=e.memoizedProps,r[ho]=e,(o=r.nodeValue!==n)&&(t=kr,t!==null))switch(t.tag){case 3:Ac(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ac(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ho]=e,e.stateNode=r}return Yn(e),null;case 13:if(fn(mn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(hn&&xr!==null&&e.mode&1&&!(e.flags&128))Wv(),aa(),e.flags|=98560,o=!1;else if(o=Tc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Ge(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ge(317));o[ho]=e}else aa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yn(e),o=!1}else Gr!==null&&(tp(Gr),Gr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mn.current&1?Rn===0&&(Rn=3):Dm())),e.updateQueue!==null&&(e.flags|=4),Yn(e),null);case 4:return ca(),Kh(t,e),t===null&&Ol(e.stateNode.containerInfo),Yn(e),null;case 10:return Sm(e.type._context),Yn(e),null;case 17:return gr(e.type)&&xu(),Yn(e),null;case 19:if(fn(mn),o=e.memoizedState,o===null)return Yn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Fa(o,!1);else{if(Rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Cu(t),s!==null){for(e.flags|=128,Fa(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return sn(mn,mn.current&1|2),e.child}t=t.sibling}o.tail!==null&&kn()>fa&&(e.flags|=128,r=!0,Fa(o,!1),e.lanes=4194304)}else{if(!r)if(t=Cu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!hn)return Yn(e),null}else 2*kn()-o.renderingStartTime>fa&&n!==1073741824&&(e.flags|=128,r=!0,Fa(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=kn(),e.sibling=null,n=mn.current,sn(mn,r?n&1|2:n&1),e):(Yn(e),null);case 22:case 23:return Lm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sr&1073741824&&(Yn(e),e.subtreeFlags&6&&(e.flags|=8192)):Yn(e),null;case 24:return null;case 25:return null}throw Error(Ge(156,e.tag))}function u4(t,e){switch(bm(e),e.tag){case 1:return gr(e.type)&&xu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ca(),fn(yr),fn(nr),Am(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Om(e),null;case 13:if(fn(mn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ge(340));aa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fn(mn),null;case 4:return ca(),null;case 10:return Sm(e.type._context),null;case 22:case 23:return Lm(),null;case 24:return null;default:return null}}var Pc=!1,tr=!1,f4=typeof WeakSet=="function"?WeakSet:Set,ct=null;function qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_n(t,e,r)}else n.current=null}function Gh(t,e,n){try{n()}catch(r){_n(t,e,r)}}var e0=!1;function d4(t,e){if(Ph=vu,t=Iv(),ym(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,i=-1,l=-1,u=0,g=0,h=t,b=null;t:for(;;){for(var w;h!==n||a!==0&&h.nodeType!==3||(i=s+a),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(w=h.firstChild)!==null;)b=h,h=w;for(;;){if(h===t)break t;if(b===n&&++u===a&&(i=s),b===o&&++g===r&&(l=s),(w=h.nextSibling)!==null)break;h=b,b=h.parentNode}h=w}n=i===-1||l===-1?null:{start:i,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mh={focusedElem:t,selectionRange:n},vu=!1,ct=e;ct!==null;)if(e=ct,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ct=t;else for(;ct!==null;){e=ct;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var d=p.memoizedProps,y=p.memoizedState,m=e.stateNode,c=m.getSnapshotBeforeUpdate(e.elementType===e.type?d:Wr(e.type,d),y);m.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var f=e.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(v){_n(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,ct=t;break}ct=e.return}return p=e0,e0=!1,p}function sl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var o=a.destroy;a.destroy=void 0,o!==void 0&&Gh(e,n,o)}a=a.next}while(a!==r)}}function Sf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Cw(t){var e=t.alternate;e!==null&&(t.alternate=null,Cw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ho],delete e[Tl],delete e[Nh],delete e[Gx],delete e[Jx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Pw(t){return t.tag===5||t.tag===3||t.tag===4}function t0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Pw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Su));else if(r!==4&&(t=t.child,t!==null))for(Yh(t,e,n),t=t.sibling;t!==null;)Yh(t,e,n),t=t.sibling}function Xh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xh(t,e,n),t=t.sibling;t!==null;)Xh(t,e,n),t=t.sibling}var Hn=null,Kr=!1;function Qo(t,e,n){for(n=n.child;n!==null;)Mw(t,e,n),n=n.sibling}function Mw(t,e,n){if(po&&typeof po.onCommitFiberUnmount=="function")try{po.onCommitFiberUnmount(pf,n)}catch{}switch(n.tag){case 5:tr||qs(n,e);case 6:var r=Hn,a=Kr;Hn=null,Qo(t,e,n),Hn=r,Kr=a,Hn!==null&&(Kr?(t=Hn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Hn.removeChild(n.stateNode));break;case 18:Hn!==null&&(Kr?(t=Hn,n=n.stateNode,t.nodeType===8?wd(t.parentNode,n):t.nodeType===1&&wd(t,n),xl(t)):wd(Hn,n.stateNode));break;case 4:r=Hn,a=Kr,Hn=n.stateNode.containerInfo,Kr=!0,Qo(t,e,n),Hn=r,Kr=a;break;case 0:case 11:case 14:case 15:if(!tr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Gh(n,e,s),a=a.next}while(a!==r)}Qo(t,e,n);break;case 1:if(!tr&&(qs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){_n(n,e,i)}Qo(t,e,n);break;case 21:Qo(t,e,n);break;case 22:n.mode&1?(tr=(r=tr)||n.memoizedState!==null,Qo(t,e,n),tr=r):Qo(t,e,n);break;default:Qo(t,e,n)}}function n0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new f4),e.forEach(function(r){var a=_4.bind(null,t,r);n.has(r)||(n.add(r),r.then(a,a))})}}function qr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var o=t,s=e,i=s;e:for(;i!==null;){switch(i.tag){case 5:Hn=i.stateNode,Kr=!1;break e;case 3:Hn=i.stateNode.containerInfo,Kr=!0;break e;case 4:Hn=i.stateNode.containerInfo,Kr=!0;break e}i=i.return}if(Hn===null)throw Error(Ge(160));Mw(o,s,a),Hn=null,Kr=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){_n(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Iw(e,t),e=e.sibling}function Iw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qr(e,t),co(t),r&4){try{sl(3,t,t.return),Sf(3,t)}catch(d){_n(t,t.return,d)}try{sl(5,t,t.return)}catch(d){_n(t,t.return,d)}}break;case 1:qr(e,t),co(t),r&512&&n!==null&&qs(n,n.return);break;case 5:if(qr(e,t),co(t),r&512&&n!==null&&qs(n,n.return),t.flags&32){var a=t.stateNode;try{vl(a,"")}catch(d){_n(t,t.return,d)}}if(r&4&&(a=t.stateNode,a!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,i=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&ev(a,o),_h(i,s);var u=_h(i,o);for(s=0;s<l.length;s+=2){var g=l[s],h=l[s+1];g==="style"?iv(a,h):g==="dangerouslySetInnerHTML"?rv(a,h):g==="children"?vl(a,h):rm(a,g,h,u)}switch(i){case"input":yh(a,o);break;case"textarea":tv(a,o);break;case"select":var b=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?Xs(a,!!o.multiple,w,!1):b!==!!o.multiple&&(o.defaultValue!=null?Xs(a,!!o.multiple,o.defaultValue,!0):Xs(a,!!o.multiple,o.multiple?[]:"",!1))}a[Tl]=o}catch(d){_n(t,t.return,d)}}break;case 6:if(qr(e,t),co(t),r&4){if(t.stateNode===null)throw Error(Ge(162));a=t.stateNode,o=t.memoizedProps;try{a.nodeValue=o}catch(d){_n(t,t.return,d)}}break;case 3:if(qr(e,t),co(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xl(e.containerInfo)}catch(d){_n(t,t.return,d)}break;case 4:qr(e,t),co(t);break;case 13:qr(e,t),co(t),a=t.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||($m=kn())),r&4&&n0(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(tr=(u=tr)||g,qr(e,t),tr=u):qr(e,t),co(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!g&&t.mode&1)for(ct=t,g=t.child;g!==null;){for(h=ct=g;ct!==null;){switch(b=ct,w=b.child,b.tag){case 0:case 11:case 14:case 15:sl(4,b,b.return);break;case 1:qs(b,b.return);var p=b.stateNode;if(typeof p.componentWillUnmount=="function"){r=b,n=b.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(d){_n(r,n,d)}}break;case 5:qs(b,b.return);break;case 22:if(b.memoizedState!==null){o0(h);continue}}w!==null?(w.return=b,ct=w):o0(h)}g=g.sibling}e:for(g=null,h=t;;){if(h.tag===5){if(g===null){g=h;try{a=h.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,i.style.display=ov("display",s))}catch(d){_n(t,t.return,d)}}}else if(h.tag===6){if(g===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(d){_n(t,t.return,d)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:qr(e,t),co(t),r&4&&n0(t);break;case 21:break;default:qr(e,t),co(t)}}function co(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Pw(n)){var r=n;break e}n=n.return}throw Error(Ge(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(vl(a,""),r.flags&=-33);var o=t0(t);Xh(t,o,a);break;case 3:case 4:var s=r.stateNode.containerInfo,i=t0(t);Yh(t,i,s);break;default:throw Error(Ge(161))}}catch(l){_n(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h4(t,e,n){ct=t,Bw(t)}function Bw(t,e,n){for(var r=(t.mode&1)!==0;ct!==null;){var a=ct,o=a.child;if(a.tag===22&&r){var s=a.memoizedState!==null||Pc;if(!s){var i=a.alternate,l=i!==null&&i.memoizedState!==null||tr;i=Pc;var u=tr;if(Pc=s,(tr=l)&&!u)for(ct=a;ct!==null;)s=ct,l=s.child,s.tag===22&&s.memoizedState!==null?i0(a):l!==null?(l.return=s,ct=l):i0(a);for(;o!==null;)ct=o,Bw(o),o=o.sibling;ct=a,Pc=i,tr=u}r0(t)}else a.subtreeFlags&8772&&o!==null?(o.return=a,ct=o):r0(t)}}function r0(t){for(;ct!==null;){var e=ct;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tr||Sf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tr)if(n===null)r.componentDidMount();else{var a=e.elementType===e.type?n.memoizedProps:Wr(e.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Ug(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ug(e,s,n)}break;case 5:var i=e.stateNode;if(n===null&&e.flags&4){n=i;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var g=u.memoizedState;if(g!==null){var h=g.dehydrated;h!==null&&xl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}tr||e.flags&512&&Jh(e)}catch(b){_n(e,e.return,b)}}if(e===t){ct=null;break}if(n=e.sibling,n!==null){n.return=e.return,ct=n;break}ct=e.return}}function o0(t){for(;ct!==null;){var e=ct;if(e===t){ct=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ct=n;break}ct=e.return}}function i0(t){for(;ct!==null;){var e=ct;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sf(4,e)}catch(l){_n(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var a=e.return;try{r.componentDidMount()}catch(l){_n(e,a,l)}}var o=e.return;try{Jh(e)}catch(l){_n(e,o,l)}break;case 5:var s=e.return;try{Jh(e)}catch(l){_n(e,s,l)}}}catch(l){_n(e,e.return,l)}if(e===t){ct=null;break}var i=e.sibling;if(i!==null){i.return=e.return,ct=i;break}ct=e.return}}var p4=Math.ceil,Iu=Yo.ReactCurrentDispatcher,Bm=Yo.ReactCurrentOwner,Lr=Yo.ReactCurrentBatchConfig,Kt=0,Un=null,Tn=null,qn=0,Sr=0,Ws=Ni(0),Rn=0,Bl=null,cs=0,xf=0,Nm=0,al=null,hr=null,$m=0,fa=1/0,Ao=null,Bu=!1,Qh=null,wi=null,Mc=!1,hi=null,Nu=0,ll=0,Zh=null,Yc=-1,Xc=0;function cr(){return Kt&6?kn():Yc!==-1?Yc:Yc=kn()}function _i(t){return t.mode&1?Kt&2&&qn!==0?qn&-qn:Xx.transition!==null?(Xc===0&&(Xc=gv()),Xc):(t=Qt,t!==0||(t=window.event,t=t===void 0?16:kv(t.type)),t):1}function Qr(t,e,n,r){if(50<ll)throw ll=0,Zh=null,Error(Ge(185));Wl(t,n,r),(!(Kt&2)||t!==Un)&&(t===Un&&(!(Kt&2)&&(xf|=n),Rn===4&&si(t,qn)),br(t,r),n===1&&Kt===0&&!(e.mode&1)&&(fa=kn()+500,vf&&$i()))}function br(t,e){var n=t.callbackNode;X6(t,e);var r=bu(t,t===Un?qn:0);if(r===0)n!==null&&pg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pg(n),e===1)t.tag===0?Yx(s0.bind(null,t)):zv(s0.bind(null,t)),Wx(function(){!(Kt&6)&&$i()}),n=null;else{switch(bv(r)){case 1:n=lm;break;case 4:n=mv;break;case 16:n=gu;break;case 536870912:n=yv;break;default:n=gu}n=Vw(n,Nw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Nw(t,e){if(Yc=-1,Xc=0,Kt&6)throw Error(Ge(327));var n=t.callbackNode;if(na()&&t.callbackNode!==n)return null;var r=bu(t,t===Un?qn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$u(t,r);else{e=r;var a=Kt;Kt|=2;var o=Rw();(Un!==t||qn!==e)&&(Ao=null,fa=kn()+500,ns(t,e));do try{g4();break}catch(i){$w(t,i)}while(1);_m(),Iu.current=o,Kt=a,Tn!==null?e=0:(Un=null,qn=0,e=Rn)}if(e!==0){if(e===2&&(a=Oh(t),a!==0&&(r=a,e=ep(t,a))),e===1)throw n=Bl,ns(t,0),si(t,r),br(t,kn()),n;if(e===6)si(t,r);else{if(a=t.current.alternate,!(r&30)&&!m4(a)&&(e=$u(t,r),e===2&&(o=Oh(t),o!==0&&(r=o,e=ep(t,o))),e===1))throw n=Bl,ns(t,0),si(t,r),br(t,kn()),n;switch(t.finishedWork=a,t.finishedLanes=r,e){case 0:case 1:throw Error(Ge(345));case 2:Wi(t,hr,Ao);break;case 3:if(si(t,r),(r&130023424)===r&&(e=$m+500-kn(),10<e)){if(bu(t,0)!==0)break;if(a=t.suspendedLanes,(a&r)!==r){cr(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Bh(Wi.bind(null,t,hr,Ao),e);break}Wi(t,hr,Ao);break;case 4:if(si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,a=-1;0<r;){var s=31-Xr(r);o=1<<s,s=e[s],s>a&&(a=s),r&=~o}if(r=a,r=kn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*p4(r/1960))-r,10<r){t.timeoutHandle=Bh(Wi.bind(null,t,hr,Ao),r);break}Wi(t,hr,Ao);break;case 5:Wi(t,hr,Ao);break;default:throw Error(Ge(329))}}}return br(t,kn()),t.callbackNode===n?Nw.bind(null,t):null}function ep(t,e){var n=al;return t.current.memoizedState.isDehydrated&&(ns(t,e).flags|=256),t=$u(t,e),t!==2&&(e=hr,hr=n,e!==null&&tp(e)),t}function tp(t){hr===null?hr=t:hr.push.apply(hr,t)}function m4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!to(o(),a))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function si(t,e){for(e&=~Nm,e&=~xf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xr(e),r=1<<n;t[n]=-1,e&=~r}}function s0(t){if(Kt&6)throw Error(Ge(327));na();var e=bu(t,0);if(!(e&1))return br(t,kn()),null;var n=$u(t,e);if(t.tag!==0&&n===2){var r=Oh(t);r!==0&&(e=r,n=ep(t,r))}if(n===1)throw n=Bl,ns(t,0),si(t,e),br(t,kn()),n;if(n===6)throw Error(Ge(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wi(t,hr,Ao),br(t,kn()),null}function Rm(t,e){var n=Kt;Kt|=1;try{return t(e)}finally{Kt=n,Kt===0&&(fa=kn()+500,vf&&$i())}}function us(t){hi!==null&&hi.tag===0&&!(Kt&6)&&na();var e=Kt;Kt|=1;var n=Lr.transition,r=Qt;try{if(Lr.transition=null,Qt=1,t)return t()}finally{Qt=r,Lr.transition=n,Kt=e,!(Kt&6)&&$i()}}function Lm(){Sr=Ws.current,fn(Ws)}function ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qx(n)),Tn!==null)for(n=Tn.return;n!==null;){var r=n;switch(bm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xu();break;case 3:ca(),fn(yr),fn(nr),Am();break;case 5:Om(r);break;case 4:ca();break;case 13:fn(mn);break;case 19:fn(mn);break;case 10:Sm(r.type._context);break;case 22:case 23:Lm()}n=n.return}if(Un=t,Tn=t=Si(t.current,null),qn=Sr=e,Rn=0,Bl=null,Nm=xf=cs=0,hr=al=null,Xi!==null){for(e=0;e<Xi.length;e++)if(n=Xi[e],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=a,r.next=s}n.pending=r}Xi=null}return t}function $w(t,e){do{var n=Tn;try{if(_m(),Kc.current=Mu,Pu){for(var r=gn.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Pu=!1}if(ls=0,Dn=$n=gn=null,il=!1,Pl=0,Bm.current=null,n===null||n.return===null){Rn=1,Bl=e,Tn=null;break}e:{var o=t,s=n.return,i=n,l=e;if(e=qn,i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,g=i,h=g.tag;if(!(g.mode&1)&&(h===0||h===11||h===15)){var b=g.alternate;b?(g.updateQueue=b.updateQueue,g.memoizedState=b.memoizedState,g.lanes=b.lanes):(g.updateQueue=null,g.memoizedState=null)}var w=Kg(s);if(w!==null){w.flags&=-257,Gg(w,s,i,o,e),w.mode&1&&Wg(o,u,e),e=w,l=u;var p=e.updateQueue;if(p===null){var d=new Set;d.add(l),e.updateQueue=d}else p.add(l);break e}else{if(!(e&1)){Wg(o,u,e),Dm();break e}l=Error(Ge(426))}}else if(hn&&i.mode&1){var y=Kg(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Gg(y,s,i,o,e),vm(ua(l,i));break e}}o=l=ua(l,i),Rn!==4&&(Rn=2),al===null?al=[o]:al.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=vw(o,l,e);Dg(o,m);break e;case 1:i=l;var c=o.type,f=o.stateNode;if(!(o.flags&128)&&(typeof c.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wi===null||!wi.has(f)))){o.flags|=65536,e&=-e,o.lanes|=e;var v=ww(o,i,e);Dg(o,v);break e}}o=o.return}while(o!==null)}Dw(n)}catch(_){e=_,Tn===n&&n!==null&&(Tn=n=n.return);continue}break}while(1)}function Rw(){var t=Iu.current;return Iu.current=Mu,t===null?Mu:t}function Dm(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),Un===null||!(cs&268435455)&&!(xf&268435455)||si(Un,qn)}function $u(t,e){var n=Kt;Kt|=2;var r=Rw();(Un!==t||qn!==e)&&(Ao=null,ns(t,e));do try{y4();break}catch(a){$w(t,a)}while(1);if(_m(),Kt=n,Iu.current=r,Tn!==null)throw Error(Ge(261));return Un=null,qn=0,Rn}function y4(){for(;Tn!==null;)Lw(Tn)}function g4(){for(;Tn!==null&&!V6();)Lw(Tn)}function Lw(t){var e=Fw(t.alternate,t,Sr);t.memoizedProps=t.pendingProps,e===null?Dw(t):Tn=e,Bm.current=null}function Dw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=u4(n,e),n!==null){n.flags&=32767,Tn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rn=6,Tn=null;return}}else if(n=c4(n,e,Sr),n!==null){Tn=n;return}if(e=e.sibling,e!==null){Tn=e;return}Tn=e=t}while(e!==null);Rn===0&&(Rn=5)}function Wi(t,e,n){var r=Qt,a=Lr.transition;try{Lr.transition=null,Qt=1,b4(t,e,n,r)}finally{Lr.transition=a,Qt=r}return null}function b4(t,e,n,r){do na();while(hi!==null);if(Kt&6)throw Error(Ge(327));n=t.finishedWork;var a=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ge(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Q6(t,o),t===Un&&(Tn=Un=null,qn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mc||(Mc=!0,Vw(gu,function(){return na(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Lr.transition,Lr.transition=null;var s=Qt;Qt=1;var i=Kt;Kt|=4,Bm.current=null,d4(t,n),Iw(n,t),Lx(Mh),vu=!!Ph,Mh=Ph=null,t.current=n,h4(n),z6(),Kt=i,Qt=s,Lr.transition=o}else t.current=n;if(Mc&&(Mc=!1,hi=t,Nu=a),o=t.pendingLanes,o===0&&(wi=null),W6(n.stateNode),br(t,kn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)a=e[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Bu)throw Bu=!1,t=Qh,Qh=null,t;return Nu&1&&t.tag!==0&&na(),o=t.pendingLanes,o&1?t===Zh?ll++:(ll=0,Zh=t):ll=0,$i(),null}function na(){if(hi!==null){var t=bv(Nu),e=Lr.transition,n=Qt;try{if(Lr.transition=null,Qt=16>t?16:t,hi===null)var r=!1;else{if(t=hi,hi=null,Nu=0,Kt&6)throw Error(Ge(331));var a=Kt;for(Kt|=4,ct=t.current;ct!==null;){var o=ct,s=o.child;if(ct.flags&16){var i=o.deletions;if(i!==null){for(var l=0;l<i.length;l++){var u=i[l];for(ct=u;ct!==null;){var g=ct;switch(g.tag){case 0:case 11:case 15:sl(8,g,o)}var h=g.child;if(h!==null)h.return=g,ct=h;else for(;ct!==null;){g=ct;var b=g.sibling,w=g.return;if(Cw(g),g===u){ct=null;break}if(b!==null){b.return=w,ct=b;break}ct=w}}}var p=o.alternate;if(p!==null){var d=p.child;if(d!==null){p.child=null;do{var y=d.sibling;d.sibling=null,d=y}while(d!==null)}}ct=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ct=s;else e:for(;ct!==null;){if(o=ct,o.flags&2048)switch(o.tag){case 0:case 11:case 15:sl(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,ct=m;break e}ct=o.return}}var c=t.current;for(ct=c;ct!==null;){s=ct;var f=s.child;if(s.subtreeFlags&2064&&f!==null)f.return=s,ct=f;else e:for(s=c;ct!==null;){if(i=ct,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Sf(9,i)}}catch(_){_n(i,i.return,_)}if(i===s){ct=null;break e}var v=i.sibling;if(v!==null){v.return=i.return,ct=v;break e}ct=i.return}}if(Kt=a,$i(),po&&typeof po.onPostCommitFiberRoot=="function")try{po.onPostCommitFiberRoot(pf,t)}catch{}r=!0}return r}finally{Qt=n,Lr.transition=e}}return!1}function a0(t,e,n){e=ua(n,e),e=vw(t,e,1),t=vi(t,e,1),e=cr(),t!==null&&(Wl(t,1,e),br(t,e))}function _n(t,e,n){if(t.tag===3)a0(t,t,n);else for(;e!==null;){if(e.tag===3){a0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wi===null||!wi.has(r))){t=ua(n,t),t=ww(e,t,1),e=vi(e,t,1),t=cr(),e!==null&&(Wl(e,1,t),br(e,t));break}}e=e.return}}function v4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cr(),t.pingedLanes|=t.suspendedLanes&n,Un===t&&(qn&n)===n&&(Rn===4||Rn===3&&(qn&130023424)===qn&&500>kn()-$m?ns(t,0):Nm|=n),br(t,e)}function Uw(t,e){e===0&&(t.mode&1?(e=Sc,Sc<<=1,!(Sc&130023424)&&(Sc=4194304)):e=1);var n=cr();t=Vo(t,e),t!==null&&(Wl(t,e,n),br(t,n))}function w4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Uw(t,n)}function _4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ge(314))}r!==null&&r.delete(e),Uw(t,n)}var Fw;Fw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yr.current)pr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pr=!1,l4(t,e,n);pr=!!(t.flags&131072)}else pr=!1,hn&&e.flags&1048576&&Hv(e,Ou,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jc(t,e),t=e.pendingProps;var a=sa(e,nr.current);ta(e,n),a=jm(null,e,r,t,a,n);var o=Cm();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gr(r)?(o=!0,ku(e)):o=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,km(e),a.updater=wf,e.stateNode=a,a._reactInternals=e,Fh(e,r,t,n),e=Hh(null,e,r,!0,o,n)):(e.tag=0,hn&&o&&gm(e),lr(null,e,a,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jc(t,e),t=e.pendingProps,a=r._init,r=a(r._payload),e.type=r,a=e.tag=x4(r),t=Wr(r,t),a){case 0:e=zh(null,e,r,t,n);break e;case 1:e=Xg(null,e,r,t,n);break e;case 11:e=Jg(null,e,r,t,n);break e;case 14:e=Yg(null,e,r,Wr(r.type,t),n);break e}throw Error(Ge(306,r,""))}return e;case 0:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:Wr(r,a),zh(t,e,r,a,n);case 1:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:Wr(r,a),Xg(t,e,r,a,n);case 3:e:{if(kw(e),t===null)throw Error(Ge(387));r=e.pendingProps,o=e.memoizedState,a=o.element,Gv(t,e),ju(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){a=ua(Error(Ge(423)),e),e=Qg(t,e,r,n,a);break e}else if(r!==a){a=ua(Error(Ge(424)),e),e=Qg(t,e,r,n,a);break e}else for(xr=bi(e.stateNode.containerInfo.firstChild),kr=e,hn=!0,Gr=null,n=Qv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(aa(),r===a){e=zo(t,e,n);break e}lr(t,e,r,n)}e=e.child}return e;case 5:return Zv(e),t===null&&Lh(e),r=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,s=a.children,Ih(r,a)?s=null:o!==null&&Ih(r,o)&&(e.flags|=32),xw(t,e),lr(t,e,s,n),e.child;case 6:return t===null&&Lh(e),null;case 13:return Ew(t,e,n);case 4:return Em(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=la(e,null,r,n):lr(t,e,r,n),e.child;case 11:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:Wr(r,a),Jg(t,e,r,a,n);case 7:return lr(t,e,e.pendingProps,n),e.child;case 8:return lr(t,e,e.pendingProps.children,n),e.child;case 12:return lr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,a=e.pendingProps,o=e.memoizedProps,s=a.value,sn(Au,r._currentValue),r._currentValue=s,o!==null)if(to(o.value,s)){if(o.children===a.children&&!yr.current){e=zo(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var i=o.dependencies;if(i!==null){s=o.child;for(var l=i.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ro(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var g=u.pending;g===null?l.next=l:(l.next=g.next,g.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Dh(o.return,n,e),i.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Ge(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),Dh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}lr(t,e,a.children,n),e=e.child}return e;case 9:return a=e.type,r=e.pendingProps.children,ta(e,n),a=Fr(a),r=r(a),e.flags|=1,lr(t,e,r,n),e.child;case 14:return r=e.type,a=Wr(r,e.pendingProps),a=Wr(r.type,a),Yg(t,e,r,a,n);case 15:return _w(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:Wr(r,a),Jc(t,e),e.tag=1,gr(r)?(t=!0,ku(e)):t=!1,ta(e,n),Yv(e,r,a),Fh(e,r,a,n),Hh(null,e,r,!0,t,n);case 19:return Ow(t,e,n);case 22:return Sw(t,e,n)}throw Error(Ge(156,e.tag))};function Vw(t,e){return pv(t,e)}function S4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(t,e,n,r){return new S4(t,e,n,r)}function Um(t){return t=t.prototype,!(!t||!t.isReactComponent)}function x4(t){if(typeof t=="function")return Um(t)?1:0;if(t!=null){if(t=t.$$typeof,t===im)return 11;if(t===sm)return 14}return 2}function Si(t,e){var n=t.alternate;return n===null?(n=Rr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qc(t,e,n,r,a,o){var s=2;if(r=t,typeof t=="function")Um(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case $s:return rs(n.children,a,o,e);case om:s=8,a|=8;break;case fh:return t=Rr(12,n,e,a|2),t.elementType=fh,t.lanes=o,t;case dh:return t=Rr(13,n,e,a),t.elementType=dh,t.lanes=o,t;case hh:return t=Rr(19,n,e,a),t.elementType=hh,t.lanes=o,t;case X1:return kf(n,a,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J1:s=10;break e;case Y1:s=9;break e;case im:s=11;break e;case sm:s=14;break e;case ni:s=16,r=null;break e}throw Error(Ge(130,t==null?t:typeof t,""))}return e=Rr(s,n,e,a),e.elementType=t,e.type=r,e.lanes=o,e}function rs(t,e,n,r){return t=Rr(7,t,r,e),t.lanes=n,t}function kf(t,e,n,r){return t=Rr(22,t,r,e),t.elementType=X1,t.lanes=n,t.stateNode={isHidden:!1},t}function Td(t,e,n){return t=Rr(6,t,null,e),t.lanes=n,t}function jd(t,e,n){return e=Rr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function k4(t,e,n,r,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cd(0),this.expirationTimes=cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cd(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Fm(t,e,n,r,a,o,s,i,l){return t=new k4(t,e,n,i,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Rr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},km(o),t}function E4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ns,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zw(t){if(!t)return Ci;t=t._reactInternals;e:{if(vs(t)!==t||t.tag!==1)throw Error(Ge(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ge(171))}if(t.tag===1){var n=t.type;if(gr(n))return Vv(t,n,e)}return e}function Hw(t,e,n,r,a,o,s,i,l){return t=Fm(n,r,!0,t,a,o,s,i,l),t.context=zw(null),n=t.current,r=cr(),a=_i(n),o=Ro(r,a),o.callback=e??null,vi(n,o,a),t.current.lanes=a,Wl(t,a,r),br(t,r),t}function Ef(t,e,n,r){var a=e.current,o=cr(),s=_i(a);return n=zw(n),e.context===null?e.context=n:e.pendingContext=n,e=Ro(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vi(a,e,s),t!==null&&(Qr(t,a,s,o),Wc(t,a,s)),s}function Ru(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function l0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vm(t,e){l0(t,e),(t=t.alternate)&&l0(t,e)}function O4(){return null}var qw=typeof reportError=="function"?reportError:function(t){console.error(t)};function zm(t){this._internalRoot=t}Of.prototype.render=zm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ge(409));Ef(t,e,null,null)};Of.prototype.unmount=zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;us(function(){Ef(null,t,null,null)}),e[Fo]=null}};function Of(t){this._internalRoot=t}Of.prototype.unstable_scheduleHydration=function(t){if(t){var e=_v();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ii.length&&e!==0&&e<ii[n].priority;n++);ii.splice(n,0,t),n===0&&xv(t)}};function Hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Af(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function c0(){}function A4(t,e,n,r,a){if(a){if(typeof r=="function"){var o=r;r=function(){var u=Ru(s);o.call(u)}}var s=Hw(e,r,t,0,null,!1,!1,"",c0);return t._reactRootContainer=s,t[Fo]=s.current,Ol(t.nodeType===8?t.parentNode:t),us(),s}for(;a=t.lastChild;)t.removeChild(a);if(typeof r=="function"){var i=r;r=function(){var u=Ru(l);i.call(u)}}var l=Fm(t,0,!1,null,null,!1,!1,"",c0);return t._reactRootContainer=l,t[Fo]=l.current,Ol(t.nodeType===8?t.parentNode:t),us(function(){Ef(e,l,n,r)}),l}function Tf(t,e,n,r,a){var o=n._reactRootContainer;if(o){var s=o;if(typeof a=="function"){var i=a;a=function(){var l=Ru(s);i.call(l)}}Ef(e,s,t,a)}else s=A4(n,e,t,a,r);return Ru(s)}vv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ja(e.pendingLanes);n!==0&&(cm(e,n|1),br(e,kn()),!(Kt&6)&&(fa=kn()+500,$i()))}break;case 13:us(function(){var r=Vo(t,1);if(r!==null){var a=cr();Qr(r,t,1,a)}}),Vm(t,1)}};um=function(t){if(t.tag===13){var e=Vo(t,134217728);if(e!==null){var n=cr();Qr(e,t,134217728,n)}Vm(t,134217728)}};wv=function(t){if(t.tag===13){var e=_i(t),n=Vo(t,e);if(n!==null){var r=cr();Qr(n,t,e,r)}Vm(t,e)}};_v=function(){return Qt};Sv=function(t,e){var n=Qt;try{return Qt=t,e()}finally{Qt=n}};xh=function(t,e,n){switch(e){case"input":if(yh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var a=bf(r);if(!a)throw Error(Ge(90));Z1(r),yh(r,a)}}}break;case"textarea":tv(t,n);break;case"select":e=n.value,e!=null&&Xs(t,!!n.multiple,e,!1)}};lv=Rm;cv=us;var T4={usingClientEntryPoint:!1,Events:[Gl,Us,bf,sv,av,Rm]},Va={findFiberByHostInstance:Yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},j4={bundleType:Va.bundleType,version:Va.version,rendererPackageName:Va.rendererPackageName,rendererConfig:Va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dv(t),t===null?null:t.stateNode},findFiberByHostInstance:Va.findFiberByHostInstance||O4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{pf=Ic.inject(j4),po=Ic}catch{}}Tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T4;Tr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hm(e))throw Error(Ge(200));return E4(t,e,null,n)};Tr.createRoot=function(t,e){if(!Hm(t))throw Error(Ge(299));var n=!1,r="",a=qw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Fm(t,1,!1,null,null,n,!1,r,a),t[Fo]=e.current,Ol(t.nodeType===8?t.parentNode:t),new zm(e)};Tr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ge(188)):(t=Object.keys(t).join(","),Error(Ge(268,t)));return t=dv(e),t=t===null?null:t.stateNode,t};Tr.flushSync=function(t){return us(t)};Tr.hydrate=function(t,e,n){if(!Af(e))throw Error(Ge(200));return Tf(null,t,e,!0,n)};Tr.hydrateRoot=function(t,e,n){if(!Hm(t))throw Error(Ge(405));var r=n!=null&&n.hydratedSources||null,a=!1,o="",s=qw;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Hw(e,null,t,1,n??null,a,!1,o,s),t[Fo]=e.current,Ol(t),r)for(t=0;t<r.length;t++)n=r[t],a=n._getVersion,a=a(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,a]:e.mutableSourceEagerHydrationData.push(n,a);return new Of(e)};Tr.render=function(t,e,n){if(!Af(e))throw Error(Ge(200));return Tf(null,t,e,!1,n)};Tr.unmountComponentAtNode=function(t){if(!Af(t))throw Error(Ge(40));return t._reactRootContainer?(us(function(){Tf(null,null,t,!1,function(){t._reactRootContainer=null,t[Fo]=null})}),!0):!1};Tr.unstable_batchedUpdates=Rm;Tr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Af(n))throw Error(Ge(200));if(t==null||t._reactInternals===void 0)throw Error(Ge(38));return Tf(t,e,n,!1,r)};Tr.version="18.2.0-next-9e3b772b8-20220608";function Ww(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ww)}catch(t){console.error(t)}}Ww(),H1.exports=Tr;var C4=H1.exports,u0=C4;ch.createRoot=u0.createRoot,ch.hydrateRoot=u0.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nl(){return Nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nl.apply(this,arguments)}var pi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pi||(pi={}));const f0="popstate";function P4(t){t===void 0&&(t={});function e(r,a){let{pathname:o,search:s,hash:i}=r.location;return np("",{pathname:o,search:s,hash:i},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Lu(a)}return I4(e,n,null,t)}function En(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function M4(){return Math.random().toString(36).substr(2,8)}function d0(t,e){return{usr:t.state,key:t.key,idx:e}}function np(t,e,n,r){return n===void 0&&(n=null),Nl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_a(e):e,{state:n,key:e&&e.key||r||M4()})}function Lu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _a(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function I4(t,e,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,s=a.history,i=pi.Pop,l=null,u=g();u==null&&(u=0,s.replaceState(Nl({},s.state,{idx:u}),""));function g(){return(s.state||{idx:null}).idx}function h(){i=pi.Pop;let y=g(),m=y==null?null:y-u;u=y,l&&l({action:i,location:d.location,delta:m})}function b(y,m){i=pi.Push;let c=np(d.location,y,m);n&&n(c,y),u=g()+1;let f=d0(c,u),v=d.createHref(c);try{s.pushState(f,"",v)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(v)}o&&l&&l({action:i,location:d.location,delta:1})}function w(y,m){i=pi.Replace;let c=np(d.location,y,m);n&&n(c,y),u=g();let f=d0(c,u),v=d.createHref(c);s.replaceState(f,"",v),o&&l&&l({action:i,location:d.location,delta:0})}function p(y){let m=a.location.origin!=="null"?a.location.origin:a.location.href,c=typeof y=="string"?y:Lu(y);return En(m,"No window.location.(origin|href) available to create URL for href: "+c),new URL(c,m)}let d={get action(){return i},get location(){return t(a,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(f0,h),l=y,()=>{a.removeEventListener(f0,h),l=null}},createHref(y){return e(a,y)},createURL:p,encodeLocation(y){let m=p(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:b,replace:w,go(y){return s.go(y)}};return d}var h0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(h0||(h0={}));function B4(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?_a(e):e,a=Wm(r.pathname||"/",n);if(a==null)return null;let o=Kw(t);N4(o);let s=null;for(let i=0;s==null&&i<o.length;++i)s=H4(o[i],K4(a));return s}function Kw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(o,s,i)=>{let l={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(En(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=xi([r,l.relativePath]),g=n.concat(l);o.children&&o.children.length>0&&(En(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Kw(o.children,e,g,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:V4(u,o.index),routesMeta:g})};return t.forEach((o,s)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))a(o,s);else for(let l of Gw(o.path))a(o,s,l)}),e}function Gw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let s=Gw(r.join("/")),i=[];return i.push(...s.map(l=>l===""?o:[o,l].join("/"))),a&&i.push(...s),i.map(l=>t.startsWith("/")&&l===""?"/":l)}function N4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:z4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $4=/^:\w+$/,R4=3,L4=2,D4=1,U4=10,F4=-2,p0=t=>t==="*";function V4(t,e){let n=t.split("/"),r=n.length;return n.some(p0)&&(r+=F4),e&&(r+=L4),n.filter(a=>!p0(a)).reduce((a,o)=>a+($4.test(o)?R4:o===""?D4:U4),r)}function z4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function H4(t,e){let{routesMeta:n}=t,r={},a="/",o=[];for(let s=0;s<n.length;++s){let i=n[s],l=s===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",g=q4({path:i.relativePath,caseSensitive:i.caseSensitive,end:l},u);if(!g)return null;Object.assign(r,g.params);let h=i.route;o.push({params:r,pathname:xi([a,g.pathname]),pathnameBase:X4(xi([a,g.pathnameBase])),route:h}),g.pathnameBase!=="/"&&(a=xi([a,g.pathnameBase]))}return o}function q4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=W4(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((u,g,h)=>{if(g==="*"){let b=i[h]||"";s=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}return u[g]=G4(i[h]||"",g),u},{}),pathname:o,pathnameBase:s,pattern:t}}function W4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,i)=>(r.push(i),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function K4(t){try{return decodeURI(t)}catch(e){return qm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function G4(t,e){try{return decodeURIComponent(t)}catch(n){return qm(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Wm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function J4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?_a(t):t;return{pathname:n?n.startsWith("/")?n:Y4(n,e):e,search:Q4(r),hash:Z4(a)}}function Y4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Cd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Km(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gm(t,e,n,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=_a(t):(a=Nl({},t),En(!a.pathname||!a.pathname.includes("?"),Cd("?","pathname","search",a)),En(!a.pathname||!a.pathname.includes("#"),Cd("#","pathname","hash",a)),En(!a.search||!a.search.includes("#"),Cd("#","search","hash",a)));let o=t===""||a.pathname==="",s=o?"/":a.pathname,i;if(r||s==null)i=n;else{let h=e.length-1;if(s.startsWith("..")){let b=s.split("/");for(;b[0]==="..";)b.shift(),h-=1;a.pathname=b.join("/")}i=h>=0?e[h]:"/"}let l=J4(a,i),u=s&&s!=="/"&&s.endsWith("/"),g=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||g)&&(l.pathname+="/"),l}const xi=t=>t.join("/").replace(/\/\/+/g,"/"),X4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Q4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Z4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function e8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Jw=["post","put","patch","delete"];new Set(Jw);const t8=["get",...Jw];new Set(t8);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Du.apply(this,arguments)}const Jm=he.createContext(null),Yw=he.createContext(null),ws=he.createContext(null),jf=he.createContext(null),xo=he.createContext({outlet:null,matches:[],isDataRoute:!1}),Xw=he.createContext(null);function n8(t,e){let{relative:n}=e===void 0?{}:e;Sa()||En(!1);let{basename:r,navigator:a}=he.useContext(ws),{hash:o,pathname:s,search:i}=Ym(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:xi([r,s])),a.createHref({pathname:l,search:i,hash:o})}function Sa(){return he.useContext(jf)!=null}function _s(){return Sa()||En(!1),he.useContext(jf).location}function Qw(t){he.useContext(ws).static||he.useLayoutEffect(t)}function xa(){let{isDataRoute:t}=he.useContext(xo);return t?g8():r8()}function r8(){Sa()||En(!1);let t=he.useContext(Jm),{basename:e,navigator:n}=he.useContext(ws),{matches:r}=he.useContext(xo),{pathname:a}=_s(),o=JSON.stringify(Km(r).map(l=>l.pathnameBase)),s=he.useRef(!1);return Qw(()=>{s.current=!0}),he.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let g=Gm(l,JSON.parse(o),a,u.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:xi([e,g.pathname])),(u.replace?n.replace:n.push)(g,u.state,u)},[e,n,o,a,t])}const o8=he.createContext(null);function i8(t){let e=he.useContext(xo).outlet;return e&&he.createElement(o8.Provider,{value:t},e)}function ka(){let{matches:t}=he.useContext(xo),e=t[t.length-1];return e?e.params:{}}function Ym(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=he.useContext(xo),{pathname:a}=_s(),o=JSON.stringify(Km(r).map(s=>s.pathnameBase));return he.useMemo(()=>Gm(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function s8(t,e){return a8(t,e)}function a8(t,e,n){Sa()||En(!1);let{navigator:r}=he.useContext(ws),{matches:a}=he.useContext(xo),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let i=o?o.pathnameBase:"/";o&&o.route;let l=_s(),u;if(e){var g;let d=typeof e=="string"?_a(e):e;i==="/"||(g=d.pathname)!=null&&g.startsWith(i)||En(!1),u=d}else u=l;let h=u.pathname||"/",b=i==="/"?h:h.slice(i.length)||"/",w=B4(t,{pathname:b}),p=d8(w&&w.map(d=>Object.assign({},d,{params:Object.assign({},s,d.params),pathname:xi([i,r.encodeLocation?r.encodeLocation(d.pathname).pathname:d.pathname]),pathnameBase:d.pathnameBase==="/"?i:xi([i,r.encodeLocation?r.encodeLocation(d.pathnameBase).pathname:d.pathnameBase])})),a,n);return e&&p?he.createElement(jf.Provider,{value:{location:Du({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:pi.Pop}},p):p}function l8(){let t=y8(),e=e8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return he.createElement(he.Fragment,null,he.createElement("h2",null,"Unexpected Application Error!"),he.createElement("h3",{style:{fontStyle:"italic"}},e),n?he.createElement("pre",{style:a},n):null,o)}const c8=he.createElement(l8,null);class u8 extends he.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?he.createElement(xo.Provider,{value:this.props.routeContext},he.createElement(Xw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function f8(t){let{routeContext:e,match:n,children:r}=t,a=he.useContext(Jm);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),he.createElement(xo.Provider,{value:e},r)}function d8(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var a;if((a=n)!=null&&a.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let i=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));i>=0||En(!1),o=o.slice(0,Math.min(o.length,i+1))}return o.reduceRight((i,l,u)=>{let g=l.route.id?s==null?void 0:s[l.route.id]:null,h=null;n&&(h=l.route.errorElement||c8);let b=e.concat(o.slice(0,u+1)),w=()=>{let p;return g?p=h:l.route.Component?p=he.createElement(l.route.Component,null):l.route.element?p=l.route.element:p=i,he.createElement(f8,{match:l,routeContext:{outlet:i,matches:b,isDataRoute:n!=null},children:p})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?he.createElement(u8,{location:n.location,revalidation:n.revalidation,component:h,error:g,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var rp;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(rp||(rp={}));var $l;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})($l||($l={}));function h8(t){let e=he.useContext(Jm);return e||En(!1),e}function p8(t){let e=he.useContext(Yw);return e||En(!1),e}function m8(t){let e=he.useContext(xo);return e||En(!1),e}function Zw(t){let e=m8(),n=e.matches[e.matches.length-1];return n.route.id||En(!1),n.route.id}function y8(){var t;let e=he.useContext(Xw),n=p8($l.UseRouteError),r=Zw($l.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function g8(){let{router:t}=h8(rp.UseNavigateStable),e=Zw($l.UseNavigateStable),n=he.useRef(!1);return Qw(()=>{n.current=!0}),he.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Du({fromRouteId:e},o)))},[t,e])}function Xm(t){let{to:e,replace:n,state:r,relative:a}=t;Sa()||En(!1);let{matches:o}=he.useContext(xo),{pathname:s}=_s(),i=xa(),l=Gm(e,Km(o).map(g=>g.pathnameBase),s,a==="path"),u=JSON.stringify(l);return he.useEffect(()=>i(JSON.parse(u),{replace:n,state:r,relative:a}),[i,u,a,n,r]),null}function e2(t){return i8(t.context)}function Vn(t){En(!1)}function b8(t){let{basename:e="/",children:n=null,location:r,navigationType:a=pi.Pop,navigator:o,static:s=!1}=t;Sa()&&En(!1);let i=e.replace(/^\/*/,"/"),l=he.useMemo(()=>({basename:i,navigator:o,static:s}),[i,o,s]);typeof r=="string"&&(r=_a(r));let{pathname:u="/",search:g="",hash:h="",state:b=null,key:w="default"}=r,p=he.useMemo(()=>{let d=Wm(u,i);return d==null?null:{location:{pathname:d,search:g,hash:h,state:b,key:w},navigationType:a}},[i,u,g,h,b,w,a]);return p==null?null:he.createElement(ws.Provider,{value:l},he.createElement(jf.Provider,{children:n,value:p}))}function v8(t){let{children:e,location:n}=t;return s8(op(e),n)}var m0;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(m0||(m0={}));new Promise(()=>{});function op(t,e){e===void 0&&(e=[]);let n=[];return he.Children.forEach(t,(r,a)=>{if(!he.isValidElement(r))return;let o=[...e,a];if(r.type===he.Fragment){n.push.apply(n,op(r.props.children,o));return}r.type!==Vn&&En(!1),!r.props.index||!r.props.children||En(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=op(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uu.apply(this,arguments)}function t2(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,o;for(o=0;o<r.length;o++)a=r[o],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function w8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _8(t,e){return t.button===0&&(!e||e==="_self")&&!w8(t)}function ip(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function S8(t,e){let n=ip(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(a=>{n.append(r,a)});return n}const x8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],k8=["aria-current","caseSensitive","className","end","style","to","children"],E8="startTransition",y0=w6[E8];function O8(t){let{basename:e,children:n,future:r,window:a}=t,o=he.useRef();o.current==null&&(o.current=P4({window:a,v5Compat:!0}));let s=o.current,[i,l]=he.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},g=he.useCallback(h=>{u&&y0?y0(()=>l(h)):l(h)},[l,u]);return he.useLayoutEffect(()=>s.listen(g),[s,g]),he.createElement(b8,{basename:e,children:n,location:i.location,navigationType:i.action,navigator:s})}const A8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xt=he.forwardRef(function(e,n){let{onClick:r,relative:a,reloadDocument:o,replace:s,state:i,target:l,to:u,preventScrollReset:g}=e,h=t2(e,x8),{basename:b}=he.useContext(ws),w,p=!1;if(typeof u=="string"&&T8.test(u)&&(w=u,A8))try{let c=new URL(window.location.href),f=u.startsWith("//")?new URL(c.protocol+u):new URL(u),v=Wm(f.pathname,b);f.origin===c.origin&&v!=null?u=v+f.search+f.hash:p=!0}catch{}let d=n8(u,{relative:a}),y=j8(u,{replace:s,state:i,target:l,preventScrollReset:g,relative:a});function m(c){r&&r(c),c.defaultPrevented||y(c)}return he.createElement("a",Uu({},h,{href:w||d,onClick:p||o?r:m,ref:n,target:l}))}),za=he.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:a=!1,className:o="",end:s=!1,style:i,to:l,children:u}=e,g=t2(e,k8),h=Ym(l,{relative:g.relative}),b=_s(),w=he.useContext(Yw),{navigator:p}=he.useContext(ws),d=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,y=b.pathname,m=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(y=y.toLowerCase(),m=m?m.toLowerCase():null,d=d.toLowerCase());let c=y===d||!s&&y.startsWith(d)&&y.charAt(d.length)==="/",f=m!=null&&(m===d||!s&&m.startsWith(d)&&m.charAt(d.length)==="/"),v=c?r:void 0,_;typeof o=="function"?_=o({isActive:c,isPending:f}):_=[o,c?"active":null,f?"pending":null].filter(Boolean).join(" ");let S=typeof i=="function"?i({isActive:c,isPending:f}):i;return he.createElement(Xt,Uu({},g,{"aria-current":v,className:_,ref:n,style:S,to:l}),typeof u=="function"?u({isActive:c,isPending:f}):u)});var g0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(g0||(g0={}));var b0;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(b0||(b0={}));function j8(t,e){let{target:n,replace:r,state:a,preventScrollReset:o,relative:s}=e===void 0?{}:e,i=xa(),l=_s(),u=Ym(t,{relative:s});return he.useCallback(g=>{if(_8(g,n)){g.preventDefault();let h=r!==void 0?r:Lu(l)===Lu(u);i(t,{replace:h,state:a,preventScrollReset:o,relative:s})}},[l,i,u,r,a,n,t,o,s])}function C8(t){let e=he.useRef(ip(t)),n=he.useRef(!1),r=_s(),a=he.useMemo(()=>S8(r.search,n.current?null:e.current),[r.search]),o=xa(),s=he.useCallback((i,l)=>{const u=ip(typeof i=="function"?i(a):i);n.current=!0,o("?"+u,l)},[o,a]);return[a,s]}const n2="/assets/logo-dark-c4950a32.png",r2=he.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Cf=he.createContext({}),Pf=he.createContext(null),Mf=typeof document<"u",Fu=Mf?he.useLayoutEffect:he.useEffect,o2=he.createContext({strict:!1});function P8(t,e,n,r){const{visualElement:a}=he.useContext(Cf),o=he.useContext(o2),s=he.useContext(Pf),i=he.useContext(r2).reducedMotion,l=he.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:a,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:i}));const u=l.current;return he.useInsertionEffect(()=>{u&&u.update(n,s)}),Fu(()=>{u&&u.render()}),he.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?Fu:he.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function Ks(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function M8(t,e,n){return he.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ks(n)&&(n.current=r))},[e])}function Rl(t){return typeof t=="string"||Array.isArray(t)}function If(t){return typeof t=="object"&&typeof t.start=="function"}const Qm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zm=["initial",...Qm];function Bf(t){return If(t.animate)||Zm.some(e=>Rl(t[e]))}function i2(t){return!!(Bf(t)||t.variants)}function I8(t,e){if(Bf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Rl(n)?n:void 0,animate:Rl(r)?r:void 0}}return t.inherit!==!1?e:{}}function B8(t){const{initial:e,animate:n}=I8(t,he.useContext(Cf));return he.useMemo(()=>({initial:e,animate:n}),[v0(e),v0(n)])}function v0(t){return Array.isArray(t)?t.join(" "):t}const w0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ll={};for(const t in w0)Ll[t]={isEnabled:e=>w0[t].some(n=>!!e[n])};function N8(t){for(const e in t)Ll[e]={...Ll[e],...t[e]}}const ey=he.createContext({}),s2=he.createContext({}),$8=Symbol.for("motionComponentSymbol");function R8({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:a}){t&&N8(t);function o(i,l){let u;const g={...he.useContext(r2),...i,layoutId:L8(i)},{isStatic:h}=g,b=B8(i),w=r(i,h);if(!h&&Mf){b.visualElement=P8(a,w,g,e);const p=he.useContext(s2),d=he.useContext(o2).strict;b.visualElement&&(u=b.visualElement.loadFeatures(g,d,t,p))}return he.createElement(Cf.Provider,{value:b},u&&b.visualElement?he.createElement(u,{visualElement:b.visualElement,...g}):null,n(a,i,M8(w,b.visualElement,l),w,h,b.visualElement))}const s=he.forwardRef(o);return s[$8]=a,s}function L8({layoutId:t}){const e=he.useContext(ey).id;return e&&t!==void 0?e+"-"+t:t}function D8(t){function e(r,a={}){return R8(t(r,a))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,a)=>(n.has(a)||n.set(a,e(a)),n.get(a))})}const U8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ty(t){return typeof t!="string"||t.includes("-")?!1:!!(U8.indexOf(t)>-1||/[A-Z]/.test(t))}const Vu={};function F8(t){Object.assign(Vu,t)}const Yl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ss=new Set(Yl);function a2(t,{layout:e,layoutId:n}){return Ss.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vu[t]||t==="opacity")}const wr=t=>!!(t&&t.getVelocity),V8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},z8=Yl.length;function H8(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,a){let o="";for(let s=0;s<z8;s++){const i=Yl[s];if(t[i]!==void 0){const l=V8[i]||i;o+=`${l}(${t[i]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),a?o=a(t,r?"":o):n&&r&&(o="none"),o}const l2=t=>e=>typeof e=="string"&&e.startsWith(t),c2=l2("--"),sp=l2("var(--"),q8=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,W8=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Pi=(t,e,n)=>Math.min(Math.max(n,t),e),xs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cl={...xs,transform:t=>Pi(0,1,t)},Bc={...xs,default:1},ul=t=>Math.round(t*1e5)/1e5,Nf=/(-)?([\d]*\.?[\d])+/g,u2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,K8=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Xl(t){return typeof t=="string"}const Ql=t=>({test:e=>Xl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ti=Ql("deg"),yo=Ql("%"),Et=Ql("px"),G8=Ql("vh"),J8=Ql("vw"),_0={...yo,parse:t=>yo.parse(t)/100,transform:t=>yo.transform(t*100)},S0={...xs,transform:Math.round},f2={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,size:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,rotate:ti,rotateX:ti,rotateY:ti,rotateZ:ti,scale:Bc,scaleX:Bc,scaleY:Bc,scaleZ:Bc,skew:ti,skewX:ti,skewY:ti,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:cl,originX:_0,originY:_0,originZ:Et,zIndex:S0,fillOpacity:cl,strokeOpacity:cl,numOctaves:S0};function ny(t,e,n,r){const{style:a,vars:o,transform:s,transformOrigin:i}=t;let l=!1,u=!1,g=!0;for(const h in e){const b=e[h];if(c2(h)){o[h]=b;continue}const w=f2[h],p=W8(b,w);if(Ss.has(h)){if(l=!0,s[h]=p,!g)continue;b!==(w.default||0)&&(g=!1)}else h.startsWith("origin")?(u=!0,i[h]=p):a[h]=p}if(e.transform||(l||r?a.transform=H8(t.transform,n,g,r):a.transform&&(a.transform="none")),u){const{originX:h="50%",originY:b="50%",originZ:w=0}=i;a.transformOrigin=`${h} ${b} ${w}`}}const ry=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function d2(t,e,n){for(const r in e)!wr(e[r])&&!a2(r,n)&&(t[r]=e[r])}function Y8({transformTemplate:t},e,n){return he.useMemo(()=>{const r=ry();return ny(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function X8(t,e,n){const r=t.style||{},a={};return d2(a,r,t),Object.assign(a,Y8(t,e,n)),t.transformValues?t.transformValues(a):a}function Q8(t,e,n){const r={},a=X8(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=a,r}const Z8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function zu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||Z8.has(t)}let h2=t=>!zu(t);function e5(t){t&&(h2=e=>e.startsWith("on")?!zu(e):t(e))}try{e5(require("@emotion/is-prop-valid").default)}catch{}function t5(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(h2(a)||n===!0&&zu(a)||!e&&!zu(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}function x0(t,e,n){return typeof t=="string"?t:Et.transform(e+n*t)}function n5(t,e,n){const r=x0(e,t.x,t.width),a=x0(n,t.y,t.height);return`${r} ${a}`}const r5={offset:"stroke-dashoffset",array:"stroke-dasharray"},o5={offset:"strokeDashoffset",array:"strokeDasharray"};function i5(t,e,n=1,r=0,a=!0){t.pathLength=1;const o=a?r5:o5;t[o.offset]=Et.transform(-r);const s=Et.transform(e),i=Et.transform(n);t[o.array]=`${s} ${i}`}function oy(t,{attrX:e,attrY:n,attrScale:r,originX:a,originY:o,pathLength:s,pathSpacing:i=1,pathOffset:l=0,...u},g,h,b){if(ny(t,u,g,b),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:p,dimensions:d}=t;w.transform&&(d&&(p.transform=w.transform),delete w.transform),d&&(a!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=n5(d,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),s!==void 0&&i5(w,s,i,l,!1)}const p2=()=>({...ry(),attrs:{}}),iy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function s5(t,e,n,r){const a=he.useMemo(()=>{const o=p2();return oy(o,e,{enableHardwareAcceleration:!1},iy(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};d2(o,t.style,t),a.style={...o,...a.style}}return a}function a5(t=!1){return(n,r,a,{latestValues:o},s)=>{const l=(ty(n)?s5:Q8)(r,o,s,n),g={...t5(r,typeof n=="string",t),...l,ref:a},{children:h}=r,b=he.useMemo(()=>wr(h)?h.get():h,[h]);return he.createElement(n,{...g,children:b})}}const sy=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function m2(t,{style:e,vars:n},r,a){Object.assign(t.style,e,a&&a.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const y2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function g2(t,e,n,r){m2(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(y2.has(a)?a:sy(a),e.attrs[a])}function ay(t,e){const{style:n}=t,r={};for(const a in n)(wr(n[a])||e.style&&wr(e.style[a])||a2(a,t))&&(r[a]=n[a]);return r}function b2(t,e){const n=ay(t,e);for(const r in t)if(wr(t[r])||wr(e[r])){const a=Yl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=t[r]}return n}function ly(t,e,n,r={},a={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,a)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,a)),e}function v2(t){const e=he.useRef(null);return e.current===null&&(e.current=t()),e.current}const Hu=t=>Array.isArray(t),l5=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),c5=t=>Hu(t)?t[t.length-1]||0:t;function Zc(t){const e=wr(t)?t.get():t;return l5(e)?e.toValue():e}function u5({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,a,o){const s={latestValues:f5(r,a,o,t),renderState:e()};return n&&(s.mount=i=>n(r,i,s)),s}const w2=t=>(e,n)=>{const r=he.useContext(Cf),a=he.useContext(Pf),o=()=>u5(t,e,r,a);return n?o():v2(o)};function f5(t,e,n,r){const a={},o=r(t,{});for(const b in o)a[b]=Zc(o[b]);let{initial:s,animate:i}=t;const l=Bf(t),u=i2(t);e&&u&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),i===void 0&&(i=e.animate));let g=n?n.initial===!1:!1;g=g||s===!1;const h=g?i:s;return h&&typeof h!="boolean"&&!If(h)&&(Array.isArray(h)?h:[h]).forEach(w=>{const p=ly(t,w);if(!p)return;const{transitionEnd:d,transition:y,...m}=p;for(const c in m){let f=m[c];if(Array.isArray(f)){const v=g?f.length-1:0;f=f[v]}f!==null&&(a[c]=f)}for(const c in d)a[c]=d[c]}),a}const d5={useVisualState:w2({scrapeMotionValuesFromProps:b2,createRenderState:p2,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}oy(n,r,{enableHardwareAcceleration:!1},iy(e.tagName),t.transformTemplate),g2(e,n)}})},h5={useVisualState:w2({scrapeMotionValuesFromProps:ay,createRenderState:ry})};function p5(t,{forwardMotionProps:e=!1},n,r){return{...ty(t)?d5:h5,preloadedFeatures:n,useRender:a5(e),createVisualElement:r,Component:t}}function Mo(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const _2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function $f(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const m5=t=>e=>_2(e)&&t(e,$f(e));function Lo(t,e,n,r){return Mo(t,e,m5(n),r)}const y5=(t,e)=>n=>e(t(n)),ki=(...t)=>t.reduce(y5);function S2(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const k0=S2("dragHorizontal"),E0=S2("dragVertical");function x2(t){let e=!1;if(t==="y")e=E0();else if(t==="x")e=k0();else{const n=k0(),r=E0();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function k2(){const t=x2(!0);return t?(t(),!1):!0}class Ri{constructor(e){this.isMounted=!1,this.node=e}update(){}}const jn=t=>t;function g5(t){let e=[],n=[],r=0,a=!1,o=!1;const s=new WeakSet,i={schedule:(l,u=!1,g=!1)=>{const h=g&&a,b=h?e:n;return u&&s.add(l),b.indexOf(l)===-1&&(b.push(l),h&&a&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),s.delete(l)},process:l=>{if(a){o=!0;return}if(a=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const g=e[u];g(l),s.has(g)&&(i.schedule(g),t())}a=!1,o&&(o=!1,i.process(l))}};return i}const Nc=["prepare","read","update","preRender","render","postRender"],b5=40;function v5(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=Nc.reduce((h,b)=>(h[b]=g5(()=>n=!0),h),{}),s=h=>o[h].process(a),i=h=>{n=!1,a.delta=r?1e3/60:Math.max(Math.min(h-a.timestamp,b5),1),a.timestamp=h,a.isProcessing=!0,Nc.forEach(s),a.isProcessing=!1,n&&e&&(r=!1,t(i))},l=()=>{n=!0,r=!0,a.isProcessing||t(i)};return{schedule:Nc.reduce((h,b)=>{const w=o[b];return h[b]=(p,d=!1,y=!1)=>(n||l(),w.schedule(p,d,y)),h},{}),cancel:h=>Nc.forEach(b=>o[b].cancel(h)),state:a,steps:o}}const{schedule:pn,cancel:Ho,state:Qn,steps:Pd}=v5(typeof requestAnimationFrame<"u"?requestAnimationFrame:jn,!0);function O0(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),a=(o,s)=>{if(o.type==="touch"||k2())return;const i=t.getProps();t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",e),i[r]&&pn.update(()=>i[r](o,s))};return Lo(t.current,n,a,{passive:!t.getProps()[r]})}class w5 extends Ri{mount(){this.unmount=ki(O0(this.node,!0),O0(this.node,!1))}unmount(){}}class _5 extends Ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ki(Mo(this.node.current,"focus",()=>this.onFocus()),Mo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const E2=(t,e)=>e?t===e?!0:E2(t,e.parentElement):!1;function Md(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,$f(n))}class S5 extends Ri{constructor(){super(...arguments),this.removeStartListeners=jn,this.removeEndListeners=jn,this.removeAccessibleListeners=jn,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),o=Lo(window,"pointerup",(i,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:g}=this.node.getProps();pn.update(()=>{E2(this.node.current,i.target)?u&&u(i,l):g&&g(i,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=Lo(window,"pointercancel",(i,l)=>this.cancelPress(i,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ki(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=i=>{i.key!=="Enter"||!this.checkPressEnd()||Md("up",(l,u)=>{const{onTap:g}=this.node.getProps();g&&pn.update(()=>g(l,u))})};this.removeEndListeners(),this.removeEndListeners=Mo(this.node.current,"keyup",s),Md("down",(i,l)=>{this.startPress(i,l)})},n=Mo(this.node.current,"keydown",e),r=()=>{this.isPressing&&Md("cancel",(o,s)=>this.cancelPress(o,s))},a=Mo(this.node.current,"blur",r);this.removeAccessibleListeners=ki(n,a)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&pn.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!k2()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&pn.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Lo(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Mo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ki(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ap=new WeakMap,Id=new WeakMap,x5=t=>{const e=ap.get(t.target);e&&e(t)},k5=t=>{t.forEach(x5)};function E5({root:t,...e}){const n=t||document;Id.has(n)||Id.set(n,{});const r=Id.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(k5,{root:t,...e})),r[a]}function O5(t,e,n){const r=E5(e);return ap.set(t,n),r.observe(t),()=>{ap.delete(t),r.unobserve(t)}}const A5={some:0,all:1};class T5 extends Ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:A5[a]},i=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:g,onViewportLeave:h}=this.node.getProps(),b=u?g:h;b&&b(l)};return O5(this.node.current,s,i)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(j5(e,n))&&this.startObserver()}unmount(){}}function j5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const C5={inView:{Feature:T5},tap:{Feature:S5},focus:{Feature:_5},hover:{Feature:w5}};function O2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function P5(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function M5(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Rf(t,e,n){const r=t.getProps();return ly(r,e,n!==void 0?n:r.custom,P5(t),M5(t))}const I5="framerAppearId",B5="data-"+sy(I5);let N5=jn,cy=jn;const Ei=t=>t*1e3,Do=t=>t/1e3,$5={current:!1},A2=t=>Array.isArray(t)&&typeof t[0]=="number";function T2(t){return!!(!t||typeof t=="string"&&j2[t]||A2(t)||Array.isArray(t)&&t.every(T2))}const Xa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,j2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xa([0,.65,.55,1]),circOut:Xa([.55,0,1,.45]),backIn:Xa([.31,.01,.66,-.59]),backOut:Xa([.33,1.53,.69,.99])};function C2(t){if(t)return A2(t)?Xa(t):Array.isArray(t)?t.map(C2):j2[t]}function R5(t,e,n,{delay:r=0,duration:a,repeat:o=0,repeatType:s="loop",ease:i,times:l}={}){const u={[e]:n};l&&(u.offset=l);const g=C2(i);return Array.isArray(g)&&(u.easing=g),t.animate(u,{delay:r,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function L5(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const P2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,D5=1e-7,U5=12;function F5(t,e,n,r,a){let o,s,i=0;do s=e+(n-e)/2,o=P2(s,r,a)-t,o>0?n=s:e=s;while(Math.abs(o)>D5&&++i<U5);return s}function Zl(t,e,n,r){if(t===e&&n===r)return jn;const a=o=>F5(o,0,1,t,n);return o=>o===0||o===1?o:P2(a(o),e,r)}const V5=Zl(.42,0,1,1),z5=Zl(0,0,.58,1),M2=Zl(.42,0,.58,1),H5=t=>Array.isArray(t)&&typeof t[0]!="number",I2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,B2=t=>e=>1-t(1-e),N2=t=>1-Math.sin(Math.acos(t)),uy=B2(N2),q5=I2(uy),$2=Zl(.33,1.53,.69,.99),fy=B2($2),W5=I2(fy),K5=t=>(t*=2)<1?.5*fy(t):.5*(2-Math.pow(2,-10*(t-1))),G5={linear:jn,easeIn:V5,easeInOut:M2,easeOut:z5,circIn:N2,circInOut:q5,circOut:uy,backIn:fy,backInOut:W5,backOut:$2,anticipate:K5},A0=t=>{if(Array.isArray(t)){cy(t.length===4);const[e,n,r,a]=t;return Zl(e,n,r,a)}else if(typeof t=="string")return G5[t];return t},dy=(t,e)=>n=>!!(Xl(n)&&K8.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),R2=(t,e,n)=>r=>{if(!Xl(r))return r;const[a,o,s,i]=r.match(Nf);return{[t]:parseFloat(a),[e]:parseFloat(o),[n]:parseFloat(s),alpha:i!==void 0?parseFloat(i):1}},J5=t=>Pi(0,255,t),Bd={...xs,transform:t=>Math.round(J5(t))},Zi={test:dy("rgb","red"),parse:R2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Bd.transform(t)+", "+Bd.transform(e)+", "+Bd.transform(n)+", "+ul(cl.transform(r))+")"};function Y5(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const lp={test:dy("#"),parse:Y5,transform:Zi.transform},Gs={test:dy("hsl","hue"),parse:R2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+yo.transform(ul(e))+", "+yo.transform(ul(n))+", "+ul(cl.transform(r))+")"},ar={test:t=>Zi.test(t)||lp.test(t)||Gs.test(t),parse:t=>Zi.test(t)?Zi.parse(t):Gs.test(t)?Gs.parse(t):lp.parse(t),transform:t=>Xl(t)?t:t.hasOwnProperty("red")?Zi.transform(t):Gs.transform(t)},yn=(t,e,n)=>-n*t+n*e+t;function Nd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function X5({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,o=0,s=0;if(!e)a=o=s=n;else{const i=n<.5?n*(1+e):n+e-n*e,l=2*n-i;a=Nd(l,i,t+1/3),o=Nd(l,i,t),s=Nd(l,i,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const $d=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},Q5=[lp,Zi,Gs],Z5=t=>Q5.find(e=>e.test(t));function T0(t){const e=Z5(t);let n=e.parse(t);return e===Gs&&(n=X5(n)),n}const L2=(t,e)=>{const n=T0(t),r=T0(e),a={...n};return o=>(a.red=$d(n.red,r.red,o),a.green=$d(n.green,r.green,o),a.blue=$d(n.blue,r.blue,o),a.alpha=yn(n.alpha,r.alpha,o),Zi.transform(a))};function ek(t){var e,n;return isNaN(t)&&Xl(t)&&(((e=t.match(Nf))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(u2))===null||n===void 0?void 0:n.length)||0)>0}const D2={regex:q8,countKey:"Vars",token:"${v}",parse:jn},U2={regex:u2,countKey:"Colors",token:"${c}",parse:ar.parse},F2={regex:Nf,countKey:"Numbers",token:"${n}",parse:xs.parse};function Rd(t,{regex:e,countKey:n,token:r,parse:a}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(a)))}function qu(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Rd(n,D2),Rd(n,U2),Rd(n,F2),n}function V2(t){return qu(t).values}function z2(t){const{values:e,numColors:n,numVars:r,tokenised:a}=qu(t),o=e.length;return s=>{let i=a;for(let l=0;l<o;l++)l<r?i=i.replace(D2.token,s[l]):l<r+n?i=i.replace(U2.token,ar.transform(s[l])):i=i.replace(F2.token,ul(s[l]));return i}}const tk=t=>typeof t=="number"?0:t;function nk(t){const e=V2(t);return z2(t)(e.map(tk))}const Mi={test:ek,parse:V2,createTransformer:z2,getAnimatableNone:nk},H2=(t,e)=>n=>`${n>0?e:t}`;function q2(t,e){return typeof t=="number"?n=>yn(t,e,n):ar.test(t)?L2(t,e):t.startsWith("var(")?H2(t,e):K2(t,e)}const W2=(t,e)=>{const n=[...t],r=n.length,a=t.map((o,s)=>q2(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=a[s](o);return n}},rk=(t,e)=>{const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=q2(t[a],e[a]));return a=>{for(const o in r)n[o]=r[o](a);return n}},K2=(t,e)=>{const n=Mi.createTransformer(e),r=qu(t),a=qu(e);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?ki(W2(r.values,a.values),n):H2(t,e)},Dl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},j0=(t,e)=>n=>yn(t,e,n);function ok(t){return typeof t=="number"?j0:typeof t=="string"?ar.test(t)?L2:K2:Array.isArray(t)?W2:typeof t=="object"?rk:j0}function ik(t,e,n){const r=[],a=n||ok(t[0]),o=t.length-1;for(let s=0;s<o;s++){let i=a(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||jn:e;i=ki(l,i)}r.push(i)}return r}function G2(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const o=t.length;if(cy(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=ik(e,r,a),i=s.length,l=u=>{let g=0;if(i>1)for(;g<t.length-2&&!(u<t[g+1]);g++);const h=Dl(t[g],t[g+1],u);return s[g](h)};return n?u=>l(Pi(t[0],t[o-1],u)):l}function sk(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=Dl(0,e,r);t.push(yn(n,1,a))}}function ak(t){const e=[0];return sk(e,t.length-1),e}function lk(t,e){return t.map(n=>n*e)}function ck(t,e){return t.map(()=>e||M2).splice(0,t.length-1)}function Wu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=H5(r)?r.map(A0):A0(r),o={done:!1,value:e[0]},s=lk(n&&n.length===e.length?n:ak(e),t),i=G2(s,e,{ease:Array.isArray(a)?a:ck(e,a)});return{calculatedDuration:t,next:l=>(o.value=i(l),o.done=l>=t,o)}}function J2(t,e){return e?t*(1e3/e):0}const uk=5;function Y2(t,e,n){const r=Math.max(e-uk,0);return J2(n-t(r),e-r)}const Ld=.001,fk=.01,C0=10,dk=.05,hk=1;function pk({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let a,o;N5(t<=Ei(C0));let s=1-e;s=Pi(dk,hk,s),t=Pi(fk,C0,Do(t)),s<1?(a=u=>{const g=u*s,h=g*t,b=g-n,w=cp(u,s),p=Math.exp(-h);return Ld-b/w*p},o=u=>{const h=u*s*t,b=h*n+n,w=Math.pow(s,2)*Math.pow(u,2)*t,p=Math.exp(-h),d=cp(Math.pow(u,2),s);return(-a(u)+Ld>0?-1:1)*((b-w)*p)/d}):(a=u=>{const g=Math.exp(-u*t),h=(u-n)*t+1;return-Ld+g*h},o=u=>{const g=Math.exp(-u*t),h=(n-u)*(t*t);return g*h});const i=5/t,l=yk(a,o,i);if(t=Ei(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const mk=12;function yk(t,e,n){let r=n;for(let a=1;a<mk;a++)r=r-t(r)/e(r);return r}function cp(t,e){return t*Math.sqrt(1-e*e)}const gk=["duration","bounce"],bk=["stiffness","damping","mass"];function P0(t,e){return e.some(n=>t[n]!==void 0)}function vk(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!P0(t,bk)&&P0(t,gk)){const n=pk(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function X2({keyframes:t,restDelta:e,restSpeed:n,...r}){const a=t[0],o=t[t.length-1],s={done:!1,value:a},{stiffness:i,damping:l,mass:u,velocity:g,duration:h,isResolvedFromDuration:b}=vk(r),w=g?-Do(g):0,p=l/(2*Math.sqrt(i*u)),d=o-a,y=Do(Math.sqrt(i/u)),m=Math.abs(d)<5;n||(n=m?.01:2),e||(e=m?.005:.5);let c;if(p<1){const f=cp(y,p);c=v=>{const _=Math.exp(-p*y*v);return o-_*((w+p*y*d)/f*Math.sin(f*v)+d*Math.cos(f*v))}}else if(p===1)c=f=>o-Math.exp(-y*f)*(d+(w+y*d)*f);else{const f=y*Math.sqrt(p*p-1);c=v=>{const _=Math.exp(-p*y*v),S=Math.min(f*v,300);return o-_*((w+p*y*d)*Math.sinh(S)+f*d*Math.cosh(S))/f}}return{calculatedDuration:b&&h||null,next:f=>{const v=c(f);if(b)s.done=f>=h;else{let _=w;f!==0&&(p<1?_=Y2(c,f,v):_=0);const S=Math.abs(_)<=n,E=Math.abs(o-v)<=e;s.done=S&&E}return s.value=s.done?o:v,s}}}function M0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:s,min:i,max:l,restDelta:u=.5,restSpeed:g}){const h=t[0],b={done:!1,value:h},w=x=>i!==void 0&&x<i||l!==void 0&&x>l,p=x=>i===void 0?l:l===void 0||Math.abs(i-x)<Math.abs(l-x)?i:l;let d=n*e;const y=h+d,m=s===void 0?y:s(y);m!==y&&(d=m-h);const c=x=>-d*Math.exp(-x/r),f=x=>m+c(x),v=x=>{const k=c(x),T=f(x);b.done=Math.abs(k)<=u,b.value=b.done?m:T};let _,S;const E=x=>{w(b.value)&&(_=x,S=X2({keyframes:[b.value,p(b.value)],velocity:Y2(f,x,b.value),damping:a,stiffness:o,restDelta:u,restSpeed:g}))};return E(0),{calculatedDuration:null,next:x=>{let k=!1;return!S&&_===void 0&&(k=!0,v(x),E(x)),_!==void 0&&x>_?S.next(x-_):(!k&&v(x),b)}}}const wk=t=>{const e=({timestamp:n})=>t(n);return{start:()=>pn.update(e,!0),stop:()=>Ho(e),now:()=>Qn.isProcessing?Qn.timestamp:performance.now()}},I0=2e4;function B0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<I0;)e+=n,r=t.next(e);return e>=I0?1/0:e}const _k={decay:M0,inertia:M0,tween:Wu,keyframes:Wu,spring:X2};function Ku({autoplay:t=!0,delay:e=0,driver:n=wk,keyframes:r,type:a="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:i="loop",onPlay:l,onStop:u,onComplete:g,onUpdate:h,...b}){let w=1,p=!1,d,y;const m=()=>{y=new Promise(j=>{d=j})};m();let c;const f=_k[a]||Wu;let v;f!==Wu&&typeof r[0]!="number"&&(v=G2([0,100],r,{clamp:!1}),r=[0,100]);const _=f({...b,keyframes:r});let S;i==="mirror"&&(S=f({...b,keyframes:[...r].reverse(),velocity:-(b.velocity||0)}));let E="idle",x=null,k=null,T=null;_.calculatedDuration===null&&o&&(_.calculatedDuration=B0(_));const{calculatedDuration:C}=_;let M=1/0,N=1/0;C!==null&&(M=C+s,N=M*(o+1)-s);let L=0;const R=j=>{if(k===null)return;w>0&&(k=Math.min(k,j)),w<0&&(k=Math.min(j-N/w,k)),x!==null?L=x:L=Math.round(j-k)*w;const P=L-e*(w>=0?1:-1),A=w>=0?P<0:P>N;L=Math.max(P,0),E==="finished"&&x===null&&(L=N);let $=L,q=_;if(o){const ie=L/M;let Z=Math.floor(ie),ee=ie%1;!ee&&ie>=1&&(ee=1),ee===1&&Z--,Z=Math.min(Z,o+1);const de=!!(Z%2);de&&(i==="reverse"?(ee=1-ee,s&&(ee-=s/M)):i==="mirror"&&(q=S));let le=Pi(0,1,ee);L>N&&(le=i==="reverse"&&de?1:0),$=le*M}const X=A?{done:!1,value:r[0]}:q.next($);v&&(X.value=v(X.value));let{done:te}=X;!A&&C!==null&&(te=w>=0?L>=N:L<=0);const re=x===null&&(E==="finished"||E==="running"&&te);return h&&h(X.value),re&&U(),X},D=()=>{c&&c.stop(),c=void 0},z=()=>{E="idle",D(),d(),m(),k=T=null},U=()=>{E="finished",g&&g(),D(),d()},O=()=>{if(p)return;c||(c=n(R));const j=c.now();l&&l(),x!==null?k=j-x:(!k||E==="finished")&&(k=j),E==="finished"&&m(),T=k,x=null,E="running",c.start()};t&&O();const I={then(j,P){return y.then(j,P)},get time(){return Do(L)},set time(j){j=Ei(j),L=j,x!==null||!c||w===0?x=j:k=c.now()-j/w},get duration(){const j=_.calculatedDuration===null?B0(_):_.calculatedDuration;return Do(j)},get speed(){return w},set speed(j){j===w||!c||(w=j,I.time=Do(L))},get state(){return E},play:O,pause:()=>{E="paused",x=L},stop:()=>{p=!0,E!=="idle"&&(E="idle",u&&u(),z())},cancel:()=>{T!==null&&R(T),z()},complete:()=>{E="finished"},sample:j=>(k=0,R(j))};return I}function Sk(t){let e;return()=>(e===void 0&&(e=t()),e)}const xk=Sk(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),kk=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),$c=10,Ek=2e4,Ok=(t,e)=>e.type==="spring"||t==="backgroundColor"||!T2(e.ease);function Ak(t,e,{onUpdate:n,onComplete:r,...a}){if(!(xk()&&kk.has(e)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let s=!1,i,l;const u=()=>{l=new Promise(m=>{i=m})};u();let{keyframes:g,duration:h=300,ease:b,times:w}=a;if(Ok(e,a)){const m=Ku({...a,repeat:0,delay:0});let c={done:!1,value:g[0]};const f=[];let v=0;for(;!c.done&&v<Ek;)c=m.sample(v),f.push(c.value),v+=$c;w=void 0,g=f,h=v-$c,b="linear"}const p=R5(t.owner.current,e,g,{...a,duration:h,ease:b,times:w}),d=()=>p.cancel(),y=()=>{pn.update(d),i(),u()};return p.onfinish=()=>{t.set(L5(g,a)),r&&r(),y()},{then(m,c){return l.then(m,c)},get timeline(){return p.timeline},set timeline(m){p.timeline=m,p.onfinish=null},get time(){return Do(p.currentTime||0)},set time(m){p.currentTime=Ei(m)},get speed(){return p.playbackRate},set speed(m){p.playbackRate=m},get duration(){return Do(h)},play:()=>{s||(p.play(),Ho(d))},pause:()=>p.pause(),stop:()=>{if(s=!0,p.playState==="idle")return;const{currentTime:m}=p;if(m){const c=Ku({...a,autoplay:!1});t.setWithVelocity(c.sample(m-$c).value,c.sample(m).value,$c)}y()},complete:()=>p.finish(),cancel:y}}function Tk({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const a=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:jn,pause:jn,stop:jn,then:o=>(o(),Promise.resolve()),cancel:jn,complete:jn});return e?Ku({keyframes:[0,1],duration:0,delay:e,onComplete:a}):a()}const jk={type:"spring",stiffness:500,damping:25,restSpeed:10},Ck=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Pk={type:"keyframes",duration:.8},Mk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ik=(t,{keyframes:e})=>e.length>2?Pk:Ss.has(t)?t.startsWith("scale")?Ck(e[1]):jk:Mk,up=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Mi.test(e)||e==="0")&&!e.startsWith("url(")),Bk=new Set(["brightness","contrast","saturate","opacity"]);function Nk(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Nf)||[];if(!r)return t;const a=n.replace(r,"");let o=Bk.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+a+")"}const $k=/([a-z-]*)\(.*?\)/g,fp={...Mi,getAnimatableNone:t=>{const e=t.match($k);return e?e.map(Nk).join(" "):t}},Rk={...f2,color:ar,backgroundColor:ar,outlineColor:ar,fill:ar,stroke:ar,borderColor:ar,borderTopColor:ar,borderRightColor:ar,borderBottomColor:ar,borderLeftColor:ar,filter:fp,WebkitFilter:fp},hy=t=>Rk[t];function Q2(t,e){let n=hy(t);return n!==fp&&(n=Mi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Z2=t=>/^0[^.\s]+$/.test(t);function Lk(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Z2(t)}function Dk(t,e,n,r){const a=up(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:t.get();let i;const l=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?s:o[u-1]),Lk(o[u])&&l.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(i=o[u]);if(a&&l.length&&i)for(let u=0;u<l.length;u++){const g=l[u];o[g]=Q2(e,i)}return o}function Uk({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:s,repeatDelay:i,from:l,elapsed:u,...g}){return!!Object.keys(g).length}function e_(t,e){return t[e]||t.default||t}const py=(t,e,n,r={})=>a=>{const o=e_(r,t)||{},s=o.delay||r.delay||0;let{elapsed:i=0}=r;i=i-Ei(s);const l=Dk(e,t,n,o),u=l[0],g=l[l.length-1],h=up(t,u),b=up(t,g);let w={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-i,onUpdate:p=>{e.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{a(),o.onComplete&&o.onComplete()}};if(Uk(o)||(w={...w,...Ik(t,w)}),w.duration&&(w.duration=Ei(w.duration)),w.repeatDelay&&(w.repeatDelay=Ei(w.repeatDelay)),!h||!b||$5.current||o.type===!1)return Tk(w);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=Ak(e,t,w);if(p)return p}return Ku(w)};function Gu(t){return!!(wr(t)&&t.add)}const Fk=t=>/^\-?\d*\.?\d+$/.test(t);function my(t,e){t.indexOf(e)===-1&&t.push(e)}function yy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class gy{constructor(){this.subscriptions=[]}add(e){return my(this.subscriptions,e),()=>yy(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let o=0;o<a;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vk=t=>!isNaN(parseFloat(t));class zk{constructor(e,n={}){this.version="10.13.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=Qn;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,pn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>pn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Vk(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new gy);const r=this.events[e].add(n);return e==="change"?()=>{r(),pn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?J2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function da(t,e){return new zk(t,e)}const t_=t=>e=>e.test(t),Hk={test:t=>t==="auto",parse:t=>t},n_=[xs,Et,yo,ti,J8,G8,Hk],Ha=t=>n_.find(t_(t)),qk=[...n_,ar,Mi],Wk=t=>qk.find(t_(t));function Kk(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,da(n))}function Gk(t,e){const n=Rf(t,e);let{transitionEnd:r={},transition:a={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const i=c5(o[s]);Kk(t,s,i)}}function Jk(t,e,n){var r,a;const o=Object.keys(e).filter(i=>!t.hasValue(i)),s=o.length;if(s)for(let i=0;i<s;i++){const l=o[i],u=e[l];let g=null;Array.isArray(u)&&(g=u[0]),g===null&&(g=(a=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&a!==void 0?a:e[l]),g!=null&&(typeof g=="string"&&(Fk(g)||Z2(g))?g=parseFloat(g):!Wk(g)&&Mi.test(u)&&(g=Q2(l,u)),t.addValue(l,da(g,{owner:t})),n[l]===void 0&&(n[l]=g),g!==null&&t.setBaseTarget(l,g))}}function Yk(t,e){return e?(e[t]||e.default||e).from:void 0}function Xk(t,e,n){const r={};for(const a in t){const o=Yk(a,e);if(o!==void 0)r[a]=o;else{const s=n.getValue(a);s&&(r[a]=s.get())}}return r}function Qk({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function r_(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...i}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(o=r);const u=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const h in i){const b=t.getValue(h),w=i[h];if(!b||w===void 0||g&&Qk(g,h))continue;const p={delay:n,elapsed:0,...o};if(window.HandoffAppearAnimations&&!b.hasAnimated){const y=t.getProps()[B5];y&&(p.elapsed=window.HandoffAppearAnimations(y,h,b,pn))}b.start(py(h,b,w,t.shouldReduceMotion&&Ss.has(h)?{type:!1}:p));const d=b.animation;Gu(l)&&(l.add(h),d.then(()=>l.remove(h))),u.push(d)}return s&&Promise.all(u).then(()=>{s&&Gk(t,s)}),u}function dp(t,e,n={}){const r=Rf(t,e,n.custom);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const o=r?()=>Promise.all(r_(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:g,staggerDirection:h}=a;return Zk(t,e,u+l,g,h,n)}:()=>Promise.resolve(),{when:i}=a;if(i){const[l,u]=i==="beforeChildren"?[o,s]:[s,o];return l().then(()=>u())}else return Promise.all([o(),s(n.delay)])}function Zk(t,e,n=0,r=0,a=1,o){const s=[],i=(t.variantChildren.size-1)*r,l=a===1?(u=0)=>u*r:(u=0)=>i-u*r;return Array.from(t.variantChildren).sort(eE).forEach((u,g)=>{u.notify("AnimationStart",e),s.push(dp(u,e,{...o,delay:n+l(g)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function eE(t,e){return t.sortNodePosition(e)}function tE(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(o=>dp(t,o,n));r=Promise.all(a)}else if(typeof e=="string")r=dp(t,e,n);else{const a=typeof e=="function"?Rf(t,e,n.custom):e;r=Promise.all(r_(t,a,n))}return r.then(()=>t.notify("AnimationComplete",e))}const nE=[...Qm].reverse(),rE=Qm.length;function oE(t){return e=>Promise.all(e.map(({animation:n,options:r})=>tE(t,n,r)))}function iE(t){let e=oE(t);const n=aE();let r=!0;const a=(l,u)=>{const g=Rf(t,u);if(g){const{transition:h,transitionEnd:b,...w}=g;l={...l,...w,...b}}return l};function o(l){e=l(t)}function s(l,u){const g=t.getProps(),h=t.getVariantContext(!0)||{},b=[],w=new Set;let p={},d=1/0;for(let m=0;m<rE;m++){const c=nE[m],f=n[c],v=g[c]!==void 0?g[c]:h[c],_=Rl(v),S=c===u?f.isActive:null;S===!1&&(d=m);let E=v===h[c]&&v!==g[c]&&_;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),f.protectedKeys={...p},!f.isActive&&S===null||!v&&!f.prevProp||If(v)||typeof v=="boolean")continue;const x=sE(f.prevProp,v);let k=x||c===u&&f.isActive&&!E&&_||m>d&&_;const T=Array.isArray(v)?v:[v];let C=T.reduce(a,{});S===!1&&(C={});const{prevResolvedValues:M={}}=f,N={...M,...C},L=R=>{k=!0,w.delete(R),f.needsAnimating[R]=!0};for(const R in N){const D=C[R],z=M[R];p.hasOwnProperty(R)||(D!==z?Hu(D)&&Hu(z)?!O2(D,z)||x?L(R):f.protectedKeys[R]=!0:D!==void 0?L(R):w.add(R):D!==void 0&&w.has(R)?L(R):f.protectedKeys[R]=!0)}f.prevProp=v,f.prevResolvedValues=C,f.isActive&&(p={...p,...C}),r&&t.blockInitialAnimation&&(k=!1),k&&!E&&b.push(...T.map(R=>({animation:R,options:{type:c,...l}})))}if(w.size){const m={};w.forEach(c=>{const f=t.getBaseTarget(c);f!==void 0&&(m[c]=f)}),b.push({animation:m})}let y=!!b.length;return r&&g.initial===!1&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(b):Promise.resolve()}function i(l,u,g){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(w=>{var p;return(p=w.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const b=s(g,l);for(const w in n)n[w].protectedKeys={};return b}return{animateChanges:s,setActive:i,setAnimateFunction:o,getState:()=>n}}function sE(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!O2(e,t):!1}function Hi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aE(){return{animate:Hi(!0),whileInView:Hi(),whileHover:Hi(),whileTap:Hi(),whileDrag:Hi(),whileFocus:Hi(),exit:Hi()}}class lE extends Ri{constructor(e){super(e),e.animationState||(e.animationState=iE(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),If(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let cE=0;class uE extends Ri{constructor(){super(...arguments),this.id=cE++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const fE={animation:{Feature:lE},exit:{Feature:uE}},N0=(t,e)=>Math.abs(t-e);function dE(t,e){const n=N0(t.x,e.x),r=N0(t.y,e.y);return Math.sqrt(n**2+r**2)}class o_{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Ud(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,h=dE(u.offset,{x:0,y:0})>=3;if(!g&&!h)return;const{point:b}=u,{timestamp:w}=Qn;this.history.push({...b,timestamp:w});const{onStart:p,onMove:d}=this.handlers;g||(p&&p(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),d&&d(this.lastMoveEvent,u)},this.handlePointerMove=(u,g)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Dd(g,this.transformPagePoint),pn.update(this.updatePoint,!0)},this.handlePointerUp=(u,g)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:b}=this.handlers,w=Ud(u.type==="pointercancel"?this.lastMoveEventInfo:Dd(g,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,w),b&&b(u,w)},!_2(e))return;this.handlers=n,this.transformPagePoint=r;const a=$f(e),o=Dd(a,this.transformPagePoint),{point:s}=o,{timestamp:i}=Qn;this.history=[{...s,timestamp:i}];const{onSessionStart:l}=n;l&&l(e,Ud(o,this.history)),this.removeListeners=ki(Lo(window,"pointermove",this.handlePointerMove),Lo(window,"pointerup",this.handlePointerUp),Lo(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ho(this.updatePoint)}}function Dd(t,e){return e?{point:e(t.point)}:t}function $0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ud({point:t},e){return{point:t,delta:$0(t,i_(e)),offset:$0(t,hE(e)),velocity:pE(e,.1)}}function hE(t){return t[0]}function i_(t){return t[t.length-1]}function pE(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=i_(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>Ei(e)));)n--;if(!r)return{x:0,y:0};const o=Do(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ar(t){return t.max-t.min}function hp(t,e=0,n=.01){return Math.abs(t-e)<=n}function R0(t,e,n,r=.5){t.origin=r,t.originPoint=yn(e.min,e.max,t.origin),t.scale=Ar(n)/Ar(e),(hp(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=yn(n.min,n.max,t.origin)-t.originPoint,(hp(t.translate)||isNaN(t.translate))&&(t.translate=0)}function fl(t,e,n,r){R0(t.x,e.x,n.x,r?r.originX:void 0),R0(t.y,e.y,n.y,r?r.originY:void 0)}function L0(t,e,n){t.min=n.min+e.min,t.max=t.min+Ar(e)}function mE(t,e,n){L0(t.x,e.x,n.x),L0(t.y,e.y,n.y)}function D0(t,e,n){t.min=e.min-n.min,t.max=t.min+Ar(e)}function dl(t,e,n){D0(t.x,e.x,n.x),D0(t.y,e.y,n.y)}function yE(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?yn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?yn(n,t,r.max):Math.min(t,n)),t}function U0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function gE(t,{top:e,left:n,bottom:r,right:a}){return{x:U0(t.x,n,a),y:U0(t.y,e,r)}}function F0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function bE(t,e){return{x:F0(t.x,e.x),y:F0(t.y,e.y)}}function vE(t,e){let n=.5;const r=Ar(t),a=Ar(e);return a>r?n=Dl(e.min,e.max-r,t.min):r>a&&(n=Dl(t.min,t.max-a,e.min)),Pi(0,1,n)}function wE(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const pp=.35;function _E(t=pp){return t===!1?t=0:t===!0&&(t=pp),{x:V0(t,"left","right"),y:V0(t,"top","bottom")}}function V0(t,e,n){return{min:z0(t,e),max:z0(t,n)}}function z0(t,e){return typeof t=="number"?t:t[e]||0}const H0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Js=()=>({x:H0(),y:H0()}),q0=()=>({min:0,max:0}),An=()=>({x:q0(),y:q0()});function fo(t){return[t("x"),t("y")]}function s_({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function SE({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function xE(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Fd(t){return t===void 0||t===1}function mp({scale:t,scaleX:e,scaleY:n}){return!Fd(t)||!Fd(e)||!Fd(n)}function Ki(t){return mp(t)||a_(t)||t.z||t.rotate||t.rotateX||t.rotateY}function a_(t){return W0(t.x)||W0(t.y)}function W0(t){return t&&t!=="0%"}function Ju(t,e,n){const r=t-n,a=e*r;return n+a}function K0(t,e,n,r,a){return a!==void 0&&(t=Ju(t,a,r)),Ju(t,n,r)+e}function yp(t,e=0,n=1,r,a){t.min=K0(t.min,e,n,r,a),t.max=K0(t.max,e,n,r,a)}function l_(t,{x:e,y:n}){yp(t.x,e.translate,e.scale,e.originPoint),yp(t.y,n.translate,n.scale,n.originPoint)}function kE(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let o,s;for(let i=0;i<a;i++){o=n[i],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ys(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,l_(t,s)),r&&Ki(o.latestValues)&&Ys(t,o.latestValues))}e.x=G0(e.x),e.y=G0(e.y)}function G0(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function oi(t,e){t.min=t.min+e,t.max=t.max+e}function J0(t,e,[n,r,a]){const o=e[a]!==void 0?e[a]:.5,s=yn(t.min,t.max,o);yp(t,e[n],e[r],s,e.scale)}const EE=["x","scaleX","originX"],OE=["y","scaleY","originY"];function Ys(t,e){J0(t.x,e,EE),J0(t.y,e,OE)}function c_(t,e){return s_(xE(t.getBoundingClientRect(),e))}function AE(t,e,n){const r=c_(t,n),{scroll:a}=e;return a&&(oi(r.x,a.offset.x),oi(r.y,a.offset.y)),r}const TE=new WeakMap;class jE{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=An(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=l=>{this.stopAnimation(),n&&this.snapToCursor($f(l,"page").point)},o=(l,u)=>{const{drag:g,dragPropagation:h,onDragStart:b}=this.getProps();if(g&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=x2(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fo(p=>{let d=this.getAxisMotionValue(p).get()||0;if(yo.test(d)){const{projection:y}=this.visualElement;if(y&&y.layout){const m=y.layout.layoutBox[p];m&&(d=Ar(m)*(parseFloat(d)/100))}}this.originPoint[p]=d}),b&&pn.update(()=>b(l,u),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},s=(l,u)=>{const{dragPropagation:g,dragDirectionLock:h,onDirectionLock:b,onDrag:w}=this.getProps();if(!g&&!this.openGlobalLock)return;const{offset:p}=u;if(h&&this.currentDirection===null){this.currentDirection=CE(p),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",u.point,p),this.updateAxis("y",u.point,p),this.visualElement.render(),w&&w(l,u)},i=(l,u)=>this.stop(l,u);this.panSession=new o_(e,{onSessionStart:a,onStart:o,onMove:s,onSessionEnd:i},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&pn.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!Rc(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=yE(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},a=this.constraints;e&&Ks(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=gE(r.layoutBox,e):this.constraints=!1,this.elastic=_E(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&fo(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=wE(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ks(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=AE(r,a.root,this.visualElement.getTransformPagePoint());let s=bE(a.layout.layoutBox,o);if(n){const i=n(SE(s));this.hasMutatedConstraints=!!i,i&&(s=s_(i))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:i}=this.getProps(),l=this.constraints||{},u=fo(g=>{if(!Rc(g,n,this.currentDirection))return;let h=l&&l[g]||{};s&&(h={min:0,max:0});const b=a?200:1e6,w=a?40:1e7,p={type:"inertia",velocity:r?e[g]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(g,p)});return Promise.all(u).then(i)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(py(e,r,0,n))}stopAnimation(){fo(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fo(n=>{const{drag:r}=this.getProps();if(!Rc(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:s,max:i}=a.layout.layoutBox[n];o.set(e[n]-yn(s,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ks(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fo(s=>{const i=this.getAxisMotionValue(s);if(i){const l=i.get();a[s]=vE({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fo(s=>{if(!Rc(s,e,null))return;const i=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];i.set(yn(l,u,a[s]))})}addListeners(){if(!this.visualElement.current)return;TE.set(this.visualElement,this);const e=this.visualElement.current,n=Lo(e,"pointerdown",l=>{const{drag:u,dragListener:g=!0}=this.getProps();u&&g&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ks(l)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const s=Mo(window,"resize",()=>this.scalePositionWithinConstraints()),i=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(fo(g=>{const h=this.getAxisMotionValue(g);h&&(this.originPoint[g]+=l[g].translate,h.set(h.get()+l[g].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:s=pp,dragMomentum:i=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:s,dragMomentum:i}}}function Rc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function CE(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class PE extends Ri{constructor(e){super(e),this.removeGroupControls=jn,this.removeListeners=jn,this.controls=new jE(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Y0=t=>(e,n)=>{t&&pn.update(()=>t(e,n))};class ME extends Ri{constructor(){super(...arguments),this.removePointerDownListener=jn}onPointerDown(e){this.session=new o_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Y0(e),onStart:Y0(n),onMove:r,onEnd:(o,s)=>{delete this.session,a&&pn.update(()=>a(o,s))}}}mount(){this.removePointerDownListener=Lo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function IE(){const t=he.useContext(Pf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,a=he.useId();return he.useEffect(()=>r(a),[]),!e&&n?[!1,()=>n&&n(a)]:[!0]}const eu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function X0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Et.test(t))t=parseFloat(t);else return t;const n=X0(t,e.target.x),r=X0(t,e.target.y);return`${n}% ${r}%`}},BE={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=Mi.parse(t);if(a.length>5)return r;const o=Mi.createTransformer(t),s=typeof a[0]!="number"?1:0,i=n.x.scale*e.x,l=n.y.scale*e.y;a[0+s]/=i,a[1+s]/=l;const u=yn(i,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=u),typeof a[3+s]=="number"&&(a[3+s]/=u),o(a)}};class NE extends em.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=e;F8($E),o&&(n.group&&n.group.add(o),r&&r.register&&a&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),eu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,a||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||pn.postRender(()=>{const i=s.getStack();(!i||!i.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function u_(t){const[e,n]=IE(),r=he.useContext(ey);return em.createElement(NE,{...t,layoutGroup:r,switchLayoutGroup:he.useContext(s2),isPresent:e,safeToRemove:n})}const $E={borderRadius:{...qa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qa,borderTopRightRadius:qa,borderBottomLeftRadius:qa,borderBottomRightRadius:qa,boxShadow:BE},f_=["TopLeft","TopRight","BottomLeft","BottomRight"],RE=f_.length,Q0=t=>typeof t=="string"?parseFloat(t):t,Z0=t=>typeof t=="number"||Et.test(t);function LE(t,e,n,r,a,o){a?(t.opacity=yn(0,n.opacity!==void 0?n.opacity:1,DE(r)),t.opacityExit=yn(e.opacity!==void 0?e.opacity:1,0,UE(r))):o&&(t.opacity=yn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<RE;s++){const i=`border${f_[s]}Radius`;let l=eb(e,i),u=eb(n,i);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Z0(l)===Z0(u)?(t[i]=Math.max(yn(Q0(l),Q0(u),r),0),(yo.test(u)||yo.test(l))&&(t[i]+="%")):t[i]=u}(e.rotate||n.rotate)&&(t.rotate=yn(e.rotate||0,n.rotate||0,r))}function eb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const DE=d_(0,.5,uy),UE=d_(.5,.95,jn);function d_(t,e,n){return r=>r<t?0:r>e?1:n(Dl(t,e,r))}function tb(t,e){t.min=e.min,t.max=e.max}function Ir(t,e){tb(t.x,e.x),tb(t.y,e.y)}function nb(t,e,n,r,a){return t-=e,t=Ju(t,1/n,r),a!==void 0&&(t=Ju(t,1/a,r)),t}function FE(t,e=0,n=1,r=.5,a,o=t,s=t){if(yo.test(e)&&(e=parseFloat(e),e=yn(s.min,s.max,e/100)-s.min),typeof e!="number")return;let i=yn(o.min,o.max,r);t===o&&(i-=e),t.min=nb(t.min,e,n,i,a),t.max=nb(t.max,e,n,i,a)}function rb(t,e,[n,r,a],o,s){FE(t,e[n],e[r],e[a],e.scale,o,s)}const VE=["x","scaleX","originX"],zE=["y","scaleY","originY"];function ob(t,e,n,r){rb(t.x,e,VE,n?n.x:void 0,r?r.x:void 0),rb(t.y,e,zE,n?n.y:void 0,r?r.y:void 0)}function ib(t){return t.translate===0&&t.scale===1}function h_(t){return ib(t.x)&&ib(t.y)}function gp(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function sb(t){return Ar(t.x)/Ar(t.y)}class HE{constructor(){this.members=[]}add(e){my(this.members,e),e.scheduleRender()}remove(e){if(yy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ab(t,e,n){let r="";const a=t.x.translate/e.x,o=t.y.translate/e.y;if((a||o)&&(r=`translate3d(${a}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:g}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),g&&(r+=`rotateY(${g}deg) `)}const s=t.x.scale*e.x,i=t.y.scale*e.y;return(s!==1||i!==1)&&(r+=`scale(${s}, ${i})`),r||"none"}const qE=(t,e)=>t.depth-e.depth;class WE{constructor(){this.children=[],this.isDirty=!1}add(e){my(this.children,e),this.isDirty=!0}remove(e){yy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qE),this.isDirty=!1,this.children.forEach(e)}}function KE(t,e){const n=performance.now(),r=({timestamp:a})=>{const o=a-n;o>=e&&(Ho(r),t(o-e))};return pn.read(r,!0),()=>Ho(r)}function GE(t){window.MotionDebug&&window.MotionDebug.record(t)}function JE(t){return t instanceof SVGElement&&t.tagName!=="svg"}function YE(t,e,n){const r=wr(t)?t:da(t);return r.start(py("",r,e,n)),r.animation}const lb=["","X","Y","Z"],cb=1e3;let XE=0;const Gi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function p_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(s={},i=e==null?void 0:e()){this.id=XE++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Gi.totalNodes=Gi.resolvedTargetDeltas=Gi.recalculatedProjection=0,this.nodes.forEach(e7),this.nodes.forEach(i7),this.nodes.forEach(s7),this.nodes.forEach(t7),GE(Gi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=i?i.root||i:this,this.path=i?[...i.path,i]:[],this.parent=i,this.depth=i?i.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new WE)}addEventListener(s,i){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new gy),this.eventHandlers.get(s).add(i)}notifyListeners(s,...i){const l=this.eventHandlers.get(s);l&&l.notify(...i)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,i=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=JE(s),this.instance=s;const{layoutId:l,layout:u,visualElement:g}=this.options;if(g&&!g.current&&g.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),i&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const b=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=KE(b,250),eu.hasAnimatedSinceResize&&(eu.hasAnimatedSinceResize=!1,this.nodes.forEach(fb))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&g&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:b,hasRelativeTargetChanged:w,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const d=this.options.transition||g.getDefaultTransition()||f7,{onLayoutAnimationStart:y,onLayoutAnimationComplete:m}=g.getProps(),c=!this.targetLayout||!gp(this.targetLayout,p)||w,f=!b&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||f||b&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,f);const v={...e_(d,"layout"),onPlay:y,onComplete:m};(g.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else b||fb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ho(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(a7),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const h=this.path[g];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:i,layout:l}=this.options;if(i===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ub);return}this.isUpdating||this.nodes.forEach(r7),this.isUpdating=!1,this.nodes.forEach(o7),this.nodes.forEach(QE),this.nodes.forEach(ZE),this.clearAllSnapshots();const i=performance.now();Qn.delta=Pi(0,1e3/60,i-Qn.timestamp),Qn.timestamp=i,Qn.isProcessing=!0,Pd.update.process(Qn),Pd.preRender.process(Qn),Pd.render.process(Qn),Qn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(n7),this.sharedNodes.forEach(l7)}scheduleUpdateProjection(){pn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){pn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=An(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:i}=this.options;i&&i.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let i=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(i=!1),i&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform,i=this.projectionDelta&&!h_(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,g=u!==this.prevTransformTemplateValue;s&&(i||Ki(this.latestValues)||g)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const i=this.measurePageBox();let l=this.removeElementScroll(i);return s&&(l=this.removeTransform(l)),h7(l),{animationId:this.root.animationId,measuredBox:i,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return An();const i=s.measureViewportBox(),{scroll:l}=this.root;return l&&(oi(i.x,l.offset.x),oi(i.y,l.offset.y)),i}removeElementScroll(s){const i=An();Ir(i,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:g,options:h}=u;if(u!==this.root&&g&&h.layoutScroll){if(g.isRoot){Ir(i,s);const{scroll:b}=this.root;b&&(oi(i.x,-b.offset.x),oi(i.y,-b.offset.y))}oi(i.x,g.offset.x),oi(i.y,g.offset.y)}}return i}applyTransform(s,i=!1){const l=An();Ir(l,s);for(let u=0;u<this.path.length;u++){const g=this.path[u];!i&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ys(l,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ki(g.latestValues)&&Ys(l,g.latestValues)}return Ki(this.latestValues)&&Ys(l,this.latestValues),l}removeTransform(s){const i=An();Ir(i,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ki(u.latestValues))continue;mp(u.latestValues)&&u.updateSnapshot();const g=An(),h=u.measurePageBox();Ir(g,h),ob(i,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,g)}return Ki(this.latestValues)&&ob(i,this.latestValues),i}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var i;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:b}=this.options;if(!(!this.layout||!(h||b))){if(this.resolvedRelativeTargetAt=Qn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=An(),this.relativeTargetOrigin=An(),dl(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=An(),this.targetWithTransforms=An()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ir(this.target,this.layout.layoutBox),l_(this.target,this.targetDelta)):Ir(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=An(),this.relativeTargetOrigin=An(),dl(this.relativeTargetOrigin,this.target,w.target),Ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Gi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||mp(this.parent.latestValues)||a_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Qn.timestamp&&(u=!1),u)return;const{layout:g,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||h))return;Ir(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;kE(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox);const{target:p}=i;if(!p){this.projectionTransform&&(this.projectionDelta=Js(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Js(),this.projectionDeltaWithTransform=Js());const d=this.projectionTransform;fl(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=ab(this.projectionDelta,this.treeScale),(this.projectionTransform!==d||this.treeScale.x!==b||this.treeScale.y!==w)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Gi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const i=this.getStack();i&&i.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,i=!1){const l=this.snapshot,u=l?l.latestValues:{},g={...this.latestValues},h=Js();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!i;const b=An(),w=l?l.source:void 0,p=this.layout?this.layout.source:void 0,d=w!==p,y=this.getStack(),m=!y||y.members.length<=1,c=!!(d&&!m&&this.options.crossfade===!0&&!this.path.some(u7));this.animationProgress=0;let f;this.mixTargetDelta=v=>{const _=v/1e3;db(h.x,s.x,_),db(h.y,s.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dl(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),c7(this.relativeTarget,this.relativeTargetOrigin,b,_),f&&gp(this.relativeTarget,f)&&(this.isProjectionDirty=!1),f||(f=An()),Ir(f,this.relativeTarget)),d&&(this.animationValues=g,LE(g,u,this.latestValues,_,c,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ho(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pn.update(()=>{eu.hasAnimatedSinceResize=!0,this.currentAnimation=YE(0,cb,{...s,onUpdate:i=>{this.mixTargetDelta(i),s.onUpdate&&s.onUpdate(i)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:i,target:l,layout:u,latestValues:g}=s;if(!(!i||!l||!u)){if(this!==s&&this.layout&&u&&m_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||An();const h=Ar(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+h;const b=Ar(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+b}Ir(i,l),Ys(i,g),fl(this.projectionDeltaWithTransform,this.layoutCorrected,i,g)}}registerSharedNode(s,i){this.sharedNodes.has(s)||this.sharedNodes.set(s,new HE),this.sharedNodes.get(s).add(i);const u=i.options.initialPromotionConfig;i.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(i):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:i}=this.options;return i?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:i}=this.options;return i?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:i,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),i&&this.setOptions({transition:i})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let i=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(i=!0),!i)return;const u={};for(let g=0;g<lb.length;g++){const h="rotate"+lb[g];l[h]&&(u[h]=l[h],s.setStaticValue(h,0))}s.render();for(const g in u)s.setStaticValue(g,u[g]);s.scheduleRender()}getProjectionStyles(s={}){var i,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Zc(s.pointerEvents)||"",u.transform=g?g(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const d={};return this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Zc(s.pointerEvents)||""),this.hasProjected&&!Ki(this.latestValues)&&(d.transform=g?g({},""):"none",this.hasProjected=!1),d}const b=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=ab(this.projectionDeltaWithTransform,this.treeScale,b),g&&(u.transform=g(b,u.transform));const{x:w,y:p}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${p.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(i=b.opacity)!==null&&i!==void 0?i:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:u.opacity=h===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const d in Vu){if(b[d]===void 0)continue;const{correct:y,applyTo:m}=Vu[d],c=u.transform==="none"?b[d]:y(b[d],h);if(m){const f=m.length;for(let v=0;v<f;v++)u[m[v]]=c}else u[d]=c}return this.options.layoutId&&(u.pointerEvents=h===this?Zc(s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var i;return(i=s.currentAnimation)===null||i===void 0?void 0:i.stop()}),this.root.nodes.forEach(ub),this.root.sharedNodes.clear()}}}function QE(t){t.updateLayout()}function ZE(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?fo(h=>{const b=s?n.measuredBox[h]:n.layoutBox[h],w=Ar(b);b.min=r[h].min,b.max=b.min+w}):m_(o,n.layoutBox,r)&&fo(h=>{const b=s?n.measuredBox[h]:n.layoutBox[h],w=Ar(r[h]);b.max=b.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+w)});const i=Js();fl(i,r,n.layoutBox);const l=Js();s?fl(l,t.applyTransform(a,!0),n.measuredBox):fl(l,r,n.layoutBox);const u=!h_(i);let g=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:b,layout:w}=h;if(b&&w){const p=An();dl(p,n.layoutBox,b.layoutBox);const d=An();dl(d,r,w.layoutBox),gp(p,d)||(g=!0),h.options.layoutRoot&&(t.relativeTarget=d,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:i,hasLayoutChanged:u,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function e7(t){Gi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function t7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function n7(t){t.clearSnapshot()}function ub(t){t.clearMeasurements()}function r7(t){t.isLayoutDirty=!1}function o7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function i7(t){t.resolveTargetDelta()}function s7(t){t.calcProjection()}function a7(t){t.resetRotation()}function l7(t){t.removeLeadSnapshot()}function db(t,e,n){t.translate=yn(e.translate,0,n),t.scale=yn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function hb(t,e,n,r){t.min=yn(e.min,n.min,r),t.max=yn(e.max,n.max,r)}function c7(t,e,n,r){hb(t.x,e.x,n.x,r),hb(t.y,e.y,n.y,r)}function u7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const f7={duration:.45,ease:[.4,0,.1,1]};let Yu;const d7=()=>navigator.userAgent.toLowerCase().includes("applewebkit/");function pb(t){t.min=Yu(t.min),t.max=Yu(t.max)}function h7(t){Yu||(Yu=d7()?Math.round:e=>Math.round(e*2)/2),pb(t.x),pb(t.y)}function m_(t,e,n){return t==="position"||t==="preserve-aspect"&&!hp(sb(e),sb(n),.2)}const p7=p_({attachResizeListener:(t,e)=>Mo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vd={current:void 0},y_=p_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vd.current){const t=new p7({});t.mount(window),t.setOptions({layoutScroll:!0}),Vd.current=t}return Vd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),m7={pan:{Feature:ME},drag:{Feature:PE,ProjectionNode:y_,MeasureLayout:u_}},y7=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function g7(t){const e=y7.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function bp(t,e,n=1){const[r,a]=g7(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);return o?o.trim():sp(a)?bp(a,e,n+1):a}function b7(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(a=>{const o=a.get();if(!sp(o))return;const s=bp(o,r);s&&a.set(s)});for(const a in e){const o=e[a];if(!sp(o))continue;const s=bp(o,r);s&&(e[a]=s,n||(n={}),n[a]===void 0&&(n[a]=o))}return{target:e,transitionEnd:n}}const v7=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),g_=t=>v7.has(t),w7=t=>Object.keys(t).some(g_),mb=t=>t===xs||t===Et,yb=(t,e)=>parseFloat(t.split(", ")[e]),gb=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return yb(a[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?yb(o[1],t):0}},_7=new Set(["x","y","z"]),S7=Yl.filter(t=>!_7.has(t));function x7(t){const e=[];return S7.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const ha={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:gb(4,13),y:gb(5,14)};ha.translateX=ha.x;ha.translateY=ha.y;const k7=(t,e,n)=>{const r=e.measureViewportBox(),a=e.current,o=getComputedStyle(a),{display:s}=o,i={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{i[u]=ha[u](r,o)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const g=e.getValue(u);g&&g.jump(i[u]),t[u]=ha[u](l,o)}),t},E7=(t,e,n={},r={})=>{e={...e},r={...r};const a=Object.keys(e).filter(g_);let o=[],s=!1;const i=[];if(a.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let g=n[l],h=Ha(g);const b=e[l];let w;if(Hu(b)){const p=b.length,d=b[0]===null?1:0;g=b[d],h=Ha(g);for(let y=d;y<p&&b[y]!==null;y++)w?cy(Ha(b[y])===w):w=Ha(b[y])}else w=Ha(b);if(h!==w)if(mb(h)&&mb(w)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof b=="string"?e[l]=parseFloat(b):Array.isArray(b)&&w===Et&&(e[l]=b.map(parseFloat))}else h!=null&&h.transform&&(w!=null&&w.transform)&&(g===0||b===0)?g===0?u.set(w.transform(g)):e[l]=h.transform(b):(s||(o=x7(t),s=!0),i.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(b))}),i.length){const l=i.indexOf("height")>=0?window.pageYOffset:null,u=k7(e,t,i);return o.length&&o.forEach(([g,h])=>{t.getValue(g).set(h)}),t.render(),Mf&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function O7(t,e,n,r){return w7(e)?E7(t,e,n,r):{target:e,transitionEnd:r}}const A7=(t,e,n,r)=>{const a=b7(t,e,r);return e=a.target,r=a.transitionEnd,O7(t,e,n,r)},vp={current:null},b_={current:!1};function T7(){if(b_.current=!0,!!Mf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vp.current=t.matches;t.addListener(e),e()}else vp.current=!1}function j7(t,e,n){const{willChange:r}=e;for(const a in e){const o=e[a],s=n[a];if(wr(o))t.addValue(a,o),Gu(r)&&r.add(a);else if(wr(s))t.addValue(a,da(o,{owner:t})),Gu(r)&&r.remove(a);else if(s!==o)if(t.hasValue(a)){const i=t.getValue(a);!i.hasAnimated&&i.set(o)}else{const i=t.getStaticValue(a);t.addValue(a,da(i!==void 0?i:o,{owner:t}))}}for(const a in n)e[a]===void 0&&t.removeValue(a);return e}const bb=new WeakMap,v_=Object.keys(Ll),C7=v_.length,vb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],P7=Zm.length;class M7{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>pn.render(this.render,!1,!0);const{latestValues:i,renderState:l}=o;this.latestValues=i,this.baseTarget={...i},this.initialValues=n.initial?{...i}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=s,this.isControllingVariants=Bf(n),this.isVariantNode=i2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...g}=this.scrapeMotionValuesFromProps(n,{});for(const h in g){const b=g[h];i[h]!==void 0&&wr(b)&&(b.set(i[h],!1),Gu(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,bb.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),b_.current||T7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){bb.delete(this.current),this.projection&&this.projection.unmount(),Ho(this.notifyUpdate),Ho(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ss.has(e),a=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&pn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{a(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,a,o){let s,i;for(let l=0;l<C7;l++){const u=v_[l],{isEnabled:g,Feature:h,ProjectionNode:b,MeasureLayout:w}=Ll[u];b&&(s=b),g(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),w&&(i=w))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:g,dragConstraints:h,layoutScroll:b,layoutRoot:w}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!g||h&&Ks(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:b,layoutRoot:w})}return i}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):An()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<vb.length;r++){const a=vb[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o=e["on"+a];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=j7(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<P7;r++){const a=Zm[r],o=this.props[a];(Rl(o)||o===!1)&&(n[a]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=da(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(n=ly(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!wr(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new gy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class w_ extends M7{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:a},o){let s=Xk(r,e||{},this);if(a&&(n&&(n=a(n)),r&&(r=a(r)),s&&(s=a(s))),o){Jk(this,r,s);const i=A7(this,r,s,n);n=i.transitionEnd,r=i.target}return{transition:e,transitionEnd:n,...r}}}function I7(t){return window.getComputedStyle(t)}class B7 extends w_{readValueFromInstance(e,n){if(Ss.has(n)){const r=hy(n);return r&&r.default||0}else{const r=I7(e),a=(c2(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return c_(e,n)}build(e,n,r,a){ny(e,n,r,a.transformTemplate)}scrapeMotionValuesFromProps(e,n){return ay(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,a){m2(e,n,r,a)}}class N7 extends w_{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ss.has(n)){const r=hy(n);return r&&r.default||0}return n=y2.has(n)?n:sy(n),e.getAttribute(n)}measureInstanceViewportBox(){return An()}scrapeMotionValuesFromProps(e,n){return b2(e,n)}build(e,n,r,a){oy(e,n,r,this.isSVGTag,a.transformTemplate)}renderInstance(e,n,r,a){g2(e,n,r,a)}mount(e){this.isSVGTag=iy(e.tagName),super.mount(e)}}const $7=(t,e)=>ty(t)?new N7(e,{enableHardwareAcceleration:!1}):new B7(e,{enableHardwareAcceleration:!0}),R7={layout:{ProjectionNode:y_,MeasureLayout:u_}},L7={...fE,...C5,...m7,...R7},D7=D8((t,e)=>p5(t,e,L7,$7));function __(){const t=he.useRef(!1);return Fu(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function U7(){const t=__(),[e,n]=he.useState(0),r=he.useCallback(()=>{t.current&&n(e+1)},[e]);return[he.useCallback(()=>pn.postRender(r),[r]),e]}class F7 extends he.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function V7({children:t,isPresent:e}){const n=he.useId(),r=he.useRef(null),a=he.useRef({width:0,height:0,top:0,left:0});return he.useInsertionEffect(()=>{const{width:o,height:s,top:i,left:l}=a.current;if(e||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${i}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),he.createElement(F7,{isPresent:e,childRef:r,sizeRef:a},he.cloneElement(t,{ref:r}))}const zd=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:s})=>{const i=v2(z7),l=he.useId(),u=he.useMemo(()=>({id:l,initial:e,isPresent:n,custom:a,onExitComplete:g=>{i.set(g,!0);for(const h of i.values())if(!h)return;r&&r()},register:g=>(i.set(g,!1),()=>i.delete(g))}),o?void 0:[n]);return he.useMemo(()=>{i.forEach((g,h)=>i.set(h,!1))},[n]),he.useEffect(()=>{!n&&!i.size&&r&&r()},[n]),s==="popLayout"&&(t=he.createElement(V7,{isPresent:n},t)),he.createElement(Pf.Provider,{value:u},t)};function z7(){return new Map}function H7(t){return he.useEffect(()=>()=>t(),[])}const Ps=t=>t.key||"";function q7(t,e){t.forEach(n=>{const r=Ps(n);e.set(r,n)})}function W7(t){const e=[];return he.Children.forEach(t,n=>{he.isValidElement(n)&&e.push(n)}),e}const K7=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:a,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const i=he.useContext(ey).forceRender||U7()[0],l=__(),u=W7(t);let g=u;const h=he.useRef(new Map).current,b=he.useRef(g),w=he.useRef(new Map).current,p=he.useRef(!0);if(Fu(()=>{p.current=!1,q7(u,w),b.current=g}),H7(()=>{p.current=!0,w.clear(),h.clear()}),p.current)return he.createElement(he.Fragment,null,g.map(c=>he.createElement(zd,{key:Ps(c),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},c)));g=[...g];const d=b.current.map(Ps),y=u.map(Ps),m=d.length;for(let c=0;c<m;c++){const f=d[c];y.indexOf(f)===-1&&!h.has(f)&&h.set(f,void 0)}return s==="wait"&&h.size&&(g=[]),h.forEach((c,f)=>{if(y.indexOf(f)!==-1)return;const v=w.get(f);if(!v)return;const _=d.indexOf(f);let S=c;if(!S){const E=()=>{w.delete(f),h.delete(f);const x=b.current.findIndex(k=>k.key===f);if(b.current.splice(x,1),!h.size){if(b.current=u,l.current===!1)return;i(),r&&r()}};S=he.createElement(zd,{key:Ps(v),isPresent:!1,onExitComplete:E,custom:e,presenceAffectsLayout:o,mode:s},v),h.set(f,S)}g.splice(_,0,S)}),g=g.map(c=>{const f=c.key;return h.has(f)?c:he.createElement(zd,{key:Ps(c),isPresent:!0,presenceAffectsLayout:o,mode:s},c)}),he.createElement(he.Fragment,null,h.size?g:g.map(c=>he.cloneElement(c)))},Cn=({children:t,keyValue:e,initial:n={opacity:0},animate:r={opacity:1},transition:a={duration:.35},className:o})=>J.jsx(K7,{children:J.jsx(D7.div,{initial:n,animate:r,transition:a,className:o,children:t},e)}),Xu=(t,e)=>{sessionStorage.setItem(t,e)},wb=t=>sessionStorage.getItem(t),G7=t=>sessionStorage.removeItem(t),J7=()=>{const{userAuth:{username:t},setUserAuth:e}=he.useContext(Mn),n=()=>{G7("user"),e({access_token:null})};return J.jsx(Cn,{transition:{duration:.2},className:"absolute right-0 z-50",children:J.jsxs("div",{className:"bg-white -absolute right-0 border border-grey w-60 duration-200",children:[J.jsxs(Xt,{to:"editor",className:"flex gap-2 link md:hidden pl-8 py-4",children:[J.jsx("i",{className:"fi fi-rr-file-edit"}),J.jsx("p",{children:"Write"})]}),J.jsx(Xt,{to:`/user/${t}`,className:"link pl-8 py-4",children:"Profile"}),J.jsx(Xt,{to:"/dashboard/blogs",className:"link pl-8 py-4",children:"Dashboard"}),J.jsx(Xt,{to:"/settings/edit-profile",className:"link pl-8 py-4",children:"Settings"}),J.jsx("span",{className:"absolute border-t border-grey w-[100%]"}),J.jsxs("button",{className:"text-left p-4 hover:bg-grey w-full pl-8 py-4",onClick:n,children:[J.jsx("h1",{className:"font-bold text-xl mg-1",children:"Sign Out"}),J.jsxs("p",{className:"text-dark-grey",children:["@",t]})]})]})})};function S_(t,e){return function(){return t.apply(e,arguments)}}const{toString:Y7}=Object.prototype,{getPrototypeOf:by}=Object,Lf=(t=>e=>{const n=Y7.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ro=t=>(t=t.toLowerCase(),e=>Lf(e)===t),Df=t=>e=>typeof e===t,{isArray:Ea}=Array,Ul=Df("undefined");function X7(t){return t!==null&&!Ul(t)&&t.constructor!==null&&!Ul(t.constructor)&&Dr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const x_=ro("ArrayBuffer");function Q7(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&x_(t.buffer),e}const Z7=Df("string"),Dr=Df("function"),k_=Df("number"),Uf=t=>t!==null&&typeof t=="object",e9=t=>t===!0||t===!1,tu=t=>{if(Lf(t)!=="object")return!1;const e=by(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},t9=ro("Date"),n9=ro("File"),r9=ro("Blob"),o9=ro("FileList"),i9=t=>Uf(t)&&Dr(t.pipe),s9=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Dr(t.append)&&((e=Lf(t))==="formdata"||e==="object"&&Dr(t.toString)&&t.toString()==="[object FormData]"))},a9=ro("URLSearchParams"),[l9,c9,u9,f9]=["ReadableStream","Request","Response","Headers"].map(ro),d9=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ec(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),Ea(t))for(r=0,a=t.length;r<a;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let i;for(r=0;r<s;r++)i=o[r],e.call(null,t[i],i,t)}}function E_(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,a;for(;r-- >0;)if(a=n[r],e===a.toLowerCase())return a;return null}const O_=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),A_=t=>!Ul(t)&&t!==O_;function wp(){const{caseless:t}=A_(this)&&this||{},e={},n=(r,a)=>{const o=t&&E_(e,a)||a;tu(e[o])&&tu(r)?e[o]=wp(e[o],r):tu(r)?e[o]=wp({},r):Ea(r)?e[o]=r.slice():e[o]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&ec(arguments[r],n);return e}const h9=(t,e,n,{allOwnKeys:r}={})=>(ec(e,(a,o)=>{n&&Dr(a)?t[o]=S_(a,n):t[o]=a},{allOwnKeys:r}),t),p9=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),m9=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},y9=(t,e,n,r)=>{let a,o,s;const i={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),o=a.length;o-- >0;)s=a[o],(!r||r(s,t,e))&&!i[s]&&(e[s]=t[s],i[s]=!0);t=n!==!1&&by(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},g9=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},b9=t=>{if(!t)return null;if(Ea(t))return t;let e=t.length;if(!k_(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},v9=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&by(Uint8Array)),w9=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let a;for(;(a=r.next())&&!a.done;){const o=a.value;e.call(t,o[0],o[1])}},_9=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},S9=ro("HTMLFormElement"),x9=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),_b=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),k9=ro("RegExp"),T_=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ec(n,(a,o)=>{let s;(s=e(a,o,t))!==!1&&(r[o]=s||a)}),Object.defineProperties(t,r)},E9=t=>{T_(t,(e,n)=>{if(Dr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Dr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},O9=(t,e)=>{const n={},r=a=>{a.forEach(o=>{n[o]=!0})};return Ea(t)?r(t):r(String(t).split(e)),n},A9=()=>{},T9=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Hd="abcdefghijklmnopqrstuvwxyz",Sb="0123456789",j_={DIGIT:Sb,ALPHA:Hd,ALPHA_DIGIT:Hd+Hd.toUpperCase()+Sb},j9=(t=16,e=j_.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function C9(t){return!!(t&&Dr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const P9=t=>{const e=new Array(10),n=(r,a)=>{if(Uf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[a]=r;const o=Ea(r)?[]:{};return ec(r,(s,i)=>{const l=n(s,a+1);!Ul(l)&&(o[i]=l)}),e[a]=void 0,o}}return r};return n(t,0)},M9=ro("AsyncFunction"),I9=t=>t&&(Uf(t)||Dr(t))&&Dr(t.then)&&Dr(t.catch),Ne={isArray:Ea,isArrayBuffer:x_,isBuffer:X7,isFormData:s9,isArrayBufferView:Q7,isString:Z7,isNumber:k_,isBoolean:e9,isObject:Uf,isPlainObject:tu,isReadableStream:l9,isRequest:c9,isResponse:u9,isHeaders:f9,isUndefined:Ul,isDate:t9,isFile:n9,isBlob:r9,isRegExp:k9,isFunction:Dr,isStream:i9,isURLSearchParams:a9,isTypedArray:v9,isFileList:o9,forEach:ec,merge:wp,extend:h9,trim:d9,stripBOM:p9,inherits:m9,toFlatObject:y9,kindOf:Lf,kindOfTest:ro,endsWith:g9,toArray:b9,forEachEntry:w9,matchAll:_9,isHTMLForm:S9,hasOwnProperty:_b,hasOwnProp:_b,reduceDescriptors:T_,freezeMethods:E9,toObjectSet:O9,toCamelCase:x9,noop:A9,toFiniteNumber:T9,findKey:E_,global:O_,isContextDefined:A_,ALPHABET:j_,generateString:j9,isSpecCompliantForm:C9,toJSONObject:P9,isAsyncFn:M9,isThenable:I9};function Bt(t,e,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a)}Ne.inherits(Bt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ne.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const C_=Bt.prototype,P_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{P_[t]={value:t}});Object.defineProperties(Bt,P_);Object.defineProperty(C_,"isAxiosError",{value:!0});Bt.from=(t,e,n,r,a,o)=>{const s=Object.create(C_);return Ne.toFlatObject(t,s,function(l){return l!==Error.prototype},i=>i!=="isAxiosError"),Bt.call(s,t.message,e,n,r,a),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const B9=null;function _p(t){return Ne.isPlainObject(t)||Ne.isArray(t)}function M_(t){return Ne.endsWith(t,"[]")?t.slice(0,-2):t}function xb(t,e,n){return t?t.concat(e).map(function(a,o){return a=M_(a),!n&&o?"["+a+"]":a}).join(n?".":""):e}function N9(t){return Ne.isArray(t)&&!t.some(_p)}const $9=Ne.toFlatObject(Ne,{},null,function(e){return/^is[A-Z]/.test(e)});function Ff(t,e,n){if(!Ne.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ne.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,y){return!Ne.isUndefined(y[d])});const r=n.metaTokens,a=n.visitor||g,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ne.isSpecCompliantForm(e);if(!Ne.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(Ne.isDate(p))return p.toISOString();if(!l&&Ne.isBlob(p))throw new Bt("Blob is not supported. Use a Buffer instead.");return Ne.isArrayBuffer(p)||Ne.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function g(p,d,y){let m=p;if(p&&!y&&typeof p=="object"){if(Ne.endsWith(d,"{}"))d=r?d:d.slice(0,-2),p=JSON.stringify(p);else if(Ne.isArray(p)&&N9(p)||(Ne.isFileList(p)||Ne.endsWith(d,"[]"))&&(m=Ne.toArray(p)))return d=M_(d),m.forEach(function(f,v){!(Ne.isUndefined(f)||f===null)&&e.append(s===!0?xb([d],v,o):s===null?d:d+"[]",u(f))}),!1}return _p(p)?!0:(e.append(xb(y,d,o),u(p)),!1)}const h=[],b=Object.assign($9,{defaultVisitor:g,convertValue:u,isVisitable:_p});function w(p,d){if(!Ne.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+d.join("."));h.push(p),Ne.forEach(p,function(m,c){(!(Ne.isUndefined(m)||m===null)&&a.call(e,m,Ne.isString(c)?c.trim():c,d,b))===!0&&w(m,d?d.concat(c):[c])}),h.pop()}}if(!Ne.isObject(t))throw new TypeError("data must be an object");return w(t),e}function kb(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function vy(t,e){this._pairs=[],t&&Ff(t,this,e)}const I_=vy.prototype;I_.append=function(e,n){this._pairs.push([e,n])};I_.toString=function(e){const n=e?function(r){return e.call(this,r,kb)}:kb;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function R9(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function B_(t,e,n){if(!e)return t;const r=n&&n.encode||R9,a=n&&n.serialize;let o;if(a?o=a(e,n):o=Ne.isURLSearchParams(e)?e.toString():new vy(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class L9{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ne.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Eb=L9,N_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},D9=typeof URLSearchParams<"u"?URLSearchParams:vy,U9=typeof FormData<"u"?FormData:null,F9=typeof Blob<"u"?Blob:null,V9={isBrowser:!0,classes:{URLSearchParams:D9,FormData:U9,Blob:F9},protocols:["http","https","file","blob","url","data"]},wy=typeof window<"u"&&typeof document<"u",z9=(t=>wy&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),H9=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),q9=wy&&window.location.href||"http://localhost",W9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wy,hasStandardBrowserEnv:z9,hasStandardBrowserWebWorkerEnv:H9,origin:q9},Symbol.toStringTag,{value:"Module"})),Zr={...W9,...V9};function K9(t,e){return Ff(t,new Zr.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,o){return Zr.isNode&&Ne.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function G9(t){return Ne.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function J9(t){const e={},n=Object.keys(t);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],e[o]=t[o];return e}function $_(t){function e(n,r,a,o){let s=n[o++];if(s==="__proto__")return!0;const i=Number.isFinite(+s),l=o>=n.length;return s=!s&&Ne.isArray(a)?a.length:s,l?(Ne.hasOwnProp(a,s)?a[s]=[a[s],r]:a[s]=r,!i):((!a[s]||!Ne.isObject(a[s]))&&(a[s]=[]),e(n,r,a[s],o)&&Ne.isArray(a[s])&&(a[s]=J9(a[s])),!i)}if(Ne.isFormData(t)&&Ne.isFunction(t.entries)){const n={};return Ne.forEachEntry(t,(r,a)=>{e(G9(r),a,n,0)}),n}return null}function Y9(t,e,n){if(Ne.isString(t))try{return(e||JSON.parse)(t),Ne.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const _y={transitional:N_,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,o=Ne.isObject(e);if(o&&Ne.isHTMLForm(e)&&(e=new FormData(e)),Ne.isFormData(e))return a?JSON.stringify($_(e)):e;if(Ne.isArrayBuffer(e)||Ne.isBuffer(e)||Ne.isStream(e)||Ne.isFile(e)||Ne.isBlob(e)||Ne.isReadableStream(e))return e;if(Ne.isArrayBufferView(e))return e.buffer;if(Ne.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return K9(e,this.formSerializer).toString();if((i=Ne.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ff(i?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||a?(n.setContentType("application/json",!1),Y9(e)):e}],transformResponse:[function(e){const n=this.transitional||_y.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(Ne.isResponse(e)||Ne.isReadableStream(e))return e;if(e&&Ne.isString(e)&&(r&&!this.responseType||a)){const s=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(i){if(s)throw i.name==="SyntaxError"?Bt.from(i,Bt.ERR_BAD_RESPONSE,this,null,this.response):i}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zr.classes.FormData,Blob:Zr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ne.forEach(["delete","get","head","post","put","patch"],t=>{_y.headers[t]={}});const Sy=_y,X9=Ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Q9=t=>{const e={};let n,r,a;return t&&t.split(`
`).forEach(function(s){a=s.indexOf(":"),n=s.substring(0,a).trim().toLowerCase(),r=s.substring(a+1).trim(),!(!n||e[n]&&X9[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Ob=Symbol("internals");function Wa(t){return t&&String(t).trim().toLowerCase()}function nu(t){return t===!1||t==null?t:Ne.isArray(t)?t.map(nu):String(t)}function Z9(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const eO=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function qd(t,e,n,r,a){if(Ne.isFunction(r))return r.call(this,e,n);if(a&&(e=n),!!Ne.isString(e)){if(Ne.isString(r))return e.indexOf(r)!==-1;if(Ne.isRegExp(r))return r.test(e)}}function tO(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function nO(t,e){const n=Ne.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(a,o,s){return this[r].call(this,e,a,o,s)},configurable:!0})})}class Vf{constructor(e){e&&this.set(e)}set(e,n,r){const a=this;function o(i,l,u){const g=Wa(l);if(!g)throw new Error("header name must be a non-empty string");const h=Ne.findKey(a,g);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||l]=nu(i))}const s=(i,l)=>Ne.forEach(i,(u,g)=>o(u,g,l));if(Ne.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(Ne.isString(e)&&(e=e.trim())&&!eO(e))s(Q9(e),n);else if(Ne.isHeaders(e))for(const[i,l]of e.entries())o(l,i,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=Wa(e),e){const r=Ne.findKey(this,e);if(r){const a=this[r];if(!n)return a;if(n===!0)return Z9(a);if(Ne.isFunction(n))return n.call(this,a,r);if(Ne.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Wa(e),e){const r=Ne.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||qd(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let a=!1;function o(s){if(s=Wa(s),s){const i=Ne.findKey(r,s);i&&(!n||qd(r,r[i],i,n))&&(delete r[i],a=!0)}}return Ne.isArray(e)?e.forEach(o):o(e),a}clear(e){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const o=n[r];(!e||qd(this,this[o],o,e,!0))&&(delete this[o],a=!0)}return a}normalize(e){const n=this,r={};return Ne.forEach(this,(a,o)=>{const s=Ne.findKey(r,o);if(s){n[s]=nu(a),delete n[o];return}const i=e?tO(o):String(o).trim();i!==o&&delete n[o],n[i]=nu(a),r[i]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ne.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=e&&Ne.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[Ob]=this[Ob]={accessors:{}}).accessors,a=this.prototype;function o(s){const i=Wa(s);r[i]||(nO(a,s),r[i]=!0)}return Ne.isArray(e)?e.forEach(o):o(e),this}}Vf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ne.reduceDescriptors(Vf.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ne.freezeMethods(Vf);const eo=Vf;function Wd(t,e){const n=this||Sy,r=e||n,a=eo.from(r.headers);let o=r.data;return Ne.forEach(t,function(i){o=i.call(n,o,a.normalize(),e?e.status:void 0)}),a.normalize(),o}function R_(t){return!!(t&&t.__CANCEL__)}function Oa(t,e,n){Bt.call(this,t??"canceled",Bt.ERR_CANCELED,e,n),this.name="CanceledError"}Ne.inherits(Oa,Bt,{__CANCEL__:!0});function L_(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Bt("Request failed with status code "+n.status,[Bt.ERR_BAD_REQUEST,Bt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function rO(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function oO(t,e){t=t||10;const n=new Array(t),r=new Array(t);let a=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),g=r[o];s||(s=u),n[a]=l,r[a]=u;let h=o,b=0;for(;h!==a;)b+=n[h++],h=h%t;if(a=(a+1)%t,a===o&&(o=(o+1)%t),u-s<e)return;const w=g&&u-g;return w?Math.round(b*1e3/w):void 0}}function iO(t,e){let n=0;const r=1e3/e;let a=null;return function(){const s=this===!0,i=Date.now();if(s||i-n>r)return a&&(clearTimeout(a),a=null),n=i,t.apply(null,arguments);a||(a=setTimeout(()=>(a=null,n=Date.now(),t.apply(null,arguments)),r-(i-n)))}}const Qu=(t,e,n=3)=>{let r=0;const a=oO(50,250);return iO(o=>{const s=o.loaded,i=o.lengthComputable?o.total:void 0,l=s-r,u=a(l),g=s<=i;r=s;const h={loaded:s,total:i,progress:i?s/i:void 0,bytes:l,rate:u||void 0,estimated:u&&i&&g?(i-s)/u:void 0,event:o,lengthComputable:i!=null};h[e?"download":"upload"]=!0,t(h)},n)},sO=Zr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function a(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=a(window.location.href),function(s){const i=Ne.isString(s)?a(s):s;return i.protocol===r.protocol&&i.host===r.host}}():function(){return function(){return!0}}(),aO=Zr.hasStandardBrowserEnv?{write(t,e,n,r,a,o){const s=[t+"="+encodeURIComponent(e)];Ne.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Ne.isString(r)&&s.push("path="+r),Ne.isString(a)&&s.push("domain="+a),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lO(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function cO(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function D_(t,e){return t&&!lO(e)?cO(t,e):e}const Ab=t=>t instanceof eo?{...t}:t;function fs(t,e){e=e||{};const n={};function r(u,g,h){return Ne.isPlainObject(u)&&Ne.isPlainObject(g)?Ne.merge.call({caseless:h},u,g):Ne.isPlainObject(g)?Ne.merge({},g):Ne.isArray(g)?g.slice():g}function a(u,g,h){if(Ne.isUndefined(g)){if(!Ne.isUndefined(u))return r(void 0,u,h)}else return r(u,g,h)}function o(u,g){if(!Ne.isUndefined(g))return r(void 0,g)}function s(u,g){if(Ne.isUndefined(g)){if(!Ne.isUndefined(u))return r(void 0,u)}else return r(void 0,g)}function i(u,g,h){if(h in e)return r(u,g);if(h in t)return r(void 0,u)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:i,headers:(u,g)=>a(Ab(u),Ab(g),!0)};return Ne.forEach(Object.keys(Object.assign({},t,e)),function(g){const h=l[g]||a,b=h(t[g],e[g],g);Ne.isUndefined(b)&&h!==i||(n[g]=b)}),n}const U_=t=>{const e=fs({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:s,auth:i}=e;e.headers=s=eo.from(s),e.url=B_(D_(e.baseURL,e.url),t.params,t.paramsSerializer),i&&s.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):"")));let l;if(Ne.isFormData(n)){if(Zr.hasStandardBrowserEnv||Zr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[u,...g]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...g].join("; "))}}if(Zr.hasStandardBrowserEnv&&(r&&Ne.isFunction(r)&&(r=r(e)),r||r!==!1&&sO(e.url))){const u=a&&o&&aO.read(o);u&&s.set(a,u)}return e},uO=typeof XMLHttpRequest<"u",fO=uO&&function(t){return new Promise(function(n,r){const a=U_(t);let o=a.data;const s=eo.from(a.headers).normalize();let{responseType:i}=a,l;function u(){a.cancelToken&&a.cancelToken.unsubscribe(l),a.signal&&a.signal.removeEventListener("abort",l)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function h(){if(!g)return;const w=eo.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),d={data:!i||i==="text"||i==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:w,config:t,request:g};L_(function(m){n(m),u()},function(m){r(m),u()},d),g=null}"onloadend"in g?g.onloadend=h:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(h)},g.onabort=function(){g&&(r(new Bt("Request aborted",Bt.ECONNABORTED,a,g)),g=null)},g.onerror=function(){r(new Bt("Network Error",Bt.ERR_NETWORK,a,g)),g=null},g.ontimeout=function(){let p=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const d=a.transitional||N_;a.timeoutErrorMessage&&(p=a.timeoutErrorMessage),r(new Bt(p,d.clarifyTimeoutError?Bt.ETIMEDOUT:Bt.ECONNABORTED,a,g)),g=null},o===void 0&&s.setContentType(null),"setRequestHeader"in g&&Ne.forEach(s.toJSON(),function(p,d){g.setRequestHeader(d,p)}),Ne.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),i&&i!=="json"&&(g.responseType=a.responseType),typeof a.onDownloadProgress=="function"&&g.addEventListener("progress",Qu(a.onDownloadProgress,!0)),typeof a.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",Qu(a.onUploadProgress)),(a.cancelToken||a.signal)&&(l=w=>{g&&(r(!w||w.type?new Oa(null,t,g):w),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(l),a.signal&&(a.signal.aborted?l():a.signal.addEventListener("abort",l)));const b=rO(a.url);if(b&&Zr.protocols.indexOf(b)===-1){r(new Bt("Unsupported protocol "+b+":",Bt.ERR_BAD_REQUEST,t));return}g.send(o||null)})},dO=(t,e)=>{let n=new AbortController,r;const a=function(l){if(!r){r=!0,s();const u=l instanceof Error?l:this.reason;n.abort(u instanceof Bt?u:new Oa(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{a(new Bt(`timeout ${e} of ms exceeded`,Bt.ETIMEDOUT))},e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",a):l.unsubscribe(a))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",a));const{signal:i}=n;return i.unsubscribe=s,[i,()=>{o&&clearTimeout(o),o=null}]},hO=dO,pO=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,a;for(;r<n;)a=r+e,yield t.slice(r,a),r=a},mO=async function*(t,e,n){for await(const r of t)yield*pO(ArrayBuffer.isView(r)?r:await n(String(r)),e)},Tb=(t,e,n,r,a)=>{const o=mO(t,e,a);let s=0;return new ReadableStream({type:"bytes",async pull(i){const{done:l,value:u}=await o.next();if(l){i.close(),r();return}let g=u.byteLength;n&&n(s+=g),i.enqueue(new Uint8Array(u))},cancel(i){return r(i),o.return()}},{highWaterMark:2})},jb=(t,e)=>{const n=t!=null;return r=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:r}))},zf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",F_=zf&&typeof ReadableStream=="function",Sp=zf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),yO=F_&&(()=>{let t=!1;const e=new Request(Zr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),Cb=64*1024,xp=F_&&!!(()=>{try{return Ne.isReadableStream(new Response("").body)}catch{}})(),Zu={stream:xp&&(t=>t.body)};zf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Zu[e]&&(Zu[e]=Ne.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Bt(`Response type '${e}' is not supported`,Bt.ERR_NOT_SUPPORT,r)})})})(new Response);const gO=async t=>{if(t==null)return 0;if(Ne.isBlob(t))return t.size;if(Ne.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(Ne.isArrayBufferView(t))return t.byteLength;if(Ne.isURLSearchParams(t)&&(t=t+""),Ne.isString(t))return(await Sp(t)).byteLength},bO=async(t,e)=>{const n=Ne.toFiniteNumber(t.getContentLength());return n??gO(e)},vO=zf&&(async t=>{let{url:e,method:n,data:r,signal:a,cancelToken:o,timeout:s,onDownloadProgress:i,onUploadProgress:l,responseType:u,headers:g,withCredentials:h="same-origin",fetchOptions:b}=U_(t);u=u?(u+"").toLowerCase():"text";let[w,p]=a||o||s?hO([a,o],s):[],d,y;const m=()=>{!d&&setTimeout(()=>{w&&w.unsubscribe()}),d=!0};let c;try{if(l&&yO&&n!=="get"&&n!=="head"&&(c=await bO(g,r))!==0){let S=new Request(e,{method:"POST",body:r,duplex:"half"}),E;Ne.isFormData(r)&&(E=S.headers.get("content-type"))&&g.setContentType(E),S.body&&(r=Tb(S.body,Cb,jb(c,Qu(l)),null,Sp))}Ne.isString(h)||(h=h?"cors":"omit"),y=new Request(e,{...b,signal:w,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",withCredentials:h});let f=await fetch(y);const v=xp&&(u==="stream"||u==="response");if(xp&&(i||v)){const S={};["status","statusText","headers"].forEach(x=>{S[x]=f[x]});const E=Ne.toFiniteNumber(f.headers.get("content-length"));f=new Response(Tb(f.body,Cb,i&&jb(E,Qu(i,!0)),v&&m,Sp),S)}u=u||"text";let _=await Zu[Ne.findKey(Zu,u)||"text"](f,t);return!v&&m(),p&&p(),await new Promise((S,E)=>{L_(S,E,{data:_,headers:eo.from(f.headers),status:f.status,statusText:f.statusText,config:t,request:y})})}catch(f){throw m(),f&&f.name==="TypeError"&&/fetch/i.test(f.message)?Object.assign(new Bt("Network Error",Bt.ERR_NETWORK,t,y),{cause:f.cause||f}):Bt.from(f,f&&f.code,t,y)}}),kp={http:B9,xhr:fO,fetch:vO};Ne.forEach(kp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Pb=t=>`- ${t}`,wO=t=>Ne.isFunction(t)||t===null||t===!1,V_={getAdapter:t=>{t=Ne.isArray(t)?t:[t];const{length:e}=t;let n,r;const a={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!wO(n)&&(r=kp[(s=String(n)).toLowerCase()],r===void 0))throw new Bt(`Unknown adapter '${s}'`);if(r)break;a[s||"#"+o]=r}if(!r){const o=Object.entries(a).map(([i,l])=>`adapter ${i} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(Pb).join(`
`):" "+Pb(o[0]):"as no adapter specified";throw new Bt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:kp};function Kd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Oa(null,t)}function Mb(t){return Kd(t),t.headers=eo.from(t.headers),t.data=Wd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),V_.getAdapter(t.adapter||Sy.adapter)(t).then(function(r){return Kd(t),r.data=Wd.call(t,t.transformResponse,r),r.headers=eo.from(r.headers),r},function(r){return R_(r)||(Kd(t),r&&r.response&&(r.response.data=Wd.call(t,t.transformResponse,r.response),r.response.headers=eo.from(r.response.headers))),Promise.reject(r)})}const z_="1.7.2",xy={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{xy[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Ib={};xy.transitional=function(e,n,r){function a(o,s){return"[Axios v"+z_+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,i)=>{if(e===!1)throw new Bt(a(s," has been removed"+(n?" in "+n:"")),Bt.ERR_DEPRECATED);return n&&!Ib[s]&&(Ib[s]=!0,console.warn(a(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,i):!0}};function _O(t,e,n){if(typeof t!="object")throw new Bt("options must be an object",Bt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const o=r[a],s=e[o];if(s){const i=t[o],l=i===void 0||s(i,o,t);if(l!==!0)throw new Bt("option "+o+" must be "+l,Bt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Bt("Unknown option "+o,Bt.ERR_BAD_OPTION)}}const Ep={assertOptions:_O,validators:xy},Zo=Ep.validators;class ef{constructor(e){this.defaults=e,this.interceptors={request:new Eb,response:new Eb}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=fs(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:o}=n;r!==void 0&&Ep.assertOptions(r,{silentJSONParsing:Zo.transitional(Zo.boolean),forcedJSONParsing:Zo.transitional(Zo.boolean),clarifyTimeoutError:Zo.transitional(Zo.boolean)},!1),a!=null&&(Ne.isFunction(a)?n.paramsSerializer={serialize:a}:Ep.assertOptions(a,{encode:Zo.function,serialize:Zo.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&Ne.merge(o.common,o[n.method]);o&&Ne.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=eo.concat(s,o);const i=[];let l=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(n)===!1||(l=l&&d.synchronous,i.unshift(d.fulfilled,d.rejected))});const u=[];this.interceptors.response.forEach(function(d){u.push(d.fulfilled,d.rejected)});let g,h=0,b;if(!l){const p=[Mb.bind(this),void 0];for(p.unshift.apply(p,i),p.push.apply(p,u),b=p.length,g=Promise.resolve(n);h<b;)g=g.then(p[h++],p[h++]);return g}b=i.length;let w=n;for(h=0;h<b;){const p=i[h++],d=i[h++];try{w=p(w)}catch(y){d.call(this,y);break}}try{g=Mb.call(this,w)}catch(p){return Promise.reject(p)}for(h=0,b=u.length;h<b;)g=g.then(u[h++],u[h++]);return g}getUri(e){e=fs(this.defaults,e);const n=D_(e.baseURL,e.url);return B_(n,e.params,e.paramsSerializer)}}Ne.forEach(["delete","get","head","options"],function(e){ef.prototype[e]=function(n,r){return this.request(fs(r||{},{method:e,url:n,data:(r||{}).data}))}});Ne.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,i){return this.request(fs(i||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}ef.prototype[e]=n(),ef.prototype[e+"Form"]=n(!0)});const ru=ef;class ky{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(a=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](a);r._listeners=null}),this.promise.then=a=>{let o;const s=new Promise(i=>{r.subscribe(i),o=i}).then(a);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,i){r.reason||(r.reason=new Oa(o,s,i),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new ky(function(a){e=a}),cancel:e}}}const SO=ky;function xO(t){return function(n){return t.apply(null,n)}}function kO(t){return Ne.isObject(t)&&t.isAxiosError===!0}const Op={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Op).forEach(([t,e])=>{Op[e]=t});const EO=Op;function H_(t){const e=new ru(t),n=S_(ru.prototype.request,e);return Ne.extend(n,ru.prototype,e,{allOwnKeys:!0}),Ne.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return H_(fs(t,a))},n}const Pn=H_(Sy);Pn.Axios=ru;Pn.CanceledError=Oa;Pn.CancelToken=SO;Pn.isCancel=R_;Pn.VERSION=z_;Pn.toFormData=Ff;Pn.AxiosError=Bt;Pn.Cancel=Pn.CanceledError;Pn.all=function(e){return Promise.all(e)};Pn.spread=xO;Pn.isAxiosError=kO;Pn.mergeConfig=fs;Pn.AxiosHeaders=eo;Pn.formToJSON=t=>$_(Ne.isHTMLForm(t)?new FormData(t):t);Pn.getAdapter=V_.getAdapter;Pn.HttpStatusCode=EO;Pn.default=Pn;const Gt=Pn,OO=()=>{const[t,e]=he.useState(!1),[n,r]=he.useState(!1);let{theme:a,setTheme:o}=he.useContext(rd),s=xa();const{userAuth:i,userAuth:{access_token:l,profile_img:u,new_notification_available:g},setUserAuth:h}=he.useContext(Mn);he.useEffect(()=>{l&&Gt.get("https://quick-quill-server.onrender.com/new-notification",{headers:{Authorization:`Bearer ${l}`}}).then(({data:y})=>{h({...i,...y})}).catch(y=>{console.log(y)})},[l]);const b=()=>{r(y=>!y)},w=()=>{setTimeout(()=>{r(!1)},200)},p=y=>{let m=y.target.value;y.keyCode==13&&m.length&&s(`/search/${m}`)},d=()=>{let y=a=="light"?"dark":"light";o(y),document.body.setAttribute("data-theme",y),Xu("theme",y)};return J.jsxs(J.Fragment,{children:[J.jsxs("nav",{className:"navbar z-50 border-b border-purple/30",children:[J.jsx(Xt,{to:"/",className:"flex-none w-10",children:J.jsx("img",{src:n2,className:"w-full",style:{width:50,height:50}})}),J.jsxs("div",{className:"absolute bg-white w-full left-0 top-full mt-0.5 border-b border-grey py-4 px-[5vw] md:border-0 md:block md:relative md:inset-0 md:p-0 md:w-auto md:show "+(t?"show":"hide"),children:[J.jsx("input",{type:"text",placeholder:"Search",className:"w-full md:w-auto bg-grey p-4 pl-6 pr-[12%] md:pr-6 rounded-full placeholder:text-dark-grey md:pl-12",onKeyDown:p}),J.jsx("i",{className:"fi fi-rr-search absolute right-[10%] md:pointer-events-none md:left-5 top-1/2 -translate-y-1/2 text-xl text-dark-grey"})]}),J.jsxs("div",{className:"flex items-center gap-3 md:gap-6 ml-auto",children:[J.jsx("button",{className:"md:hidden bg-grey w-12 h-12 rounded-full flex items-center justify-center",onClick:()=>e(y=>!y),children:J.jsx("i",{className:"fi fi-rr-search text-xl"})}),J.jsxs(Xt,{to:"/editor",className:"max-md:hidden md:flex gap-2 link rounded-full",children:[J.jsx("i",{className:"fi fi-rr-file-edit"}),J.jsx("p",{children:"Write"})]}),J.jsx("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10",onClick:d,children:J.jsx("i",{className:"fi fi-"+(a=="light"?"rr-moon-stars":"br-brightness")+" text-2xl block mt-1"})}),l?J.jsxs(J.Fragment,{children:[J.jsx(Xt,{to:"/dashboard/notifications",children:J.jsxs("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10",children:[J.jsx("i",{className:"fi fi-rr-bell text-2xl block mt-1"}),g?J.jsx("span",{className:"bg-red w-3 h-3 rounded-full absolute z-10 top-2"}):""]})}),J.jsxs("div",{className:"relative",onClick:b,onBlur:w,children:[J.jsx("button",{className:"w-12 h-12 mt-1",children:J.jsx("img",{src:u,className:"w-full h-full object-cover rounded-full"})}),n?J.jsx(J7,{}):""]})]}):J.jsxs(J.Fragment,{children:[J.jsx(Xt,{className:"btn-dark py-2",to:"/signin",children:"Sign In"}),J.jsx(Xt,{className:"max-md:hidden btn-light py-2 md:block",to:"/signup",children:"Sign Up"})]})]})]}),J.jsx(e2,{})]})},Io=({name:t,type:e,id:n,value:r,placeholder:a,icon:o,disable:s=!1})=>{const[i,l]=he.useState(!1);return J.jsxs("div",{className:"relative w-[100%] mb-4",children:[J.jsx("input",{name:t,type:e=="password"?i?"text":"password":e,placeholder:a,defaultValue:r,id:n,disabled:s,className:"input-box"}),J.jsx("i",{className:"fi "+o+" input-icon"}),e=="password"?J.jsx("i",{className:"fi fi-rr-eye"+(i?"":"-crossed")+" input-icon left-[auto] right-4 cursor-pointer",onClick:()=>l(u=>!u)}):""]})},AO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAoCAYAAACSN4jeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVeSURBVHgBzZhrbBRVFMfPuTO77dKtSCm1BQklppJCjEIfFIkUaHk2IKUEaQwR0FSNaIhA1BZCY2hVPho/CMQH0aatUgU+FLQPln5oKxTKIwEkJWwFoTwKWNjtY2fmeHaBdi3dmV12WfkluzN375mZ/9x79pxzL8ATCkIQUEGB6cb54+P5Lkka0gjUUAIJHQLopirJ7c/sbzwPj0jAwjrmvhwnq8oqDWA+S0vnn6J0zG8DUSOg+EmT5P3xvzdeAz/xW1hH9tQMCdRNRMiCQIIAIQAHAlaYTGLriAPNdiN7Q2FnF0+PjnG6SvnN10II4Af+xV8lo2qP7DCw8831WWmZJGAnnyZBiEGkckWWCxN8jJ7wdWFHdvr7JKj+cYhywy6RLyvqd776hxR2NSv9Q0H0Jb+XT+HBwv7WrvbhGt/9g0XNTpmLKA5AkKHEUJQLZsU3HL7g28aLW/MzEhVFbSCCseAHhHBcEOwD1A6TYv5TEeiSRV8MoJQApOWwwUK2SgxUlBvZu6G46HP+WxuKYptjAml9XG2LbYjudv608qfa3eicnbZaQdyCQOO4eUNFdVF8w9ELRs/oH7HrczIWk6buNb6AtsWq1iK02RTwk8uzJ4+ThWm7BtLG+NqmU/5c0y+st9La2lX53Ev0j9m3taCiuJqWUggDHmGuWnkanzZSj0TddaO13pMjH47sBFvj6o9shjAh7qnDAs8xUsVhORclS+YVQnS7Uj8XRs3I2QJhxDNiSq35EgGN8e5Qrli0u7+OF56pJVjNo/U9hBHRV2OaPFiUGzmhW0S/3gbS2Lsdo7SoCggzMgEm/3fWBpCG98HwlW31mHWmB/wgq8S5jVB7FYKE8/MHskCYoGuFUAf+glocv+PzECRCg0msi2L1jIikNgg/Y1gcDtOzIFXqgjCjAUVxuCD9CC5pZvgfEIjYqWdAqhq0zwSKAF7QcN2lm1BRUCqEHeyUVYRWHDpagJNk+NY5YXnK9vSNR9/e4TK6HWnaXq6Z7WAIzuKvGToGp5EOAle4puvceNq75291GGy4kwF2xequu3KPvla1B0JEVundGq75sn31C61nomDtCj+42rvjUF8Crbmd6RHlhkPKOggR8z/rTtQTxT5/sXZz7BlPElcV+sZ95AUCfO1Mho+70rCLTAPWhJlplbkbIAS4NFW/GCCeQ7hfXUTOUw52aJGn1nZNo13OJB/24ovU8qXLIAiySh1L2J1XGZj92C+MSwzK7Zzz6TFXrN4ChP/FWJFWuXQ9PIqokjsrOF2V6dlw+XW+rshac+/ci5SKZQ3sT6+AAewHZZImb2rOr7Ab2c7clx/rcFhKLFffeFN2pEj694VVdYXWXQ8Jm1qWl6RK2MID+BT4xy+cP3bz9LRGn+tssxXblAXVCyLuOC1jelwwnV9gEfflsJ0n7UXcWkIRN3OHnhUOW/WF1ikDzUHwqL3Fo7YTAscdDd2xTjeFmR0ZauS1NQhahBgQQV2qkF+0fWKxP/jtoaG9svv0sdF5ye5xnQmBgeDHLpBqviRc0c1gckxB1B7UD/jOwcIom7fdkDe6XHXm0Oi8SeyLMBMeAySc6IpuIkmJ0UTvs0X1m6xfDbbR3QZILc97jy22wX0fCTFOToXrjuRXDek2hvsTGeVLEhWUfuPTkFUZ/NATshArm5b/7HPxa7ib05y/x95ytiqZ08i7fEM7BMdt9t2Pos6+kKonyk1AOzrFxcWiesLJFbzozOdLs3l1FWl0DYeMbg4pTbyKrxDRkZV/LCzzqyJ+5K2mlJYCE5y7NVXI2kTOpZyYaST7jJnTbR8SdvKxndunemMsJ07O+8EBAfIvZzP9J7slOesAAAAASUVORK5CYII=";let TO={data:""},jO=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||TO,CO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,PO=/\/\*[^]*?\*\/|  +/g,Bb=/\n+/g,ai=(t,e)=>{let n="",r="",a="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?ai(s,o):o+"{"+ai(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=ai(s,e?e.replace(/([^,])+/g,i=>o.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,i):i?i+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=ai.p?ai.p(o,s):o+":"+s+";")}return n+(e&&a?e+"{"+a+"}":a)+r},Oo={},q_=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+q_(t[n]);return e}return t},MO=(t,e,n,r,a)=>{let o=q_(t),s=Oo[o]||(Oo[o]=(l=>{let u=0,g=11;for(;u<l.length;)g=101*g+l.charCodeAt(u++)>>>0;return"go"+g})(o));if(!Oo[s]){let l=o!==t?t:(u=>{let g,h,b=[{}];for(;g=CO.exec(u.replace(PO,""));)g[4]?b.shift():g[3]?(h=g[3].replace(Bb," ").trim(),b.unshift(b[0][h]=b[0][h]||{})):b[0][g[1]]=g[2].replace(Bb," ").trim();return b[0]})(t);Oo[s]=ai(a?{["@keyframes "+s]:l}:l,n?"":"."+s)}let i=n&&Oo.g?Oo.g:null;return n&&(Oo.g=Oo[s]),((l,u,g,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=g?l+u.data:u.data+l)})(Oo[s],e,r,i),s},IO=(t,e,n)=>t.reduce((r,a,o)=>{let s=e[o];if(s&&s.call){let i=s(n),l=i&&i.props&&i.props.className||/^go/.test(i)&&i;s=l?"."+l:i&&typeof i=="object"?i.props?"":ai(i,""):i===!1?"":i}return r+a+(s??"")},"");function Hf(t){let e=this||{},n=t.call?t(e.p):t;return MO(n.unshift?n.raw?IO(n,[].slice.call(arguments,1),e.p):n.reduce((r,a)=>Object.assign(r,a&&a.call?a(e.p):a),{}):n,jO(e.target),e.g,e.o,e.k)}let W_,Ap,Tp;Hf.bind({g:1});let qo=Hf.bind({k:1});function BO(t,e,n,r){ai.p=e,W_=t,Ap=n,Tp=r}function Li(t,e){let n=this||{};return function(){let r=arguments;function a(o,s){let i=Object.assign({},o),l=i.className||a.className;n.p=Object.assign({theme:Ap&&Ap()},i),n.o=/ *go\d+/.test(l),i.className=Hf.apply(n,r)+(l?" "+l:""),e&&(i.ref=s);let u=t;return t[0]&&(u=i.as||t,delete i.as),Tp&&u[0]&&Tp(i),W_(u,i)}return e?e(a):a}}var NO=t=>typeof t=="function",tf=(t,e)=>NO(t)?t(e):t,$O=(()=>{let t=0;return()=>(++t).toString()})(),K_=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),RO=20,ou=new Map,LO=1e3,Nb=t=>{if(ou.has(t))return;let e=setTimeout(()=>{ou.delete(t),ks({type:4,toastId:t})},LO);ou.set(t,e)},DO=t=>{let e=ou.get(t);e&&clearTimeout(e)},jp=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,RO)};case 1:return e.toast.id&&DO(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return t.toasts.find(o=>o.id===n.id)?jp(t,{type:1,toast:n}):jp(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?Nb(r):t.toasts.forEach(o=>{Nb(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},iu=[],su={toasts:[],pausedAt:void 0},ks=t=>{su=jp(su,t),iu.forEach(e=>{e(su)})},UO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},FO=(t={})=>{let[e,n]=he.useState(su);he.useEffect(()=>(iu.push(n),()=>{let a=iu.indexOf(n);a>-1&&iu.splice(a,1)}),[e]);let r=e.toasts.map(a=>{var o,s;return{...t,...t[a.type],...a,duration:a.duration||((o=t[a.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||UO[a.type],style:{...t.style,...(s=t[a.type])==null?void 0:s.style,...a.style}}});return{...e,toasts:r}},VO=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||$O()}),tc=t=>(e,n)=>{let r=VO(e,t,n);return ks({type:2,toast:r}),r.id},mt=(t,e)=>tc("blank")(t,e);mt.error=tc("error");mt.success=tc("success");mt.loading=tc("loading");mt.custom=tc("custom");mt.dismiss=t=>{ks({type:3,toastId:t})};mt.remove=t=>ks({type:4,toastId:t});mt.promise=(t,e,n)=>{let r=mt.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(a=>(mt.success(tf(e.success,a),{id:r,...n,...n==null?void 0:n.success}),a)).catch(a=>{mt.error(tf(e.error,a),{id:r,...n,...n==null?void 0:n.error})}),t};var zO=(t,e)=>{ks({type:1,toast:{id:t,height:e}})},HO=()=>{ks({type:5,time:Date.now()})},qO=t=>{let{toasts:e,pausedAt:n}=FO(t);he.useEffect(()=>{if(n)return;let o=Date.now(),s=e.map(i=>{if(i.duration===1/0)return;let l=(i.duration||0)+i.pauseDuration-(o-i.createdAt);if(l<0){i.visible&&mt.dismiss(i.id);return}return setTimeout(()=>mt.dismiss(i.id),l)});return()=>{s.forEach(i=>i&&clearTimeout(i))}},[e,n]);let r=he.useCallback(()=>{n&&ks({type:6,time:Date.now()})},[n]),a=he.useCallback((o,s)=>{let{reverseOrder:i=!1,gutter:l=8,defaultPosition:u}=s||{},g=e.filter(w=>(w.position||u)===(o.position||u)&&w.height),h=g.findIndex(w=>w.id===o.id),b=g.filter((w,p)=>p<h&&w.visible).length;return g.filter(w=>w.visible).slice(...i?[b+1]:[0,b]).reduce((w,p)=>w+(p.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:zO,startPause:HO,endPause:r,calculateOffset:a}}},WO=qo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,KO=qo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,GO=qo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,JO=Li("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${KO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${GO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,YO=qo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,XO=Li("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${YO} 1s linear infinite;
`,QO=qo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ZO=qo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,eA=Li("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ZO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,tA=Li("div")`
  position: absolute;
`,nA=Li("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,rA=qo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oA=Li("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${rA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,iA=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?he.createElement(oA,null,e):e:n==="blank"?null:he.createElement(nA,null,he.createElement(XO,{...r}),n!=="loading"&&he.createElement(tA,null,n==="error"?he.createElement(JO,{...r}):he.createElement(eA,{...r})))},sA=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,aA=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,lA="0%{opacity:0;} 100%{opacity:1;}",cA="0%{opacity:1;} 100%{opacity:0;}",uA=Li("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,fA=Li("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,dA=(t,e)=>{let n=t.includes("top")?1:-1,[r,a]=K_()?[lA,cA]:[sA(n),aA(n)];return{animation:e?`${qo(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${qo(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},hA=he.memo(({toast:t,position:e,style:n,children:r})=>{let a=t.height?dA(t.position||e||"top-center",t.visible):{opacity:0},o=he.createElement(iA,{toast:t}),s=he.createElement(fA,{...t.ariaProps},tf(t.message,t));return he.createElement(uA,{className:t.className,style:{...a,...n,...t.style}},typeof r=="function"?r({icon:o,message:s}):he.createElement(he.Fragment,null,o,s))});BO(he.createElement);var pA=({id:t,className:e,style:n,onHeightUpdate:r,children:a})=>{let o=he.useCallback(s=>{if(s){let i=()=>{let l=s.getBoundingClientRect().height;r(t,l)};i(),new MutationObserver(i).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return he.createElement("div",{ref:o,className:e,style:n},a)},mA=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:K_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...a}},yA=Hf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Lc=16,oo=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:a,containerStyle:o,containerClassName:s})=>{let{toasts:i,handlers:l}=qO(n);return he.createElement("div",{style:{position:"fixed",zIndex:9999,top:Lc,left:Lc,right:Lc,bottom:Lc,pointerEvents:"none",...o},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},i.map(u=>{let g=u.position||e,h=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),b=mA(g,h);return he.createElement(pA,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?yA:"",style:b},u.type==="custom"?tf(u.message,u):a?a(u):he.createElement(hA,{toast:u,position:g}))}))},Xn=mt;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},gA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],s=t[n++],i=t[n++],l=((a&7)<<18|(o&63)<<12|(s&63)<<6|i&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|s&63)}}return e.join("")},J_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],s=a+1<t.length,i=s?t[a+1]:0,l=a+2<t.length,u=l?t[a+2]:0,g=o>>2,h=(o&3)<<4|i>>4;let b=(i&15)<<2|u>>6,w=u&63;l||(w=64,s||(b=64)),r.push(n[g],n[h],n[b],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(G_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],i=a<t.length?n[t.charAt(a)]:0;++a;const u=a<t.length?n[t.charAt(a)]:64;++a;const h=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||i==null||u==null||h==null)throw new bA;const b=o<<2|i>>4;if(r.push(b),u!==64){const w=i<<4&240|u>>2;if(r.push(w),h!==64){const p=u<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vA=function(t){const e=G_(t);return J_.encodeByteArray(e,!0)},Y_=function(t){return vA(t).replace(/\./g,"")},X_=function(t){try{return J_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=()=>wA().__FIREBASE_DEFAULTS__,SA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&X_(t[1]);return e&&JSON.parse(e)},Ey=()=>{try{return _A()||SA()||xA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kA=t=>{var e,n;return(n=(e=Ey())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Q_=()=>{var t;return(t=Ey())===null||t===void 0?void 0:t.config},Z_=t=>{var e;return(e=Ey())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rr())}function eS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TA(){const t=rr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tS(){try{return typeof indexedDB=="object"}catch{return!1}}function nS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function jA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="FirebaseError";class ko extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CA,Object.setPrototypeOf(this,ko.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Es.prototype.create)}}class Es{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],s=o?PA(o,r):"Error",i=`${this.serviceName}: ${s} (${a}).`;return new ko(a,i,r)}}function PA(t,e){return t.replace(MA,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const MA=/\{\$([^}]+)}/g;function IA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],s=e[a];if($b(o)&&$b(s)){if(!nf(o,s))return!1}else if(o!==s)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function $b(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function BA(t,e){const n=new NA(t,e);return n.subscribe.bind(n)}class NA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$A(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Gd),a.error===void 0&&(a.error=Gd),a.complete===void 0&&(a.complete=Gd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $A(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=1e3,LA=2,DA=4*60*60*1e3,UA=.5;function Rb(t,e=RA,n=LA){const r=e*Math.pow(n,t),a=Math.round(UA*r*(Math.random()-.5)*2);return Math.min(DA,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(t){return t&&t._delegate?t._delegate:t}class _o{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zA(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(o);r===i&&s.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const s=this.instances.get(a);return s&&e(s,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VA(t){return t===Ji?void 0:t}function zA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nn||(nn={}));const qA={debug:nn.DEBUG,verbose:nn.VERBOSE,info:nn.INFO,warn:nn.WARN,error:nn.ERROR,silent:nn.SILENT},WA=nn.INFO,KA={[nn.DEBUG]:"log",[nn.VERBOSE]:"log",[nn.INFO]:"info",[nn.WARN]:"warn",[nn.ERROR]:"error"},GA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=KA[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Oy{constructor(e){this.name=e,this._logLevel=WA,this._logHandler=GA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nn.DEBUG,...e),this._logHandler(this,nn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nn.VERBOSE,...e),this._logHandler(this,nn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nn.INFO,...e),this._logHandler(this,nn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nn.WARN,...e),this._logHandler(this,nn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nn.ERROR,...e),this._logHandler(this,nn.ERROR,...e)}}const JA=(t,e)=>e.some(n=>t instanceof n);let Lb,Db;function YA(){return Lb||(Lb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XA(){return Db||(Db=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rS=new WeakMap,Cp=new WeakMap,oS=new WeakMap,Jd=new WeakMap,Ay=new WeakMap;function QA(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Oi(t.result)),a()},s=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&rS.set(n,t)}).catch(()=>{}),Ay.set(e,t),e}function ZA(t){if(Cp.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),a()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Cp.set(t,e)}let Pp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eT(t){Pp=t(Pp)}function tT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yd(this),e,...n);return oS.set(r,e.sort?e.sort():[e]),Oi(r)}:XA().includes(t)?function(...e){return t.apply(Yd(this),e),Oi(rS.get(this))}:function(...e){return Oi(t.apply(Yd(this),e))}}function nT(t){return typeof t=="function"?tT(t):(t instanceof IDBTransaction&&ZA(t),JA(t,YA())?new Proxy(t,Pp):t)}function Oi(t){if(t instanceof IDBRequest)return QA(t);if(Jd.has(t))return Jd.get(t);const e=nT(t);return e!==t&&(Jd.set(t,e),Ay.set(e,t)),e}const Yd=t=>Ay.get(t);function rT(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const s=indexedDB.open(t,e),i=Oi(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Oi(s.result),l.oldVersion,l.newVersion,Oi(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),i.then(l=>{o&&l.addEventListener("close",()=>o()),a&&l.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),i}const oT=["get","getKey","getAll","getAllKeys","count"],iT=["put","add","delete","clear"],Xd=new Map;function Ub(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xd.get(e))return Xd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=iT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||oT.includes(n)))return;const o=async function(s,...i){const l=this.transaction(s,a?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(i.shift())),(await Promise.all([u[n](...i),a&&l.done]))[0]};return Xd.set(e,o),o}eT(t=>({...t,get:(e,n,r)=>Ub(e,n)||t.get(e,n,r),has:(e,n)=>!!Ub(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mp="@firebase/app",Fb="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Oy("@firebase/app"),lT="@firebase/app-compat",cT="@firebase/analytics-compat",uT="@firebase/analytics",fT="@firebase/app-check-compat",dT="@firebase/app-check",hT="@firebase/auth",pT="@firebase/auth-compat",mT="@firebase/database",yT="@firebase/database-compat",gT="@firebase/functions",bT="@firebase/functions-compat",vT="@firebase/installations",wT="@firebase/installations-compat",_T="@firebase/messaging",ST="@firebase/messaging-compat",xT="@firebase/performance",kT="@firebase/performance-compat",ET="@firebase/remote-config",OT="@firebase/remote-config-compat",AT="@firebase/storage",TT="@firebase/storage-compat",jT="@firebase/firestore",CT="@firebase/firestore-compat",PT="firebase",MT="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="[DEFAULT]",IT={[Mp]:"fire-core",[lT]:"fire-core-compat",[uT]:"fire-analytics",[cT]:"fire-analytics-compat",[dT]:"fire-app-check",[fT]:"fire-app-check-compat",[hT]:"fire-auth",[pT]:"fire-auth-compat",[mT]:"fire-rtdb",[yT]:"fire-rtdb-compat",[gT]:"fire-fn",[bT]:"fire-fn-compat",[vT]:"fire-iid",[wT]:"fire-iid-compat",[_T]:"fire-fcm",[ST]:"fire-fcm-compat",[xT]:"fire-perf",[kT]:"fire-perf-compat",[ET]:"fire-rc",[OT]:"fire-rc-compat",[AT]:"fire-gcs",[TT]:"fire-gcs-compat",[jT]:"fire-fst",[CT]:"fire-fst-compat","fire-js":"fire-js",[PT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=new Map,Bp=new Map;function BT(t,e){try{t.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wo(t){const e=t.name;if(Bp.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;Bp.set(e,t);for(const n of rf.values())BT(n,t);return!0}function qf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ai=new Es("app","Firebase",NT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=MT;function iS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ip,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Ai.create("bad-app-name",{appName:String(a)});if(n||(n=Q_()),!n)throw Ai.create("no-options");const o=rf.get(a);if(o){if(nf(n,o.options)&&nf(r,o.config))return o;throw Ai.create("duplicate-app",{appName:a})}const s=new HA(a);for(const l of Bp.values())s.addComponent(l);const i=new $T(n,r,s);return rf.set(a,i),i}function RT(t=Ip){const e=rf.get(t);if(!e&&t===Ip&&Q_())return iS();if(!e)throw Ai.create("no-app",{appName:t});return e}function go(t,e,n){var r;let a=(r=IT[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const o=a.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const i=[`Unable to register library "${a}" with version "${e}":`];o&&i.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&s&&i.push("and"),s&&i.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(i.join(" "));return}Wo(new _o(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="firebase-heartbeat-database",DT=1,Fl="firebase-heartbeat-store";let Qd=null;function sS(){return Qd||(Qd=rT(LT,DT,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fl)}}}).catch(t=>{throw Ai.create("idb-open",{originalErrorMessage:t.message})})),Qd}async function UT(t){try{return await(await sS()).transaction(Fl).objectStore(Fl).get(aS(t))}catch(e){if(e instanceof ko)ds.warn(e.message);else{const n=Ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(n.message)}}}async function Vb(t,e){try{const r=(await sS()).transaction(Fl,"readwrite");await r.objectStore(Fl).put(e,aS(t)),await r.done}catch(n){if(n instanceof ko)ds.warn(n.message);else{const r=Ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ds.warn(r.message)}}}function aS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=1024,VT=30*24*60*60*1e3;class zT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zb();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=VT}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zb(),{heartbeatsToSend:n,unsentEntries:r}=HT(this._heartbeatsCache.heartbeats),a=Y_(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function zb(){return new Date().toISOString().substring(0,10)}function HT(t,e=FT){const n=[];let r=t.slice();for(const a of t){const o=n.find(s=>s.agent===a.agent);if(o){if(o.dates.push(a.date),Hb(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Hb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tS()?nS().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await UT(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Vb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Vb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Hb(t){return Y_(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t){Wo(new _o("platform-logger",e=>new sT(e),"PRIVATE")),Wo(new _o("heartbeat",e=>new zT(e),"PRIVATE")),go(Mp,Fb,t),go(Mp,Fb,"esm2017"),go("fire-js","")}WT("");var KT="firebase",GT="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */go(KT,GT,"app");const JT=(t,e)=>e.some(n=>t instanceof n);let qb,Wb;function YT(){return qb||(qb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XT(){return Wb||(Wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lS=new WeakMap,Np=new WeakMap,cS=new WeakMap,Zd=new WeakMap,Ty=new WeakMap;function QT(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ti(t.result)),a()},s=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&lS.set(n,t)}).catch(()=>{}),Ty.set(e,t),e}function ZT(t){if(Np.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),a()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Np.set(t,e)}let $p={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Np.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ej(t){$p=t($p)}function tj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(eh(this),e,...n);return cS.set(r,e.sort?e.sort():[e]),Ti(r)}:XT().includes(t)?function(...e){return t.apply(eh(this),e),Ti(lS.get(this))}:function(...e){return Ti(t.apply(eh(this),e))}}function nj(t){return typeof t=="function"?tj(t):(t instanceof IDBTransaction&&ZT(t),JT(t,YT())?new Proxy(t,$p):t)}function Ti(t){if(t instanceof IDBRequest)return QT(t);if(Zd.has(t))return Zd.get(t);const e=nj(t);return e!==t&&(Zd.set(t,e),Ty.set(e,t)),e}const eh=t=>Ty.get(t);function rj(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const s=indexedDB.open(t,e),i=Ti(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ti(s.result),l.oldVersion,l.newVersion,Ti(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),i.then(l=>{o&&l.addEventListener("close",()=>o()),a&&l.addEventListener("versionchange",()=>a())}).catch(()=>{}),i}const oj=["get","getKey","getAll","getAllKeys","count"],ij=["put","add","delete","clear"],th=new Map;function Kb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(th.get(e))return th.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=ij.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||oj.includes(n)))return;const o=async function(s,...i){const l=this.transaction(s,a?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(i.shift())),(await Promise.all([u[n](...i),a&&l.done]))[0]};return th.set(e,o),o}ej(t=>({...t,get:(e,n,r)=>Kb(e,n)||t.get(e,n,r),has:(e,n)=>!!Kb(e,n)||t.has(e,n)}));const uS="@firebase/installations",jy="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=1e4,dS=`w:${jy}`,hS="FIS_v2",sj="https://firebaseinstallations.googleapis.com/v1",aj=60*60*1e3,lj="installations",cj="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},hs=new Es(lj,cj,uj);function pS(t){return t instanceof ko&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS({projectId:t}){return`${sj}/projects/${t}/installations`}function yS(t){return{token:t.token,requestStatus:2,expiresIn:dj(t.expiresIn),creationTime:Date.now()}}async function gS(t,e){const r=(await e.json()).error;return hs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function bS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function fj(t,{refreshToken:e}){const n=bS(t);return n.append("Authorization",hj(e)),n}async function vS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function dj(t){return Number(t.replace("s","000"))}function hj(t){return`${hS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pj({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=mS(t),a=bS(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&a.append("x-firebase-client",u)}const s={fid:n,authVersion:hS,appId:t.appId,sdkVersion:dS},i={method:"POST",headers:a,body:JSON.stringify(s)},l=await vS(()=>fetch(r,i));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:yS(u.authToken)}}else throw await gS("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=/^[cdef][\w-]{21}$/,Rp="";function gj(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=bj(t);return yj.test(n)?n:Rp}catch{return Rp}}function bj(t){return mj(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=new Map;function SS(t,e){const n=Wf(t);xS(n,e),vj(n,e)}function xS(t,e){const n=_S.get(t);if(n)for(const r of n)r(e)}function vj(t,e){const n=wj();n&&n.postMessage({key:t,fid:e}),_j()}let es=null;function wj(){return!es&&"BroadcastChannel"in self&&(es=new BroadcastChannel("[Firebase] FID Change"),es.onmessage=t=>{xS(t.data.key,t.data.fid)}),es}function _j(){_S.size===0&&es&&(es.close(),es=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="firebase-installations-database",xj=1,ps="firebase-installations-store";let nh=null;function Cy(){return nh||(nh=rj(Sj,xj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ps)}}})),nh}async function of(t,e){const n=Wf(t),a=(await Cy()).transaction(ps,"readwrite"),o=a.objectStore(ps),s=await o.get(n);return await o.put(e,n),await a.done,(!s||s.fid!==e.fid)&&SS(t,e.fid),e}async function kS(t){const e=Wf(t),r=(await Cy()).transaction(ps,"readwrite");await r.objectStore(ps).delete(e),await r.done}async function Kf(t,e){const n=Wf(t),a=(await Cy()).transaction(ps,"readwrite"),o=a.objectStore(ps),s=await o.get(n),i=e(s);return i===void 0?await o.delete(n):await o.put(i,n),await a.done,i&&(!s||s.fid!==i.fid)&&SS(t,i.fid),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Py(t){let e;const n=await Kf(t.appConfig,r=>{const a=kj(r),o=Ej(t,a);return e=o.registrationPromise,o.installationEntry});return n.fid===Rp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function kj(t){const e=t||{fid:gj(),registrationStatus:0};return ES(e)}function Ej(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(hs.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Oj(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Aj(t)}:{installationEntry:e}}async function Oj(t,e){try{const n=await pj(t,e);return of(t.appConfig,n)}catch(n){throw pS(n)&&n.customData.serverCode===409?await kS(t.appConfig):await of(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Aj(t){let e=await Gb(t.appConfig);for(;e.registrationStatus===1;)await wS(100),e=await Gb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Py(t);return r||n}return e}function Gb(t){return Kf(t,e=>{if(!e)throw hs.create("installation-not-found");return ES(e)})}function ES(t){return Tj(t)?{fid:t.fid,registrationStatus:0}:t}function Tj(t){return t.registrationStatus===1&&t.registrationTime+fS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj({appConfig:t,heartbeatServiceProvider:e},n){const r=Cj(t,n),a=fj(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&a.append("x-firebase-client",u)}const s={installation:{sdkVersion:dS,appId:t.appId}},i={method:"POST",headers:a,body:JSON.stringify(s)},l=await vS(()=>fetch(r,i));if(l.ok){const u=await l.json();return yS(u)}else throw await gS("Generate Auth Token",l)}function Cj(t,{fid:e}){return`${mS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function My(t,e=!1){let n;const r=await Kf(t.appConfig,o=>{if(!OS(o))throw hs.create("not-registered");const s=o.authToken;if(!e&&Ij(s))return o;if(s.requestStatus===1)return n=Pj(t,e),o;{if(!navigator.onLine)throw hs.create("app-offline");const i=Nj(o);return n=Mj(t,i),i}});return n?await n:r.authToken}async function Pj(t,e){let n=await Jb(t.appConfig);for(;n.authToken.requestStatus===1;)await wS(100),n=await Jb(t.appConfig);const r=n.authToken;return r.requestStatus===0?My(t,e):r}function Jb(t){return Kf(t,e=>{if(!OS(e))throw hs.create("not-registered");const n=e.authToken;return $j(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Mj(t,e){try{const n=await jj(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await of(t.appConfig,r),n}catch(n){if(pS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await kS(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await of(t.appConfig,r)}throw n}}function OS(t){return t!==void 0&&t.registrationStatus===2}function Ij(t){return t.requestStatus===2&&!Bj(t)}function Bj(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+aj}function Nj(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function $j(t){return t.requestStatus===1&&t.requestTime+fS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(t){const e=t,{installationEntry:n,registrationPromise:r}=await Py(e);return r?r.catch(console.error):My(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(t,e=!1){const n=t;return await Dj(n),(await My(n,e)).token}async function Dj(t){const{registrationPromise:e}=await Py(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t){if(!t||!t.options)throw rh("App Configuration");if(!t.name)throw rh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw rh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function rh(t){return hs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="installations",Fj="installations-internal",Vj=t=>{const e=t.getProvider("app").getImmediate(),n=Uj(e),r=qf(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},zj=t=>{const e=t.getProvider("app").getImmediate(),n=qf(e,AS).getImmediate();return{getId:()=>Rj(n),getToken:a=>Lj(n,a)}};function Hj(){Wo(new _o(AS,Vj,"PUBLIC")),Wo(new _o(Fj,zj,"PRIVATE"))}Hj();go(uS,jy);go(uS,jy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="analytics",qj="firebase_id",Wj="origin",Kj=60*1e3,Gj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Iy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new Oy("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ur=new Es("analytics","Analytics",Jj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t){if(!t.startsWith(Iy)){const e=Ur.create("invalid-gtag-resource",{gtagURL:t});return vr.warn(e.message),""}return t}function TS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Xj(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Qj(t,e){const n=Xj("firebase-js-sdk-policy",{createScriptURL:Yj}),r=document.createElement("script"),a=`${Iy}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function Zj(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function eC(t,e,n,r,a,o){const s=r[a];try{if(s)await e[s];else{const l=(await TS(n)).find(u=>u.measurementId===a);l&&await e[l.appId]}}catch(i){vr.error(i)}t("config",a,o)}async function tC(t,e,n,r,a){try{let o=[];if(a&&a.send_to){let s=a.send_to;Array.isArray(s)||(s=[s]);const i=await TS(n);for(const l of s){const u=i.find(h=>h.measurementId===l),g=u&&e[u.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,a||{})}catch(o){vr.error(o)}}function nC(t,e,n,r){async function a(o,...s){try{if(o==="event"){const[i,l]=s;await tC(t,e,n,i,l)}else if(o==="config"){const[i,l]=s;await eC(t,e,n,r,i,l)}else if(o==="consent"){const[i]=s;t("consent","update",i)}else if(o==="get"){const[i,l,u]=s;t("get",i,l,u)}else if(o==="set"){const[i]=s;t("set",i)}else t(o,...s)}catch(i){vr.error(i)}}return a}function rC(t,e,n,r,a){let o=function(...s){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(o=window[a]),window[a]=nC(o,t,e,n),{gtagCore:o,wrappedGtag:window[a]}}function oC(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Iy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=30,sC=1e3;class aC{constructor(e={},n=sC){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const jS=new aC;function lC(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function cC(t){var e;const{appId:n,apiKey:r}=t,a={method:"GET",headers:lC(r)},o=Gj.replace("{app-id}",n),s=await fetch(o,a);if(s.status!==200&&s.status!==304){let i="";try{const l=await s.json();!((e=l.error)===null||e===void 0)&&e.message&&(i=l.error.message)}catch{}throw Ur.create("config-fetch-failed",{httpStatus:s.status,responseMessage:i})}return s.json()}async function uC(t,e=jS,n){const{appId:r,apiKey:a,measurementId:o}=t.options;if(!r)throw Ur.create("no-app-id");if(!a){if(o)return{measurementId:o,appId:r};throw Ur.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},i=new hC;return setTimeout(async()=>{i.abort()},n!==void 0?n:Kj),CS({appId:r,apiKey:a,measurementId:o},s,i,e)}async function CS(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=jS){var o;const{appId:s,measurementId:i}=t;try{await fC(r,e)}catch(l){if(i)return vr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${i} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:i};throw l}try{const l=await cC(t);return a.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!dC(u)){if(a.deleteThrottleMetadata(s),i)return vr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${i} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:i};throw l}const g=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?Rb(n,a.intervalMillis,iC):Rb(n,a.intervalMillis),h={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return a.setThrottleMetadata(s,h),vr.debug(`Calling attemptFetch again in ${g} millis`),CS(t,h,r,a)}}function fC(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),o=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(o),r(Ur.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function dC(t){if(!(t instanceof ko)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class hC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function pC(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const o=await e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(){if(tS())try{await nS()}catch(t){return vr.warn(Ur.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return vr.warn(Ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function yC(t,e,n,r,a,o,s){var i;const l=uC(t);l.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&vr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>vr.error(w)),e.push(l);const u=mC().then(w=>{if(w)return r.getId()}),[g,h]=await Promise.all([l,u]);oC(o)||Qj(o,g.measurementId),a("js",new Date);const b=(i=s==null?void 0:s.config)!==null&&i!==void 0?i:{};return b[Wj]="firebase",b.update=!0,h!=null&&(b[qj]=h),a("config",g.measurementId,b),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.app=e}_delete(){return delete hl[this.app.options.appId],Promise.resolve()}}let hl={},Xb=[];const Qb={};let oh="dataLayer",bC="gtag",Zb,PS,e1=!1;function vC(){const t=[];if(eS()&&t.push("This is a browser extension environment."),jA()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=Ur.create("invalid-analytics-context",{errorInfo:e});vr.warn(n.message)}}function wC(t,e,n){vC();const r=t.options.appId;if(!r)throw Ur.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)vr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ur.create("no-api-key");if(hl[r]!=null)throw Ur.create("already-exists",{id:r});if(!e1){Zj(oh);const{wrappedGtag:o,gtagCore:s}=rC(hl,Xb,Qb,oh,bC);PS=o,Zb=s,e1=!0}return hl[r]=yC(t,Xb,Qb,e,Zb,oh,n),new gC(t)}function _C(t,e,n,r){t=Os(t),pC(PS,hl[t.app.options.appId],e,n,r).catch(a=>vr.error(a))}const t1="@firebase/analytics",n1="0.10.0";function SC(){Wo(new _o(Yb,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return wC(r,a,n)},"PUBLIC")),Wo(new _o("analytics-internal",t,"PRIVATE")),go(t1,n1),go(t1,n1,"esm2017");function t(e){try{const n=e.getProvider(Yb).getImmediate();return{logEvent:(r,a,o)=>_C(n,r,a,o)}}catch(n){throw Ur.create("interop-component-reg-failed",{reason:n})}}}SC();function By(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function MS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xC=MS,IS=new Es("auth","Firebase",MS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new Oy("@firebase/auth");function kC(t,...e){sf.logLevel<=nn.WARN&&sf.warn(`Auth (${rc}): ${t}`,...e)}function au(t,...e){sf.logLevel<=nn.ERROR&&sf.error(`Auth (${rc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,...e){throw Ny(t,...e)}function bo(t,...e){return Ny(t,...e)}function BS(t,e,n){const r=Object.assign(Object.assign({},xC()),{[e]:n});return new Es("auth","Firebase",r).create(e,{appName:t.name})}function EC(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&So(t,"argument-error"),BS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ny(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return IS.create(t,...e)}function Pt(t,e,...n){if(!t)throw Ny(e,...n)}function Bo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw au(e),new Error(e)}function Ko(t,e){t||Bo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function OC(){return r1()==="http:"||r1()==="https:"}function r1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OC()||eS()||"connection"in navigator)?navigator.onLine:!0}function TC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ko(n>e,"Short delay should be less than long delay!"),this.isMobile=OA()||AA()}get(){return AC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t,e){Ko(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Bo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Bo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Bo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new oc(3e4,6e4);function $S(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ic(t,e,n,r,a={}){return RS(t,a,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const i=nc(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),NS.fetch()(LS(t,t.config.apiHost,n,i),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function RS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},jC),e);try{const a=new MC(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Dc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const i=o.ok?s.errorMessage:s.error.message,[l,u]=i.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Dc(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Dc(t,"user-disabled",s);const g=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw BS(t,g,u);So(t,g)}}catch(a){if(a instanceof ko)throw a;So(t,"network-request-failed",{message:String(a)})}}async function PC(t,e,n,r,a={}){const o=await ic(t,e,n,r,a);return"mfaPendingCredential"in o&&So(t,"multi-factor-auth-required",{_serverResponse:o}),o}function LS(t,e,n,r){const a=`${e}${n}?${r}`;return t.config.emulator?$y(t.config,a):`${t.config.apiScheme}://${a}`}class MC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bo(this.auth,"network-request-failed")),CC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=bo(t,e,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(t,e){return ic(t,"POST","/v1/accounts:delete",e)}async function BC(t,e){return ic(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NC(t,e=!1){const n=Os(t),r=await n.getIdToken(e),a=Ry(r);Pt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:pl(ih(a.auth_time)),issuedAtTime:pl(ih(a.iat)),expirationTime:pl(ih(a.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ih(t){return Number(t)*1e3}function Ry(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return au("JWT malformed, contained fewer than 3 sections"),null;try{const a=X_(n);return a?JSON.parse(a):(au("Failed to decode base64 JWT payload"),null)}catch(a){return au("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function $C(t){const e=Ry(t);return Pt(e,"internal-error"),Pt(typeof e.exp<"u","internal-error"),Pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ko&&RC(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(t){var e;const n=t.auth,r=await t.getIdToken(),a=await Vl(t,BC(n,{idToken:r}));Pt(a==null?void 0:a.users.length,n,"internal-error");const o=a.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?FC(o.providerUserInfo):[],i=UC(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(i!=null&&i.length),g=l?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:i,metadata:new DS(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,h)}async function DC(t){const e=Os(t);await af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UC(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function FC(t){return t.map(e=>{var{providerId:n}=e,r=By(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(t,e){const n=await RS(t,{},async()=>{const r=nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,s=LS(t,a,"/v1/token",`key=${o}`),i=await t._getAdditionalHeaders();return i["Content-Type"]="application/x-www-form-urlencoded",NS.fetch()(s,{method:"POST",headers:i,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pt(e.idToken,"internal-error"),Pt(typeof e.idToken<"u","internal-error"),Pt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$C(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Pt(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await VC(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,s=new zl;return r&&(Pt(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),a&&(Pt(typeof a=="string","internal-error",{appName:e}),s.accessToken=a),o&&(Pt(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zl,this.toJSON())}_performRefresh(){return Bo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,e){Pt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class os{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,o=By(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new DS(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Vl(this,this.stsTokenManager.getToken(this.auth,e));return Pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NC(this,e)}reload(){return DC(this)}_assign(e){this!==e&&(Pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new os(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await af(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Vl(this,IC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,o,s,i,l,u,g;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(a=n.email)!==null&&a!==void 0?a:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,d=(i=n.tenantId)!==null&&i!==void 0?i:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,c=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:f,emailVerified:v,isAnonymous:_,providerData:S,stsTokenManager:E}=n;Pt(f&&E,e,"internal-error");const x=zl.fromJSON(this.name,E);Pt(typeof f=="string",e,"internal-error"),ei(h,e.name),ei(b,e.name),Pt(typeof v=="boolean",e,"internal-error"),Pt(typeof _=="boolean",e,"internal-error"),ei(w,e.name),ei(p,e.name),ei(d,e.name),ei(y,e.name),ei(m,e.name),ei(c,e.name);const k=new os({uid:f,auth:e,email:b,emailVerified:v,displayName:h,isAnonymous:_,photoURL:p,phoneNumber:w,tenantId:d,stsTokenManager:x,createdAt:m,lastLoginAt:c});return S&&Array.isArray(S)&&(k.providerData=S.map(T=>Object.assign({},T))),y&&(k._redirectEventId=y),k}static async _fromIdTokenResponse(e,n,r=!1){const a=new zl;a.updateFromServerResponse(n);const o=new os({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await af(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=new Map;function No(t){Ko(t instanceof Function,"Expected a class definition");let e=o1.get(t);return e?(Ko(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,o1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}US.type="NONE";const i1=US;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t,e,n){return`firebase:${t}:${e}:${n}`}class ra{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=lu(this.userKey,a.apiKey,o),this.fullPersistenceKey=lu("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?os._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ra(No(i1),e,r);const a=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=a[0]||No(i1);const s=lu(r,e.config.apiKey,e.name);let i=null;for(const u of n)try{const g=await u._get(s);if(g){const h=os._fromJSON(e,g);u!==o&&(i=h),o=u;break}}catch{}const l=a.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ra(o,e,r):(o=l[0],i&&await o._set(s,i.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new ra(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qS(e))return"Blackberry";if(WS(e))return"Webos";if(Ly(e))return"Safari";if((e.includes("chrome/")||VS(e))&&!e.includes("edge/"))return"Chrome";if(HS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FS(t=rr()){return/firefox\//i.test(t)}function Ly(t=rr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VS(t=rr()){return/crios\//i.test(t)}function zS(t=rr()){return/iemobile/i.test(t)}function HS(t=rr()){return/android/i.test(t)}function qS(t=rr()){return/blackberry/i.test(t)}function WS(t=rr()){return/webos/i.test(t)}function Gf(t=rr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zC(t=rr()){var e;return Gf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HC(){return TA()&&document.documentMode===10}function KS(t=rr()){return Gf(t)||HS(t)||WS(t)||qS(t)||/windows phone/i.test(t)||zS(t)}function qC(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e=[]){let n;switch(t){case"Browser":n=s1(rr());break;case"Worker":n=`${s1(rr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rc}/${r}`}async function JS(t,e){return ic(t,"GET","/v2/recaptchaConfig",$S(t,e))}function a1(t){return t!==void 0&&t.enterprise!==void 0}class YS{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function XS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=bo("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",WC().appendChild(r)})}function KC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const GC="https://www.google.com/recaptcha/enterprise.js?render=",JC="recaptcha-enterprise",YC="NO_RECAPTCHA";class XC{constructor(e){this.type=JC,this.auth=sc(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,i)=>{JS(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)i(new Error("recaptcha Enterprise site key undefined"));else{const u=new YS(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{i(l)})})}function a(o,s,i){const l=window.grecaptcha;a1(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(YC)})}):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(i=>{if(!n&&a1(window.grecaptcha))a(i,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}XS(GC+i).then(()=>{a(i,o,s)}).catch(l=>{s(l)})}}).catch(i=>{s(i)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,i)=>{try{const l=e(o);s(l)}catch(l){i(l)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l1(this),this.idTokenSubscription=new l1(this),this.beforeStateQueue=new QC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=No(n)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await ra.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,i=a==null?void 0:a._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===i)&&(l!=null&&l.user)&&(a=l.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(s){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await af(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Os(e):null;return n&&Pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(No(e))})}async initializeRecaptchaConfig(){const e=await JS(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new YS(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new XC(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Es("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&No(e)||this._popupRedirectResolver;Pt(n,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[No(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Pt(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,a):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&kC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function sc(t){return Os(t)}class l1{constructor(e){this.auth=e,this.observer=null,this.addObserver=BA(n=>this.observer=n)}get next(){return Pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t,e){const n=qf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(nf(o,e??{}))return a;So(a,"already-initialized")}return n.initialize({options:e})}function tP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(No);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function nP(t,e,n){const r=sc(t);Pt(r._canInitEmulator,r,"emulator-config-failed"),Pt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!!(n!=null&&n.disableWarnings),o=QS(e),{host:s,port:i}=rP(e),l=i===null?"":`:${i}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:i,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||oP()}function QS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rP(t){const e=QS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:c1(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:c1(s)}}}function c1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bo("not implemented")}_getIdTokenResponse(e){return Bo("not implemented")}_linkToIdToken(e,n){return Bo("not implemented")}_getReauthenticationResolver(e){return Bo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t,e){return PC(t,"POST","/v1/accounts:signInWithIdp",$S(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="http://localhost";class ms extends ZS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):So("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,o=By(n,["providerId","signInMethod"]);if(!r||!a)return null;const s=new ms(r,a);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return oa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oa(e,n)}buildRequest(){const e={requestUri:iP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Dy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends ac{constructor(){super("facebook.com")}static credential(e){return ms._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ms._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jo.credential(n,r)}catch{return null}}}jo.GOOGLE_SIGN_IN_METHOD="google.com";jo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends ac{constructor(){super("github.com")}static credential(e){return ms._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com";ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends ac{constructor(){super("twitter.com")}static credential(e,n){return ms._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await os._fromIdTokenResponse(e,r,a),s=u1(r);return new pa({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=u1(r);return new pa({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function u1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends ko{constructor(e,n,r,a){var o;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,lf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new lf(e,n,r,a)}}function e3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?lf._fromErrorAndOperation(t,o,e,r):o})}async function sP(t,e,n=!1){const r=await Vl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(t,e,n=!1){const{auth:r}=t,a="reauthenticate";try{const o=await Vl(t,e3(r,a,e,t),n);Pt(o.idToken,r,"internal-error");const s=Ry(o.idToken);Pt(s,r,"internal-error");const{sub:i}=s;return Pt(t.uid===i,r,"user-mismatch"),pa._forOperation(t,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&So(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(t,e,n=!1){const r="signIn",a=await e3(t,r,e),o=await pa._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}function cP(t,e,n,r){return Os(t).onIdTokenChanged(e,n,r)}function uP(t,e,n){return Os(t).beforeAuthStateChanged(e,n)}const cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cf,"1"),this.storage.removeItem(cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(){const t=rr();return Ly(t)||Gf(t)}const dP=1e3,hP=10;class n3 extends t3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=fP()&&qC(),this.fallbackToPolling=KS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,i,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const a=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);HC()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,hP):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}n3.type="LOCAL";const pP=n3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3 extends t3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}r3.type="SESSION";const o3=r3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Jf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,s=this.handlersMap[a];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const i=Array.from(s).map(async u=>u(n.origin,o)),l=await mP(i);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,s;return new Promise((i,l)=>{const u=Uy("",20);a.port1.start();const g=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:a,onMessage(h){const b=h;if(b.data.eventId===u)switch(b.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),i(b.data.response);break;default:clearTimeout(g),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),a.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[a.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(){return window}function gP(t){vo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(){return typeof vo().WorkerGlobalScope<"u"&&typeof vo().importScripts=="function"}async function bP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wP(){return i3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="firebaseLocalStorageDb",_P=1,uf="firebaseLocalStorage",a3="fbase_key";class lc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yf(t,e){return t.transaction([uf],e?"readwrite":"readonly").objectStore(uf)}function SP(){const t=indexedDB.deleteDatabase(s3);return new lc(t).toPromise()}function Dp(){const t=indexedDB.open(s3,_P);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(uf,{keyPath:a3})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(uf)?e(r):(r.close(),await SP(),e(await Dp()))})})}async function f1(t,e,n){const r=Yf(t,!0).put({[a3]:e,value:n});return new lc(r).toPromise()}async function xP(t,e){const n=Yf(t,!1).get(e),r=await new lc(n).toPromise();return r===void 0?null:r.value}function d1(t,e){const n=Yf(t,!0).delete(e);return new lc(n).toPromise()}const kP=800,EP=3;class l3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>EP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jf._getInstance(wP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await bP(),!this.activeServiceWorker)return;this.sender=new yP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dp();return await f1(e,cf,"1"),await d1(e,cf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>f1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>d1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Yf(a,!1).getAll();return new lc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l3.type="LOCAL";const OP=l3;new oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t,e){return e?No(e):(Pt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends ZS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AP(t){return lP(t.auth,new Fy(t),t.bypassAuthState)}function TP(t){const{auth:e,user:n}=t;return Pt(n,e,"internal-error"),aP(n,new Fy(t),t.bypassAuthState)}async function jP(t){const{auth:e,user:n}=t;return Pt(n,e,"internal-error"),sP(n,new Fy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:s,type:i}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(i)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AP;case"linkViaPopup":case"linkViaRedirect":return jP;case"reauthViaPopup":case"reauthViaRedirect":return TP;default:So(this.auth,"internal-error")}}resolve(e){Ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=new oc(2e3,1e4);async function PP(t,e,n){const r=sc(t);EC(t,e,Dy);const a=c3(r,n);return new ts(r,"signInViaPopup",e,a).executeNotNull()}class ts extends u3{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,ts.currentPopupAction&&ts.currentPopupAction.cancel(),ts.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pt(e,this.auth,"internal-error"),e}async onExecution(){Ko(this.filter.length===1,"Popup operations only handle one event");const e=Uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ts.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CP.get())};e()}}ts.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="pendingRedirect",cu=new Map;class IP extends u3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cu.get(this.auth._key());if(!e){try{const r=await BP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cu.set(this.auth._key(),e)}return this.bypassAuthState||cu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BP(t,e){const n=RP(e),r=$P(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function NP(t,e){cu.set(t._key(),e)}function $P(t){return No(t._redirectPersistence)}function RP(t){return lu(MP,t.config.apiKey,t.name)}async function LP(t,e,n=!1){const r=sc(t),a=c3(r,e),s=await new IP(r,a,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=10*60*1e3;class UP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!f3(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bo(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DP&&this.cachedEventUids.clear(),this.cachedEventUids.has(h1(e))}saveEventToCache(e){this.cachedEventUids.add(h1(e)),this.lastProcessedEventTime=Date.now()}}function h1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function f3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e={}){return ic(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HP=/^https?/;async function qP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VP(t);for(const n of e)try{if(WP(n))return}catch{}So(t,"unauthorized-domain")}function WP(t){const e=Lp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!HP.test(n))return!1;if(zP.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=new oc(3e4,6e4);function p1(){const t=vo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GP(t){return new Promise((e,n)=>{var r,a,o;function s(){p1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p1(),n(bo(t,"network-request-failed"))},timeout:KP.get()})}if(!((a=(r=vo().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=vo().gapi)===null||o===void 0)&&o.load)s();else{const i=KC("iframefcb");return vo()[i]=()=>{gapi.load?s():n(bo(t,"network-request-failed"))},XS(`https://apis.google.com/js/api.js?onload=${i}`).catch(l=>n(l))}}).catch(e=>{throw uu=null,e})}let uu=null;function JP(t){return uu=uu||GP(t),uu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=new oc(5e3,15e3),XP="__/auth/iframe",QP="emulator/auth/iframe",ZP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tM(t){const e=t.config;Pt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$y(e,QP):`https://${t.config.authDomain}/${XP}`,r={apiKey:e.apiKey,appName:t.name,v:rc},a=eM.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${nc(r).slice(1)}`}async function nM(t){const e=await JP(t),n=vo().gapi;return Pt(n,t,"internal-error"),e.open({where:document.body,url:tM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZP,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const s=bo(t,"network-request-failed"),i=vo().setTimeout(()=>{o(s)},YP.get());function l(){vo().clearTimeout(i),a(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oM=500,iM=600,sM="_blank",aM="http://localhost";class m1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lM(t,e,n,r=oM,a=iM){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let i="";const l=Object.assign(Object.assign({},rM),{width:r.toString(),height:a.toString(),top:o,left:s}),u=rr().toLowerCase();n&&(i=VS(u)?sM:n),FS(u)&&(e=e||aM,l.scrollbars="yes");const g=Object.entries(l).reduce((b,[w,p])=>`${b}${w}=${p},`,"");if(zC(u)&&i!=="_self")return cM(e||"",i),new m1(null);const h=window.open(e||"",i,g);Pt(h,t,"popup-blocked");try{h.focus()}catch{}return new m1(h)}function cM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="__/auth/handler",fM="emulator/auth/handler",dM=encodeURIComponent("fac");async function y1(t,e,n,r,a,o){Pt(t.config.authDomain,t,"auth-domain-config-required"),Pt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rc,eventId:a};if(e instanceof Dy){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",IA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,h]of Object.entries(o||{}))s[g]=h}if(e instanceof ac){const g=e.getScopes().filter(h=>h!=="");g.length>0&&(s.scopes=g.join(","))}t.tenantId&&(s.tid=t.tenantId);const i=s;for(const g of Object.keys(i))i[g]===void 0&&delete i[g];const l=await t._getAppCheckToken(),u=l?`#${dM}=${encodeURIComponent(l)}`:"";return`${hM(t)}?${nc(i).slice(1)}${u}`}function hM({config:t}){return t.emulator?$y(t,fM):`https://${t.authDomain}/${uM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="webStorageSupport";class pM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o3,this._completeRedirectFn=LP,this._overrideRedirectResult=NP}async _openPopup(e,n,r,a){var o;Ko((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await y1(e,n,r,Lp(),a);return lM(e,s,Uy())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await y1(e,n,r,Lp(),a);return gP(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Ko(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nM(e),r=new UP(e);return n.register("authEvent",a=>(Pt(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sh,{type:sh},a=>{var o;const s=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[sh];s!==void 0&&n(!!s),So(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KS()||Ly()||Gf()}}const mM=pM;var g1="@firebase/auth",b1="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function bM(t){Wo(new _o("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:i}=r.options;Pt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:i,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GS(t)},u=new ZC(r,a,o,l);return tP(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wo(new _o("auth-internal",e=>{const n=sc(e.getProvider("auth").getImmediate());return(r=>new yM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),go(g1,b1,gM(t)),go(g1,b1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=5*60,wM=Z_("authIdTokenMaxAge")||vM;let v1=null;const _M=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wM)return;const a=n==null?void 0:n.token;v1!==a&&(v1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function SM(t=RT()){const e=qf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=eP(t,{popupRedirectResolver:mM,persistence:[OP,pP,o3]}),r=Z_("authTokenSyncURL");if(r){const o=_M(r);uP(n,o,()=>o(n.currentUser)),cP(n,s=>o(s))}const a=kA("auth");return a&&nP(n,`http://${a}`),n}bM("Browser");const xM={apiKey:"AIzaSyAmFDMEOV96otcEIm_S2cCPGfqqRb2Md-Y",authDomain:"blogging-website-88ff8.firebaseapp.com",projectId:"blogging-website-88ff8",storageBucket:"blogging-website-88ff8.appspot.com",messagingSenderId:"58904808482",appId:"1:58904808482:web:fc48f08b2d469342c6ce7b",measurementId:"G-YKGYXBR3V9"};iS(xM);const kM=new jo,EM=SM(),OM=async()=>{let t=null;return await PP(EM,kM).then(e=>{t=e.user}).catch(e=>{console.log(e)}),t},w1=({type:t})=>{let{userAuth:{access_token:e},setUserAuth:n}=he.useContext(Mn);const r=(s,i)=>{Gt.post("https://quick-quill-server.onrender.com"+s,i).then(({data:l})=>{Xu("user",JSON.stringify(l)),n(l)}).catch(({response:l})=>{mt.error(l.data.error)})},a=s=>{s.preventDefault();let i=t=="sign-in"?"/signin":"/signup",l=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,u=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/,g=new FormData(formElement),h={};for(let[d,y]of g.entries())h[d]=y;let{fullname:b,email:w,password:p}=h;if(b&&b.length<3)return mt.error("Fullname must be at least 3 letters long");if(!w.length)return mt.error("All fields are required. Please enter your Full Name, Email and Password");if(!l.test(w))return mt.error("Invalid email");if(!u.test(p))return mt.error("Password should be 6-20 characters, with at least 1 number, 1 lowercase letter and 1 uppercase letter");r(i,h)},o=s=>{s.preventDefault(),OM().then(i=>{let l="/google-auth",u={access_token:i.accessToken};r(l,u)}).catch(i=>(mt.error("There was a problem logging in with Google. Try again."),console.log(i)))};return e?J.jsx(Xm,{to:"/"}):J.jsx(Cn,{keyValue:t,children:J.jsxs("section",{className:"h-cover flex items-center justify-center",children:[J.jsx(oo,{}),J.jsxs("form",{id:"formElement",className:"w-[80&] max-w[400px]",children:[J.jsx("h1",{className:"text-4xl font-helvetica capitalize text-center mb-24 ",children:t=="sign-in"?"Welcome Back":"Sign up"}),t!="sign-in"?J.jsx(Io,{name:"fullname",type:"text",placeholder:"Full Name",icon:"fi-rr-user"}):"",J.jsx(Io,{name:"email",type:"email",placeholder:"Email",icon:"fi-rr-envelopes"}),J.jsx(Io,{name:"password",type:"password",placeholder:"Password",icon:"fi-rr-lock"}),J.jsx("button",{className:"btn-dark center mt-14",type:"submit",onClick:a,children:t.replace("-"," ")}),J.jsxs("div",{className:"relative w-full flex items-center gap-2 my-10 opacity-10 uppercase text-black font-bold",children:[J.jsx("hr",{className:"w-1/2 border-black"}),J.jsx("p",{children:"or"}),J.jsx("hr",{className:"w-1/2 border-black"})]}),J.jsxs("button",{className:"btn-dark flex items-center justify-center gap-4 w-[90%] center ",onClick:o,children:[J.jsx("img",{src:AO,className:"w-5"}),"continue with google"]}),t=="sign-in"?J.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:["Don't have an account?",J.jsx(Xt,{to:"/signup",className:"underline text-black text-xl ml-1",children:"Sign up now!"})]}):J.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:["Already a member?",J.jsx(Xt,{to:"/signin",className:"underline text-black text-xl ml-1",children:"Sign in!"})]})]})]})})},AM="/assets/blog banner light-4c269e06.png",TM="/assets/blog banner dark-5dfd346c.png",Vy=async t=>{let e=null;return await Gt.get("https://quick-quill-server.onrender.com/get-upload-url").then(async({data:{uploadURL:n}})=>{await Gt({method:"PUT",url:n,headers:{"Content-Type":"multipart/form-data"},data:t}).then(()=>{e=n.split("?")[0]})}),e};var jM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ah(){}Object.assign(ah,{default:ah,register:ah,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const r=n instanceof Node;e.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),r=parseInt(n.getPropertyValue("border-top-width")),a=parseInt(n.getPropertyValue("border-left-width")),o=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,i=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-a>e.scrollLeft+e.clientWidth,u=o&&!s;(o||s)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(i||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-a+this.clientWidth/2),(o||s||i||l)&&!t&&this.scrollIntoView(u)});let CM=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var d3=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(d3||{});const Ot={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},PM={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function cc(t,e,n="log",r,a="color: inherit"){if(!("console"in window)||!window.console[n])return;const o=["info","log","warn","error"].includes(n),s=[];switch(cc.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!o||t)return;break}r&&s.push(r);const i="Editor.js 2.27.2",l=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;t&&(o?(s.unshift(l,a),e=`%c${i}%c ${e}`):e=`( ${i} )${e}`);try{o?r?console[n](`${e} %o`,...s):console[n](e,...s):console[n](e)}catch{}}cc.logLevel="VERBOSE";function MM(t){cc.logLevel=t}const Ut=cc.bind(window,!1),Jr=cc.bind(window,!0);function ys(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function un(t){return ys(t)==="function"||ys(t)==="asyncfunction"}function Wn(t){return ys(t)==="object"}function Ii(t){return ys(t)==="string"}function IM(t){return ys(t)==="boolean"}function _1(t){return ys(t)==="number"}function S1(t){return ys(t)==="undefined"}function no(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function h3(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function p3(t,e=()=>{},n=()=>{}){async function r(a,o,s){try{await a.function(a.data),await o(S1(a.data)?{}:a.data)}catch{s(S1(a.data)?{}:a.data)}}return t.reduce(async(a,o)=>(await a,r(o,e,n)),Promise.resolve())}function m3(t){return Array.prototype.slice.call(t)}function gs(t,e){return function(){const n=this,r=arguments;window.setTimeout(()=>t.apply(n,r),e)}}function BM(t){return t.name.split(".").pop()}function NM(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function $M(t,e,n){let r;return(...a)=>{const o=this,s=()=>{r=null,n||t.apply(o,a)},i=n&&!r;window.clearTimeout(r),r=window.setTimeout(s,e),i&&t.apply(o,a)}}function Up(t,e,n=void 0){let r,a,o,s=null,i=0;n||(n={});const l=function(){i=n.leading===!1?0:Date.now(),s=null,o=t.apply(r,a),s||(r=a=null)};return function(){const u=Date.now();!i&&n.leading===!1&&(i=u);const g=e-(u-i);return r=this,a=arguments,g<=0||g>e?(s&&(clearTimeout(s),s=null),i=u,o=t.apply(r,a),s||(r=a=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,g)),o}}function RM(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function ff(t){return t[0].toUpperCase()+t.slice(1)}function Fp(t,...e){if(!e.length)return t;const n=e.shift();if(Wn(t)&&Wn(n))for(const r in n)Wn(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Fp(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Fp(t,...e)}function y3(t){const e=RM();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function LM(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function DM(){return CM(10)}function UM(t){window.open(t,"_blank")}function FM(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function Vp(t,e,n){const r=`${e} is deprecated and will be removed in the next major release. Please use the ${n} instead.`;t&&Jr(r,"warn")}function Aa(t,e,n){const r=n.value?"value":"get",a=n[r],o=`#${e}Cache`;if(n[r]=function(...s){return this[o]===void 0&&(this[o]=a.apply(this,...s)),this[o]},r==="get"&&n.set){const s=n.set;n.set=function(i){delete t[o],s.apply(this,i)}}return n}const g3=650;function is(){return window.matchMedia(`(max-width: ${g3}px)`).matches}const x1=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function VM(t,e){const n=Array.isArray(t)||Wn(t),r=Array.isArray(e)||Wn(e);return n||r?JSON.stringify(t)===JSON.stringify(e):t===e}class Me{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,r={}){const a=document.createElement(e);Array.isArray(n)?a.classList.add(...n):n&&a.classList.add(n);for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&(a[o]=r[o]);return a}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(r=>e.appendChild(r)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>e.prepend(r))):e.prepend(n)}static swap(e,n){const r=document.createElement("div"),a=e.parentNode;a.insertBefore(r,e),a.insertBefore(e,n),a.insertBefore(n,r),a.removeChild(r)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return m3(e.querySelectorAll(Me.allInputsSelector)).reduce((n,r)=>Me.isNativeInput(r)||Me.containsOnlyInlineElements(r)?[...n,r]:[...n,...Me.getDeepestBlockElements(r)],[])}static getDeepestNode(e,n=!1){const r=n?"lastChild":"firstChild",a=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let o=e[r];if(Me.isSingleTag(o)&&!Me.isNativeInput(o)&&!Me.isLineBreakTag(o))if(o[a])o=o[a];else if(o.parentNode[a])o=o.parentNode[a];else return o.parentNode;return this.getDeepestNode(o,n)}return e}static isElement(e){return _1(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return _1(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if(Me.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=Me.isContentEditable(e);return n}static isNodeEmpty(e){let n;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?n=e.value:n=e.textContent.replace("",""),n.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e){e.normalize();const n=[e];for(;n.length>0;)if(e=n.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e))return!1;e.childNodes&&n.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=Me.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return Me.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;Ii(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const r=a=>!Me.blockElements.includes(a.tagName.toLowerCase())&&Array.from(a.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(e){return Me.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,r)=>[...n,...Me.getDeepestBlockElements(r)],[])}static getHolder(e){return Ii(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,a=window.pageYOffset||document.documentElement.scrollTop,o=n.top+a,s=n.left+r;return{top:o,left:s,bottom:o+n.height,right:s+n.width}}}const zM={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},HM={Text:"",Link:"",Bold:"",Italic:""},qM={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},WM={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},b3={ui:zM,toolNames:HM,tools:qM,blockTunes:WM},Ms=class{static ui(t,e){return Ms._t(t,e)}static t(t,e){return Ms._t(t,e)}static setDictionary(t){Ms.currentDictionary=t}static _t(t,e){const n=Ms.getNamespace(t);return!n||!n[e]?e:n[e]}static getNamespace(t){return t.split(".").reduce((e,n)=>!e||!Object.keys(e).length?{}:e[n],Ms.currentDictionary)}};let mr=Ms;mr.currentDictionary=b3;class v3 extends Error{}class Qf{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const r=a=>{const o=n(a),s=this.subscribers[e].indexOf(r);return s!==-1&&this.subscribers[e].splice(s,1),o};this.subscribers[e].push(r)}emit(e,n){no(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,a)=>{const o=a(r);return o!==void 0?o:r},n)}off(e,n){for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===n){delete this.subscribers[e][r];break}}destroy(){this.subscribers=null}}function ml(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()}})}class zy{constructor(){this.allListeners=[]}on(e,n,r,a=!1){const o=FM("l"),s={id:o,element:e,eventType:n,handler:r,options:a};if(!this.findOne(e,n,r))return this.allListeners.push(s),e.addEventListener(n,r,a),o}off(e,n,r,a){const o=this.findAll(e,n,r);o.forEach((s,i)=>{const l=this.allListeners.indexOf(o[i]);l>-1&&(this.allListeners.splice(l,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,r){const a=this.findAll(e,n,r);return a.length>0?a[0]:null}findAll(e,n,r){let a;const o=e?this.findByEventTarget(e):[];return e&&n&&r?a=o.filter(s=>s.eventType===n&&s.handler===r):e&&n?a=o.filter(s=>s.eventType===n):a=o,a}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}}class Ht{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new zy,this.readOnlyMutableListeners={on:(r,a,o,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,a,o,s))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===Ht)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class bt{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?Me.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(bt.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${bt.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${bt.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!bt.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return Ut("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return Ut("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const a=document.createElement("span");if(a.getBoundingClientRect){a.appendChild(document.createTextNode("")),n.insertNode(a),r=a.getBoundingClientRect();const o=a.parentNode;o.removeChild(a),o.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const r=document.createRange(),a=window.getSelection();return Me.isNativeInput(e)?Me.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(r.setStart(e,n),r.setEnd(e,n),a.removeAllRanges(),a.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const n=bt.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=bt.range;if(e===null)return;const n=Me.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return Me.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=Me.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=bt.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,r=10){const a=window.getSelection();let o=null;return!a||!a.anchorNode||!a.focusNode?null:([a.anchorNode,a.focusNode].forEach(s=>{let i=r;for(;i>0&&s.parentNode&&!(s.tagName===e&&(o=s,n&&s.classList&&!s.classList.contains(n)&&(o=null),o));)s=s.parentNode,i--}),o)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),n.addRange(r)}}function KM(t,e){const{type:n,target:r,addedNodes:a,removedNodes:o}=t;if(r===e)return!0;if(["characterData","attributes"].includes(n)){const l=r.nodeType===Node.TEXT_NODE?r.parentNode:r;return e.contains(l)}const s=Array.from(a).some(l=>e.contains(l)),i=Array.from(o).some(l=>e.contains(l));return s||i}const zp="redactor dom changed",w3="block changed",_3="fake cursor is about to be toggled",S3="fake cursor have been set";var fi=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(fi||{});class Nn extends Qf{constructor({id:e=DM(),data:n,tool:r,api:a,readOnly:o,tunesData:s},i){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(l=void 0)=>{const u=l===void 0,g=l instanceof InputEvent;!u&&!g&&this.detectToolRootChange(l);let h;u||g?h=!0:h=!(l.length>0&&l.every(b=>{const{addedNodes:w,removedNodes:p,target:d}=b;return[...Array.from(w),...Array.from(p),d].some(y=>Me.isElement(y)?y.dataset.mutationFree==="true":!1)})),h&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.api=a,this.editorEventBus=i||null,this.blockAPI=new ml(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,o),this.tunes=r.tunes,this.composeTunes(s),this.holder=this.compose(),this.watchBlockMutations(),this.addInputEvents()}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=Me.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(r=>r===e||r.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!no(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return un(this.toolInstance.merge)}get isEmpty(){const e=Me.isEmpty(this.pluginsContent),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set focused(e){this.holder.classList.toggle(Nn.CSS.focused,e)}get focused(){return this.holder.classList.contains(Nn.CSS.focused)}set selected(e){var n,r;this.holder.classList.toggle(Nn.CSS.selected,e);const a=e===!0&&bt.isRangeInsideContainer(this.holder),o=e===!1&&bt.isFakeCursorInsideContainer(this.holder);(a||o)&&((n=this.editorEventBus)==null||n.emit(_3,{state:e}),a?bt.addFakeCursor():bt.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(S3,{state:e}))}get selected(){return this.holder.classList.contains(Nn.CSS.selected)}set stretched(e){this.holder.classList.toggle(Nn.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(Nn.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(Nn.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(un(this.toolInstance[e])){e==="appendCallback"&&Ut("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(r){Ut(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([o,s])=>{if(un(s.save))try{n[o]=s.save()}catch(i){Ut(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",i)}});const r=window.performance.now();let a;return Promise.resolve(e).then(o=>(a=window.performance.now(),{id:this.id,tool:this.name,data:o,tunes:n,time:a-r})).catch(o=>{Ut(`Saving process for ${this.name} tool failed due to the ${o}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=document.createElement("div"),n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],a=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(o=>o.render());return[r,a].flat().forEach(o=>{Me.isElement(o)?e.appendChild(o):Array.isArray(o)?n.push(...o):n.push(o)}),[n,e]}updateCurrentInput(){this.currentInput=Me.isNativeInput(document.activeElement)||!bt.anchorNode?document.activeElement:bt.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),un(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data;return e.find(r=>Object.entries(r.data).some(([a,o])=>n[a]&&VM(n[a],o)))}compose(){const e=Me.make("div",Nn.CSS.wrapper),n=Me.make("div",Nn.CSS.content),r=this.toolInstance.render();this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let a=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(o=>{if(un(o.wrap))try{a=o.wrap(a)}catch(s){Ut(`Tune ${o.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(a),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),Me.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),Me.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(a=>KM(a,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(zp,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(zp,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}}class GM extends Ht{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},r={},a,o,s,i)=>{const l=this.Editor.BlockManager.insert({id:i,tool:e,data:n,index:a,needToFocus:o,replace:s});return new ml(l)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new Nn({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=(e,n)=>{const{BlockManager:r}=this.Editor,a=r.getBlockById(e);if(!a){Ut("blocks.update(): Block with passed id was not found","warn");return}const o=r.getBlockIndex(a);r.insert({id:a.id,tool:a.name,data:n,index:o,replace:!0,tunes:a.tunes})}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,update:this.update,composeBlockData:this.composeBlockData}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){Jr("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){Jr("There is no block at index `"+e+"`","warn");return}return new ml(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(Jr("There is no block with id `"+e+"`","warn"),null):new ml(n)}swap(e,n){Ut("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e){try{this.Editor.BlockManager.removeBlock(e)}catch(n){Jr(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}clear(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}render(e){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(e.blocks)}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){Vp(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=n)}insertNewBlock(){Ut("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}}class JM extends Ht{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,r=0)=>this.Editor.BlockManager.blocks[e]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],n,r),!0):!1,this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class YM extends Ht{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}}class Hy extends Ht{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{Jr("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:n=>mr.t(Hy.getNamespace(e),n)})}}class XM extends Ht{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}}class QM extends Ht{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class ZM extends Ht{get methods(){return{on:(e,n,r,a)=>this.on(e,n,r,a),off:(e,n,r,a)=>this.off(e,n,r,a),offById:e=>this.offById(e)}}on(e,n,r,a){return this.listeners.on(e,n,r,a)}off(e,n,r,a){this.listeners.off(e,n,r,a)}offById(e){this.listeners.offById(e)}}var Hp={},eI={get exports(){return Hp},set exports(t){Hp=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function a(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=r,a.d=function(o,s,i){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:i})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)a.d(i,l,(function(u){return o[u]}).bind(null,l));return i},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="/",a(a.s=0)}([function(n,r,a){a(1),n.exports=function(){var o=a(6),s="cdx-notify--bounce-in",i=null;return{show:function(l){if(l.message){(function(){if(i)return!0;i=o.getWrapper(),document.body.appendChild(i)})();var u=null,g=l.time||8e3;switch(l.type){case"confirm":u=o.confirm(l);break;case"prompt":u=o.prompt(l);break;default:u=o.alert(l),window.setTimeout(function(){u.remove()},g)}i.appendChild(u),u.classList.add(s)}}}}()},function(n,r,a){var o=a(2);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(4)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,a){(n.exports=a(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(a){var o=[];return o.toString=function(){return this.map(function(s){var i=function(l,u){var g=l[1]||"",h=l[3];if(!h)return g;if(u&&typeof btoa=="function"){var b=(p=h,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),w=h.sources.map(function(d){return"/*# sourceURL="+h.sourceRoot+d+" */"});return[g].concat(w).concat([b]).join(`
`)}var p;return[g].join(`
`)}(s,a);return s[2]?"@media "+s[2]+"{"+i+"}":i}).join("")},o.i=function(s,i){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},u=0;u<this.length;u++){var g=this[u][0];typeof g=="number"&&(l[g]=!0)}for(u=0;u<s.length;u++){var h=s[u];typeof h[0]=="number"&&l[h[0]]||(i&&!h[2]?h[2]=i:i&&(h[2]="("+h[2]+") and ("+i+")"),o.push(h))}},o}},function(n,r,a){var o,s,i={},l=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),u=function(x){var k={};return function(T){if(typeof T=="function")return T();if(k[T]===void 0){var C=(function(M){return document.querySelector(M)}).call(this,T);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}k[T]=C}return k[T]}}(),g=null,h=0,b=[],w=a(5);function p(x,k){for(var T=0;T<x.length;T++){var C=x[T],M=i[C.id];if(M){M.refs++;for(var N=0;N<M.parts.length;N++)M.parts[N](C.parts[N]);for(;N<C.parts.length;N++)M.parts.push(v(C.parts[N],k))}else{var L=[];for(N=0;N<C.parts.length;N++)L.push(v(C.parts[N],k));i[C.id]={id:C.id,refs:1,parts:L}}}}function d(x,k){for(var T=[],C={},M=0;M<x.length;M++){var N=x[M],L=k.base?N[0]+k.base:N[0],R={css:N[1],media:N[2],sourceMap:N[3]};C[L]?C[L].parts.push(R):T.push(C[L]={id:L,parts:[R]})}return T}function y(x,k){var T=u(x.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var C=b[b.length-1];if(x.insertAt==="top")C?C.nextSibling?T.insertBefore(k,C.nextSibling):T.appendChild(k):T.insertBefore(k,T.firstChild),b.push(k);else if(x.insertAt==="bottom")T.appendChild(k);else{if(typeof x.insertAt!="object"||!x.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var M=u(x.insertInto+" "+x.insertAt.before);T.insertBefore(k,M)}}function m(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x);var k=b.indexOf(x);k>=0&&b.splice(k,1)}function c(x){var k=document.createElement("style");return x.attrs.type===void 0&&(x.attrs.type="text/css"),f(k,x.attrs),y(x,k),k}function f(x,k){Object.keys(k).forEach(function(T){x.setAttribute(T,k[T])})}function v(x,k){var T,C,M,N;if(k.transform&&x.css){if(!(N=k.transform(x.css)))return function(){};x.css=N}if(k.singleton){var L=h++;T=g||(g=c(k)),C=E.bind(null,T,L,!1),M=E.bind(null,T,L,!0)}else x.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=function(R){var D=document.createElement("link");return R.attrs.type===void 0&&(R.attrs.type="text/css"),R.attrs.rel="stylesheet",f(D,R.attrs),y(R,D),D}(k),C=(function(R,D,z){var U=z.css,O=z.sourceMap,I=D.convertToAbsoluteUrls===void 0&&O;(D.convertToAbsoluteUrls||I)&&(U=w(U)),O&&(U+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(O))))+" */");var j=new Blob([U],{type:"text/css"}),P=R.href;R.href=URL.createObjectURL(j),P&&URL.revokeObjectURL(P)}).bind(null,T,k),M=function(){m(T),T.href&&URL.revokeObjectURL(T.href)}):(T=c(k),C=(function(R,D){var z=D.css,U=D.media;if(U&&R.setAttribute("media",U),R.styleSheet)R.styleSheet.cssText=z;else{for(;R.firstChild;)R.removeChild(R.firstChild);R.appendChild(document.createTextNode(z))}}).bind(null,T),M=function(){m(T)});return C(x),function(R){if(R){if(R.css===x.css&&R.media===x.media&&R.sourceMap===x.sourceMap)return;C(x=R)}else M()}}n.exports=function(x,k){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(k=k||{}).attrs=typeof k.attrs=="object"?k.attrs:{},k.singleton||typeof k.singleton=="boolean"||(k.singleton=l()),k.insertInto||(k.insertInto="head"),k.insertAt||(k.insertAt="bottom");var T=d(x,k);return p(T,k),function(C){for(var M=[],N=0;N<T.length;N++){var L=T[N];(R=i[L.id]).refs--,M.push(R)}for(C&&p(d(C,k),k),N=0;N<M.length;N++){var R;if((R=M[N]).refs===0){for(var D=0;D<R.parts.length;D++)R.parts[D]();delete i[R.id]}}}};var _,S=(_=[],function(x,k){return _[x]=k,_.filter(Boolean).join(`
`)});function E(x,k,T,C){var M=T?"":C.css;if(x.styleSheet)x.styleSheet.cssText=S(k,M);else{var N=document.createTextNode(M),L=x.childNodes;L[k]&&x.removeChild(L[k]),L.length?x.insertBefore(N,L[k]):x.appendChild(N)}}},function(n,r){n.exports=function(a){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!a||typeof a!="string")return a;var s=o.protocol+"//"+o.host,i=s+o.pathname.replace(/\/[^\/]*$/,"/");return a.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,u){var g,h=u.trim().replace(/^"(.*)"$/,function(b,w){return w}).replace(/^'(.*)'$/,function(b,w){return w});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h)?l:(g=h.indexOf("//")===0?h:h.indexOf("/")===0?s+h:i+h.replace(/^\.\//,""),"url("+JSON.stringify(g)+")")})}},function(n,r,a){var o,s,i,l,u,g,h,b,w;n.exports=(o="cdx-notifies",s="cdx-notify",i="cdx-notify__cross",l="cdx-notify__button--confirm",u="cdx-notify__button--cancel",g="cdx-notify__input",h="cdx-notify__button",b="cdx-notify__btns-wrapper",{alert:w=function(p){var d=document.createElement("DIV"),y=document.createElement("DIV"),m=p.message,c=p.style;return d.classList.add(s),c&&d.classList.add(s+"--"+c),d.innerHTML=m,y.classList.add(i),y.addEventListener("click",d.remove.bind(d)),d.appendChild(y),d},confirm:function(p){var d=w(p),y=document.createElement("div"),m=document.createElement("button"),c=document.createElement("button"),f=d.querySelector("."+i),v=p.cancelHandler,_=p.okHandler;return y.classList.add(b),m.innerHTML=p.okText||"Confirm",c.innerHTML=p.cancelText||"Cancel",m.classList.add(h),c.classList.add(h),m.classList.add(l),c.classList.add(u),v&&typeof v=="function"&&(c.addEventListener("click",v),f.addEventListener("click",v)),_&&typeof _=="function"&&m.addEventListener("click",_),m.addEventListener("click",d.remove.bind(d)),c.addEventListener("click",d.remove.bind(d)),y.appendChild(m),y.appendChild(c),d.appendChild(y),d},prompt:function(p){var d=w(p),y=document.createElement("div"),m=document.createElement("button"),c=document.createElement("input"),f=d.querySelector("."+i),v=p.cancelHandler,_=p.okHandler;return y.classList.add(b),m.innerHTML=p.okText||"Ok",m.classList.add(h),m.classList.add(l),c.classList.add(g),p.placeholder&&c.setAttribute("placeholder",p.placeholder),p.default&&(c.value=p.default),p.inputType&&(c.type=p.inputType),v&&typeof v=="function"&&f.addEventListener("click",v),_&&typeof _=="function"&&m.addEventListener("click",function(){_(c.value)}),m.addEventListener("click",d.remove.bind(d)),y.appendChild(c),y.appendChild(m),d.appendChild(y),d},getWrapper:function(){var p=document.createElement("DIV");return p.classList.add(o),p}})}])})})(eI);const tI=Xf(Hp);class nI{show(e){tI.show(e)}}class rI extends Ht{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new nI}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class oI extends Ht{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var qp={},iI={get exports(){return qp},set exports(t){qp=t}};(function(t,e){(function(n,r){t.exports=r()})(jM,function(){function n(h){var b=h.tags,w=Object.keys(b),p=w.map(function(d){return typeof b[d]}).every(function(d){return d==="object"||d==="boolean"||d==="function"});if(!p)throw new Error("The configuration was invalid");this.config=h}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function a(h){return r.indexOf(h.nodeName)!==-1}var o=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(h){return o.indexOf(h.nodeName)!==-1}n.prototype.clean=function(h){const b=document.implementation.createHTMLDocument(),w=b.createElement("div");return w.innerHTML=h,this._sanitize(b,w),w.innerHTML},n.prototype._sanitize=function(h,b){var w=i(h,b),p=w.firstChild();if(p)do{if(p.nodeType===Node.TEXT_NODE)if(p.data.trim()===""&&(p.previousElementSibling&&a(p.previousElementSibling)||p.nextElementSibling&&a(p.nextElementSibling))){b.removeChild(p),this._sanitize(h,b);break}else continue;if(p.nodeType===Node.COMMENT_NODE){b.removeChild(p),this._sanitize(h,b);break}var d=s(p),y;d&&(y=Array.prototype.some.call(p.childNodes,a));var m=!!b.parentNode,c=a(b)&&a(p)&&m,f=p.nodeName.toLowerCase(),v=l(this.config,f,p),_=d&&y;if(_||u(p,v)||!this.config.keepNestedBlockElements&&c){if(!(p.nodeName==="SCRIPT"||p.nodeName==="STYLE"))for(;p.childNodes.length>0;)b.insertBefore(p.childNodes[0],p);b.removeChild(p),this._sanitize(h,b);break}for(var S=0;S<p.attributes.length;S+=1){var E=p.attributes[S];g(E,v,p)&&(p.removeAttribute(E.name),S=S-1)}this._sanitize(h,p)}while(p=w.nextSibling())};function i(h,b){return h.createTreeWalker(b,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(h,b,w){return typeof h.tags[b]=="function"?h.tags[b](w):h.tags[b]}function u(h,b){return typeof b>"u"?!0:typeof b=="boolean"?!b:!1}function g(h,b,w){var p=h.name.toLowerCase();return b===!0?!1:typeof b[p]=="function"?!b[p](h.value,w):typeof b[p]>"u"||b[p]===!1?!0:typeof b[p]=="string"?b[p]!==h.value:!1}return n})})(iI);const sI=qp;function x3(t,e){return t.map(n=>{const r=un(e)?e(n.tool):e;return no(r)||(n.data=qy(n.data,r)),n})}function $o(t,e={}){const n={tags:e};return new sI(n).clean(t)}function qy(t,e){return Array.isArray(t)?aI(t,e):Wn(t)?lI(t,e):Ii(t)?cI(t,e):t}function aI(t,e){return t.map(n=>qy(n,e))}function lI(t,e){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const a=t[r],o=uI(e[r])?e[r]:e;n[r]=qy(a,o)}return n}function cI(t,e){return Wn(e)?$o(t,e):e===!1?$o(t,{}):t}function uI(t){return Wn(t)||IM(t)||un(t)}class fI extends Ht{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return $o(e,n)}}class dI extends Ht{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Jr(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class hI extends Ht{get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,n){return new bt().findParentTag(e,n)}expandToTag(e){new bt().expandToTag(e)}}class pI extends Ht{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class mI extends Ht{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Jr("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Jr("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var Wp={},yI={get exports(){return Wp},set exports(t){Wp=t}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function a(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=r,a.d=function(o,s,i){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:i})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)a.d(i,l,(function(u){return o[u]}).bind(null,l));return i},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s=0)}([function(n,r,a){n.exports=a(1)},function(n,r,a){a.r(r),a.d(r,"default",function(){return o});class o{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(i,l,u){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const g=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},u);if(g.hidingDelay&&(this.hidingDelay=g.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),g.placement){case"top":this.placeTop(i,g);break;case"left":this.placeLeft(i,g);break;case"right":this.placeRight(i,g);break;case"bottom":default:this.placeBottom(i,g)}g&&g.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},g.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(i=!1){if(this.hidingDelay&&!i)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(i,l,u){i.addEventListener("mouseenter",()=>{this.show(i,l,u)}),i.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const i="codex-tooltips-style";if(document.getElementById(i))return;const l=a(2),u=this.make("style",null,{textContent:l.toString(),id:i});this.prepend(document.head,u)}placeBottom(i,l){const u=i.getBoundingClientRect(),g=u.left+i.clientWidth/2-this.nodes.wrapper.offsetWidth/2,h=u.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",g,h)}placeTop(i,l){const u=i.getBoundingClientRect(),g=u.left+i.clientWidth/2-this.nodes.wrapper.offsetWidth/2,h=u.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",g,h)}placeLeft(i,l){const u=i.getBoundingClientRect(),g=u.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,h=u.top+window.pageYOffset+i.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",g,h)}placeRight(i,l){const u=i.getBoundingClientRect(),g=u.right+this.offsetRight+l.marginRight,h=u.top+window.pageYOffset+i.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",g,h)}applyPlacement(i,l,u){this.nodes.wrapper.classList.add(this.CSS.placement[i]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=u+"px"}make(i,l=null,u={}){const g=document.createElement(i);Array.isArray(l)?g.classList.add(...l):l&&g.classList.add(l);for(const h in u)u.hasOwnProperty(h)&&(g[h]=u[h]);return g}append(i,l){Array.isArray(l)?l.forEach(u=>i.appendChild(u)):i.appendChild(l)}prepend(i,l){Array.isArray(l)?(l=l.reverse()).forEach(u=>i.prepend(u)):i.prepend(l)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(yI);const gI=Xf(Wp);class Wy{constructor(){this.lib=new gI}destroy(){this.lib.destroy()}show(e,n,r){this.lib.show(e,n,r)}hide(e=!1){this.lib.hide(e)}onHover(e,n,r){this.lib.onHover(e,n,r)}}class bI extends Ht{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.tooltip=new Wy}destroy(){this.tooltip.destroy()}get methods(){return{show:(e,n,r)=>this.show(e,n,r),hide:()=>this.hide(),onHover:(e,n,r)=>this.onHover(e,n,r)}}show(e,n,r){this.tooltip.show(e,n,r)}hide(){this.tooltip.hide()}onHover(e,n,r){this.tooltip.onHover(e,n,r)}}class vI extends Ht{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function k3(t,e){const n={};return Object.entries(t).forEach(([r,a])=>{if(Wn(a)){const o=e?`${e}.${r}`:r;Object.values(a).every(s=>Ii(s))?n[r]=o:n[r]=k3(a,o);return}n[r]=a}),n}const Yr=k3(b3);function wI(t,e){const n={};return Object.keys(t).forEach(r=>{const a=e[r];a!==void 0?n[a]=t[r]:n[r]=t[r]}),n}const _I='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',E3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',SI='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',xI='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',kI='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',EI='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',k1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',OI='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',AI='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',TI='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',jI='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';class xn{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(xn.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(xn.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(xn.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(xn.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(xn.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(xn.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const n=Me.make("div",xn.CSS.container);return e.name&&(n.dataset.itemName=e.name),this.nodes.icon=Me.make("div",xn.CSS.icon,{innerHTML:e.icon||kI}),n.appendChild(this.nodes.icon),n.appendChild(Me.make("div",xn.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&n.appendChild(Me.make("div",xn.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&n.classList.add(xn.CSS.active),e.isDisabled&&n.classList.add(xn.CSS.disabled),n}enableConfirmationMode(e){const n={...this.params,...e,confirmation:e.confirmation},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(xn.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(xn.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(xn.CSS.noHover),this.nodes.root.classList.add(xn.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(e.confirmation===void 0)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(xn.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(xn.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}}const Qa=class{constructor(t,e){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=e}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(Qa.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(Qa.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(this.items.length===0)return this.cursor;let e=this.cursor;return e===-1?e=t===Qa.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),t===Qa.directions.RIGHT?e=(e+1)%this.items.length:e=(this.items.length+e-1)%this.items.length,Me.canSetCaret(this.items[e])&&gs(()=>bt.setCursor(this.items[e]),50)(),this.items[e].classList.add(this.focusedCssClass),e}};let Is=Qa;Is.directions={RIGHT:"right",LEFT:"left"};class Go{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(Go.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case Ot.TAB:this.handleTabPress(n);break;case Ot.LEFT:case Ot.UP:this.flipLeft();break;case Ot.RIGHT:case Ot.DOWN:this.flipRight();break;case Ot.ENTER:this.handleEnterPress(n);break}},this.iterator=new Is(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||Go.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[Ot.TAB,Ot.LEFT,Ot.RIGHT,Ot.ENTER,Ot.UP,Ot.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?Is.directions.LEFT:Is.directions.RIGHT){case Is.directions.RIGHT:this.flipRight();break;case Is.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),un(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}}class yl{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:n,placeholder:r}){this.listeners=new zy,this.items=e,this.onSearch=n,this.render(r)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=Me.make("div",yl.CSS.wrapper);const n=Me.make("div",yl.CSS.icon,{innerHTML:TI});this.input=Me.make("input",yl.CSS.input,{placeholder:e}),this.wrapper.appendChild(n),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n;const r=((n=e.title)==null?void 0:n.toLowerCase())||"",a=this.searchQuery.toLowerCase();return r.includes(a)}}const Za=class{lock(){x1?this.lockHard():document.body.classList.add(Za.CSS.scrollLocked)}unlock(){x1?this.unlockHard():document.body.classList.remove(Za.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(Za.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(Za.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let O3=Za;O3.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var CI=Object.defineProperty,PI=Object.getOwnPropertyDescriptor,MI=(t,e,n,r)=>{for(var a=r>1?void 0:r?PI(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(a=(r?s(e,n,a):s(a))||a);return r&&a&&CI(e,n,a),a},Hl=(t=>(t.Close="close",t))(Hl||{});const zn=class extends Qf{constructor(t){super(),this.scopeElement=document.body,this.listeners=new zy,this.scrollLocker=new O3,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(e=>e.isFocused).onFocus()},this.items=t.items.map(e=>new xn(e)),t.scopeElement!==void 0&&(this.scopeElement=t.scopeElement),t.messages&&(this.messages={...this.messages,...t.messages}),t.customContentFlippableItems&&(this.customContentFlippableItems=t.customContentFlippableItems),this.make(),t.customContent&&this.addCustomContent(t.customContent),t.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(zn.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(zn.CSS.overlayHidden),this.nodes.popover.classList.add(zn.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&setTimeout(()=>{this.search.focus()},100),is()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(zn.CSS.popoverOpened),this.nodes.popover.classList.remove(zn.CSS.popoverOpenTop),this.nodes.overlay.classList.add(zn.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(t=>t.reset()),this.search!==void 0&&this.search.clear(),is()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),is()&&this.scrollLocker.unlock()}make(){this.nodes.popover=Me.make("div",[zn.CSS.popover]),this.nodes.nothingFoundMessage=Me.make("div",[zn.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=Me.make("div",[zn.CSS.items]),this.items.forEach(t=>{this.nodes.items.appendChild(t.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",t=>{const e=this.getTargetItem(t);e!==void 0&&this.handleItemClick(e)}),this.nodes.wrapper=Me.make("div"),this.nodes.overlay=Me.make("div",[zn.CSS.overlay,zn.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new yl({items:this.items,placeholder:this.messages.search,onSearch:(e,n)=>{this.items.forEach(a=>{const o=!n.includes(a);a.toggleHidden(o)}),this.toggleNothingFoundMessage(n.length===0),this.toggleCustomContent(e!=="");const r=e===""?this.flippableElements:n.map(a=>a.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(r))}});const t=this.search.getElement();t.classList.add(zn.CSS.search),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}addCustomContent(t){this.nodes.customContent=t,this.nodes.customContent.classList.add(zn.CSS.customContent),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}getTargetItem(t){return this.items.find(e=>t.composedPath().includes(e.getElement()))}handleItemClick(t){t.isDisabled||(this.items.filter(e=>e!==t).forEach(e=>e.reset()),t.handleClick(),this.toggleItemActivenessIfNeeded(t),t.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new Go({items:this.flippableElements,focusedItemClass:xn.CSS.focused,allowedKeys:[Ot.TAB,Ot.UP,Ot.DOWN,Ot.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const t=this.items.map(e=>e.getElement());return(this.customContentFlippableItems||[]).concat(t)}get height(){let t=0;if(this.nodes.popover===null)return t;const e=this.nodes.popover.cloneNode(!0);return e.style.visibility="hidden",e.style.position="absolute",e.style.top="-1000px",e.classList.add(zn.CSS.popoverOpened),document.body.appendChild(e),t=e.offsetHeight,e.remove(),t}get shouldOpenBottom(){const t=this.nodes.popover.getBoundingClientRect(),e=this.scopeElement.getBoundingClientRect(),n=this.height,r=t.top+n,a=t.top-n,o=Math.min(window.innerHeight,e.bottom);return a<e.top||r<=o}toggleNothingFoundMessage(t){this.nodes.nothingFoundMessage.classList.toggle(zn.CSS.nothingFoundMessageDisplayed,t)}toggleCustomContent(t){var e;(e=this.nodes.customContent)==null||e.classList.toggle(zn.CSS.customContentHidden,t)}toggleItemActivenessIfNeeded(t){if(t.toggle===!0&&t.toggleActive(),typeof t.toggle=="string"){const e=this.items.filter(n=>n.toggle===t.toggle);if(e.length===1){t.toggleActive();return}e.forEach(n=>{n.toggleActive(n===t)})}}};let Ky=zn;MI([Aa],Ky.prototype,"height",1);class II extends Ht{constructor(){super(...arguments),this.opened=!1,this.selection=new bt,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return(e=this.popover)==null?void 0:e.flipper}make(){this.nodes.wrapper=Me.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),e.selected=!0,this.Editor.BlockSelection.clearCache();const[n,r]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new Ky({searchable:!0,items:n.map(a=>this.resolveTuneAliases(a)),customContent:r,customContentFlippableItems:this.getControls(r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:mr.ui(Yr.ui.popover,"Nothing found"),search:mr.ui(Yr.ui.popover,"Filter")}}),this.popover.on(Hl.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened=!1,bt.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(Hl.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null)}getControls(e){const{StylesAPI:n}=this.Editor,r=e.querySelectorAll(`.${n.classes.settingsButton}, ${Me.allInputsSelector}`);return Array.from(r)}resolveTuneAliases(e){const n=wI(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}class Br extends Ht{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=Me.make("div",[Br.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=Me.make("div",Br.CSS.conversionToolbarTools);const e=Me.make("div",Br.CSS.conversionToolbarLabel,{textContent:mr.ui(Yr.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),Me.append(this.nodes.wrapper,e),Me.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),un(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(Br.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(e=>e.button).filter(e=>!e.classList.contains(Br.CSS.conversionToolHidden))),this.flipper.focusFirst(),un(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(Br.CSS.conversionToolbarShowed),un(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(e,n){const r=this.Editor.BlockManager.currentBlock.tool,a=(await this.Editor.BlockManager.currentBlock.save()).data,o=this.Editor.Tools.blockTools.get(e);let s="";const i=r.conversionConfig.export;if(un(i))s=i(a);else if(Ii(i))s=a[i];else{Ut("Conversion export property must be a string or function. String means key of saved data object to export. Function should export processed string to export.");return}const l=$o(s,o.sanitizeConfig);let u={};const g=o.conversionConfig.import;if(un(g))u=g(l);else if(Ii(g))u[g]=l;else{Ut("Conversion import property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data.");return}n&&(u=Object.assign(u,n)),this.Editor.BlockManager.replace({tool:e,data:u}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),gs(()=>{this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)},10)()}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach(([n,r])=>{const a=r.conversionConfig;!a||!a.import||r.toolbox.forEach(o=>this.addToolIfValid(n,o))})}addToolIfValid(e,n){no(n)||!n.icon||this.addTool(e,n)}addTool(e,n){const r=Me.make("div",[Br.CSS.conversionTool]),a=Me.make("div",[Br.CSS.conversionToolIcon]);r.dataset.tool=e,a.innerHTML=n.icon,Me.append(r,a),Me.append(r,Me.text(mr.t(Yr.toolNames,n.title||ff(e)))),Me.append(this.nodes.tools,r),this.tools.push({name:e,button:r,toolboxItem:n}),this.listeners.on(r,"click",async()=>{await this.replaceWithBlock(e,n.data)})}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,n=await e.getActiveToolboxEntry();function r(a,o){return a.icon===o.icon&&a.title===o.title}this.tools.forEach(a=>{let o=!1;if(n){const s=r(n,a.toolboxItem);o=a.button.dataset.tool===e.name&&s}a.button.hidden=o,a.button.classList.toggle(Br.CSS.conversionToolHidden,o)})}enableFlipper(){this.flipper=new Go({focusedItemClass:Br.CSS.conversionToolFocused})}}var Kp={},BI={get exports(){return Kp},set exports(t){Kp=t}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function a(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=r,a.d=function(o,s,i){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:i})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)a.d(i,l,(function(u){return o[u]}).bind(null,l));return i},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s=0)}([function(n,r,a){function o(l,u){for(var g=0;g<u.length;g++){var h=u[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}function s(l,u,g){return u&&o(l.prototype,u),g&&o(l,g),l}a.r(r);var i=function(){function l(u){var g=this;(function(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=u.name,this.parseShortcutName(u.name),this.element=u.on,this.callback=u.callback,this.executeShortcut=function(h){g.execute(h)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(l,[{key:"parseShortcutName",value:function(u){u=u.split("+");for(var g=0;g<u.length;g++){u[g]=u[g].toUpperCase();var h=!1;for(var b in l.supportedCommands)if(l.supportedCommands[b].includes(u[g])){h=this.commands[b]=!0;break}h||(this.keys[u[g]]=!0)}for(var w in l.supportedCommands)this.commands[w]||(this.commands[w]=!1)}},{key:"execute",value:function(u){var g,h={CMD:u.ctrlKey||u.metaKey,SHIFT:u.shiftKey,ALT:u.altKey},b=!0;for(g in this.commands)this.commands[g]!==h[g]&&(b=!1);var w,p=!0;for(w in this.keys)p=p&&u.keyCode===l.keyCodes[w];b&&p&&this.callback(u)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();r.default=i}]).default})})(BI);const NI=Xf(Kp);class $I{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new NI({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,n])}remove(e,n){const r=this.findShortcut(e,n);if(!r)return;r.remove();const a=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,a.filter(o=>o!==r))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===n)}}const ma=new $I;var RI=Object.defineProperty,LI=Object.getOwnPropertyDescriptor,A3=(t,e,n,r)=>{for(var a=r>1?void 0:r?LI(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(a=(r?s(e,n,a):s(a))||a);return r&&a&&RI(e,n,a),a},fu=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(fu||{});const T3=class extends Qf{constructor({api:t,tools:e,i18nLabels:n}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=t,this.tools=e,this.i18nLabels=n}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new Ky({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(Hl.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(T3.CSS.toolbox),this.nodes.toolbox}hasFocus(){var t;return(t=this.popover)==null?void 0:t.hasFocus()}destroy(){var t;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(t=this.popover)==null||t.off(Hl.Close,this.onPopoverClose)}toolButtonActivated(t,e){this.insertNewBlock(t,e)}open(){var t;this.isEmpty||((t=this.popover)==null||t.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var t;(t=this.popover)==null||t.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const t=[];return this.tools.forEach(e=>{e.toolbox&&t.push(e)}),t}get toolboxItemsToBeDisplayed(){const t=(e,n)=>({icon:e.icon,title:mr.t(Yr.toolNames,e.title||ff(n.name)),name:n.name,onActivate:()=>{this.toolButtonActivated(n.name,e.data)},secondaryLabel:n.shortcut?y3(n.shortcut):""});return this.toolsToBeDisplayed.reduce((e,n)=>(Array.isArray(n.toolbox)?n.toolbox.forEach(r=>{e.push(t(r,n))}):n.toolbox!==void 0&&e.push(t(n.toolbox,n)),e),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&this.enableShortcutForTool(t.name,e)})}enableShortcutForTool(t,e){ma.add({name:e,on:this.api.ui.nodes.redactor,handler:n=>{n.preventDefault(),this.insertNewBlock(t)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&ma.remove(this.api.ui.nodes.redactor,e)})}async insertNewBlock(t,e){const n=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(n);if(!r)return;const a=r.isEmpty?n:n+1;let o;if(e){const i=await this.api.blocks.composeBlockData(t);o=Object.assign(i,e)}const s=this.api.blocks.insert(t,o,void 0,a,void 0,r.isEmpty);s.call(fi.APPEND_CALLBACK),this.api.caret.setToBlock(a),this.emit("toolbox-block-added",{block:s}),this.api.toolbar.close()}};let Gy=T3;A3([Aa],Gy.prototype,"toolsToBeDisplayed",1);A3([Aa],Gy.prototype,"toolboxItemsToBeDisplayed",1);const j3="block hovered";class DI extends Ht{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.tooltip=new Wy}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){return{opened:this.toolboxInstance.opened,close:()=>{this.toolboxInstance.close()},open:()=>{this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>this.toolboxInstance.toggle(),hasFocus:()=>this.toolboxInstance.hasFocus()}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:r}=this.Editor.UI,a=e.pluginsContent,o=window.getComputedStyle(a),s=parseInt(o.paddingTop,10),i=n.offsetHeight;let l;r?l=n.offsetTop+i:l=n.offsetTop+s,this.nodes.wrapper.style.top=`${Math.floor(l)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.toolboxInstance.close(),this.Editor.BlockSettings.close())}open(e=!0){gs(()=>{this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()},50)()}make(){this.nodes.wrapper=Me.make("div",this.CSS.toolbar),["content","actions"].forEach(n=>{this.nodes[n]=Me.make("div",this.CSS[n])}),Me.append(this.nodes.wrapper,this.nodes.content),Me.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=Me.make("div",this.CSS.plusButton,{innerHTML:AI}),Me.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{this.tooltip.hide(!0),this.plusButtonClicked()},!1);const e=Me.make("div");e.appendChild(document.createTextNode(mr.ui(Yr.ui.toolbar.toolbox,"Add"))),e.appendChild(Me.make("div",this.CSS.plusButtonShortcut,{textContent:" Tab"})),this.tooltip.onHover(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=Me.make("span",this.CSS.settingsToggler,{innerHTML:OI}),Me.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,mr.ui(Yr.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),Me.append(this.nodes.actions,this.makeToolbox()),Me.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),Me.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new Gy({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:mr.ui(Yr.ui.popover,"Filter"),nothingFound:mr.ui(Yr.ui.popover,"Nothing found")}}),this.toolboxInstance.on(fu.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(fu.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(fu.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:r}=this.Editor,a=n.getBlockById(e.id);a.inputs.length===0&&(a===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{e.stopPropagation(),this.settingsTogglerClicked(),this.toolboxInstance.opened&&this.toolboxInstance.close(),this.tooltip.hide(!0)},!0),is()||this.eventsDispatcher.on(j3,e=>{this.Editor.BlockSettings.opened||this.toolboxInstance.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}}var Zf=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(Zf||{}),du=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(du||{}),C3=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(C3||{}),Bs=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(Bs||{}),Jy=(t=>(t.IsInline="isInline",t.Title="title",t))(Jy||{}),P3=(t=>(t.IsTune="isTune",t))(P3||{});class Yy{constructor({name:e,constructable:n,config:r,api:a,isDefault:o,isInternal:s=!1,defaultPlaceholder:i}){this.api=a,this.name=e,this.constructable=n,this.config=r,this.isDefault=o,this.isInternal=s,this.defaultPlaceholder=i}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(un(this.constructable.reset))return this.constructable.reset()}prepare(){if(un(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class UI extends Ht{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=is()?20:6,this.buttonsList=null,this.width=0,this.flipper=null,this.tooltip=new Wy}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}tryToShow(e=!1,n=!0){if(!this.allowedToShow()){e&&this.close();return}this.move(),this.open(n),this.Editor.Toolbar.close()}move(){const e=bt.rect,n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),r={x:e.x-n.left,y:e.y+e.height-n.top+this.toolbarVerticalMargin};e.width&&(r.x+=Math.floor(e.width/2));const a=r.x-this.width/2,o=r.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,a<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,o>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(r.x)+"px",this.nodes.wrapper.style.top=Math.floor(r.y)+"px"}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([e,n])=>{const r=this.getToolShortcut(e);r&&ma.remove(this.Editor.UI.nodes.redactor,r),un(n.clear)&&n.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}open(e=!0){if(this.opened)return;this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0,e&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;let n=Array.from(this.buttonsList);n.unshift(this.nodes.conversionToggler),n=n.filter(r=>!r.hidden),this.flipper.activate(n)}containsNode(e){return this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}make(){this.nodes.wrapper=Me.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=Me.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=Me.make("div",this.CSS.buttonsWrapper),this.nodes.actions=Me.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()}),Me.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),Me.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),Me.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}allowedToShow(){const e=["IMG","INPUT"],n=bt.get(),r=bt.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const a=Me.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(n&&e.includes(a.tagName)||a.closest('[contenteditable="true"]')===null)return!1;const o=this.Editor.BlockManager.getBlock(n.anchorNode);return o?o.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=Me.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=Me.make("div",this.CSS.conversionTogglerContent);const e=Me.make("div",this.CSS.conversionTogglerArrow,{innerHTML:E3});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(n=>{!n&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),is()===!1&&this.tooltip.onHover(this.nodes.conversionToggler,mr.ui(Yr.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:n}=e,r=n.name,a=n.tool.conversionConfig,o=a&&a.export;this.nodes.conversionToggler.hidden=!o,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!o);const s=await n.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=s.icon||s.title||ff(r)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();Me.append(this.nodes.wrapper,e)}addToolsFiltered(){const e=bt.get(),n=this.Editor.BlockManager.getBlock(e.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(n.tool.inlineTools.values()).forEach(r=>{this.addTool(r)}),this.recalculateWidth()}addTool(e){const n=e.create(),r=n.render();if(!r){Ut("Render method must return an instance of Node","warn",e.name);return}if(r.dataset.tool=e.name,this.nodes.buttons.appendChild(r),this.toolsInstances.set(e.name,n),un(n.renderActions)){const i=n.renderActions();this.nodes.actions.appendChild(i)}this.listeners.on(r,"click",i=>{this.toolClicked(n),i.preventDefault()});const a=this.getToolShortcut(e.name);if(a)try{this.enableShortcuts(n,a)}catch{}const o=Me.make("div"),s=mr.t(Yr.toolNames,e.title||ff(e.name));o.appendChild(Me.text(s)),a&&o.appendChild(Me.make("div",this.CSS.inlineToolbarShortcut,{textContent:y3(a)})),is()===!1&&this.tooltip.onHover(r,o,{placement:"top",hidingDelay:100}),n.checkState(bt.get())}getToolShortcut(e){const{Tools:n}=this.Editor,r=n.inlineTools.get(e),a=n.internal.inlineTools;return Array.from(a.keys()).includes(e)?this.inlineTools[e][C3.Shortcut]:r.shortcut}enableShortcuts(e,n){ma.add({name:n,handler:r=>{const{currentBlock:a}=this.Editor.BlockManager;a&&a.tool.enabledInlineTools&&(r.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const n=bt.range;e.surround(n),this.checkToolsState(),e.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(e=>{e.checkState(bt.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{e[n]=r.create()}),e}enableFlipper(){this.flipper=new Go({focusedItemClass:this.CSS.focusedButton,allowedKeys:[Ot.ENTER,Ot.TAB]})}}class FI extends Ht{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case Ot.BACKSPACE:this.backspace(e);break;case Ot.ENTER:this.enter(e);break;case Ot.DOWN:case Ot.RIGHT:this.arrowRightAndDown(e);break;case Ot.UP:case Ot.LEFT:this.arrowLeftAndUp(e);break;case Ot.TAB:this.tabPressed(e);break}}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&h3(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(e)))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}tabPressed(e){this.Editor.BlockSelection.clearSelection(e);const{BlockManager:n,InlineToolbar:r,ConversionToolbar:a}=this.Editor,o=n.currentBlock;if(!o)return;const s=o.isEmpty,i=o.tool.isDefault&&s,l=!s&&a.opened,u=!s&&!bt.isCollapsed&&r.opened;i?this.activateToolbox():!l&&!u&&this.activateBlockSettings()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:r,Caret:a}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const o=r.removeSelectedBlocks(),s=r.insertDefaultBlockAtIndex(o,!0);a.setToBlock(s,a.positions.START),n.clearSelection(e)})}enter(e){const{BlockManager:n,UI:r}=this.Editor;if(n.currentBlock.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey)return;let a=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?a=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):a=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(a),this.Editor.Toolbar.moveAndOpen(a),e.preventDefault()}backspace(e){const{BlockManager:n,BlockSelection:r,Caret:a}=this.Editor,o=n.currentBlock,s=o.tool;if(o.selected||o.isEmpty&&o.currentInput===o.firstInput){e.preventDefault();const l=n.currentBlockIndex;n.previousBlock&&n.previousBlock.inputs.length===0?n.removeBlock(l-1):n.removeBlock(),a.setToBlock(n.currentBlock,l?a.positions.END:a.positions.START),this.Editor.Toolbar.close(),r.clearSelection(e);return}if(s.isLineBreaksEnabled&&!a.isAtStart)return;const i=n.currentBlockIndex===0;a.isAtStart&&bt.isCollapsed&&o.currentInput===o.firstInput&&!i&&(e.preventDefault(),this.mergeBlocks())}mergeBlocks(){const{BlockManager:e,Caret:n,Toolbar:r}=this.Editor,a=e.previousBlock,o=e.currentBlock;if(o.name!==a.name||!a.mergeable){if(a.inputs.length===0||a.isEmpty){e.removeBlock(e.currentBlockIndex-1),n.setToBlock(e.currentBlock),r.close();return}n.navigatePrevious()&&r.close();return}n.createShadow(a.pluginsContent),e.mergeBlocks(a,o).then(()=>{n.restoreCaret(a.pluginsContent),a.pluginsContent.normalize(),r.close()})}arrowRightAndDown(e){const n=Go.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===Ot.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const r=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===Ot.DOWN&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}(e.keyCode===Ot.DOWN||e.keyCode===Ot.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?e.preventDefault():gs(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(Go.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===Ot.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const n=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===Ot.UP&&n){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}(e.keyCode===Ot.UP||e.keyCode===Ot.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?e.preventDefault():gs(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===Ot.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===Ot.ENTER&&this.Editor.BlockSettings.opened,a=e.keyCode===Ot.ENTER&&this.Editor.InlineToolbar.opened,o=e.keyCode===Ot.ENTER&&this.Editor.ConversionToolbar.opened,s=e.keyCode===Ot.TAB;return!(e.shiftKey||s||n||r||a||o)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class lh{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return m3(this.workingArea.children)}static set(e,n,r){return isNaN(Number(n))?(Reflect.set(e,n,r),!0):(e.insert(+n,r),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const r=this.blocks[n];Me.swap(this.blocks[e].holder,r.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=r}move(e,n){const r=this.blocks.splice(n,1)[0],a=e-1,o=Math.max(0,a),s=this.blocks[o];e>0?this.insertToDOM(r,"afterend",s):this.insertToDOM(r,"beforebegin",s),this.blocks.splice(e,0,r);const i=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});r.call(fi.MOVED,i)}insert(e,n,r=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(fi.REMOVED));const a=r?1:0;if(this.blocks.splice(e,a,n),e>0){const o=this.blocks[e-1];this.insertToDOM(n,"afterend",o)}else{const o=this.blocks[e+1];o?this.insertToDOM(n,"beforebegin",o):this.insertToDOM(n)}}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(fi.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(fi.REMOVED)),this.blocks.length=0}insertAfter(e,n){const r=this.blocks.indexOf(e);this.insert(r+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,r){n?r.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(fi.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}}const E1="block-removed",O1="block-added",VI="block-moved",zI="block-changed";class HI extends Ht{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new lh(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:lh.set,get:lh.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:r=void 0,tunes:a={}}){const o=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),i=new Nn({id:r,data:n,tool:s,api:this.Editor.API,readOnly:o,tunesData:a},this.eventsDispatcher);return o||this.bindBlockEvents(i),i}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:r={},index:a,needToFocus:o=!0,replace:s=!1,tunes:i={}}={}){let l=a;l===void 0&&(l=this.currentBlockIndex+(s?0:1));const u=this.composeBlock({id:e,tool:n,data:r,tunes:i});return s&&this.blockDidMutated(E1,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,u,s),this.blockDidMutated(O1,u,{index:l}),o?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,u}replace({tool:e=this.config.defaultBlock,data:n={}}){return this.insert({tool:e,data:n,index:this.currentBlockIndex,replace:!0})}paste(e,n,r=!1){const a=this.insert({tool:e,replace:r});try{a.call(fi.ON_PASTE,n)}catch(o){Ut(`${e}: onPaste callback call is failed`,"error",o)}return a}insertDefaultBlockAtIndex(e,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(O1,r,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){const r=this._blocks.indexOf(n);if(n.isEmpty)return;const a=await n.data;no(a)||await e.mergeWith(a),this.removeBlock(r),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e=this.currentBlockIndex){if(!this.validateIndex(e))throw new Error("Can't find a Block to remove");const n=this._blocks[e];n.destroy(),this._blocks.remove(e),this.blockDidMutated(E1,n,{index:e}),this.currentBlockIndex>=e&&this.currentBlockIndex--,this.blocks.length?e===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(n),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=Me.make("div");n.appendChild(e);const r={text:Me.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){Me.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,r=e.closest(`.${Nn.CSS.wrapper}`),a=n.indexOf(r);if(a>=0)return this._blocks[a]}highlightCurrentNode(){this.clearFocused(),this.currentBlock.focused=!0}clearFocused(){this.blocks.forEach(e=>{e.focused=!1})}setCurrentBlockByChildNode(e){Me.isElement(e)||(e=e.parentNode);const n=e.closest(`.${Nn.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){Me.isElement(e)||(e=e.parentNode);const n=e.closest(`.${Nn.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){Ut("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){Ut("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(VI,this.currentBlock,{fromIndex:n,toIndex:e})}dropPointer(){this.currentBlockIndex=-1,this.clearFocused()}clear(e=!1){this._blocks.removeAll(),this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{n.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(zI,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,r){const a=new CustomEvent(e,{detail:{target:new ml(n),...r}});return this.eventsDispatcher.emit(w3,{event:a}),n}}class qI extends Ht{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new bt,ma.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){bt.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:r,Caret:a,RectangleSelection:o}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=e&&e instanceof KeyboardEvent,i=s&&h3(e.keyCode);if(this.anyBlockSelected&&s&&i&&!bt.isSelectionExists){const l=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(l,!0),a.setToBlock(r.currentBlock),gs(()=>{const u=e.key;a.insertContentAtCaretPosition(u.length>1?"":u)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||o.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=Me.make("div");this.selectedBlocks.forEach(o=>{const s=$o(o.holder.innerHTML,this.sanitizerConfig),i=Me.make("p");i.innerHTML=s,n.appendChild(i)});const r=Array.from(n.childNodes).map(o=>o.textContent).join(`

`),a=n.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",a),Promise.all(this.selectedBlocks.map(o=>o.save())).then(o=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(o))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor;n.clearFocused();let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),this.selection.save(),bt.get().removeAllRanges(),r.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}clearCache(){this.anyBlockSelectedCache=null}destroy(){ma.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),Me.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target).inputs;if(n.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(n.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),bt.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class df extends Ht{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const e=bt.get(),n=Me.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);let r=e.focusNode;if(Me.isNativeInput(n))return n.selectionEnd===0;if(!e.anchorNode)return!1;let a=r.textContent.search(/\S/);a===-1&&(a=0);let o=e.focusOffset;return r.nodeType!==Node.TEXT_NODE&&r.childNodes.length&&(r.childNodes[o]?(r=r.childNodes[o],o=0):(r=r.childNodes[o-1],o=r.textContent.length)),(Me.isLineBreakTag(n)||Me.isEmpty(n))&&this.getHigherLevelSiblings(r,"left").every(s=>{const i=Me.isLineBreakTag(s),l=s.children.length===1&&Me.isLineBreakTag(s.children[0]),u=i||l;return Me.isEmpty(s)&&!u})&&o===a?!0:n===null||r===n&&o<=a}get isAtEnd(){const e=bt.get();let n=e.focusNode;const r=Me.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(Me.isNativeInput(r))return r.selectionEnd===r.value.length;if(!e.focusNode)return!1;let a=e.focusOffset;if(n.nodeType!==Node.TEXT_NODE&&n.childNodes.length&&(n.childNodes[a-1]?(n=n.childNodes[a-1],a=n.textContent.length):(n=n.childNodes[0],a=0)),Me.isLineBreakTag(r)||Me.isEmpty(r)){const s=this.getHigherLevelSiblings(n,"right");if(s.every((i,l)=>l===s.length-1&&Me.isLineBreakTag(i)||Me.isEmpty(i)&&!Me.isLineBreakTag(i))&&a===n.textContent.length)return!0}const o=r.textContent.replace(/\s+$/,"");return n===r&&a>=o.length}setToBlock(e,n=this.positions.DEFAULT,r=0){const{BlockManager:a}=this.Editor;let o;switch(n){case this.positions.START:o=e.firstInput;break;case this.positions.END:o=e.lastInput;break;default:o=e.currentInput}if(!o)return;const s=Me.getDeepestNode(o,n===this.positions.END),i=Me.getContentLength(s);switch(!0){case n===this.positions.START:r=0;break;case n===this.positions.END:case r>i:r=i;break}gs(()=>{this.set(s,r)},20)(),a.setCurrentBlockByChildNode(e.holder),a.currentBlock.currentInput=o}setToInput(e,n=this.positions.DEFAULT,r=0){const{currentBlock:a}=this.Editor.BlockManager,o=Me.getDeepestNode(e);switch(n){case this.positions.START:this.set(o,0);break;case this.positions.END:this.set(o,Me.getContentLength(o));break;default:r&&this.set(o,r)}a.currentInput=e}set(e,n=0){const{top:r,bottom:a}=bt.setCursor(e,n),{innerHeight:o}=window;r<0&&window.scrollBy(0,r),a>o&&window.scrollBy(0,a-o)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=bt.get();if(e.rangeCount){const n=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if(Me.isNativeInput(r)){const a=r,o=document.createDocumentFragment(),s=a.value.substring(0,a.selectionStart),i=a.value.substring(a.selectionStart);return o.textContent=i,a.value=s,o}else{const a=n.cloneRange();return a.selectNodeContents(r),a.setStart(n.endContainer,n.endOffset),a.extractContents()}}}navigateNext(){const{BlockManager:e}=this.Editor,{currentBlock:n,nextContentfulBlock:r}=e,{nextInput:a}=n,o=this.isAtEnd;let s=r;if(!s&&!a){if(n.tool.isDefault||!o)return!1;s=e.insertAtEnd()}return o?(a?this.setToInput(a,this.positions.START):this.setToBlock(s,this.positions.START),!0):!1}navigatePrevious(){const{currentBlock:e,previousContentfulBlock:n}=this.Editor.BlockManager;if(!e)return!1;const{previousInput:r}=e;return!n&&!r?!1:this.isAtStart?(r?this.setToInput(r,this.positions.END):this.setToBlock(n,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(df.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${df.CSS.shadowCaret}`);n&&(new bt().expandToTag(n),setTimeout(()=>{const r=document.createRange();r.selectNode(n),r.extractContents()},50))}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),r=document.createElement("div"),a=bt.get(),o=bt.range;r.innerHTML=e,Array.from(r.childNodes).forEach(l=>n.appendChild(l)),n.childNodes.length===0&&n.appendChild(new Text);const s=n.lastChild;o.deleteContents(),o.insertNode(n);const i=document.createRange();i.setStart(s,s.textContent.length),a.removeAllRanges(),a.addRange(i)}getHigherLevelSiblings(e,n){let r=e;const a=[];for(;r.parentNode&&r.parentNode.contentEditable!=="true";)r=r.parentNode;const o=n==="left"?"previousSibling":"nextSibling";for(;r[o];)r=r[o],a.push(r);return a}}class WI extends Ht{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:r}=this.Editor,a=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,o=n.getBlockByChildNode(e.target);if(!(!a||!o)&&o!==a){if(a===this.firstSelectedBlock){bt.get().removeAllRanges(),a.selected=!0,o.selected=!0,r.clearCache();return}if(o===this.firstSelectedBlock){a.selected=!1,o.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(a,o),this.lastSelectedBlock=o}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==PM.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),bt.get().removeAllRanges());const a=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),o=n.blocks[a];o&&(this.lastSelectedBlock.selected!==o.selected?(o.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=o,this.Editor.InlineToolbar.close(),o.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:r,Caret:a}=this.Editor,o=n.blocks.indexOf(this.firstSelectedBlock),s=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&o>-1&&s>-1)if(e&&e instanceof KeyboardEvent)switch(e.keyCode){case Ot.DOWN:case Ot.RIGHT:a.setToBlock(n.blocks[Math.max(o,s)],a.positions.END);break;case Ot.UP:case Ot.LEFT:a.setToBlock(n.blocks[Math.min(o,s)],a.positions.START);break;default:a.setToBlock(n.blocks[Math.max(o,s)],a.positions.END)}else a.setToBlock(n.blocks[Math.max(o,s)],a.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;bt.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:r,BlockSelection:a}=this.Editor,o=r.blocks.indexOf(e),s=r.blocks.indexOf(n),i=e.selected!==n.selected;for(let l=Math.min(o,s);l<=Math.max(o,s);l++){const u=r.blocks[l];u!==this.firstSelectedBlock&&u!==(i?e:n)&&(r.blocks[l].selected=!r.blocks[l].selected,a.clearCache())}}}class KI extends Ht{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Caret:r,Paste:a}=this.Editor;e.preventDefault(),n.blocks.forEach(s=>{s.dropTarget=!1}),bt.isAtEditor&&!bt.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const o=n.setCurrentBlockByChildNode(e.target);if(o)this.Editor.Caret.setToBlock(o,r.positions.END);else{const s=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(s,r.positions.END)}await a.processDataTransfer(e.dataTransfer,!0)}processDragStart(){bt.isAtEditor&&!bt.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}class GI extends Ht{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(w3,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(_3,()=>{this.disable()}),this.eventsDispatcher.on(S3,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!un(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(zp,{mutations:e})}}const M3=class extends Ht{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=t=>{try{const e=t.create({},{},!1);if(t.pasteConfig===!1){this.exceptionList.push(t.name);return}if(!un(e.onPaste))return;this.getTagsConfig(t),this.getFilesConfig(t),this.getPatternsConfig(t)}catch(e){Ut(`Paste handling for ${t.name} Tool hasn't been set up because of the error`,"warn",e)}},this.handlePasteEvent=async t=>{const{BlockManager:e,Toolbar:n}=this.Editor;!e.currentBlock||this.isNativeBehaviour(t.target)&&!t.clipboardData.types.includes("Files")||e.currentBlock&&this.exceptionList.includes(e.currentBlock.name)||(t.preventDefault(),this.processDataTransfer(t.clipboardData),e.clearFocused(),n.close())}}async prepare(){this.processTools()}toggleReadOnly(t){t?this.unsetCallback():this.setCallback()}async processDataTransfer(t,e=!1){const{Tools:n}=this.Editor,r=t.types;if((r.includes?r.includes("Files"):r.contains("Files"))&&!no(this.toolsFiles)){await this.processFiles(t.files);return}const a=t.getData(this.MIME_TYPE),o=t.getData("text/plain");let s=t.getData("text/html");if(a)try{this.insertEditorJSData(JSON.parse(a));return}catch{}e&&o.trim()&&s.trim()&&(s="<p>"+(s.trim()?s:o)+"</p>");const i=Object.keys(this.toolsTags).reduce((g,h)=>(g[h.toLowerCase()]=this.toolsTags[h].sanitizationConfig??{},g),{}),l=Object.assign({},i,n.getAllInlineToolsSanitizeConfig(),{br:{}}),u=$o(s,l);!u.trim()||u.trim()===o||!Me.isHTMLString(u)?await this.processText(o):await this.processText(u,!0)}async processText(t,e=!1){const{Caret:n,BlockManager:r}=this.Editor,a=e?this.processHTML(t):this.processPlain(t);if(!a.length)return;if(a.length===1){a[0].isBlock?this.processSingleBlock(a.pop()):this.processInlinePaste(a.pop());return}const o=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty;a.map(async(s,i)=>this.insertBlock(s,i===0&&o)),r.currentBlock&&n.setToBlock(r.currentBlock,n.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const t=this.Editor.Tools.blockTools;Array.from(t.values()).forEach(this.processTool)}collectTagNames(t){return Ii(t)?[t]:Wn(t)?Object.keys(t):[]}getTagsConfig(t){if(t.pasteConfig===!1)return;const e=t.pasteConfig.tags||[],n=[];e.forEach(r=>{const a=this.collectTagNames(r);n.push(...a),a.forEach(o=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,o)){Ut(`Paste handler for ${t.name} Tool on ${o} tag is skipped because it is already used by ${this.toolsTags[o].tool.name} Tool.`,"warn");return}const s=Wn(r)?r[o]:null;this.toolsTags[o.toUpperCase()]={tool:t,sanitizationConfig:s}})}),this.tagsByTool[t.name]=n.map(r=>r.toUpperCase())}getFilesConfig(t){if(t.pasteConfig===!1)return;const{files:e={}}=t.pasteConfig;let{extensions:n,mimeTypes:r}=e;!n&&!r||(n&&!Array.isArray(n)&&(Ut(`extensions property of the onDrop config for ${t.name} Tool should be an array`),n=[]),r&&!Array.isArray(r)&&(Ut(`mimeTypes property of the onDrop config for ${t.name} Tool should be an array`),r=[]),r&&(r=r.filter(a=>NM(a)?!0:(Ut(`MIME type value ${a} for the ${t.name} Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[t.name]={extensions:n||[],mimeTypes:r||[]})}getPatternsConfig(t){t.pasteConfig===!1||!t.pasteConfig.patterns||no(t.pasteConfig.patterns)||Object.entries(t.pasteConfig.patterns).forEach(([e,n])=>{n instanceof RegExp||Ut(`Pattern ${n} for ${t.name} Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:e,pattern:n,tool:t})})}isNativeBehaviour(t){return Me.isNativeInput(t)}async processFiles(t){const{BlockManager:e}=this.Editor;let n;n=await Promise.all(Array.from(t).map(a=>this.processFile(a))),n=n.filter(a=>!!a);const r=e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty;n.forEach((a,o)=>{e.paste(a.type,a.event,o===0&&r)})}async processFile(t){const e=BM(t),n=Object.entries(this.toolsFiles).find(([a,{mimeTypes:o,extensions:s}])=>{const[i,l]=t.type.split("/"),u=s.find(h=>h.toLowerCase()===e.toLowerCase()),g=o.find(h=>{const[b,w]=h.split("/");return b===i&&(w===l||w==="*")});return!!u||!!g});if(!n)return;const[r]=n;return{event:this.composePasteEvent("file",{file:t}),type:r}}processHTML(t){const{Tools:e}=this.Editor,n=Me.make("DIV");return n.innerHTML=t,this.getNodes(n).map(r=>{let a,o=e.defaultTool,s=!1;switch(r.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:a=Me.make("div"),a.appendChild(r);break;case Node.ELEMENT_NODE:a=r,s=!0,this.toolsTags[a.tagName]&&(o=this.toolsTags[a.tagName].tool);break}const{tags:i}=o.pasteConfig||{tags:[]},l=i.reduce((h,b)=>(this.collectTagNames(b).forEach(w=>{const p=Wn(b)?b[w]:null;h[w.toLowerCase()]=p||{}}),h),{}),u=Object.assign({},l,o.baseSanitizeConfig);if(a.tagName.toLowerCase()==="table"){const h=$o(a.outerHTML,u);a=Me.make("div",void 0,{innerHTML:h}).firstChild}else a.innerHTML=$o(a.innerHTML,u);const g=this.composePasteEvent("tag",{data:a});return{content:a,isBlock:s,tool:o.name,event:g}}).filter(r=>{const a=Me.isEmpty(r.content),o=Me.isSingleTag(r.content);return!a||o})}processPlain(t){const{defaultBlock:e}=this.config;if(!t)return[];const n=e;return t.split(/\r?\n/).filter(r=>r.trim()).map(r=>{const a=Me.make("div");a.textContent=r;const o=this.composePasteEvent("tag",{data:a});return{content:a,tool:n,isBlock:!1,event:o}})}async processSingleBlock(t){const{Caret:e,BlockManager:n}=this.Editor,{currentBlock:r}=n;if(!r||t.tool!==r.name||!Me.containsOnlyInlineElements(t.content.innerHTML)){this.insertBlock(t,(r==null?void 0:r.tool.isDefault)&&r.isEmpty);return}e.insertContentAtCaretPosition(t.content.innerHTML)}async processInlinePaste(t){const{BlockManager:e,Caret:n}=this.Editor,{content:r}=t;if(e.currentBlock&&e.currentBlock.tool.isDefault&&r.textContent.length<M3.PATTERN_PROCESSING_MAX_LENGTH){const a=await this.processPattern(r.textContent);if(a){const o=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty,s=e.paste(a.tool,a.event,o);n.setToBlock(s,n.positions.END);return}}if(e.currentBlock&&e.currentBlock.currentInput){const a=e.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,$o(r.innerHTML,a))}else this.insertBlock(t)}async processPattern(t){const e=this.toolsPatterns.find(n=>{const r=n.pattern.exec(t);return r?t===r.shift():!1});return e?{event:this.composePasteEvent("pattern",{key:e.key,data:t}),tool:e.tool.name}:void 0}insertBlock(t,e=!1){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:a}=n;let o;if(e&&a&&a.isEmpty){o=n.paste(t.tool,t.event,!0),r.setToBlock(o,r.positions.END);return}o=n.paste(t.tool,t.event),r.setToBlock(o,r.positions.END)}insertEditorJSData(t){const{BlockManager:e,Caret:n,Tools:r}=this.Editor;x3(t,a=>r.blockTools.get(a).sanitizeConfig).forEach(({tool:a,data:o},s)=>{let i=!1;s===0&&(i=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty);const l=e.insert({tool:a,data:o,replace:i});n.setToBlock(l,n.positions.END)})}processElementNode(t,e,n){const r=Object.keys(this.toolsTags),a=t,{tool:o}=this.toolsTags[a.tagName]||{},s=this.tagsByTool[o==null?void 0:o.name]||[],i=r.includes(a.tagName),l=Me.blockElements.includes(a.tagName.toLowerCase()),u=Array.from(a.children).some(({tagName:h})=>r.includes(h)&&!s.includes(h)),g=Array.from(a.children).some(({tagName:h})=>Me.blockElements.includes(h.toLowerCase()));if(!l&&!i&&!u)return n.appendChild(a),[...e,n];if(i&&!u||l&&!g&&!u)return[...e,n,a]}getNodes(t){const e=Array.from(t.childNodes);let n;const r=(a,o)=>{if(Me.isEmpty(o)&&!Me.isSingleTag(o))return a;const s=a[a.length-1];let i=new DocumentFragment;switch(s&&Me.isFragment(s)&&(i=a.pop()),o.nodeType){case Node.ELEMENT_NODE:if(n=this.processElementNode(o,a,i),n)return n;break;case Node.TEXT_NODE:return i.appendChild(o),[...a,i];default:return[...a,i]}return[...a,...Array.from(o.childNodes).reduce(r,[])]};return e.reduce(r,[])}composePasteEvent(t,e){return new CustomEvent(t,{detail:e})}};let I3=M3;I3.PATTERN_PROCESSING_MAX_LENGTH=450;class JI extends Ht{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,r=[];Array.from(n.entries()).forEach(([a,o])=>{o.isReadOnlySupported||r.push(a)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const n=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const a in this.Editor)this.Editor[a].toggleReadOnly&&this.Editor[a].toggleReadOnly(e);if(n===e)return this.readOnlyEnabled;const r=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(r.blocks),this.readOnlyEnabled}throwCriticalError(){throw new v3(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class gl extends Ht{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const r=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const a=[`.${Nn.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],o=r.closest("."+this.Editor.UI.CSS.editorWrapper),s=a.some(i=>!!r.closest(i));!o||s||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",Up(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Up(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(Me.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=Me.make("div",gl.CSS.overlay,{}),a=Me.make("div",gl.CSS.overlayContainer,{}),o=Me.make("div",gl.CSS.rect,{});return a.appendChild(o),r.appendChild(a),n.appendChild(r),this.overlayRectangle=o,{container:n,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:r,index:a}=this.genInfoForMouseSelection(),o=this.startX>n&&this.mouseX>n,s=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(o||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),a!==void 0&&(this.trySelectNextBlock(a),this.inverseSelection(),bt.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,n),a=this.Editor.BlockManager.getBlockByChildNode(r);let o;a!==void 0&&(o=this.Editor.BlockManager.blocks.findIndex(g=>g.holder===a.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+Nn.CSS.content),i=Number.parseInt(window.getComputedStyle(s).width,10)/2,l=e-i,u=e+i;return{index:o,leftPos:l,rightPos:u}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,a=1,o=-1,s=0;if(n)return;const i=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let l=s;r>1&&(l=i?a:o);const u=e>this.stackOfSelected[r-1]&&l===a,g=e<this.stackOfSelected[r-1]&&l===o,h=!(u||g||l===s);if(!h&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let p=this.stackOfSelected[r-1]+1||e;for(p;p<=e;p++)this.addBlockInSelection(p);return}if(!h&&e<this.stackOfSelected[r-1]){for(let p=this.stackOfSelected[r-1]-1;p>=e;p--)this.addBlockInSelection(p);return}if(!h)return;let b=r-1,w;for(e>this.stackOfSelected[r-1]?w=()=>e>this.stackOfSelected[b]:w=()=>e<this.stackOfSelected[b];w();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[b]),this.stackOfSelected.pop(),b--}}class YI extends Ht{async render(e){const n=e.map(a=>({function:()=>this.insertBlock(a)}));this.Editor.ModificationsObserver.disable();const r=await p3(n);return this.Editor.ModificationsObserver.enable(),this.Editor.UI.checkEmptiness(),r}async insertBlock(e){var n;const{Tools:r,BlockManager:a}=this.Editor,{type:o,data:s,tunes:i,id:l}=e;if(r.available.has(o))try{a.insert({id:l,tool:o,data:s,tunes:i})}catch(u){throw Ut(`Block ${o} skipped because of plugins error`,"warn",{data:s,error:u}),Error(u)}else{const u={savedData:{id:l,type:o,data:s},title:o};if(r.unavailable.has(o)){const h=(n=r.unavailable.get(o).toolbox[0])==null?void 0:n.title;u.title=h||u.title}const g=a.insert({id:l,tool:r.stubTool,data:u});g.stretched=!0,Ut(`Tool ${o} is not found. Check 'tools' property at your initial Editor.js config.`,"warn")}}}class XI extends Ht{async save(){const{BlockManager:e,Tools:n}=this.Editor,r=e.blocks,a=[];try{r.forEach(i=>{a.push(this.getSavedData(i))});const o=await Promise.all(a),s=await x3(o,i=>n.blockTools.get(i).sanitizeConfig);return this.makeOutput(s)}catch(o){Jr("Saving failed due to the Error %o","error",o)}}async getSavedData(e){const n=await e.save(),r=n&&await e.validate(n.data);return{...n,isValid:r}}makeOutput(e){let n=0;const r=[];return Ut("[Editor.js saving]:","groupCollapsed"),e.forEach(({id:a,tool:o,data:s,tunes:i,time:l,isValid:u})=>{if(n+=l,Ut(`${o.charAt(0).toUpperCase()+o.slice(1)}`,"group"),u)Ut(s),Ut(void 0,"groupEnd");else{Ut(`Block ${o} skipped because saved data is invalid`),Ut(void 0,"groupEnd");return}if(o===this.Editor.Tools.stubTool){r.push(s);return}const g={id:a,type:o,data:s,...!no(i)&&{tunes:i}};r.push(g)}),Ut("Total","log",n),Ut(void 0,"groupEnd"),{time:+new Date,blocks:r,version:"2.27.2"}}}var Gp={},QI={get exports(){return Gp},set exports(t){Gp=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function a(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=r,a.d=function(o,s,i){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:i})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)a.d(i,l,(function(u){return o[u]}).bind(null,l));return i},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="/",a(a.s=4)}([function(n,r,a){var o=a(1),s=a(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var i={insert:"head",singleton:!1};o(s,i),n.exports=s.locals||{}},function(n,r,a){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},i=function(){var f={};return function(v){if(f[v]===void 0){var _=document.querySelector(v);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}f[v]=_}return f[v]}}(),l=[];function u(f){for(var v=-1,_=0;_<l.length;_++)if(l[_].identifier===f){v=_;break}return v}function g(f,v){for(var _={},S=[],E=0;E<f.length;E++){var x=f[E],k=v.base?x[0]+v.base:x[0],T=_[k]||0,C="".concat(k," ").concat(T);_[k]=T+1;var M=u(C),N={css:x[1],media:x[2],sourceMap:x[3]};M!==-1?(l[M].references++,l[M].updater(N)):l.push({identifier:C,updater:c(N,v),references:1}),S.push(C)}return S}function h(f){var v=document.createElement("style"),_=f.attributes||{};if(_.nonce===void 0){var S=a.nc;S&&(_.nonce=S)}if(Object.keys(_).forEach(function(x){v.setAttribute(x,_[x])}),typeof f.insert=="function")f.insert(v);else{var E=i(f.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(v)}return v}var b,w=(b=[],function(f,v){return b[f]=v,b.filter(Boolean).join(`
`)});function p(f,v,_,S){var E=_?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(f.styleSheet)f.styleSheet.cssText=w(v,E);else{var x=document.createTextNode(E),k=f.childNodes;k[v]&&f.removeChild(k[v]),k.length?f.insertBefore(x,k[v]):f.appendChild(x)}}function d(f,v,_){var S=_.css,E=_.media,x=_.sourceMap;if(E?f.setAttribute("media",E):f.removeAttribute("media"),x&&btoa&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(x))))," */")),f.styleSheet)f.styleSheet.cssText=S;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(S))}}var y=null,m=0;function c(f,v){var _,S,E;if(v.singleton){var x=m++;_=y||(y=h(v)),S=p.bind(null,_,x,!1),E=p.bind(null,_,x,!0)}else _=h(v),S=d.bind(null,_,v),E=function(){(function(k){if(k.parentNode===null)return!1;k.parentNode.removeChild(k)})(_)};return S(f),function(k){if(k){if(k.css===f.css&&k.media===f.media&&k.sourceMap===f.sourceMap)return;S(f=k)}else E()}}n.exports=function(f,v){(v=v||{}).singleton||typeof v.singleton=="boolean"||(v.singleton=s());var _=g(f=f||[],v);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var E=0;E<_.length;E++){var x=u(_[E]);l[x].references--}for(var k=g(S,v),T=0;T<_.length;T++){var C=u(_[T]);l[C].references===0&&(l[C].updater(),l.splice(C,1))}_=k}}}},function(n,r,a){(r=a(3)(!1)).push([n.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),n.exports=r},function(n,r,a){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(i){var l=function(u,g){var h=u[1]||"",b=u[3];if(!b)return h;if(g&&typeof btoa=="function"){var w=(d=b,y=btoa(unescape(encodeURIComponent(JSON.stringify(d)))),m="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(y),"/*# ".concat(m," */")),p=b.sources.map(function(c){return"/*# sourceURL=".concat(b.sourceRoot||"").concat(c," */")});return[h].concat(p).concat([w]).join(`
`)}var d,y,m;return[h].join(`
`)}(i,o);return i[2]?"@media ".concat(i[2]," {").concat(l,"}"):l}).join("")},s.i=function(i,l,u){typeof i=="string"&&(i=[[null,i,""]]);var g={};if(u)for(var h=0;h<this.length;h++){var b=this[h][0];b!=null&&(g[b]=!0)}for(var w=0;w<i.length;w++){var p=[].concat(i[w]);u&&g[p[0]]||(l&&(p[2]?p[2]="".concat(l," and ").concat(p[2]):p[2]=l),s.push(p))}},s}},function(n,r,a){a.r(r),a.d(r,"default",function(){return i}),a(0);function o(l,u){for(var g=0;g<u.length;g++){var h=u[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}function s(l,u,g){return u&&o(l.prototype,u),g&&o(l,g),l}/**
 * Base Paragraph Block for the Editor.js.
 * Represents simple paragraph
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var i=function(){function l(u){var g=u.data,h=u.config,b=u.api,w=u.readOnly;(function(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=b,this.readOnly=w,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=h.placeholder?h.placeholder:l.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=h.preserveBlank!==void 0&&h.preserveBlank,this.data=g}return s(l,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),s(l,[{key:"onKeyUp",value:function(u){u.code!=="Backspace"&&u.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var u=document.createElement("DIV");return u.classList.add(this._CSS.wrapper,this._CSS.block),u.contentEditable=!1,u.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(u.contentEditable=!0,u.addEventListener("keyup",this.onKeyUp)),u}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(u){var g={text:this.data.text+u.text};this.data=g}},{key:"validate",value:function(u){return!(u.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(u){return{text:u.innerHTML}}},{key:"onPaste",value:function(u){var g={text:u.detail.data.innerHTML};this.data=g}},{key:"data",get:function(){var u=this._element.innerHTML;return this._data.text=u,this._data},set:function(u){this._data=u||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),l}()}]).default})})(QI);const ZI=Xf(Gp);class Xy{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=_I,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}Xy.isInline=!0;Xy.title="Bold";class Qy{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=EI,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}Qy.isInline=!0;Qy.title="Italic";class Zy{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new bt}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=k1,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=jI,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=k1,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new bt;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),Ut("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",a=/^\/\/[^/\s]/.test(e);return!n&&!r&&!a&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}Zy.isInline=!0;Zy.title="Link";class B3{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=Me.make("div",this.CSS.wrapper),n='<svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52"><path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/></svg>',r=Me.make("div",this.CSS.info),a=Me.make("div",this.CSS.title,{textContent:this.title}),o=Me.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,r.appendChild(a),r.appendChild(o),e.appendChild(r),e}}B3.isReadOnlySupported=!0;class eB extends Yy{constructor(){super(...arguments),this.type=Zf.Inline}get title(){return this.constructable[Jy.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class tB extends Yy{constructor(){super(...arguments),this.type=Zf.Tune}create(e,n){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:n,data:e})}}class Zn extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new Zn(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new Zn(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new Zn(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new Zn(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new Zn(e)}}var nB=Object.defineProperty,rB=Object.getOwnPropertyDescriptor,N3=(t,e,n,r)=>{for(var a=r>1?void 0:r?rB(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(a=(r?s(e,n,a):s(a))||a);return r&&a&&nB(e,n,a),a};class eg extends Yy{constructor(){super(...arguments),this.type=Zf.Block,this.inlineTools=new Zn,this.tunes=new Zn}create(e,n,r){return new this.constructable({data:e,block:n,readOnly:r,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[Bs.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[Bs.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[Bs.Toolbox],n=this.config[du.Toolbox];if(!no(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((r,a)=>{const o=e[a];return o?{...o,...r}:r}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[Bs.ConversionConfig]}get enabledInlineTools(){return this.config[du.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[du.EnabledBlockTunes]}get pasteConfig(){return this.constructable[Bs.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(no(e))return n;const r={};for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const o=e[a];Wn(o)?r[a]=Object.assign({},n,o):r[a]=o}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}}N3([Aa],eg.prototype,"sanitizeConfig",1);N3([Aa],eg.prototype,"baseSanitizeConfig",1);class oB{constructor(e,n,r){this.api=r,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:r=!1,...a}=this.config[e],o=this.getConstructor(n);return new o({name:e,constructable:n,config:a,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[Jy.IsInline]:return eB;case e[P3.IsTune]:return tB;default:return eg}}}class $3{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:E3,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,a=r.getBoundingClientRect();let o=Math.abs(window.innerHeight-r.offsetHeight);a.top<window.innerHeight&&(o=window.scrollY+r.offsetHeight),window.scrollTo(0,o),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}$3.isTune=!0;class R3{constructor({api:e}){this.api=e}render(){return{icon:xI,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}R3.isTune=!0;class L3{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:SI,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const a=n.holder,o=r.holder,s=a.getBoundingClientRect(),i=o.getBoundingClientRect();let l;i.top>0?l=Math.abs(s.top)-Math.abs(i.top):l=Math.abs(s.top)+i.height,window.scrollBy(0,-1*l),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}L3.isTune=!0;var iB=Object.defineProperty,sB=Object.getOwnPropertyDescriptor,aB=(t,e,n,r)=>{for(var a=r>1?void 0:r?sB(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(a=(r?s(e,n,a):s(a))||a);return r&&a&&iB(e,n,a),a};class D3 extends Ht{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new Zn,this.toolsUnavailable=new Zn}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Fp({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new oB(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await p3(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{un(e.reset)&&await e.reset()})}get internalTools(){return{bold:{class:Xy,isInternal:!0},italic:{class:Qy,isInternal:!0},link:{class:Zy,isInternal:!0},paragraph:{class:ZI,inlineToolbar:!0,isInternal:!0},stub:{class:B3,isInternal:!0},moveUp:{class:L3,isInternal:!0},delete:{class:R3,isInternal:!0},moveDown:{class:$3,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const r=["render","surround","checkState"].filter(a=>!n.create()[a]);if(r.length){Ut(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([r,a])=>{n.push({function:un(a.class.prepare)?a.class.prepare:()=>{},data:{toolName:r,config:a.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new Zn(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new Zn(e.enabledInlineTools.map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new Zn(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Zn([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new Zn(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Zn([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!un(n)&&!un(n.class))throw Error(`Tool ${e} must be a constructor function or an object with function in the class property`)}}prepareConfig(){const e={};for(const n in this.config.tools)Wn(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}}aB([Aa],D3.prototype,"getAllInlineToolsSanitizeConfig",1);const lB=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s infinite linear;animation:editor-loader-spin .8s infinite linear;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class cB extends Ht{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=$M(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${Nn.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}addLoader(){this.nodes.loader=Me.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}removeLoader(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}async prepare(){this.checkIsMobile(),this.make(),this.addLoader(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:a}=this.Editor;return n.opened||r.opened||a.opened||e.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof Go).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:a}=this.Editor;n.close(),r.close(),a.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<g3}make(){this.nodes.holder=Me.getHolder(this.config.holder),this.nodes.wrapper=Me.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=Me.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(Me.get(e))return;const n=Me.make("style",null,{id:e,textContent:lB.toString()});Me.prepend(document.head,n)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",()=>{this.selectionChanged()},!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Up(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(j3,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case Ot.ENTER:this.enterPressed(e);break;case Ot.BACKSPACE:this.backspacePressed(e);break;case Ot.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),a=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||n&&a||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:r,Caret:a}=this.Editor;if(r.anyBlockSelected&&!bt.isSelectionExists){const o=n.removeSelectedBlocks();a.setToBlock(n.insertDefaultBlockAtIndex(o,!0),a.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:r}=this.Editor,a=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!bt.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&a&&e.target.tagName==="BODY"){const o=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(o),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(o)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){if(!e.isTrusted)return;const n=e.target;this.nodes.holder.contains(n)||bt.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const r=this.Editor.BlockSettings.nodes.wrapper.contains(n),a=this.Editor.Toolbar.nodes.settingsToggler.contains(n),o=r||a;if(this.Editor.BlockSettings.opened&&!o){this.Editor.BlockSettings.close();const s=this.Editor.BlockManager.getBlockByChildNode(n);this.Editor.Toolbar.moveAndOpen(s)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,a=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(r,a)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){const{BlockSelection:n}=this.Editor;if(!bt.isCollapsed)return;const r=()=>{e.stopImmediatePropagation(),e.stopPropagation()},a=e.target,o=e.metaKey||e.ctrlKey;if(Me.isAnchor(a)&&o){r();const u=a.getAttribute("href"),g=LM(u);UM(g);return}const s=this.Editor.BlockManager.getBlockByIndex(-1),i=Me.offset(s.holder).bottom,l=e.pageY;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!n.anyBlockSelected&&i<l){r();const{BlockManager:u,Caret:g,Toolbar:h}=this.Editor;(!u.lastBlock.tool.isDefault||!u.lastBlock.isEmpty)&&u.insertAtEnd(),g.setToTheLastBlock(),h.moveAndOpen(u.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,r=bt.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&bt.get().removeAllRanges(),!r){bt.range||this.Editor.InlineToolbar.close();return}const a=r.closest(`.${Nn.CSS.content}`)===null;if(a&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r);const o=a!==!0;this.Editor.InlineToolbar.tryToShow(!0,o)}}const uB={BlocksAPI:GM,CaretAPI:JM,EventsAPI:YM,I18nAPI:Hy,API:XM,InlineToolbarAPI:QM,ListenersAPI:ZM,NotifierAPI:rI,ReadOnlyAPI:oI,SanitizerAPI:fI,SaverAPI:dI,SelectionAPI:hI,StylesAPI:pI,ToolbarAPI:mI,TooltipAPI:bI,UiAPI:vI,BlockSettings:II,ConversionToolbar:Br,Toolbar:DI,InlineToolbar:UI,BlockEvents:FI,BlockManager:HI,BlockSelection:qI,Caret:df,CrossBlockSelection:WI,DragNDrop:KI,ModificationsObserver:GI,Paste:I3,ReadOnly:JI,RectangleSelection:gl,Renderer:YI,Saver:XI,Tools:D3,UI:cB};class fB{constructor(e){this.moduleInstances={},this.eventsDispatcher=new Qf;let n,r;this.isReady=new Promise((a,o)=>{n=a,r=o}),Promise.resolve().then(async()=>{this.configuration=e,await this.validate(),await this.init(),await this.start(),Jr("I'm ready! ()*:","log","","color: #E24A75"),setTimeout(async()=>{if(await this.render(),this.configuration.autofocus){const{BlockManager:a,Caret:o}=this.moduleInstances;o.setToBlock(a.blocks[0],o.positions.START),a.highlightCurrentNode()}this.moduleInstances.UI.removeLoader(),n()},500)}).catch(a=>{Ut(`Editor.js is not ready because of ${a}`,"error"),r(a)})}set configuration(e){var n,r;Wn(e)?this.config={...e}:this.config={holder:e},Vp(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=d3.VERBOSE),MM(this.config.logLevel),Vp(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const a={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(no(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[a]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&mr.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}async validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("holderId and holder param can't assign at the same time.");if(Ii(n)&&!Me.get(n))throw Error(`element with ID ${n} is missing. Pass correct holder's ID.`);if(n&&Wn(n)&&!Me.isElement(n))throw Error("holder value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof v3)throw new Error(r.message);Ut(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(uB).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){Ut("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const r in this.moduleInstances)r!==e&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class dB{static get version(){return"2.27.2"}constructor(e){let n=()=>{};Wn(e)&&un(e.onReady)&&(n=e.onReady);const r=new fB(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(e){const n=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(a=>{un(a.destroy)&&a.destroy(),a.listeners.removeAll()}),e=null;for(const a in this)Object.prototype.hasOwnProperty.call(this,a)&&delete this[a];Object.setPrototypeOf(this,null)};n.forEach(a=>{this[a]=e[a]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([a,o])=>{Object.entries(o).forEach(([s,i])=>{this[i]=e.moduleInstances.API.methods[a][s]})})}}var U3={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function a(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=r,a.d=function(o,s,i){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:i})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)a.d(i,l,(function(u){return o[u]}).bind(null,l));return i},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="/",a(a.s=14)}([function(n,r,a){var o=a(5),s=a(6),i=a(7),l=a(9);n.exports=function(u,g){return o(u)||s(u,g)||i(u,g)||l()}},function(n,r){function a(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n.exports=a=function(s){return typeof s}:n.exports=a=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},a(o)}n.exports=a},function(n,r){n.exports=function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}},function(n,r){function a(o,s){for(var i=0;i<s.length;i++){var l=s[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(o,l.key,l)}}n.exports=function(o,s,i){return s&&a(o.prototype,s),i&&a(o,i),o}},function(n,r){function a(o,s,i){var l,u,g,h,b;function w(){var d=Date.now()-h;d<s&&d>=0?l=setTimeout(w,s-d):(l=null,i||(b=o.apply(g,u),g=u=null))}s==null&&(s=100);var p=function(){g=this,u=arguments,h=Date.now();var d=i&&!l;return l||(l=setTimeout(w,s)),d&&(b=o.apply(g,u),g=u=null),b};return p.clear=function(){l&&(clearTimeout(l),l=null)},p.flush=function(){l&&(b=o.apply(g,u),g=u=null,clearTimeout(l),l=null)},p}a.debounce=a,n.exports=a},function(n,r){n.exports=function(a){if(Array.isArray(a))return a}},function(n,r){n.exports=function(a,o){if(typeof Symbol<"u"&&Symbol.iterator in Object(a)){var s=[],i=!0,l=!1,u=void 0;try{for(var g,h=a[Symbol.iterator]();!(i=(g=h.next()).done)&&(s.push(g.value),!o||s.length!==o);i=!0);}catch(b){l=!0,u=b}finally{try{i||h.return==null||h.return()}finally{if(l)throw u}}return s}}},function(n,r,a){var o=a(8);n.exports=function(s,i){if(s){if(typeof s=="string")return o(s,i);var l=Object.prototype.toString.call(s).slice(8,-1);return l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set"?Array.from(l):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?o(s,i):void 0}}},function(n,r){n.exports=function(a,o){(o==null||o>a.length)&&(o=a.length);for(var s=0,i=new Array(o);s<o;s++)i[s]=a[s];return i}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,a){var o=a(11),s=a(12);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var i={insert:"head",singleton:!1};o(s,i),n.exports=s.locals||{}},function(n,r,a){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},i=function(){var f={};return function(v){if(f[v]===void 0){var _=document.querySelector(v);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}f[v]=_}return f[v]}}(),l=[];function u(f){for(var v=-1,_=0;_<l.length;_++)if(l[_].identifier===f){v=_;break}return v}function g(f,v){for(var _={},S=[],E=0;E<f.length;E++){var x=f[E],k=v.base?x[0]+v.base:x[0],T=_[k]||0,C="".concat(k," ").concat(T);_[k]=T+1;var M=u(C),N={css:x[1],media:x[2],sourceMap:x[3]};M!==-1?(l[M].references++,l[M].updater(N)):l.push({identifier:C,updater:c(N,v),references:1}),S.push(C)}return S}function h(f){var v=document.createElement("style"),_=f.attributes||{};if(_.nonce===void 0){var S=a.nc;S&&(_.nonce=S)}if(Object.keys(_).forEach(function(x){v.setAttribute(x,_[x])}),typeof f.insert=="function")f.insert(v);else{var E=i(f.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(v)}return v}var b,w=(b=[],function(f,v){return b[f]=v,b.filter(Boolean).join(`
`)});function p(f,v,_,S){var E=_?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(f.styleSheet)f.styleSheet.cssText=w(v,E);else{var x=document.createTextNode(E),k=f.childNodes;k[v]&&f.removeChild(k[v]),k.length?f.insertBefore(x,k[v]):f.appendChild(x)}}function d(f,v,_){var S=_.css,E=_.media,x=_.sourceMap;if(E?f.setAttribute("media",E):f.removeAttribute("media"),x&&btoa&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(x))))," */")),f.styleSheet)f.styleSheet.cssText=S;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(S))}}var y=null,m=0;function c(f,v){var _,S,E;if(v.singleton){var x=m++;_=y||(y=h(v)),S=p.bind(null,_,x,!1),E=p.bind(null,_,x,!0)}else _=h(v),S=d.bind(null,_,v),E=function(){(function(k){if(k.parentNode===null)return!1;k.parentNode.removeChild(k)})(_)};return S(f),function(k){if(k){if(k.css===f.css&&k.media===f.media&&k.sourceMap===f.sourceMap)return;S(f=k)}else E()}}n.exports=function(f,v){(v=v||{}).singleton||typeof v.singleton=="boolean"||(v.singleton=s());var _=g(f=f||[],v);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var E=0;E<_.length;E++){var x=u(_[E]);l[x].references--}for(var k=g(S,v),T=0;T<_.length;T++){var C=u(_[T]);l[C].references===0&&(l[C].updater(),l.splice(C,1))}_=k}}}},function(n,r,a){(r=a(13)(!1)).push([n.i,`.embed-tool--loading .embed-tool__caption {
      display: none;
    }

    .embed-tool--loading .embed-tool__preloader {
      display: block;
    }

    .embed-tool--loading .embed-tool__content {
      display: none;
    }
  .embed-tool__preloader {
    display: none;
    position: relative;
    height: 200px;
    box-sizing: border-box;
    border-radius: 5px;
    border: 1px solid #e6e9eb;
  }
  .embed-tool__preloader::before {
      content: '';
      position: absolute;
      z-index: 3;
      left: 50%;
      top: 50%;
      width: 30px;
      height: 30px;
      margin-top: -25px;
      margin-left: -15px;
      border-radius: 50%;
      border: 2px solid #cdd1e0;
      border-top-color: #388ae5;
      box-sizing: border-box;
      animation: embed-preloader-spin 2s infinite linear;
    }
  .embed-tool__url {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    max-width: 250px;
    color: #7b7e89;
    font-size: 11px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .embed-tool__content {
    width: 100%;
  }
  .embed-tool__caption {
    margin-top: 7px;
  }
  .embed-tool__caption[contentEditable=true][data-placeholder]::before{
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty::before {
         opacity: 1;
      }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus::before {
        opacity: 0;
      }

@keyframes embed-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,a){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(i){var l=function(u,g){var h=u[1]||"",b=u[3];if(!b)return h;if(g&&typeof btoa=="function"){var w=(d=b,y=btoa(unescape(encodeURIComponent(JSON.stringify(d)))),m="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(y),"/*# ".concat(m," */")),p=b.sources.map(function(c){return"/*# sourceURL=".concat(b.sourceRoot||"").concat(c," */")});return[h].concat(p).concat([w]).join(`
`)}var d,y,m;return[h].join(`
`)}(i,o);return i[2]?"@media ".concat(i[2]," {").concat(l,"}"):l}).join("")},s.i=function(i,l,u){typeof i=="string"&&(i=[[null,i,""]]);var g={};if(u)for(var h=0;h<this.length;h++){var b=this[h][0];b!=null&&(g[b]=!0)}for(var w=0;w<i.length;w++){var p=[].concat(i[w]);u&&g[p[0]]||(l&&(p[2]?p[2]="".concat(l," and ").concat(p[2]):p[2]=l),s.push(p))}},s}},function(n,r,a){a.r(r),a.d(r,"default",function(){return d});var o=a(1),s=a.n(o),i=a(0),l=a.n(i),u=a(2),g=a.n(u),h=a(3),b=a.n(h),w={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:function(y){var m=l()(y,2),c=m[0],f=m[1];if(!f&&c)return c;var v={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return f=f.slice(1).split("&").map(function(_){var S=_.split("="),E=l()(S,2),x=E[0],k=E[1];return c||x!=="v"?v[x]?k==="LL"||k.startsWith("RDMM")||k.startsWith("FL")?null:"".concat(v[x],"=").concat(k):null:(c=k,null)}).filter(function(_){return!!_}),c+"?"+f.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:function(y){return y.join("/")}},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:function(y){return y.join("/")}},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:function(y){return y.join("/embed/")}},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:function(y){return y.join("/status/")}},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:function(y){return y[1]}},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:function(y){return y.join("/")}},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'}},p=(a(10),a(4)),d=function(){function y(m){var c=m.data,f=m.api,v=m.readOnly;g()(this,y),this.api=f,this._data={},this.element=null,this.readOnly=v,this.data=c}return b()(y,[{key:"render",value:function(){var m=this;if(!this.data.service){var c=document.createElement("div");return this.element=c,c}var f=y.services[this.data.service].html,v=document.createElement("div"),_=document.createElement("div"),S=document.createElement("template"),E=this.createPreloader();v.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),_.classList.add(this.CSS.input,this.CSS.caption),v.appendChild(E),_.contentEditable=!this.readOnly,_.dataset.placeholder=this.api.i18n.t("Enter a caption"),_.innerHTML=this.data.caption||"",S.innerHTML=f,S.content.firstChild.setAttribute("src",this.data.embed),S.content.firstChild.classList.add(this.CSS.content);var x=this.embedIsReady(v);return v.appendChild(S.content.firstChild),v.appendChild(_),x.then(function(){v.classList.remove(m.CSS.containerLoading)}),this.element=v,v}},{key:"createPreloader",value:function(){var m=document.createElement("preloader"),c=document.createElement("div");return c.textContent=this.data.source,m.classList.add(this.CSS.preloader),c.classList.add(this.CSS.url),m.appendChild(c),m}},{key:"save",value:function(){return this.data}},{key:"onPaste",value:function(m){var c=m.detail,f=c.key,v=c.data,_=y.services[f],S=_.regex,E=_.embedUrl,x=_.width,k=_.height,T=_.id,C=T===void 0?function(L){return L.shift()}:T,M=S.exec(v).slice(1),N=E.replace(/<%= remote_id %>/g,C(M));this.data={service:f,source:v,embed:N,width:x,height:k}}},{key:"embedIsReady",value:function(m){var c=null;return new Promise(function(f,v){(c=new MutationObserver(Object(p.debounce)(f,450))).observe(m,{childList:!0,subtree:!0})}).then(function(){c.disconnect()})}},{key:"data",set:function(m){if(!(m instanceof Object))throw Error("Embed Tool data should be object");var c=m.service,f=m.source,v=m.embed,_=m.width,S=m.height,E=m.caption,x=E===void 0?"":E;this._data={service:c||this.data.service,source:f||this.data.source,embed:v||this.data.embed,width:_||this.data.width,height:S||this.data.height,caption:x||this.data.caption||""};var k=this.element;k&&k.parentNode.replaceChild(this.render(),k)},get:function(){if(this.element){var m=this.element.querySelector(".".concat(this.api.styles.input));this._data.caption=m?m.innerHTML:""}return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}}],[{key:"prepare",value:function(m){var c=m.config,f=(c===void 0?{}:c).services,v=f===void 0?{}:f,_=Object.entries(w),S=Object.entries(v).filter(function(x){var k=l()(x,2),T=(k[0],k[1]);return typeof T=="boolean"&&T===!0}).map(function(x){return l()(x,1)[0]}),E=Object.entries(v).filter(function(x){var k=l()(x,2),T=(k[0],k[1]);return s()(T)==="object"}).filter(function(x){var k=l()(x,2),T=(k[0],k[1]);return y.checkServiceConfig(T)}).map(function(x){var k=l()(x,2),T=k[0],C=k[1];return[T,{regex:C.regex,embedUrl:C.embedUrl,html:C.html,height:C.height,width:C.width,id:C.id}]});S.length&&(_=_.filter(function(x){var k=l()(x,1)[0];return S.includes(k)})),_=_.concat(E),y.services=_.reduce(function(x,k){var T=l()(k,2),C=T[0],M=T[1];return C in x?(x[C]=Object.assign({},x[C],M),x):(x[C]=M,x)},{}),y.patterns=_.reduce(function(x,k){var T=l()(k,2),C=T[0],M=T[1];return x[C]=M.regex,x},{})}},{key:"checkServiceConfig",value:function(m){var c=m.regex,f=m.embedUrl,v=m.html,_=m.height,S=m.width,E=m.id,x=c&&c instanceof RegExp&&f&&typeof f=="string"&&v&&typeof v=="string";return x=(x=(x=x&&(E===void 0||E instanceof Function))&&(_===void 0||Number.isFinite(_)))&&(S===void 0||Number.isFinite(S))}},{key:"pasteConfig",get:function(){return{patterns:y.patterns}}},{key:"isReadOnlySupported",get:function(){return!0}}]),y}()}]).default})})(U3);var hB=U3.exports;const pB=Jo(hB);var F3={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function a(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=r,a.d=function(o,s,i){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:i})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)a.d(i,l,(function(u){return o[u]}).bind(null,l));return i},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="/",a(a.s=4)}([function(n,r,a){var o=a(1),s=a(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var i={insert:"head",singleton:!1};o(s,i),n.exports=s.locals||{}},function(n,r,a){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},i=function(){var f={};return function(v){if(f[v]===void 0){var _=document.querySelector(v);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}f[v]=_}return f[v]}}(),l=[];function u(f){for(var v=-1,_=0;_<l.length;_++)if(l[_].identifier===f){v=_;break}return v}function g(f,v){for(var _={},S=[],E=0;E<f.length;E++){var x=f[E],k=v.base?x[0]+v.base:x[0],T=_[k]||0,C="".concat(k," ").concat(T);_[k]=T+1;var M=u(C),N={css:x[1],media:x[2],sourceMap:x[3]};M!==-1?(l[M].references++,l[M].updater(N)):l.push({identifier:C,updater:c(N,v),references:1}),S.push(C)}return S}function h(f){var v=document.createElement("style"),_=f.attributes||{};if(_.nonce===void 0){var S=a.nc;S&&(_.nonce=S)}if(Object.keys(_).forEach(function(x){v.setAttribute(x,_[x])}),typeof f.insert=="function")f.insert(v);else{var E=i(f.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(v)}return v}var b,w=(b=[],function(f,v){return b[f]=v,b.filter(Boolean).join(`
`)});function p(f,v,_,S){var E=_?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(f.styleSheet)f.styleSheet.cssText=w(v,E);else{var x=document.createTextNode(E),k=f.childNodes;k[v]&&f.removeChild(k[v]),k.length?f.insertBefore(x,k[v]):f.appendChild(x)}}function d(f,v,_){var S=_.css,E=_.media,x=_.sourceMap;if(E?f.setAttribute("media",E):f.removeAttribute("media"),x&&btoa&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(x))))," */")),f.styleSheet)f.styleSheet.cssText=S;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(S))}}var y=null,m=0;function c(f,v){var _,S,E;if(v.singleton){var x=m++;_=y||(y=h(v)),S=p.bind(null,_,x,!1),E=p.bind(null,_,x,!0)}else _=h(v),S=d.bind(null,_,v),E=function(){(function(k){if(k.parentNode===null)return!1;k.parentNode.removeChild(k)})(_)};return S(f),function(k){if(k){if(k.css===f.css&&k.media===f.media&&k.sourceMap===f.sourceMap)return;S(f=k)}else E()}}n.exports=function(f,v){(v=v||{}).singleton||typeof v.singleton=="boolean"||(v.singleton=s());var _=g(f=f||[],v);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var E=0;E<_.length;E++){var x=u(_[E]);l[x].references--}for(var k=g(S,v),T=0;T<_.length;T++){var C=u(_[T]);l[C].references===0&&(l[C].updater(),l.splice(C,1))}_=k}}}},function(n,r,a){(r=a(3)(!1)).push([n.i,`.cdx-list {
    margin: 0;
    padding-left: 40px;
    outline: none;
}

    .cdx-list__item {
        padding: 5.5px 0 5.5px 3px;
        line-height: 1.6em;
    }

    .cdx-list--unordered {
        list-style: disc;
    }

    .cdx-list--ordered {
        list-style: decimal;
    }

    .cdx-list-settings {
        display: flex;
    }

    .cdx-list-settings .cdx-settings-button {
            width: 50%;
        }
`,""]),n.exports=r},function(n,r,a){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(i){var l=function(u,g){var h=u[1]||"",b=u[3];if(!b)return h;if(g&&typeof btoa=="function"){var w=(d=b,y=btoa(unescape(encodeURIComponent(JSON.stringify(d)))),m="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(y),"/*# ".concat(m," */")),p=b.sources.map(function(c){return"/*# sourceURL=".concat(b.sourceRoot||"").concat(c," */")});return[h].concat(p).concat([w]).join(`
`)}var d,y,m;return[h].join(`
`)}(i,o);return i[2]?"@media ".concat(i[2]," {").concat(l,"}"):l}).join("")},s.i=function(i,l,u){typeof i=="string"&&(i=[[null,i,""]]);var g={};if(u)for(var h=0;h<this.length;h++){var b=this[h][0];b!=null&&(g[b]=!0)}for(var w=0;w<i.length;w++){var p=[].concat(i[w]);u&&g[p[0]]||(l&&(p[2]?p[2]="".concat(l," and ").concat(p[2]):p[2]=l),s.push(p))}},s}},function(n,r,a){a.r(r),a.d(r,"default",function(){return w}),a(0);const o='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>';function s(p){return function(d){if(Array.isArray(d))return i(d)}(p)||function(d){if(typeof Symbol<"u"&&Symbol.iterator in Object(d))return Array.from(d)}(p)||function(d,y){if(d){if(typeof d=="string")return i(d,y);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return i(d,y)}}(p)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function i(p,d){(d==null||d>p.length)&&(d=p.length);for(var y=0,m=new Array(d);y<d;y++)m[y]=p[y];return m}function l(p,d){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(p);d&&(m=m.filter(function(c){return Object.getOwnPropertyDescriptor(p,c).enumerable})),y.push.apply(y,m)}return y}function u(p){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?l(Object(y),!0).forEach(function(m){g(p,m,y[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):l(Object(y)).forEach(function(m){Object.defineProperty(p,m,Object.getOwnPropertyDescriptor(y,m))})}return p}function g(p,d,y){return d in p?Object.defineProperty(p,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[d]=y,p}function h(p,d){for(var y=0;y<d.length;y++){var m=d[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}function b(p,d,y){return d&&h(p.prototype,d),y&&h(p,y),p}var w=function(){function p(d){var y=d.data,m=d.config,c=d.api,f=d.readOnly;(function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")})(this,p),this._elements={wrapper:null},this.api=c,this.readOnly=f,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:o,default:m.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',default:m.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(function(v){return v.default===!0}).name,items:[]},this.data=y}return b(p,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:o,title:"List"}}}]),b(p,[{key:"render",value:function(){var d=this;return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(function(y){d._elements.wrapper.appendChild(d._make("li",d.CSS.item,{innerHTML:y}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",function(y){switch(y.keyCode){case 13:d.getOutofList(y);break;case 8:d.backspace(y)}},!1),this._elements.wrapper}},{key:"save",value:function(){return this.data}},{key:"renderSettings",value:function(){var d=this;return this.settings.map(function(y){return u(u({},y),{},{isActive:d._data.style===y.name,closeOnActivate:!0,onActivate:function(){return d.toggleTune(y.name)}})})}},{key:"onPaste",value:function(d){var y=d.detail.data;this.data=this.pasteHandler(y)}},{key:"makeMainTag",value:function(d){var y=d==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,m=d==="ordered"?"ol":"ul";return this._make(m,[this.CSS.baseBlock,this.CSS.wrapper,y],{contentEditable:!this.readOnly})}},{key:"toggleTune",value:function(d){for(var y=this.makeMainTag(d);this._elements.wrapper.hasChildNodes();)y.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(y),this._elements.wrapper=y,this._data.style=d}},{key:"_make",value:function(d){var y,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=document.createElement(d);Array.isArray(m)?(y=f.classList).add.apply(y,s(m)):m&&f.classList.add(m);for(var v in c)f[v]=c[v];return f}},{key:"getOutofList",value:function(d){var y=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(!(y.length<2)){var m=y[y.length-1],c=this.currentItem;c!==m||m.textContent.trim().length||(c.parentElement.removeChild(c),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),d.preventDefault(),d.stopPropagation())}}},{key:"backspace",value:function(d){var y=this._elements.wrapper.querySelectorAll("."+this.CSS.item),m=y[0];m&&y.length<2&&!m.innerHTML.replace("<br>"," ").trim()&&d.preventDefault()}},{key:"selectItem",value:function(d){d.preventDefault();var y=window.getSelection(),m=y.anchorNode.parentNode.closest("."+this.CSS.item),c=new Range;c.selectNodeContents(m),y.removeAllRanges(),y.addRange(c)}},{key:"pasteHandler",value:function(d){var y,m=d.tagName;switch(m){case"OL":y="ordered";break;case"UL":case"LI":y="unordered"}var c={style:y,items:[]};if(m==="LI")c.items=[d.innerHTML];else{var f=Array.from(d.querySelectorAll("LI"));c.items=f.map(function(v){return v.innerHTML}).filter(function(v){return!!v.trim()})}return c}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}},{key:"data",set:function(d){d||(d={}),this._data.style=d.style||this.settings.find(function(m){return m.default===!0}).name,this._data.items=d.items||[];var y=this._elements.wrapper;y&&y.parentNode.replaceChild(this.render(),y)},get:function(){this._data.items=[];for(var d=this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)),y=0;y<d.length;y++)d[y].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(d[y].innerHTML);return this._data}},{key:"currentItem",get:function(){var d=window.getSelection().anchorNode;return d.nodeType!==Node.ELEMENT_NODE&&(d=d.parentNode),d.closest(".".concat(this.CSS.item))}}],[{key:"conversionConfig",get:function(){return{export:function(d){return d.items.join(". ")},import:function(d){return{items:[d],style:"unordered"}}}}},{key:"sanitize",get:function(){return{style:{},items:{br:!0}}}},{key:"pasteConfig",get:function(){return{tags:["OL","UL","LI"]}}}]),p}()}]).default})})(F3);var mB=F3.exports;const yB=Jo(mB);var V3={exports:{}};/*!
 * Image tool
 * 
 * @version 2.8.1
 * 
 * @package https://github.com/editor-js/image
 * @licence MIT
 * @author CodeX <https://codex.so>
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function a(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=r,a.d=function(o,s,i){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:i})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)a.d(i,l,(function(u){return o[u]}).bind(null,l));return i},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="/",a(a.s=9)}([function(n,r){function a(o,s){for(var i=0;i<s.length;i++){var l=s[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(o,l.key,l)}}n.exports=function(o,s,i){return s&&a(o.prototype,s),i&&a(o,i),o}},function(n,r,a){n.exports=function(o){var s={};function i(l){if(s[l])return s[l].exports;var u=s[l]={i:l,l:!1,exports:{}};return o[l].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=o,i.c=s,i.d=function(l,u,g){i.o(l,u)||Object.defineProperty(l,u,{enumerable:!0,get:g})},i.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},i.t=function(l,u){if(1&u&&(l=i(l)),8&u||4&u&&typeof l=="object"&&l&&l.__esModule)return l;var g=Object.create(null);if(i.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),2&u&&typeof l!="string")for(var h in l)i.d(g,h,(function(b){return l[b]}).bind(null,h));return g},i.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return i.d(u,"a",u),u},i.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},i.p="",i(i.s=3)}([function(o,s){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}o.exports=i},function(o,s,i){(function(l){var u=i(2),g=setTimeout;function h(){}function b(f){if(!(this instanceof b))throw new TypeError("Promises must be constructed via new");if(typeof f!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(f,this)}function w(f,v){for(;f._state===3;)f=f._value;f._state!==0?(f._handled=!0,b._immediateFn(function(){var _=f._state===1?v.onFulfilled:v.onRejected;if(_!==null){var S;try{S=_(f._value)}catch(E){return void d(v.promise,E)}p(v.promise,S)}else(f._state===1?p:d)(v.promise,f._value)})):f._deferreds.push(v)}function p(f,v){try{if(v===f)throw new TypeError("A promise cannot be resolved with itself.");if(v&&(typeof v=="object"||typeof v=="function")){var _=v.then;if(v instanceof b)return f._state=3,f._value=v,void y(f);if(typeof _=="function")return void c((S=_,E=v,function(){S.apply(E,arguments)}),f)}f._state=1,f._value=v,y(f)}catch(x){d(f,x)}var S,E}function d(f,v){f._state=2,f._value=v,y(f)}function y(f){f._state===2&&f._deferreds.length===0&&b._immediateFn(function(){f._handled||b._unhandledRejectionFn(f._value)});for(var v=0,_=f._deferreds.length;v<_;v++)w(f,f._deferreds[v]);f._deferreds=null}function m(f,v,_){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof v=="function"?v:null,this.promise=_}function c(f,v){var _=!1;try{f(function(S){_||(_=!0,p(v,S))},function(S){_||(_=!0,d(v,S))})}catch(S){if(_)return;_=!0,d(v,S)}}b.prototype.catch=function(f){return this.then(null,f)},b.prototype.then=function(f,v){var _=new this.constructor(h);return w(this,new m(f,v,_)),_},b.prototype.finally=u.a,b.all=function(f){return new b(function(v,_){if(!f||f.length===void 0)throw new TypeError("Promise.all accepts an array");var S=Array.prototype.slice.call(f);if(S.length===0)return v([]);var E=S.length;function x(T,C){try{if(C&&(typeof C=="object"||typeof C=="function")){var M=C.then;if(typeof M=="function")return void M.call(C,function(N){x(T,N)},_)}S[T]=C,--E==0&&v(S)}catch(N){_(N)}}for(var k=0;k<S.length;k++)x(k,S[k])})},b.resolve=function(f){return f&&typeof f=="object"&&f.constructor===b?f:new b(function(v){v(f)})},b.reject=function(f){return new b(function(v,_){_(f)})},b.race=function(f){return new b(function(v,_){for(var S=0,E=f.length;S<E;S++)f[S].then(v,_)})},b._immediateFn=typeof l=="function"&&function(f){l(f)}||function(f){g(f,0)},b._unhandledRejectionFn=function(f){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",f)},s.a=b}).call(this,i(5).setImmediate)},function(o,s,i){s.a=function(l){var u=this.constructor;return this.then(function(g){return u.resolve(l()).then(function(){return g})},function(g){return u.resolve(l()).then(function(){return u.reject(g)})})}},function(o,s,i){function l(c){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}i(4);var u,g,h,b,w,p,d,y=i(8),m=(g=function(c){return new Promise(function(f,v){c=b(c),(c=w(c)).beforeSend&&c.beforeSend();var _=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");_.open(c.method,c.url),_.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(c.headers).forEach(function(E){var x=c.headers[E];_.setRequestHeader(E,x)});var S=c.ratio;_.upload.addEventListener("progress",function(E){var x=Math.round(E.loaded/E.total*100),k=Math.ceil(x*S/100);c.progress(Math.min(k,100))},!1),_.addEventListener("progress",function(E){var x=Math.round(E.loaded/E.total*100),k=Math.ceil(x*(100-S)/100)+S;c.progress(Math.min(k,100))},!1),_.onreadystatechange=function(){if(_.readyState===4){var E=_.response;try{E=JSON.parse(E)}catch{}var x=y.parseHeaders(_.getAllResponseHeaders()),k={body:E,code:_.status,headers:x};d(_.status)?f(k):v(k)}},_.send(c.data)})},h=function(c){return c.method="POST",g(c)},b=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(c.url&&typeof c.url!="string")throw new Error("Url must be a string");if(c.url=c.url||"",c.method&&typeof c.method!="string")throw new Error("`method` must be a string or null");if(c.method=c.method?c.method.toUpperCase():"GET",c.headers&&l(c.headers)!=="object")throw new Error("`headers` must be an object or null");if(c.headers=c.headers||{},c.type&&(typeof c.type!="string"||!Object.values(u).includes(c.type)))throw new Error("`type` must be taken from module's contentType library");if(c.progress&&typeof c.progress!="function")throw new Error("`progress` must be a function or null");if(c.progress=c.progress||function(f){},c.beforeSend=c.beforeSend||function(f){},c.ratio&&typeof c.ratio!="number")throw new Error("`ratio` must be a number");if(c.ratio<0||c.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(c.ratio=c.ratio||90,c.accept&&typeof c.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(c.accept=c.accept||"*/*",c.multiple&&typeof c.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(c.multiple=c.multiple||!1,c.fieldName&&typeof c.fieldName!="string")throw new Error("`fieldName` must be a string");return c.fieldName=c.fieldName||"files",c},w=function(c){switch(c.method){case"GET":var f=p(c.data,u.URLENCODED);delete c.data,c.url=/\?/.test(c.url)?c.url+"&"+f:c.url+"?"+f;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var v=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||u.JSON}(c);(y.isFormData(c.data)||y.isFormElement(c.data))&&(v=u.FORM),c.data=p(c.data,v),v!==m.contentType.FORM&&(c.headers["content-type"]=v)}return c},p=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case u.URLENCODED:return y.urlEncode(c);case u.JSON:return y.jsonEncode(c);case u.FORM:return y.formEncode(c);default:return c}},d=function(c){return c>=200&&c<300},{contentType:u={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:g,get:function(c){return c.method="GET",g(c)},post:h,transport:function(c){return c=b(c),y.selectFiles(c).then(function(f){for(var v=new FormData,_=0;_<f.length;_++)v.append(c.fieldName,f[_],f[_].name);y.isObject(c.data)&&Object.keys(c.data).forEach(function(E){var x=c.data[E];v.append(E,x)});var S=c.beforeSend;return c.beforeSend=function(){return S(f)},c.data=v,h(c)})},selectFiles:function(c){return delete(c=b(c)).beforeSend,y.selectFiles(c)}});o.exports=m},function(o,s,i){i.r(s);var l=i(1);window.Promise=window.Promise||l.a},function(o,s,i){(function(l){var u=l!==void 0&&l||typeof self<"u"&&self||window,g=Function.prototype.apply;function h(b,w){this._id=b,this._clearFn=w}s.setTimeout=function(){return new h(g.call(setTimeout,u,arguments),clearTimeout)},s.setInterval=function(){return new h(g.call(setInterval,u,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(b){b&&b.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(u,this._id)},s.enroll=function(b,w){clearTimeout(b._idleTimeoutId),b._idleTimeout=w},s.unenroll=function(b){clearTimeout(b._idleTimeoutId),b._idleTimeout=-1},s._unrefActive=s.active=function(b){clearTimeout(b._idleTimeoutId);var w=b._idleTimeout;w>=0&&(b._idleTimeoutId=setTimeout(function(){b._onTimeout&&b._onTimeout()},w))},i(6),s.setImmediate=typeof self<"u"&&self.setImmediate||l!==void 0&&l.setImmediate||this&&this.setImmediate,s.clearImmediate=typeof self<"u"&&self.clearImmediate||l!==void 0&&l.clearImmediate||this&&this.clearImmediate}).call(this,i(0))},function(o,s,i){(function(l,u){(function(g,h){if(!g.setImmediate){var b,w,p,d,y,m=1,c={},f=!1,v=g.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(g);_=_&&_.setTimeout?_:g,{}.toString.call(g.process)==="[object process]"?b=function(x){u.nextTick(function(){E(x)})}:function(){if(g.postMessage&&!g.importScripts){var x=!0,k=g.onmessage;return g.onmessage=function(){x=!1},g.postMessage("","*"),g.onmessage=k,x}}()?(d="setImmediate$"+Math.random()+"$",y=function(x){x.source===g&&typeof x.data=="string"&&x.data.indexOf(d)===0&&E(+x.data.slice(d.length))},g.addEventListener?g.addEventListener("message",y,!1):g.attachEvent("onmessage",y),b=function(x){g.postMessage(d+x,"*")}):g.MessageChannel?((p=new MessageChannel).port1.onmessage=function(x){E(x.data)},b=function(x){p.port2.postMessage(x)}):v&&"onreadystatechange"in v.createElement("script")?(w=v.documentElement,b=function(x){var k=v.createElement("script");k.onreadystatechange=function(){E(x),k.onreadystatechange=null,w.removeChild(k),k=null},w.appendChild(k)}):b=function(x){setTimeout(E,0,x)},_.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var k=new Array(arguments.length-1),T=0;T<k.length;T++)k[T]=arguments[T+1];var C={callback:x,args:k};return c[m]=C,b(m),m++},_.clearImmediate=S}function S(x){delete c[x]}function E(x){if(f)setTimeout(E,0,x);else{var k=c[x];if(k){f=!0;try{(function(T){var C=T.callback,M=T.args;switch(M.length){case 0:C();break;case 1:C(M[0]);break;case 2:C(M[0],M[1]);break;case 3:C(M[0],M[1],M[2]);break;default:C.apply(void 0,M)}})(k)}finally{S(x),f=!1}}}}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,i(0),i(7))},function(o,s){var i,l,u=o.exports={};function g(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function b(_){if(i===setTimeout)return setTimeout(_,0);if((i===g||!i)&&setTimeout)return i=setTimeout,setTimeout(_,0);try{return i(_,0)}catch{try{return i.call(null,_,0)}catch{return i.call(this,_,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:g}catch{i=g}try{l=typeof clearTimeout=="function"?clearTimeout:h}catch{l=h}})();var w,p=[],d=!1,y=-1;function m(){d&&w&&(d=!1,w.length?p=w.concat(p):y=-1,p.length&&c())}function c(){if(!d){var _=b(m);d=!0;for(var S=p.length;S;){for(w=p,p=[];++y<S;)w&&w[y].run();y=-1,S=p.length}w=null,d=!1,function(E){if(l===clearTimeout)return clearTimeout(E);if((l===h||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(E);try{l(E)}catch{try{return l.call(null,E)}catch{return l.call(this,E)}}}(_)}}function f(_,S){this.fun=_,this.array=S}function v(){}u.nextTick=function(_){var S=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)S[E-1]=arguments[E];p.push(new f(_,S)),p.length!==1||d||b(c)},f.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=v,u.addListener=v,u.once=v,u.off=v,u.removeListener=v,u.removeAllListeners=v,u.emit=v,u.prependListener=v,u.prependOnceListener=v,u.listeners=function(_){return[]},u.binding=function(_){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(_){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(o,s,i){function l(g,h){for(var b=0;b<h.length;b++){var w=h[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}var u=i(9);o.exports=function(){function g(){(function(w,p){if(!(w instanceof p))throw new TypeError("Cannot call a class as a function")})(this,g)}var h,b;return h=g,(b=[{key:"urlEncode",value:function(w){return u(w)}},{key:"jsonEncode",value:function(w){return JSON.stringify(w)}},{key:"formEncode",value:function(w){if(this.isFormData(w))return w;if(this.isFormElement(w))return new FormData(w);if(this.isObject(w)){var p=new FormData;return Object.keys(w).forEach(function(d){var y=w[d];p.append(d,y)}),p}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(w){return Object.prototype.toString.call(w)==="[object Object]"}},{key:"isFormData",value:function(w){return w instanceof FormData}},{key:"isFormElement",value:function(w){return w instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(p,d){var y=document.createElement("INPUT");y.type="file",w.multiple&&y.setAttribute("multiple","multiple"),w.accept&&y.setAttribute("accept",w.accept),y.style.display="none",document.body.appendChild(y),y.addEventListener("change",function(m){var c=m.target.files;p(c),document.body.removeChild(y)},!1),y.click()})}},{key:"parseHeaders",value:function(w){var p=w.trim().split(/[\r\n]+/),d={};return p.forEach(function(y){var m=y.split(": "),c=m.shift(),f=m.join(": ");c&&(d[c]=f)}),d}}])&&l(h,b),g}()},function(o,s){var i=function(u){return encodeURIComponent(u).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},l=function(u,g,h,b){return g=g||null,h=h||"&",b=b||null,u?function(w){for(var p=new Array,d=0;d<w.length;d++)w[d]&&p.push(w[d]);return p}(Object.keys(u).map(function(w){var p,d,y=w;if(b&&(y=b+"["+y+"]"),typeof u[w]=="object"&&u[w]!==null)p=l(u[w],null,h,y);else{g&&(d=y,y=!isNaN(parseFloat(d))&&isFinite(d)?g+Number(y):y);var m=u[w];m=(m=(m=(m=m===!0?"1":m)===!1?"0":m)===0?"0":m)||"",p=i(y)+"="+i(m)}return p})).join(h).replace(/[!'()*]/g,""):""};o.exports=l}])},function(n,r){n.exports=function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}},function(n,r,a){n.exports=a(10)},function(n,r){n.exports=function(a,o){(o==null||o>a.length)&&(o=a.length);for(var s=0,i=new Array(o);s<o;s++)i[s]=a[s];return i}},function(n,r,a){var o=a(4);n.exports=function(s,i){if(s){if(typeof s=="string")return o(s,i);var l=Object.prototype.toString.call(s).slice(8,-1);return l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set"?Array.from(l):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?o(s,i):void 0}}},function(n,r){function a(o,s,i,l,u,g,h){try{var b=o[g](h),w=b.value}catch(p){return void i(p)}b.done?s(w):Promise.resolve(w).then(l,u)}n.exports=function(o){return function(){var s=this,i=arguments;return new Promise(function(l,u){var g=o.apply(s,i);function h(w){a(g,l,u,h,b,"next",w)}function b(w){a(g,l,u,h,b,"throw",w)}h(void 0)})}}},function(n,r,a){var o=a(15),s=a(16),i=a(5),l=a(17);n.exports=function(u){return o(u)||s(u)||i(u)||l()}},function(n,r,a){var o=a(18),s=a(19),i=a(5),l=a(20);n.exports=function(u,g){return o(u)||s(u,g)||i(u,g)||l()}},function(n,r,a){n.exports=a(21)},function(n,r,a){var o=function(s){var i=Object.prototype,l=i.hasOwnProperty,u=typeof Symbol=="function"?Symbol:{},g=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",b=u.toStringTag||"@@toStringTag";function w(R,D,z,U){var O=D&&D.prototype instanceof y?D:y,I=Object.create(O.prototype),j=new M(U||[]);return I._invoke=function(P,A,$){var q="suspendedStart";return function(X,te){if(q==="executing")throw new Error("Generator is already running");if(q==="completed"){if(X==="throw")throw te;return L()}for($.method=X,$.arg=te;;){var re=$.delegate;if(re){var ie=k(re,$);if(ie){if(ie===d)continue;return ie}}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(q==="suspendedStart")throw q="completed",$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);q="executing";var Z=p(P,A,$);if(Z.type==="normal"){if(q=$.done?"completed":"suspendedYield",Z.arg===d)continue;return{value:Z.arg,done:$.done}}Z.type==="throw"&&(q="completed",$.method="throw",$.arg=Z.arg)}}}(R,z,j),I}function p(R,D,z){try{return{type:"normal",arg:R.call(D,z)}}catch(U){return{type:"throw",arg:U}}}s.wrap=w;var d={};function y(){}function m(){}function c(){}var f={};f[g]=function(){return this};var v=Object.getPrototypeOf,_=v&&v(v(N([])));_&&_!==i&&l.call(_,g)&&(f=_);var S=c.prototype=y.prototype=Object.create(f);function E(R){["next","throw","return"].forEach(function(D){R[D]=function(z){return this._invoke(D,z)}})}function x(R,D){var z;this._invoke=function(U,O){function I(){return new D(function(j,P){(function A($,q,X,te){var re=p(R[$],R,q);if(re.type!=="throw"){var ie=re.arg,Z=ie.value;return Z&&typeof Z=="object"&&l.call(Z,"__await")?D.resolve(Z.__await).then(function(ee){A("next",ee,X,te)},function(ee){A("throw",ee,X,te)}):D.resolve(Z).then(function(ee){ie.value=ee,X(ie)},function(ee){return A("throw",ee,X,te)})}te(re.arg)})(U,O,j,P)})}return z=z?z.then(I,I):I()}}function k(R,D){var z=R.iterator[D.method];if(z===void 0){if(D.delegate=null,D.method==="throw"){if(R.iterator.return&&(D.method="return",D.arg=void 0,k(R,D),D.method==="throw"))return d;D.method="throw",D.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var U=p(z,R.iterator,D.arg);if(U.type==="throw")return D.method="throw",D.arg=U.arg,D.delegate=null,d;var O=U.arg;return O?O.done?(D[R.resultName]=O.value,D.next=R.nextLoc,D.method!=="return"&&(D.method="next",D.arg=void 0),D.delegate=null,d):O:(D.method="throw",D.arg=new TypeError("iterator result is not an object"),D.delegate=null,d)}function T(R){var D={tryLoc:R[0]};1 in R&&(D.catchLoc=R[1]),2 in R&&(D.finallyLoc=R[2],D.afterLoc=R[3]),this.tryEntries.push(D)}function C(R){var D=R.completion||{};D.type="normal",delete D.arg,R.completion=D}function M(R){this.tryEntries=[{tryLoc:"root"}],R.forEach(T,this),this.reset(!0)}function N(R){if(R){var D=R[g];if(D)return D.call(R);if(typeof R.next=="function")return R;if(!isNaN(R.length)){var z=-1,U=function O(){for(;++z<R.length;)if(l.call(R,z))return O.value=R[z],O.done=!1,O;return O.value=void 0,O.done=!0,O};return U.next=U}}return{next:L}}function L(){return{value:void 0,done:!0}}return m.prototype=S.constructor=c,c.constructor=m,c[b]=m.displayName="GeneratorFunction",s.isGeneratorFunction=function(R){var D=typeof R=="function"&&R.constructor;return!!D&&(D===m||(D.displayName||D.name)==="GeneratorFunction")},s.mark=function(R){return Object.setPrototypeOf?Object.setPrototypeOf(R,c):(R.__proto__=c,b in R||(R[b]="GeneratorFunction")),R.prototype=Object.create(S),R},s.awrap=function(R){return{__await:R}},E(x.prototype),x.prototype[h]=function(){return this},s.AsyncIterator=x,s.async=function(R,D,z,U,O){O===void 0&&(O=Promise);var I=new x(w(R,D,z,U),O);return s.isGeneratorFunction(D)?I:I.next().then(function(j){return j.done?j.value:I.next()})},E(S),S[b]="Generator",S[g]=function(){return this},S.toString=function(){return"[object Generator]"},s.keys=function(R){var D=[];for(var z in R)D.push(z);return D.reverse(),function U(){for(;D.length;){var O=D.pop();if(O in R)return U.value=O,U.done=!1,U}return U.done=!0,U}},s.values=N,M.prototype={constructor:M,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!R)for(var D in this)D.charAt(0)==="t"&&l.call(this,D)&&!isNaN(+D.slice(1))&&(this[D]=void 0)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var D=this;function z(A,$){return I.type="throw",I.arg=R,D.next=A,$&&(D.method="next",D.arg=void 0),!!$}for(var U=this.tryEntries.length-1;U>=0;--U){var O=this.tryEntries[U],I=O.completion;if(O.tryLoc==="root")return z("end");if(O.tryLoc<=this.prev){var j=l.call(O,"catchLoc"),P=l.call(O,"finallyLoc");if(j&&P){if(this.prev<O.catchLoc)return z(O.catchLoc,!0);if(this.prev<O.finallyLoc)return z(O.finallyLoc)}else if(j){if(this.prev<O.catchLoc)return z(O.catchLoc,!0)}else{if(!P)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return z(O.finallyLoc)}}}},abrupt:function(R,D){for(var z=this.tryEntries.length-1;z>=0;--z){var U=this.tryEntries[z];if(U.tryLoc<=this.prev&&l.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var O=U;break}}O&&(R==="break"||R==="continue")&&O.tryLoc<=D&&D<=O.finallyLoc&&(O=null);var I=O?O.completion:{};return I.type=R,I.arg=D,O?(this.method="next",this.next=O.finallyLoc,d):this.complete(I)},complete:function(R,D){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&D&&(this.next=D),d},finish:function(R){for(var D=this.tryEntries.length-1;D>=0;--D){var z=this.tryEntries[D];if(z.finallyLoc===R)return this.complete(z.completion,z.afterLoc),C(z),d}},catch:function(R){for(var D=this.tryEntries.length-1;D>=0;--D){var z=this.tryEntries[D];if(z.tryLoc===R){var U=z.completion;if(U.type==="throw"){var O=U.arg;C(z)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(R,D,z){return this.delegate={iterator:N(R),resultName:D,nextLoc:z},this.method==="next"&&(this.arg=void 0),d}},s}(n.exports);try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},function(n,r,a){var o=a(12),s=a(13);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var i={insert:"head",singleton:!1},l=(o(s,i),s.locals?s.locals:{});n.exports=l},function(n,r,a){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},i=function(){var f={};return function(v){if(f[v]===void 0){var _=document.querySelector(v);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}f[v]=_}return f[v]}}(),l=[];function u(f){for(var v=-1,_=0;_<l.length;_++)if(l[_].identifier===f){v=_;break}return v}function g(f,v){for(var _={},S=[],E=0;E<f.length;E++){var x=f[E],k=v.base?x[0]+v.base:x[0],T=_[k]||0,C="".concat(k," ").concat(T);_[k]=T+1;var M=u(C),N={css:x[1],media:x[2],sourceMap:x[3]};M!==-1?(l[M].references++,l[M].updater(N)):l.push({identifier:C,updater:c(N,v),references:1}),S.push(C)}return S}function h(f){var v=document.createElement("style"),_=f.attributes||{};if(_.nonce===void 0){var S=a.nc;S&&(_.nonce=S)}if(Object.keys(_).forEach(function(x){v.setAttribute(x,_[x])}),typeof f.insert=="function")f.insert(v);else{var E=i(f.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(v)}return v}var b,w=(b=[],function(f,v){return b[f]=v,b.filter(Boolean).join(`
`)});function p(f,v,_,S){var E=_?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(f.styleSheet)f.styleSheet.cssText=w(v,E);else{var x=document.createTextNode(E),k=f.childNodes;k[v]&&f.removeChild(k[v]),k.length?f.insertBefore(x,k[v]):f.appendChild(x)}}function d(f,v,_){var S=_.css,E=_.media,x=_.sourceMap;if(E?f.setAttribute("media",E):f.removeAttribute("media"),x&&btoa&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(x))))," */")),f.styleSheet)f.styleSheet.cssText=S;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(S))}}var y=null,m=0;function c(f,v){var _,S,E;if(v.singleton){var x=m++;_=y||(y=h(v)),S=p.bind(null,_,x,!1),E=p.bind(null,_,x,!0)}else _=h(v),S=d.bind(null,_,v),E=function(){(function(k){if(k.parentNode===null)return!1;k.parentNode.removeChild(k)})(_)};return S(f),function(k){if(k){if(k.css===f.css&&k.media===f.media&&k.sourceMap===f.sourceMap)return;S(f=k)}else E()}}n.exports=function(f,v){(v=v||{}).singleton||typeof v.singleton=="boolean"||(v.singleton=s());var _=g(f=f||[],v);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var E=0;E<_.length;E++){var x=u(_[E]);l[x].references--}for(var k=g(S,v),T=0;T<_.length;T++){var C=u(_[T]);l[C].references===0&&(l[C].updater(),l.splice(C,1))}_=k}}}},function(n,r,a){(r=a(14)(!1)).push([n.i,`.image-tool {
  --bg-color: #cdd1e0;
  --front-color: #388ae5;
  --border-color: #e8e8eb;

}

  .image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }

  .image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: var(--bg-color);
      background-position: center center;
    }

  .image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--bg-color);
        border-top-color: var(--front-color);
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]::before {
      position: absolute !important;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      display: none;
    }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {
        display: block;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {
        display: none;
      }

  .image-tool--empty .image-tool__image {
      display: none;
    }

  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {
      display: none;
    }

  .image-tool .cdx-button {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .image-tool .cdx-button svg {
      height: auto;
      margin: 0 6px 0 0;
    }

  .image-tool--filled .cdx-button {
      display: none;
    }

  .image-tool--filled .image-tool__image-preloader {
        display: none;
      }

  .image-tool--loading .image-tool__image {
      min-height: 200px;
      display: flex;
      border: 1px solid var(--border-color);
      background-color: #fff;
    }

  .image-tool--loading .image-tool__image-picture {
        display: none;
      }

  .image-tool--loading .cdx-button {
      display: none;
    }

  /**
   * Tunes
   * ----------------
   */

  .image-tool--withBorder .image-tool__image {
      border: 1px solid var(--border-color);
    }

  .image-tool--withBackground .image-tool__image {
      padding: 15px;
      background: var(--bg-color);
    }

  .image-tool--withBackground .image-tool__image-picture {
        max-width: 60%;
        margin: 0 auto;
      }

  .image-tool--stretched .image-tool__image-picture {
        width: 100%;
      }

@keyframes image-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,a){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(i){var l=function(u,g){var h=u[1]||"",b=u[3];if(!b)return h;if(g&&typeof btoa=="function"){var w=(d=b,y=btoa(unescape(encodeURIComponent(JSON.stringify(d)))),m="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(y),"/*# ".concat(m," */")),p=b.sources.map(function(c){return"/*# sourceURL=".concat(b.sourceRoot||"").concat(c," */")});return[h].concat(p).concat([w]).join(`
`)}var d,y,m;return[h].join(`
`)}(i,o);return i[2]?"@media ".concat(i[2]," {").concat(l,"}"):l}).join("")},s.i=function(i,l,u){typeof i=="string"&&(i=[[null,i,""]]);var g={};if(u)for(var h=0;h<this.length;h++){var b=this[h][0];b!=null&&(g[b]=!0)}for(var w=0;w<i.length;w++){var p=[].concat(i[w]);u&&g[p[0]]||(l&&(p[2]?p[2]="".concat(l," and ").concat(p[2]):p[2]=l),s.push(p))}},s}},function(n,r,a){var o=a(4);n.exports=function(s){if(Array.isArray(s))return o(s)}},function(n,r){n.exports=function(a){if(typeof Symbol<"u"&&Symbol.iterator in Object(a))return Array.from(a)}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r){n.exports=function(a){if(Array.isArray(a))return a}},function(n,r){n.exports=function(a,o){if(typeof Symbol<"u"&&Symbol.iterator in Object(a)){var s=[],i=!0,l=!1,u=void 0;try{for(var g,h=a[Symbol.iterator]();!(i=(g=h.next()).done)&&(s.push(g.value),!o||s.length!==o);i=!0);}catch(b){l=!0,u=b}finally{try{i||h.return==null||h.return()}finally{if(l)throw u}}return s}}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,a){a.r(r),a.d(r,"default",function(){return x});var o=a(3),s=a.n(o),i=a(6),l=a.n(i),u=a(2),g=a.n(u),h=a(0),b=a.n(h);a(11);const w='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';var p=a(7),d=a.n(p);function y(k){var T,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},N=document.createElement(k);Array.isArray(C)?(T=N.classList).add.apply(T,d()(C)):C&&N.classList.add(C);for(var L in M)N[L]=M[L];return N}var m=function(){function k(T){var C=T.api,M=T.config,N=T.onSelectFile,L=T.readOnly;g()(this,k),this.api=C,this.config=M,this.onSelectFile=N,this.readOnly=L,this.nodes={wrapper:y("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:y("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:y("div",this.CSS.imagePreloader),caption:y("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return b()(k,[{key:"render",value:function(T){return T.file&&Object.keys(T.file).length!==0?this.toggleStatus(k.status.UPLOADING):this.toggleStatus(k.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var T=this,C=y("div",[this.CSS.button]);return C.innerHTML=this.config.buttonContent||"".concat(w," ").concat(this.api.i18n.t("Select an Image")),C.addEventListener("click",function(){T.onSelectFile()}),C}},{key:"showPreloader",value:function(T){this.nodes.imagePreloader.style.backgroundImage="url(".concat(T,")"),this.toggleStatus(k.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(k.status.EMPTY)}},{key:"fillImage",value:function(T){var C=this,M=/\.mp4$/.test(T)?"VIDEO":"IMG",N={src:T},L="load";M==="VIDEO"&&(N.autoplay=!0,N.loop=!0,N.muted=!0,N.playsinline=!0,L="loadeddata"),this.nodes.imageEl=y(M,this.CSS.imageEl,N),this.nodes.imageEl.addEventListener(L,function(){C.toggleStatus(k.status.FILLED),C.nodes.imagePreloader&&(C.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(T){this.nodes.caption&&(this.nodes.caption.innerHTML=T)}},{key:"toggleStatus",value:function(T){for(var C in k.status)Object.prototype.hasOwnProperty.call(k.status,C)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(k.status[C]),T===k.status[C])}},{key:"applyTune",value:function(T,C){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(T),C)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),k}(),c=a(8),f=a.n(c),v=a(1),_=a.n(v);function S(k){return k&&typeof k.then=="function"}var E=function(){function k(T){var C=T.config,M=T.onUpload,N=T.onError;g()(this,k),this.config=C,this.onUpload=M,this.onError=N}return b()(k,[{key:"uploadSelectedFile",value:function(T){var C=this,M=T.onPreview,N=function(L){var R=new FileReader;R.readAsDataURL(L),R.onload=function(D){M(D.target.result)}};(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?_.a.selectFiles({accept:this.config.types}).then(function(L){N(L[0]);var R=C.config.uploader.uploadByFile(L[0]);return S(R)||console.warn("Custom uploader method uploadByFile should return a Promise"),R}):_.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(L){N(L[0])},fieldName:this.config.field}).then(function(L){return L.body})).then(function(L){C.onUpload(L)}).catch(function(L){C.onError(L)})}},{key:"uploadByUrl",value:function(T){var C,M=this;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?S(C=this.config.uploader.uploadByUrl(T))||console.warn("Custom uploader method uploadByUrl should return a Promise"):C=_.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:T},this.config.additionalRequestData),type:_.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(N){return N.body}),C.then(function(N){M.onUpload(N)}).catch(function(N){M.onError(N)})}},{key:"uploadByFile",value:function(T,C){var M,N=this,L=C.onPreview,R=new FileReader;if(R.readAsDataURL(T),R.onload=function(z){L(z.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")S(M=this.config.uploader.uploadByFile(T))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var D=new FormData;D.append(this.config.field,T),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(function(z){var U=f()(z,2),O=U[0],I=U[1];D.append(O,I)}),M=_.a.post({url:this.config.endpoints.byFile,data:D,type:_.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(z){return z.body})}M.then(function(z){N.onUpload(z)}).catch(function(z){N.onError(z)})}}]),k}(),x=function(){function k(C){var M=this,N=C.data,L=C.config,R=C.api,D=C.readOnly;g()(this,k),this.api=R,this.readOnly=D,this.config={endpoints:L.endpoints||"",additionalRequestData:L.additionalRequestData||{},additionalRequestHeaders:L.additionalRequestHeaders||{},field:L.field||"image",types:L.types||"image/*",captionPlaceholder:this.api.i18n.t(L.captionPlaceholder||"Caption"),buttonContent:L.buttonContent||"",uploader:L.uploader||void 0,actions:L.actions||[]},this.uploader=new E({config:this.config,onUpload:function(z){return M.onUpload(z)},onError:function(z){return M.uploadingFailed(z)}}),this.ui=new m({api:R,config:this.config,onSelectFile:function(){M.uploader.uploadSelectedFile({onPreview:function(z){M.ui.showPreloader(z)}})},readOnly:D}),this._data={},this.data=N}var T;return b()(k,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:w,title:"Image"}}},{key:"tunes",get:function(){return[{name:"withBorder",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',title:"With border",toggle:!0},{name:"stretched",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',title:"Stretch image",toggle:!0},{name:"withBackground",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',title:"With background",toggle:!0}]}}]),b()(k,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"validate",value:function(C){return C.file&&C.file.url}},{key:"save",value:function(){var C=this.ui.nodes.caption;return this._data.caption=C.innerHTML,this.data}},{key:"renderSettings",value:function(){var C=this;return k.tunes.concat(this.config.actions).map(function(M){return{icon:M.icon,label:C.api.i18n.t(M.title),name:M.name,toggle:M.toggle,isActive:C.data[M.name],onActivate:function(){typeof M.action!="function"?C.tuneToggled(M.name):M.action(M.name)}}})}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(T=l()(s.a.mark(function C(M){var N,L,R,D,z;return s.a.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:U.t0=M.type,U.next=U.t0==="tag"?3:U.t0==="pattern"?15:U.t0==="file"?18:21;break;case 3:if(N=M.detail.data,!/^blob:/.test(N.src)){U.next=13;break}return U.next=7,fetch(N.src);case 7:return L=U.sent,U.next=10,L.blob();case 10:return R=U.sent,this.uploadFile(R),U.abrupt("break",21);case 13:return this.uploadUrl(N.src),U.abrupt("break",21);case 15:return D=M.detail.data,this.uploadUrl(D),U.abrupt("break",21);case 18:return z=M.detail.file,this.uploadFile(z),U.abrupt("break",21);case 21:case"end":return U.stop()}},C,this)})),function(C){return T.apply(this,arguments)})},{key:"onUpload",value:function(C){C.success&&C.file?this.image=C.file:this.uploadingFailed("incorrect response: "+JSON.stringify(C))}},{key:"uploadingFailed",value:function(C){console.log("Image Tool: uploading failed because of",C),this.api.notifier.show({message:this.api.i18n.t("Couldnt upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(C){this.setTune(C,!this._data[C])}},{key:"setTune",value:function(C,M){var N=this;this._data[C]=M,this.ui.applyTune(C,M),C==="stretched"&&Promise.resolve().then(function(){var L=N.api.blocks.getCurrentBlockIndex();N.api.blocks.stretchBlock(L,M)}).catch(function(L){console.error(L)})}},{key:"uploadFile",value:function(C){var M=this;this.uploader.uploadByFile(C,{onPreview:function(N){M.ui.showPreloader(N)}})}},{key:"uploadUrl",value:function(C){this.ui.showPreloader(C),this.uploader.uploadByUrl(C)}},{key:"data",set:function(C){var M=this;this.image=C.file,this._data.caption=C.caption||"",this.ui.fillCaption(this._data.caption),k.tunes.forEach(function(N){var L=N.name,R=C[L]!==void 0&&(C[L]===!0||C[L]==="true");M.setTune(L,R)})},get:function(){return this._data}},{key:"image",set:function(C){this._data.file=C||{},C&&C.url&&this.ui.fillImage(C.url)}}],[{key:"pasteConfig",get:function(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}}]),k}();/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js  main Tool's interface, public API and methods for working with data
 *  2) uploader.js  module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js  module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js  working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */}]).default})})(V3);var gB=V3.exports;const bB=Jo(gB);var z3={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function a(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=r,a.d=function(o,s,i){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:i})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)a.d(i,l,(function(u){return o[u]}).bind(null,l));return i},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="/",a(a.s=5)}([function(n,r,a){var o=a(1);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(3)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,a){(n.exports=a(2)(!1)).push([n.i,`/**
 * Plugin styles
 */
.ce-header {
  padding: 0.6em 0 3px;
  margin: 0;
  line-height: 1.25em;
  outline: none;
}

.ce-header p,
.ce-header div{
  padding: 0 !important;
  margin: 0 !important;
}

/**
 * Styles for Plugin icon in Toolbar
 */
.ce-header__icon {}

.ce-header[contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  display: none;
  cursor: text;
}

.ce-header[contentEditable=true][data-placeholder]:empty::before {
  display: block;
}

.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {
  display: none;
}
`,""])},function(n,r){n.exports=function(a){var o=[];return o.toString=function(){return this.map(function(s){var i=function(l,u){var g=l[1]||"",h=l[3];if(!h)return g;if(u&&typeof btoa=="function"){var b=(p=h,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),w=h.sources.map(function(d){return"/*# sourceURL="+h.sourceRoot+d+" */"});return[g].concat(w).concat([b]).join(`
`)}var p;return[g].join(`
`)}(s,a);return s[2]?"@media "+s[2]+"{"+i+"}":i}).join("")},o.i=function(s,i){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},u=0;u<this.length;u++){var g=this[u][0];typeof g=="number"&&(l[g]=!0)}for(u=0;u<s.length;u++){var h=s[u];typeof h[0]=="number"&&l[h[0]]||(i&&!h[2]?h[2]=i:i&&(h[2]="("+h[2]+") and ("+i+")"),o.push(h))}},o}},function(n,r,a){var o,s,i={},l=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),u=function(C){return document.querySelector(C)},g=function(C){var M={};return function(N){if(typeof N=="function")return N();if(M[N]===void 0){var L=u.call(this,N);if(window.HTMLIFrameElement&&L instanceof window.HTMLIFrameElement)try{L=L.contentDocument.head}catch{L=null}M[N]=L}return M[N]}}(),h=null,b=0,w=[],p=a(4);function d(C,M){for(var N=0;N<C.length;N++){var L=C[N],R=i[L.id];if(R){R.refs++;for(var D=0;D<R.parts.length;D++)R.parts[D](L.parts[D]);for(;D<L.parts.length;D++)R.parts.push(_(L.parts[D],M))}else{var z=[];for(D=0;D<L.parts.length;D++)z.push(_(L.parts[D],M));i[L.id]={id:L.id,refs:1,parts:z}}}}function y(C,M){for(var N=[],L={},R=0;R<C.length;R++){var D=C[R],z=M.base?D[0]+M.base:D[0],U={css:D[1],media:D[2],sourceMap:D[3]};L[z]?L[z].parts.push(U):N.push(L[z]={id:z,parts:[U]})}return N}function m(C,M){var N=g(C.insertInto);if(!N)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var L=w[w.length-1];if(C.insertAt==="top")L?L.nextSibling?N.insertBefore(M,L.nextSibling):N.appendChild(M):N.insertBefore(M,N.firstChild),w.push(M);else if(C.insertAt==="bottom")N.appendChild(M);else{if(typeof C.insertAt!="object"||!C.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var R=g(C.insertInto+" "+C.insertAt.before);N.insertBefore(M,R)}}function c(C){if(C.parentNode===null)return!1;C.parentNode.removeChild(C);var M=w.indexOf(C);M>=0&&w.splice(M,1)}function f(C){var M=document.createElement("style");return C.attrs.type===void 0&&(C.attrs.type="text/css"),v(M,C.attrs),m(C,M),M}function v(C,M){Object.keys(M).forEach(function(N){C.setAttribute(N,M[N])})}function _(C,M){var N,L,R,D;if(M.transform&&C.css){if(!(D=M.transform(C.css)))return function(){};C.css=D}if(M.singleton){var z=b++;N=h||(h=f(M)),L=x.bind(null,N,z,!1),R=x.bind(null,N,z,!0)}else C.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(N=function(U){var O=document.createElement("link");return U.attrs.type===void 0&&(U.attrs.type="text/css"),U.attrs.rel="stylesheet",v(O,U.attrs),m(U,O),O}(M),L=T.bind(null,N,M),R=function(){c(N),N.href&&URL.revokeObjectURL(N.href)}):(N=f(M),L=k.bind(null,N),R=function(){c(N)});return L(C),function(U){if(U){if(U.css===C.css&&U.media===C.media&&U.sourceMap===C.sourceMap)return;L(C=U)}else R()}}n.exports=function(C,M){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(M=M||{}).attrs=typeof M.attrs=="object"?M.attrs:{},M.singleton||typeof M.singleton=="boolean"||(M.singleton=l()),M.insertInto||(M.insertInto="head"),M.insertAt||(M.insertAt="bottom");var N=y(C,M);return d(N,M),function(L){for(var R=[],D=0;D<N.length;D++){var z=N[D];(U=i[z.id]).refs--,R.push(U)}for(L&&d(y(L,M),M),D=0;D<R.length;D++){var U;if((U=R[D]).refs===0){for(var O=0;O<U.parts.length;O++)U.parts[O]();delete i[U.id]}}}};var S,E=(S=[],function(C,M){return S[C]=M,S.filter(Boolean).join(`
`)});function x(C,M,N,L){var R=N?"":L.css;if(C.styleSheet)C.styleSheet.cssText=E(M,R);else{var D=document.createTextNode(R),z=C.childNodes;z[M]&&C.removeChild(z[M]),z.length?C.insertBefore(D,z[M]):C.appendChild(D)}}function k(C,M){var N=M.css,L=M.media;if(L&&C.setAttribute("media",L),C.styleSheet)C.styleSheet.cssText=N;else{for(;C.firstChild;)C.removeChild(C.firstChild);C.appendChild(document.createTextNode(N))}}function T(C,M,N){var L=N.css,R=N.sourceMap,D=M.convertToAbsoluteUrls===void 0&&R;(M.convertToAbsoluteUrls||D)&&(L=p(L)),R&&(L+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(R))))+" */");var z=new Blob([L],{type:"text/css"}),U=C.href;C.href=URL.createObjectURL(z),U&&URL.revokeObjectURL(U)}},function(n,r){n.exports=function(a){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!a||typeof a!="string")return a;var s=o.protocol+"//"+o.host,i=s+o.pathname.replace(/\/[^\/]*$/,"/");return a.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,u){var g,h=u.trim().replace(/^"(.*)"$/,function(b,w){return w}).replace(/^'(.*)'$/,function(b,w){return w});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h)?l:(g=h.indexOf("//")===0?h:h.indexOf("/")===0?s+h:i+h.replace(/^\.\//,""),"url("+JSON.stringify(g)+")")})}},function(n,r,a){a.r(r),a.d(r,"default",function(){return i}),a(0);function o(l){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(l)}function s(l,u){for(var g=0;g<u.length;g++){var h=u[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var i=function(){function l(b){var w=b.data,p=b.config,d=b.api,y=b.readOnly;(function(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=d,this.readOnly=y,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=p,this._data=this.normalizeData(w),this._element=this.getTag()}var u,g,h;return u=l,h=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}}],(g=[{key:"normalizeData",value:function(b){var w={};return o(b)!=="object"&&(b={}),w.text=b.text||"",w.level=parseInt(b.level)||this.defaultLevel.number,w}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var b=this;return this.levels.map(function(w){return{icon:w.svg,label:b.api.i18n.t("Heading ".concat(w.number)),onActivate:function(){return b.setLevel(w.number)},closeOnActivate:!0,isActive:b.currentLevel.number===w.number}})}},{key:"setLevel",value:function(b){this.data={level:b,text:this.data.text}}},{key:"merge",value:function(b){var w={text:this.data.text+b.text,level:this.data.level};this.data=w}},{key:"validate",value:function(b){return b.text.trim()!==""}},{key:"save",value:function(b){return{text:b.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var b=document.createElement(this.currentLevel.tag);return b.innerHTML=this._data.text||"",b.classList.add(this._CSS.wrapper),b.contentEditable=this.readOnly?"false":"true",b.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),b}},{key:"onPaste",value:function(b){var w=b.detail.data,p=this.defaultLevel.number;switch(w.tagName){case"H1":p=1;break;case"H2":p=2;break;case"H3":p=3;break;case"H4":p=4;break;case"H5":p=5;break;case"H6":p=6}this._settings.levels&&(p=this._settings.levels.reduce(function(d,y){return Math.abs(y-p)<Math.abs(d-p)?y:d})),this.data={level:p,text:w.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(b){if(this._data=this.normalizeData(b),b.level!==void 0&&this._element.parentNode){var w=this.getTag();w.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(w,this._element),this._element=w}b.text!==void 0&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var b=this,w=this.levels.find(function(p){return p.number===b._data.level});return w||(w=this.defaultLevel),w}},{key:"defaultLevel",get:function(){var b=this;if(this._settings.defaultLevel){var w=this.levels.find(function(p){return p.number===b._settings.defaultLevel});if(w)return w;console.warn("('-') Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var b=this,w=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?w.filter(function(p){return b._settings.levels.includes(p.number)}):w}}])&&s(u.prototype,g),h&&s(u,h),l}()}]).default})})(z3);var vB=z3.exports;const wB=Jo(vB);var H3={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function a(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=r,a.d=function(o,s,i){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:i})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)a.d(i,l,(function(u){return o[u]}).bind(null,l));return i},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="/",a(a.s=5)}([function(n,r,a){var o=a(1);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(3)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,a){(n.exports=a(2)(!1)).push([n.i,`.cdx-quote-icon svg {
  transform: rotate(180deg);
}

.cdx-quote {
  margin: 0;
}

.cdx-quote__text {
  min-height: 158px;
  margin-bottom: 10px;
}

.cdx-quote__caption {}

.cdx-quote [contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-quote-settings {
  display: flex;
}

.cdx-quote-settings .cdx-settings-button {
  width: 50%;
}
`,""])},function(n,r){n.exports=function(a){var o=[];return o.toString=function(){return this.map(function(s){var i=function(l,u){var g=l[1]||"",h=l[3];if(!h)return g;if(u&&typeof btoa=="function"){var b=(p=h,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),w=h.sources.map(function(d){return"/*# sourceURL="+h.sourceRoot+d+" */"});return[g].concat(w).concat([b]).join(`
`)}var p;return[g].join(`
`)}(s,a);return s[2]?"@media "+s[2]+"{"+i+"}":i}).join("")},o.i=function(s,i){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},u=0;u<this.length;u++){var g=this[u][0];typeof g=="number"&&(l[g]=!0)}for(u=0;u<s.length;u++){var h=s[u];typeof h[0]=="number"&&l[h[0]]||(i&&!h[2]?h[2]=i:i&&(h[2]="("+h[2]+") and ("+i+")"),o.push(h))}},o}},function(n,r,a){var o,s,i={},l=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),u=function(x){var k={};return function(T){if(typeof T=="function")return T();if(k[T]===void 0){var C=(function(M){return document.querySelector(M)}).call(this,T);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}k[T]=C}return k[T]}}(),g=null,h=0,b=[],w=a(4);function p(x,k){for(var T=0;T<x.length;T++){var C=x[T],M=i[C.id];if(M){M.refs++;for(var N=0;N<M.parts.length;N++)M.parts[N](C.parts[N]);for(;N<C.parts.length;N++)M.parts.push(v(C.parts[N],k))}else{var L=[];for(N=0;N<C.parts.length;N++)L.push(v(C.parts[N],k));i[C.id]={id:C.id,refs:1,parts:L}}}}function d(x,k){for(var T=[],C={},M=0;M<x.length;M++){var N=x[M],L=k.base?N[0]+k.base:N[0],R={css:N[1],media:N[2],sourceMap:N[3]};C[L]?C[L].parts.push(R):T.push(C[L]={id:L,parts:[R]})}return T}function y(x,k){var T=u(x.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var C=b[b.length-1];if(x.insertAt==="top")C?C.nextSibling?T.insertBefore(k,C.nextSibling):T.appendChild(k):T.insertBefore(k,T.firstChild),b.push(k);else if(x.insertAt==="bottom")T.appendChild(k);else{if(typeof x.insertAt!="object"||!x.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var M=u(x.insertInto+" "+x.insertAt.before);T.insertBefore(k,M)}}function m(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x);var k=b.indexOf(x);k>=0&&b.splice(k,1)}function c(x){var k=document.createElement("style");return x.attrs.type===void 0&&(x.attrs.type="text/css"),f(k,x.attrs),y(x,k),k}function f(x,k){Object.keys(k).forEach(function(T){x.setAttribute(T,k[T])})}function v(x,k){var T,C,M,N;if(k.transform&&x.css){if(!(N=k.transform(x.css)))return function(){};x.css=N}if(k.singleton){var L=h++;T=g||(g=c(k)),C=E.bind(null,T,L,!1),M=E.bind(null,T,L,!0)}else x.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=function(R){var D=document.createElement("link");return R.attrs.type===void 0&&(R.attrs.type="text/css"),R.attrs.rel="stylesheet",f(D,R.attrs),y(R,D),D}(k),C=(function(R,D,z){var U=z.css,O=z.sourceMap,I=D.convertToAbsoluteUrls===void 0&&O;(D.convertToAbsoluteUrls||I)&&(U=w(U)),O&&(U+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(O))))+" */");var j=new Blob([U],{type:"text/css"}),P=R.href;R.href=URL.createObjectURL(j),P&&URL.revokeObjectURL(P)}).bind(null,T,k),M=function(){m(T),T.href&&URL.revokeObjectURL(T.href)}):(T=c(k),C=(function(R,D){var z=D.css,U=D.media;if(U&&R.setAttribute("media",U),R.styleSheet)R.styleSheet.cssText=z;else{for(;R.firstChild;)R.removeChild(R.firstChild);R.appendChild(document.createTextNode(z))}}).bind(null,T),M=function(){m(T)});return C(x),function(R){if(R){if(R.css===x.css&&R.media===x.media&&R.sourceMap===x.sourceMap)return;C(x=R)}else M()}}n.exports=function(x,k){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(k=k||{}).attrs=typeof k.attrs=="object"?k.attrs:{},k.singleton||typeof k.singleton=="boolean"||(k.singleton=l()),k.insertInto||(k.insertInto="head"),k.insertAt||(k.insertAt="bottom");var T=d(x,k);return p(T,k),function(C){for(var M=[],N=0;N<T.length;N++){var L=T[N];(R=i[L.id]).refs--,M.push(R)}for(C&&p(d(C,k),k),N=0;N<M.length;N++){var R;if((R=M[N]).refs===0){for(var D=0;D<R.parts.length;D++)R.parts[D]();delete i[R.id]}}}};var _,S=(_=[],function(x,k){return _[x]=k,_.filter(Boolean).join(`
`)});function E(x,k,T,C){var M=T?"":C.css;if(x.styleSheet)x.styleSheet.cssText=S(k,M);else{var N=document.createTextNode(M),L=x.childNodes;L[k]&&x.removeChild(L[k]),L.length?x.insertBefore(N,L[k]):x.appendChild(N)}}},function(n,r){n.exports=function(a){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!a||typeof a!="string")return a;var s=o.protocol+"//"+o.host,i=s+o.pathname.replace(/\/[^\/]*$/,"/");return a.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,u){var g,h=u.trim().replace(/^"(.*)"$/,function(b,w){return w}).replace(/^'(.*)'$/,function(b,w){return w});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h)?l:(g=h.indexOf("//")===0?h:h.indexOf("/")===0?s+h:i+h.replace(/^\.\//,""),"url("+JSON.stringify(g)+")")})}},function(n,r,a){a.r(r),a(0);function o(u){return function(g){if(Array.isArray(g)){for(var h=0,b=new Array(g.length);h<g.length;h++)b[h]=g[h];return b}}(u)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(u,g){for(var h=0;h<g.length;h++){var b=g[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(u,b.key,b)}}function i(u,g,h){return g&&s(u.prototype,g),h&&s(u,h),u}a.d(r,"default",function(){return l});var l=function(){function u(g){var h=g.data,b=g.config,w=g.api,p=g.readOnly;(function(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")})(this,u);var d=u.ALIGNMENTS,y=u.DEFAULT_ALIGNMENT;this.api=w,this.readOnly=p,this.quotePlaceholder=b.quotePlaceholder||u.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=b.captionPlaceholder||u.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:h.text||"",caption:h.caption||"",alignment:Object.values(d).includes(h.alignment)&&h.alignment||b.defaultAlignment||y}}return i(u,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}},{key:"settings",get:function(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}},{key:"contentless",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_QUOTE_PLACEHOLDER",get:function(){return"Enter a quote"}},{key:"DEFAULT_CAPTION_PLACEHOLDER",get:function(){return"Enter a caption"}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return u.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{import:"text",export:function(g){return g.caption?"".concat(g.text,"  ").concat(g.caption):g.text}}}}]),i(u,[{key:"render",value:function(){var g=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),h=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),b=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return h.dataset.placeholder=this.quotePlaceholder,b.dataset.placeholder=this.captionPlaceholder,g.appendChild(h),g.appendChild(b),g}},{key:"save",value:function(g){var h=g.querySelector(".".concat(this.CSS.text)),b=g.querySelector(".".concat(this.CSS.caption));return Object.assign(this.data,{text:h.innerHTML,caption:b.innerHTML})}},{key:"renderSettings",value:function(){var g=this;return this.settings.map(function(h){return{icon:h.icon,label:g.api.i18n.t("Align ".concat((b=h.name,b[0].toUpperCase()+b.substr(1)))),onActivate:function(){return g._toggleTune(h.name)},isActive:g.data.alignment===h.name,closeOnActivate:!0};var b})}},{key:"_toggleTune",value:function(g){this.data.alignment=g}},{key:"_make",value:function(g){var h,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=document.createElement(g);Array.isArray(b)?(h=p.classList).add.apply(h,o(b)):b&&p.classList.add(b);for(var d in w)p[d]=w[d];return p}}],[{key:"sanitize",get:function(){return{text:{br:!0},caption:{br:!0},alignment:{}}}}]),u}()}]).default})})(H3);var _B=H3.exports;const SB=Jo(_B);var q3={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function a(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=r,a.d=function(o,s,i){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:i})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)a.d(i,l,(function(u){return o[u]}).bind(null,l));return i},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="/",a(a.s=5)}([function(n,r,a){var o=a(1);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(3)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,a){(n.exports=a(2)(!1)).push([n.i,`.cdx-marker {
  background: rgba(245,235,111,0.29);
  padding: 3px 0;
}`,""])},function(n,r){n.exports=function(a){var o=[];return o.toString=function(){return this.map(function(s){var i=function(l,u){var g=l[1]||"",h=l[3];if(!h)return g;if(u&&typeof btoa=="function"){var b=(p=h,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),w=h.sources.map(function(d){return"/*# sourceURL="+h.sourceRoot+d+" */"});return[g].concat(w).concat([b]).join(`
`)}var p;return[g].join(`
`)}(s,a);return s[2]?"@media "+s[2]+"{"+i+"}":i}).join("")},o.i=function(s,i){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},u=0;u<this.length;u++){var g=this[u][0];typeof g=="number"&&(l[g]=!0)}for(u=0;u<s.length;u++){var h=s[u];typeof h[0]=="number"&&l[h[0]]||(i&&!h[2]?h[2]=i:i&&(h[2]="("+h[2]+") and ("+i+")"),o.push(h))}},o}},function(n,r,a){var o,s,i={},l=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),u=function(x){var k={};return function(T){if(typeof T=="function")return T();if(k[T]===void 0){var C=(function(M){return document.querySelector(M)}).call(this,T);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}k[T]=C}return k[T]}}(),g=null,h=0,b=[],w=a(4);function p(x,k){for(var T=0;T<x.length;T++){var C=x[T],M=i[C.id];if(M){M.refs++;for(var N=0;N<M.parts.length;N++)M.parts[N](C.parts[N]);for(;N<C.parts.length;N++)M.parts.push(v(C.parts[N],k))}else{var L=[];for(N=0;N<C.parts.length;N++)L.push(v(C.parts[N],k));i[C.id]={id:C.id,refs:1,parts:L}}}}function d(x,k){for(var T=[],C={},M=0;M<x.length;M++){var N=x[M],L=k.base?N[0]+k.base:N[0],R={css:N[1],media:N[2],sourceMap:N[3]};C[L]?C[L].parts.push(R):T.push(C[L]={id:L,parts:[R]})}return T}function y(x,k){var T=u(x.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var C=b[b.length-1];if(x.insertAt==="top")C?C.nextSibling?T.insertBefore(k,C.nextSibling):T.appendChild(k):T.insertBefore(k,T.firstChild),b.push(k);else if(x.insertAt==="bottom")T.appendChild(k);else{if(typeof x.insertAt!="object"||!x.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var M=u(x.insertInto+" "+x.insertAt.before);T.insertBefore(k,M)}}function m(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x);var k=b.indexOf(x);k>=0&&b.splice(k,1)}function c(x){var k=document.createElement("style");return x.attrs.type===void 0&&(x.attrs.type="text/css"),f(k,x.attrs),y(x,k),k}function f(x,k){Object.keys(k).forEach(function(T){x.setAttribute(T,k[T])})}function v(x,k){var T,C,M,N;if(k.transform&&x.css){if(!(N=k.transform(x.css)))return function(){};x.css=N}if(k.singleton){var L=h++;T=g||(g=c(k)),C=E.bind(null,T,L,!1),M=E.bind(null,T,L,!0)}else x.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=function(R){var D=document.createElement("link");return R.attrs.type===void 0&&(R.attrs.type="text/css"),R.attrs.rel="stylesheet",f(D,R.attrs),y(R,D),D}(k),C=(function(R,D,z){var U=z.css,O=z.sourceMap,I=D.convertToAbsoluteUrls===void 0&&O;(D.convertToAbsoluteUrls||I)&&(U=w(U)),O&&(U+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(O))))+" */");var j=new Blob([U],{type:"text/css"}),P=R.href;R.href=URL.createObjectURL(j),P&&URL.revokeObjectURL(P)}).bind(null,T,k),M=function(){m(T),T.href&&URL.revokeObjectURL(T.href)}):(T=c(k),C=(function(R,D){var z=D.css,U=D.media;if(U&&R.setAttribute("media",U),R.styleSheet)R.styleSheet.cssText=z;else{for(;R.firstChild;)R.removeChild(R.firstChild);R.appendChild(document.createTextNode(z))}}).bind(null,T),M=function(){m(T)});return C(x),function(R){if(R){if(R.css===x.css&&R.media===x.media&&R.sourceMap===x.sourceMap)return;C(x=R)}else M()}}n.exports=function(x,k){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(k=k||{}).attrs=typeof k.attrs=="object"?k.attrs:{},k.singleton||typeof k.singleton=="boolean"||(k.singleton=l()),k.insertInto||(k.insertInto="head"),k.insertAt||(k.insertAt="bottom");var T=d(x,k);return p(T,k),function(C){for(var M=[],N=0;N<T.length;N++){var L=T[N];(R=i[L.id]).refs--,M.push(R)}for(C&&p(d(C,k),k),N=0;N<M.length;N++){var R;if((R=M[N]).refs===0){for(var D=0;D<R.parts.length;D++)R.parts[D]();delete i[R.id]}}}};var _,S=(_=[],function(x,k){return _[x]=k,_.filter(Boolean).join(`
`)});function E(x,k,T,C){var M=T?"":C.css;if(x.styleSheet)x.styleSheet.cssText=S(k,M);else{var N=document.createTextNode(M),L=x.childNodes;L[k]&&x.removeChild(L[k]),L.length?x.insertBefore(N,L[k]):x.appendChild(N)}}},function(n,r){n.exports=function(a){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!a||typeof a!="string")return a;var s=o.protocol+"//"+o.host,i=s+o.pathname.replace(/\/[^\/]*$/,"/");return a.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,u){var g,h=u.trim().replace(/^"(.*)"$/,function(b,w){return w}).replace(/^'(.*)'$/,function(b,w){return w});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h)?l:(g=h.indexOf("//")===0?h:h.indexOf("/")===0?s+h:i+h.replace(/^\.\//,""),"url("+JSON.stringify(g)+")")})}},function(n,r,a){a.r(r),a(0);function o(l,u){for(var g=0;g<u.length;g++){var h=u[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}function s(l,u,g){return u&&o(l.prototype,u),g&&o(l,g),l}a.d(r,"default",function(){return i});var i=function(){function l(u){var g=u.api;(function(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=g,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return s(l,null,[{key:"CSS",get:function(){return"cdx-marker"}}]),s(l,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(u){if(u){var g=this.api.selection.findParentTag(this.tag,l.CSS);g?this.unwrap(g):this.wrap(u)}}},{key:"wrap",value:function(u){var g=document.createElement(this.tag);g.classList.add(l.CSS),g.appendChild(u.extractContents()),u.insertNode(g),this.api.selection.expandToTag(g)}},{key:"unwrap",value:function(u){this.api.selection.expandToTag(u);var g=window.getSelection(),h=g.getRangeAt(0),b=h.extractContents();u.parentNode.removeChild(u),h.insertNode(b),g.removeAllRanges(),g.addRange(h)}},{key:"checkState",value:function(){var u=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!u)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{mark:{class:l.CSS}}}}]),l}()}]).default})})(q3);var xB=q3.exports;const kB=Jo(xB);var W3={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function a(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=r,a.d=function(o,s,i){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:i})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)a.d(i,l,(function(u){return o[u]}).bind(null,l));return i},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="/",a(a.s=5)}([function(n,r,a){var o=a(1);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(3)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,a){(n.exports=a(2)(!1)).push([n.i,`.inline-code {
  background: rgba(250, 239, 240, 0.78);
  color: #b44437;
  padding: 3px 4px;
  border-radius: 5px;
  margin: 0 1px;
  font-family: inherit;
  font-size: 0.86em;
  font-weight: 500;
  letter-spacing: 0.3px;
}
`,""])},function(n,r){n.exports=function(a){var o=[];return o.toString=function(){return this.map(function(s){var i=function(l,u){var g=l[1]||"",h=l[3];if(!h)return g;if(u&&typeof btoa=="function"){var b=(p=h,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),w=h.sources.map(function(d){return"/*# sourceURL="+h.sourceRoot+d+" */"});return[g].concat(w).concat([b]).join(`
`)}var p;return[g].join(`
`)}(s,a);return s[2]?"@media "+s[2]+"{"+i+"}":i}).join("")},o.i=function(s,i){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},u=0;u<this.length;u++){var g=this[u][0];typeof g=="number"&&(l[g]=!0)}for(u=0;u<s.length;u++){var h=s[u];typeof h[0]=="number"&&l[h[0]]||(i&&!h[2]?h[2]=i:i&&(h[2]="("+h[2]+") and ("+i+")"),o.push(h))}},o}},function(n,r,a){var o,s,i={},l=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),u=function(x){var k={};return function(T){if(typeof T=="function")return T();if(k[T]===void 0){var C=(function(M){return document.querySelector(M)}).call(this,T);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}k[T]=C}return k[T]}}(),g=null,h=0,b=[],w=a(4);function p(x,k){for(var T=0;T<x.length;T++){var C=x[T],M=i[C.id];if(M){M.refs++;for(var N=0;N<M.parts.length;N++)M.parts[N](C.parts[N]);for(;N<C.parts.length;N++)M.parts.push(v(C.parts[N],k))}else{var L=[];for(N=0;N<C.parts.length;N++)L.push(v(C.parts[N],k));i[C.id]={id:C.id,refs:1,parts:L}}}}function d(x,k){for(var T=[],C={},M=0;M<x.length;M++){var N=x[M],L=k.base?N[0]+k.base:N[0],R={css:N[1],media:N[2],sourceMap:N[3]};C[L]?C[L].parts.push(R):T.push(C[L]={id:L,parts:[R]})}return T}function y(x,k){var T=u(x.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var C=b[b.length-1];if(x.insertAt==="top")C?C.nextSibling?T.insertBefore(k,C.nextSibling):T.appendChild(k):T.insertBefore(k,T.firstChild),b.push(k);else if(x.insertAt==="bottom")T.appendChild(k);else{if(typeof x.insertAt!="object"||!x.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var M=u(x.insertInto+" "+x.insertAt.before);T.insertBefore(k,M)}}function m(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x);var k=b.indexOf(x);k>=0&&b.splice(k,1)}function c(x){var k=document.createElement("style");return x.attrs.type===void 0&&(x.attrs.type="text/css"),f(k,x.attrs),y(x,k),k}function f(x,k){Object.keys(k).forEach(function(T){x.setAttribute(T,k[T])})}function v(x,k){var T,C,M,N;if(k.transform&&x.css){if(!(N=k.transform(x.css)))return function(){};x.css=N}if(k.singleton){var L=h++;T=g||(g=c(k)),C=E.bind(null,T,L,!1),M=E.bind(null,T,L,!0)}else x.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=function(R){var D=document.createElement("link");return R.attrs.type===void 0&&(R.attrs.type="text/css"),R.attrs.rel="stylesheet",f(D,R.attrs),y(R,D),D}(k),C=(function(R,D,z){var U=z.css,O=z.sourceMap,I=D.convertToAbsoluteUrls===void 0&&O;(D.convertToAbsoluteUrls||I)&&(U=w(U)),O&&(U+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(O))))+" */");var j=new Blob([U],{type:"text/css"}),P=R.href;R.href=URL.createObjectURL(j),P&&URL.revokeObjectURL(P)}).bind(null,T,k),M=function(){m(T),T.href&&URL.revokeObjectURL(T.href)}):(T=c(k),C=(function(R,D){var z=D.css,U=D.media;if(U&&R.setAttribute("media",U),R.styleSheet)R.styleSheet.cssText=z;else{for(;R.firstChild;)R.removeChild(R.firstChild);R.appendChild(document.createTextNode(z))}}).bind(null,T),M=function(){m(T)});return C(x),function(R){if(R){if(R.css===x.css&&R.media===x.media&&R.sourceMap===x.sourceMap)return;C(x=R)}else M()}}n.exports=function(x,k){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(k=k||{}).attrs=typeof k.attrs=="object"?k.attrs:{},k.singleton||typeof k.singleton=="boolean"||(k.singleton=l()),k.insertInto||(k.insertInto="head"),k.insertAt||(k.insertAt="bottom");var T=d(x,k);return p(T,k),function(C){for(var M=[],N=0;N<T.length;N++){var L=T[N];(R=i[L.id]).refs--,M.push(R)}for(C&&p(d(C,k),k),N=0;N<M.length;N++){var R;if((R=M[N]).refs===0){for(var D=0;D<R.parts.length;D++)R.parts[D]();delete i[R.id]}}}};var _,S=(_=[],function(x,k){return _[x]=k,_.filter(Boolean).join(`
`)});function E(x,k,T,C){var M=T?"":C.css;if(x.styleSheet)x.styleSheet.cssText=S(k,M);else{var N=document.createTextNode(M),L=x.childNodes;L[k]&&x.removeChild(L[k]),L.length?x.insertBefore(N,L[k]):x.appendChild(N)}}},function(n,r){n.exports=function(a){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!a||typeof a!="string")return a;var s=o.protocol+"//"+o.host,i=s+o.pathname.replace(/\/[^\/]*$/,"/");return a.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,u){var g,h=u.trim().replace(/^"(.*)"$/,function(b,w){return w}).replace(/^'(.*)'$/,function(b,w){return w});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h)?l:(g=h.indexOf("//")===0?h:h.indexOf("/")===0?s+h:i+h.replace(/^\.\//,""),"url("+JSON.stringify(g)+")")})}},function(n,r,a){a.r(r),a(0);function o(l,u){for(var g=0;g<u.length;g++){var h=u[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}function s(l,u,g){return u&&o(l.prototype,u),g&&o(l,g),l}a.d(r,"default",function(){return i});var i=function(){function l(u){var g=u.api;(function(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=g,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return s(l,null,[{key:"CSS",get:function(){return"inline-code"}}]),s(l,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(u){if(u){var g=this.api.selection.findParentTag(this.tag,l.CSS);g?this.unwrap(g):this.wrap(u)}}},{key:"wrap",value:function(u){var g=document.createElement(this.tag);g.classList.add(l.CSS),g.appendChild(u.extractContents()),u.insertNode(g),this.api.selection.expandToTag(g)}},{key:"unwrap",value:function(u){this.api.selection.expandToTag(u);var g=window.getSelection(),h=g.getRangeAt(0),b=h.extractContents();u.parentNode.removeChild(u),h.insertNode(b),g.removeAllRanges(),g.addRange(h)}},{key:"checkState",value:function(){var u=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!u)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{code:{class:l.CSS}}}}]),l}()}]).default})})(W3);var EB=W3.exports;const OB=Jo(EB),AB=t=>new Promise((n,r)=>{try{n(t)}catch{r(er)}}).then(n=>({success:1,file:{url:n}})),TB=t=>Vy(t).then(e=>{if(e)return{success:1,file:{url:e}}}),jB={embed:pB,list:{class:yB,inlineToolbar:!0},image:{class:bB,config:{uploader:{uploadByUrl:AB,uploadByFile:TB}}},header:{class:wB,config:{placeholder:"Heading",levels:[2,3],defaultLevel:2}},quote:{class:SB,inlineToolbar:!0},marker:kB,inlineCode:OB},CB=()=>{let{blog:t,blog:{title:e,banner:n,content:r,tags:a,des:o},setBlog:s,textEditor:i,setTextEditor:l,setEditorState:u}=he.useContext(ed),{userAuth:{access_token:g}}=he.useContext(Mn),{theme:h}=he.useContext(rd),{blog_id:b}=ka(),w=xa();he.useEffect(()=>{i.isReady||l(new dB({holderId:"textEditor",data:Array.isArray(r)?r[0]:r,placeholder:"Start writing your blog here!",tools:jB}))},[]);const p=v=>{let _=v.target.files[0];if(_){let S=mt.loading("Uploading banner...");Vy(_).then(E=>{E&&(mt.dismiss(S),mt.success("Uploaded"),s({...t,banner:E}))}).catch(E=>(mt.dismiss(S),mt.error(E)))}},d=v=>{v.keyCode==13&&v.preventDefault()},y=v=>{let _=v.target;_.style.height="auto",_.style.height=_.scrollHeight+"px",s({...t,title:_.value})},m=v=>{let _=v.target;_.src=h=="light"?AM:TM},c=()=>{if(!n.length)return mt.error("Please upload a blog banner before publishing");if(!e.length||!e.length)return mt.error("Please enter a blog title before publishing");i.isReady&&i.save().then(v=>{if(v.blocks.length)s({...t,content:v}),u("publish");else return mt.error("You can't publish an empty blog!")}).catch(v=>{console.log(v)})},f=v=>{if(v.target.className.includes("disable"))return;if(!e.length)return mt.error("You must provide a title to save a draft");let _=mt.loading("Saving Draft...");v.target.classList.add("disable"),i.isReady&&i.save().then(S=>{let E={title:e,banner:n,des:o,content:S,tags:a,draft:!0};Gt.post("https://quick-quill-server.onrender.com/create-blog",{...E,id:b},{headers:{Authorization:`Bearer ${g}`}}).then(()=>{v.target.classList.remove("disable"),mt.dismiss(_),mt.success("Draft Saved"),setTimeout(()=>{w("/dashboard/blogs?tab=draft")},500)}).catch(({response:x})=>(v.target.classList.remove("disable"),mt.dismiss(_),mt.error(x.data.error)))})};return J.jsxs(J.Fragment,{children:[J.jsxs("nav",{className:"navbar border-b border-purple/30",children:[J.jsx(Xt,{to:"/",className:"flex-none w-10",children:J.jsx("img",{src:n2,style:{width:50,height:50}})}),J.jsx("p",{className:"max-md:hidden text-black line-clamp-1 w-full",children:e.length?e:"New Blog"}),J.jsxs("div",{className:"flex gap-4 ml-auto",children:[J.jsx("button",{className:"btn-dark py-2 ",onClick:c,children:"Publish"}),J.jsx("button",{className:"btn-light py-2",onClick:f,children:"Save Draft"})]})]}),J.jsx(oo,{}),J.jsx(Cn,{children:J.jsx("section",{children:J.jsxs("div",{className:"mx-auto max-w[900px] w-full",children:[J.jsx("div",{className:"relative aspect-video bg-white border-4 border-grey hover:opacity-80",children:J.jsxs("label",{htmlFor:"uploadBanner",children:[J.jsx("img",{src:n,className:"z-20",onError:m}),J.jsx("input",{id:"uploadBanner",type:"file",accept:".png, .jpg, .jpeg",hidden:!0,onChange:p})]})}),J.jsx("textarea",{defaultValue:e,placeholder:"Blog Title",className:"text-4xl font-medium w-full h-20 outline-none resize-none mt-10 leading-tight placeholder:opacity-40 bg-white",onKeyDown:d,onChange:y}),J.jsx("hr",{className:"w-full opacity-20 my-3"}),J.jsx("div",{id:"textEditor",className:"font-roboto"})]})})})]})},PB=({tag:t,tagIndex:e})=>{let{blog:n,blog:{tags:r},setBlog:a}=he.useContext(ed);const o=()=>{r=r.filter(l=>l!=t),a({...n,tags:r})},s=l=>{if(l.keyCode==13||l.keyCode==188){l.preventDefault();let u=l.target.innerText;r[e]=u,a({...n,tags:r}),l.target.setAttribute("contentEditable",!1)}},i=l=>{l.target.setAttribute("contentEditable",!0),l.target.focus()};return J.jsxs("div",{className:"relative p-2 mt-2 mr-2 px-5 bg-white rounded-full inline-block hover:bg-opacity-80 pr-10 translate-y-[-50px] translate-x-2",children:[J.jsx("p",{className:"outline-none",contentEditable:"true",onKeyDown:s,onClick:i,children:t}),J.jsx("button",{className:"mt-[2px] rounded-full absolute right-3 top-1/2 -translate-y-1/2",onClick:o,children:J.jsx("i",{className:"fi fi-br-cross text-sm pointer-events-none"})})]})},MB=()=>{let t=200,e=5,{blog_id:n}=ka(),{blog:r,blog:{banner:a,title:o,tags:s,des:i,content:l},setEditorState:u,setBlog:g}=he.useContext(ed),{userAuth:{access_token:h}}=he.useContext(Mn),b=xa();const w=()=>{u("editor")},p=f=>{let v=f.target;g({...r,title:v.value})},d=f=>{let v=f.target;g({...r,des:v.value})},y=f=>{f.keyCode==13&&f.preventDefault()},m=f=>{if(f.keyCode==13||f.keyCode==188){f.preventDefault();let v=f.target.value.toLowerCase();s.length<e?!s.includes(v)&&v.length&&g({...r,tags:[...s,v]}):mt.error(`You can only add ${e} tags`),f.target.value=""}},c=f=>{let v=["tech","gaming","pop culture","social media","finance","sports","music","nature","travel"],_=s.some(x=>v.includes(x));if(f.target.className.includes("disable"))return;if(!o.length)return mt.error("You must provide a title to publish the blog");if(!i.length||i.length>200)return mt.error("You must provide a blog description under 200 characters to publish");if(!s.length)return mt.error("You need at least 1 tag to publish your blog");if(s.length>5)return mt.error("You cannot add more than 5 tags to your blog");if(!_)return mt.error("Your tags need to include at least one of the main tags");let S=mt.loading("Publishing...");f.target.classList.add("disable");let E={title:o,banner:a,des:i,content:l,tags:s,draft:!1};Gt.post("https://quick-quill-server.onrender.com/create-blog",{...E,id:n},{headers:{Authorization:`Bearer ${h}`}}).then(()=>{f.target.classList.remove("disable"),mt.dismiss(S),mt.success("Published!"),setTimeout(()=>{b("/dashboard/blogs")},500)}).catch(({response:x})=>(f.target.classList.remove("disable"),mt.dismiss(S),mt.error(x.data.error)))};return J.jsx(Cn,{children:J.jsxs("section",{className:"w-screen min-h-screen grid items-center lg:grid-cols-2 py-32 lg:gap-4",children:[J.jsx(oo,{}),J.jsx("button",{className:"w-12 h-12 absolute right-[5vw] z-10 top-[5%] lg:top-[10%]",onClick:w,children:J.jsx("i",{className:"fi fi-br-cross"})}),J.jsxs("div",{className:"max-w-[550px] center",children:[J.jsx("p",{className:"text-dark-grey mb-1",children:"Preview your blog"}),J.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden bg-grey mt-4",children:J.jsx("img",{src:a})}),J.jsx("h1",{className:"text-4xl font-medium mt-2 leading-tight line-clamp-2",children:o}),J.jsx("p",{className:"font-gelasio line-clamp-2 text-xl leading-7 mt-4",children:i})]}),J.jsxs("div",{className:"border-grey lg:border-1 lg:pl-8",children:[J.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:"Blog Title"}),J.jsx("input",{onChange:p,type:"text",placeholder:"Blog Title",defaultValue:o,className:"input-box pl-4"}),J.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:"Short description of your blog (Maximum 200 characters)"}),J.jsx("textarea",{placeholder:"",maxLength:t,defaultValue:i,className:"h-40 resize-none leading-7 input-box",onChange:d,onKeyDown:y}),J.jsxs("p",{className:"mt-1 text-dark-grey text-sm text-right",children:[i?t-i.length:t," characters left"]}),J.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:"Add some tags to describe what your blog is about"}),J.jsx("p",{className:"text-sm mb-2 mt-9",children:"Your tags need to include at least one of the main tags:"}),J.jsx("p",{className:"text-sm mb-2",children:"(Tech, Gaming, Pop Culture, Social Media, Finance, Sports, Music, Nature, Travel)"}),J.jsx("div",{className:"relative input-box pl-2 py-2 pb-4",children:J.jsx("input",{type:"text",placeholder:"Tag",className:"sticky input-box bg-white top-0 left-0 pl-4 mb-10 focus:bg-white",onKeyDown:m})}),s.map((f,v)=>J.jsx(PB,{tag:f,tagIndex:v},v)),J.jsxs("p",{className:"mt-1 mb-2 text-dark-grey text-right",children:[e-s.length," Tags left"]}),J.jsx("button",{className:"btn-dark px-8 ",onClick:c,children:"Publish"})]})]})})},Er=()=>J.jsx("div",{className:"w-12 mx-auto my-8",children:J.jsxs("svg",{"aria-hidden":"true",className:"w-12 h-12 mr-2 text-white animate-spin fill-purple",viewBox:"0 0 100 101",fill:"none",children:[J.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),J.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})}),ed=he.createContext({}),IB={title:"",banner:"",content:[],tags:[],des:"",author:{personal_info:{}}},A1=()=>{let{blog_id:t}=ka();const[e,n]=he.useState("editor"),[r,a]=he.useState({isReady:!1}),[o,s]=he.useState(IB),[i,l]=he.useState(!0);let{userAuth:{access_token:u}}=he.useContext(Mn);return he.useEffect(()=>{if(!t)return l(!1);Gt.post("https://quick-quill-server.onrender.com/get-blog",{blog_id:t,draft:!0,mode:"edit"}).then(({data:{blog:g}})=>{s(g),l(!1)}).catch(g=>{s(null),l(!1)})},[]),J.jsx(ed.Provider,{value:{blog:o,setBlog:s,editorState:e,setEditorState:n,textEditor:r,setTextEditor:a},children:u==null?J.jsx(Xm,{to:"/signin"}):i?J.jsx(Er,{}):e=="editor"?J.jsx(CB,{}):J.jsx(MB,{})})};let Uc,hu;const td=({routes:t,defaultHidden:e=[],defaultActiveIndex:n=0,children:r})=>{Uc=he.useRef(),hu=he.useRef();let[a,o]=he.useState(!1),[s,i]=he.useState(null),[l,u]=he.useState(window.innerWidth);const g=(h,b)=>{let{offsetWidth:w,offsetLeft:p}=h;Uc.current.style.width=w+"px",Uc.current.style.left=p+"px",i(b)};return he.useEffect(()=>{l>766&s!=n&&g(hu.current,n),a||window.addEventListener("resize",()=>{a||o(!0),u(window.innerWidth)})},[l]),J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:"relative mb-8 bg-white flex flex-nowrap overflow-x-auto",children:[t.map((h,b)=>J.jsx("button",{ref:b==n?hu:null,className:"p-4 px-5 capitalize "+(s==b?"text-black":"text-dark-grey ")+(e.includes(h)?"md:hidden":""),onClick:w=>{g(w.target,b)},children:h},b)),J.jsx("hr",{ref:Uc,className:"absolute bottom-0 border-purple/100 duration-150"})]}),Array.isArray(r)?r[s]:r]})};let K3=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];const Ta=t=>{let e=new Date(t);return`${e.getDate()} ${K3[e.getMonth()]}`},BB=t=>{let e=new Date(t);return`${e.getDate()} ${K3[e.getMonth()]} ${e.getFullYear()}`},nd=({content:t,author:e})=>{let{publishedAt:n,tags:r,title:a,des:o,banner:s,activity:{total_likes:i},blog_id:l}=t,{fullname:u,username:g,profile_img:h}=e;return J.jsxs(Xt,{to:`/blogs/${l}`,className:"flex gap-8 items-center border-b border-purple/40 pb-5 mb-4 ",children:[J.jsxs("div",{className:"w-full",children:[J.jsxs("div",{className:"flex gap-2 items-center mb-7",children:[J.jsx("img",{src:h,className:"w-6 h-6 rounded-full"}),J.jsx("p",{className:"line-clamp-1 capitalize max-sm:hidden",children:u}),J.jsxs("p",{className:"min-w-fit",children:["@",g]}),J.jsx("p",{className:"min-w-fit",children:Ta(n)})]}),J.jsx("h1",{className:"blog-title",children:a}),J.jsx("p",{className:"my-3 text-xl font-gelasio leading-7 max-sm:hidden line-clamp-2 -translate-y-8",children:o}),J.jsxs("div",{className:"-translate-y-8 flex gap-4 mt-7",children:[J.jsx("span",{className:"btn-light py-1 px-4 mx-1",children:r[0]}),r.slice(1).map((b,w=1)=>J.jsx("span",{className:"btn-light py-1 px-4 mx-1 max-sm:hidden",children:b})),J.jsxs("span",{className:"ml-3 flex items-center gap-2 text-dark-grey",children:[J.jsx("i",{className:"fi fi-rr-heart text-xl"}),i]})]})]}),J.jsx("div",{className:"h-28 aspect-square bg-grey rounded-full",children:J.jsx("img",{src:s,className:"w-full h-full object-cover rounded-lg"})})]})},T1=({blog:t,index:e})=>{let{title:n,blog_id:r,tags:a,author:{personal_info:{fullname:o,username:s,profile_img:i}},publishedAt:l}=t;return J.jsxs(Xt,{to:`/blogs/${r}`,className:"flex gap-5 mb-8",children:[J.jsx("h1",{className:"blog-index",children:e<10?"0"+(e+1):e}),J.jsxs("div",{children:[J.jsxs("div",{className:"flex gap-2 items-center mb-7",children:[J.jsx("img",{src:i,className:"w-6 h-6 rounded-full"}),J.jsx("p",{className:"line-clamp-1 capitalize max-sm:hidden",children:o}),J.jsxs("p",{className:"min-w-fit",children:["@",s]}),J.jsx("p",{className:"min-w-fit",children:Ta(l)})]}),J.jsx("h1",{className:"blog-title",children:n}),J.jsx("div",{className:"-translate-y-8 gap-4 mt-7",children:J.jsx("span",{className:"btn-light py-1 px-4 mx-1",children:a[0]})})]})]})},wo=({message:t,secondary:e=""})=>J.jsxs("div",{className:"text-center w-full p-4 rounded-full bg-grey/50 mt-4 text-purple",children:[J.jsx("p",{children:t}),J.jsx("p",{children:e.length?e:""})]}),ya=async({create_new_array:t=!1,state:e,data:n,page:r,countRoute:a,data_to_send:o={},user:s})=>{let i,l={};return s&&(l.headers={Authorization:`Bearer ${s}`}),e!=null&&!t?i={...e,results:[...e.results,...n],page:r}:await Gt.post("https://quick-quill-server.onrender.com"+a,o,l).then(({data:{totalDocs:u}})=>{i={results:n,page:1,totalDocs:u}}).catch(u=>{console.log(u)}),i},ga=({state:t,fetchDataFun:e,additionalParam:n})=>{if(t!=null&&t.totalDocs>t.results.length)return J.jsx("button",{onClick:()=>e({...n,page:t.page+1}),className:"text-dark-grey p-2 px-3 hover:bg-grey/80 rounded-full flex items-center gap-2 ",children:"Load More"})},NB=()=>{let[t,e]=he.useState(null),[n,r]=he.useState(null),[a,o]=he.useState("home"),s=["Tech","Gaming","Pop Culture","Social Media","Finance","Sports","Music","Nature","Travel"];const i=({page:h=1})=>{Gt.post("https://quick-quill-server.onrender.com/latest-blogs",{page:h}).then(async({data:b})=>{let w=await ya({state:t,data:b.blogs,page:h,countRoute:"/all-latest-blogs-count"});e(w)}).catch(b=>{console.log(b)})},l=()=>{Gt.get("https://quick-quill-server.onrender.com/trending-blogs").then(({data:h})=>{r(h.blogs)}).catch(h=>{console.log(h)})},u=({page:h=1})=>{Gt.post("https://quick-quill-server.onrender.com/search-blogs",{tag:a,page:h}).then(async({data:b})=>{let w=await ya({state:t,data:b.blogs,page:h,countRoute:"/search-blogs-count",data_to_send:{tag:a}});e(w)}).catch(b=>{console.log(b)})},g=h=>{let b=h.target.innerText;if(e(null),a==b){o("home");return}o(b)};return he.useEffect(()=>{hu.current.click(),a=="home"?i({page:1}):u({page:1}),n||l()},[a]),J.jsx(Cn,{children:J.jsxs("section",{className:"h-cover flex justify-center gap-10",children:[J.jsx("div",{className:"w-full",children:J.jsxs(td,{routes:[a,"trending blogs"],defaultHidden:["trending blogs"],children:[J.jsxs(J.Fragment,{children:[t==null?J.jsx(Er,{}):t.results.length?t.results.map((h,b)=>J.jsx(Cn,{transition:{duration:1,delay:b*.1},children:J.jsx(nd,{content:h,author:h.author.personal_info})},b)):J.jsx(wo,{message:"No blogs under this category at the moment :(",secondary:"Write the first one!"}),J.jsx(ga,{state:t,fetchDataFun:a=="home"?i:u})]}),n==null?J.jsx(Er,{}):n.length?n.map((h,b)=>J.jsx(Cn,{transition:{duration:1,delay:b*.1},children:J.jsx(T1,{blog:h,index:b})},b)):J.jsx(wo,{message:"No trending blogs at the moment :("})]})}),J.jsx("div",{className:"min-w-[30%] lg:min-w[300px] max-w-min border-l border-purple/30 pl-8 pt-3 max-md:hidden",children:J.jsxs("div",{className:"flex flex-col gap-10",children:[J.jsxs("div",{children:[J.jsx("h1",{className:"font-medium text-xl mb-8 ",children:"Filter what you're looking for!"}),J.jsx("div",{className:"flex gap-3 flex-wrap",children:s.map((h,b)=>J.jsx("button",{onClick:g,className:"tag "+(a==h?" bg-purple text-white":""),children:h},b))})]}),J.jsxs("div",{children:[J.jsxs("h1",{className:"font-medium text-xl mb-8",children:["Trending Posts ",J.jsx("i",{className:"fi fi-rs-flame"})]}),n==null?J.jsx(Er,{}):n.length?n.map((h,b)=>J.jsx(Cn,{transition:{duration:1,delay:b*.1},children:J.jsx(T1,{blog:h,index:b})},b)):J.jsx(wo,{message:"No trending blogs at the moment :("})]})]})})]})})},$B=({user:t})=>{let{personal_info:{fullname:e,username:n,profile_img:r}}=t;return J.jsxs(Xt,{to:`/user/${n}`,className:"flex gap-5 items-center mb-5",children:[J.jsx("img",{src:r,className:"w-14 h-14 rounded-full "}),J.jsxs("div",{children:[J.jsx("h1",{className:"font-medium text-xl line-clamp-2 capitalize",children:e}),J.jsxs("p",{className:"text-dark-grey ",children:[" @",n]})]})]})},RB=()=>{let{query:t}=ka(),[e,n]=he.useState(null),[r,a]=he.useState(null);const o=({page:u=1,create_new_arr:g=!1})=>{Gt.post("https://quick-quill-server.onrender.com/search-blogs",{query:t,page:u}).then(async({data:h})=>{let b=await ya({state:e,data:h.blogs,page:u,countRoute:"/search-blogs-count",data_to_send:{query:t},create_new_array:g});n(b)}).catch(h=>{console.log(h)})},s=()=>{Gt.post("https://quick-quill-server.onrender.com/search-users",{query:t}).then(({data:{users:u}})=>{a(u)})};he.useEffect(()=>{i(),o({page:1,create_new_arr:!0}),s()},[t]);const i=()=>{n(null),a(null)},l=()=>J.jsx(J.Fragment,{children:r==null?J.jsx(Er,{}):r.length?r.map((u,g)=>J.jsx(Cn,{transition:{duration:1,delay:g*.08},children:J.jsx($B,{user:u})},g)):J.jsx(wo,{message:"No users found"})});return J.jsxs("section",{className:"h-cover flex justify-center gap-10 ",children:[J.jsx("div",{className:"w-full",children:J.jsxs(td,{routes:[`Search results for "${t}"`,"Users Related"],defaultHidden:["Users Related"],children:[J.jsxs(J.Fragment,{children:[e==null?J.jsx(Er,{}):e.results.length?e.results.map((u,g)=>J.jsx(Cn,{transition:{duration:1,delay:g*.1},children:J.jsx(nd,{content:u,author:u.author.personal_info})},g)):J.jsx(wo,{message:"No blogs related to this search :(",secondary:"Write the first one!"}),J.jsx(ga,{state:e,fetchDataFun:o})]}),J.jsx(l,{})]})}),J.jsxs("div",{className:"min-w-[40%] lg:min-w-[350px] max-w-min border-l border-grey pl-8 pt-3 max-md:hidden",children:[J.jsxs("h1",{className:"font-medium text-xl mb-8",children:[J.jsx("i",{className:"fi fi-rr-user mr-4 mt-4"})," Users related to search"]}),J.jsx(l,{})]})]})},LB="/assets/404-light-790ab3dd.png",DB="/assets/404-dark-b783892b.png",UB="/assets/full-logo-dark-147105ab.png",FB="/assets/full-logo-light-1d2bd059.png",G3=()=>{let{theme:t}=he.useContext(rd);return J.jsxs("section",{className:"h-cover relative p-10 flex flex-col items-center gap-20 text-center",children:[J.jsx("img",{src:t=="light"?DB:LB,className:"select-none w-72 aspect-square object-cover rounded"}),J.jsx("h1",{className:"text-4xl font-gelasio leading-7",children:"Page Not Found"}),J.jsxs("p",{className:"text-dark-grey text-xl leading-7 -mt-8",children:["This page doesn't exist. Head back to the ",J.jsx(Xt,{to:"/",className:"text-black underline",children:"Home Page"})]}),J.jsxs("div",{className:"mt-auto",children:[J.jsx("img",{src:t=="light"?UB:FB,className:"h-8 object-contain block mx-auto select-none"}),J.jsx("p",{className:"mt-5 text-dark-grey",children:"Convenient blog writing and reading at your fingertips!"})]})]})},j1=({className:t,bio:e,social_links:n,joinedAt:r})=>J.jsxs("div",{className:"md:w-[90%] md:mt-7 "+t,children:[J.jsx("p",{className:e.length?"":"font-medium",children:e.length?e:"User doesn't have a bio"}),J.jsx("div",{className:"flex gap-x-7 gap-y-2 flex-wrap my-7 items-center text-dark-grey",children:Object.keys(n).map(a=>{let o=n[a];return o?J.jsx(Xt,{className:"capitalize",to:o,target:"_blank",children:J.jsx("i",{className:"fi "+(a!="website"?"fi-brands-"+a:"fi-rr-globe")+" text-2xl hover:text-black"})},a):""})}),J.jsxs("p",{className:"border-t border-grey pt-5 font-medium leading-7 text-dark-grey ",children:["Joined ",BB(r)]})]}),J3={personal_info:{fullname:"",username:"",profile_img:"",bio:""},account_info:{total_posts:0,total_reads:0},social_links:{},joinedAt:""},VB=()=>{let{id:t}=ka(),[e,n]=he.useState(J3),[r,a]=he.useState(!0),[o,s]=he.useState(null),[i,l]=he.useState(""),{personal_info:{fullname:u,username:g,profile_img:h,bio:b},account_info:{total_posts:w,total_reads:p},social_links:d,joinedAt:y}=e,{userAuth:{username:m}}=he.useContext(Mn);const c=()=>{Gt.post("https://quick-quill-server.onrender.com/get-profile",{username:t}).then(({data:_})=>{_!=null&&n(_),l(t),f({user_id:_._id}),a(!1)}).catch(_=>{console.log(_),a(!1)})},f=({page:_=1,user_id:S})=>{S=S??o.user_id,Gt.post("https://quick-quill-server.onrender.com/search-blogs",{author:S,page:_}).then(async({data:E})=>{let x=await ya({state:o,data:E.blogs,page:_,countRoute:"/search-blogs-count",data_to_send:{author:S}});x.user_id=S,s(x)})};he.useEffect(()=>{t!=i&&s(null),o==null&&(v(),c())},[t,o]);const v=()=>{n(e),a(!0),l("")};return J.jsx(Cn,{children:r?J.jsx(Er,{}):g.length?J.jsxs("section",{className:"h-cover md:flex flex-row-reverse items-start gap-5 min-[1100px]:gap-12 ",children:[J.jsxs("div",{className:"flex flex-col max-md:items-center gap-5 min-w-[250px] md:w-[50%] md:pl-8 md:border-l border-grey md:sticky md:top-[100px] md:py-10",children:[J.jsx("img",{src:h,className:"w-48 h-48 bg-grey rounded-full md:w-32 md:h-32  "}),J.jsxs("h1",{className:"text-2xl font-medium",children:["@",g]}),J.jsx("p",{className:"text-xl capitalize h-6 ",children:u}),J.jsxs("p",{children:[w.toLocaleString()," Blogs - ",p.toLocaleString(),"  Reads"]}),J.jsx("div",{className:"flex gap-4 mt-2",children:t==m?J.jsx(Xt,{to:"/settings/edit-profile",className:"btn-light rounded-md",children:"Edit Profile"}):""}),J.jsx(j1,{className:"max-md:hidden",bio:b,social_links:d,joinedAt:y})]}),J.jsx("div",{className:"max-md:mt-12 w-full ",children:J.jsxs(td,{routes:["Blogs Published","About User"],defaultHidden:["About User"],children:[J.jsxs(J.Fragment,{children:[o==null?J.jsx(Er,{}):o.results.length?o.results.map((_,S)=>J.jsx(Cn,{transition:{duration:1,delay:S*.1},children:J.jsx(nd,{content:_,author:_.author.personal_info})},S)):J.jsx(wo,{message:"User hasn't posted any blogs"}),J.jsx(ga,{state:o,fetchDataFun:f})]}),J.jsx(j1,{bio:b,social_links:d,joinedAt:y})]})})]}):J.jsx(G3,{})})},C1=({hide:t=!1})=>{let{blog:e,blog:{_id:n,title:r,blog_id:a,activity:o,activity:{total_likes:s,total_comments:i},author:l,author:{personal_info:{username:u}}},setBlog:g,isLikedByUser:h,setLikedByUser:b,setCommentsWrapper:w}=he.useContext(uc),{userAuth:{username:p,access_token:d}}=he.useContext(Mn);he.useEffect(()=>{d&&Gt.post("https://quick-quill-server.onrender.com/isliked-by-user",{_id:n},{headers:{Authorization:`Bearer ${d}`}}).then(({data:{result:c}})=>{b(!!c)}).catch(c=>{console.log(c)})},[]);const y=()=>{d?(b(c=>!c),h?s--:s++,g({...e,activity:{...o,total_likes:s}}),Gt.post("https://quick-quill-server.onrender.com/like-blog",{_id:n,isLikedByUser:h},{headers:{Authorization:`Bearer ${d}`}}).then(({data:c})=>{console.log(c)}).catch(c=>{console.log(c)})):mt.error("Please sign in to like blogs")},m=()=>{navigator.clipboard.writeText(window.location.href),mt.success("Link copied to clipboard!")};return J.jsxs(J.Fragment,{children:[J.jsx(oo,{}),J.jsx("hr",{className:"border-grey my-2"}),J.jsxs("div",{className:"flex gap-6 justify-between",children:[J.jsxs("div",{className:"flex gap-3 items-center",children:[J.jsx("button",{onClick:y,className:"w-10 h-10 rounded-full flex items-center justify-center "+(h?"bg-purple/20 text-purple":"bg-grey/80"),children:J.jsx("i",{className:"fi "+(h?"fi-sr-heart":"fi-rr-heart")})}),J.jsx("p",{className:"text-xl text-dark-grey",children:s}),J.jsx("button",{onClick:()=>w(c=>!c),className:"w-10 h-10 rounded-full flex items-center justify-center bg-grey/80",children:J.jsx("i",{className:"fi fi-rr-comment-alt-dots"})}),J.jsx("p",{className:"text-xl text-dark-grey",children:i})]}),J.jsxs("div",{className:"flex gap-6 items-center",children:[J.jsx("button",{onClick:m,className:"w-10 h-10 rounded-full bg-grey/80",children:J.jsx("i",{className:"text-xl fi fi-rr-share hover:text-dark-grey"})}),p==u?J.jsx(Xt,{to:`/editor/${a}`,className:"btn-light rounded-md hover:text-dark-grey"+(t?" hidden":""),children:"Edit"}):""]})]}),J.jsx("hr",{className:"border-grey my-2"})]})};var Y3={exports:{}};/*! For license information please see browser.umd.js.LICENSE.txt */(function(t,e){(function(n,r){t.exports=r()})(typeof self<"u"?self:o6,()=>(()=>{var n={5507:(o,s,i)=>{o.exports=i(1735)},1735:(o,s,i)=>{var l=i(365).Buffer;function u(d){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},u(d)}function g(d,y,m){return y=b(y),function(c,f){if(f&&(u(f)=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(c)}(d,h()?Reflect.construct(y,m||[],b(d).constructor):y.apply(d,m))}function h(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!d})()}function b(d){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},b(d)}function w(d,y){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,c){return m.__proto__=c,m},w(d,y)}i(9906).set(i(6333));var p=i(4304);p.setBrowser(!0),s.Error=i(4888),s.Schema=i(5506),s.Types=i(8941),s.VirtualType=i(459),s.SchemaType=i(4289),s.utils=i(6872),s.Document=p(),s.model=function(d,y){var m=function(c){function f(_,S){return function(E,x){if(!(E instanceof x))throw new TypeError("Cannot call a class as a function")}(this,f),g(this,f,[_,y,S])}return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),S&&w(_,S)}(f,c),v=f,Object.defineProperty(v,"prototype",{writable:!1}),v;var v}(s.Document);return m.modelName=d,m},typeof window<"u"&&(window.mongoose=o.exports,window.Buffer=l)},3434:(o,s,i)=>{var l=i(8727),u=i(9620).EventEmitter,g=i(4888),h=i(5506),b=i(6079),w=g.ValidationError,p=i(8859),d=i(5721);function y(m,c,f,v,_){if(!(this instanceof y))return new y(m,c,f,v,_);if(d(c)&&!c.instanceOfSchema&&(c=new h(c)),c=this.schema||c,!this.schema&&c.options._id&&(m=m||{})._id===void 0&&(m._id=new b),!c)throw new g.MissingSchemaError;for(var S in this.$__setSchema(c),l.call(this,m,f,v,_),p(this,c,{decorateDoc:!0}),c.methods)this[S]=c.methods[S];for(var E in c.statics)this[E]=c.statics[E]}y.prototype=Object.create(l.prototype),y.prototype.constructor=y,y.events=new u,y.$emitter=new u,["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"].forEach(function(m){y[m]=function(){return y.$emitter[m].apply(y.$emitter,arguments)}}),y.ValidationError=w,o.exports=y},6787:(o,s,i)=>{function l(C,M){var N=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!N){if(Array.isArray(C)||(N=function(O,I){if(O){if(typeof O=="string")return u(O,I);var j={}.toString.call(O).slice(8,-1);return j==="Object"&&O.constructor&&(j=O.constructor.name),j==="Map"||j==="Set"?Array.from(O):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?u(O,I):void 0}}(C))||M&&C&&typeof C.length=="number"){N&&(C=N);var L=0,R=function(){};return{s:R,n:function(){return L>=C.length?{done:!0}:{done:!1,value:C[L++]}},e:function(O){throw O},f:R}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D,z=!0,U=!1;return{s:function(){N=N.call(C)},n:function(){var O=N.next();return z=O.done,O},e:function(O){U=!0,D=O},f:function(){try{z||N.return==null||N.return()}finally{if(U)throw D}}}}function u(C,M){(M==null||M>C.length)&&(M=C.length);for(var N=0,L=Array(M);N<M;N++)L[N]=C[N];return L}function g(C){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},g(C)}var h=i(1795),b=i(3328),w=i(5251),p=i(9739),d=i(2417),y=i(6495),m=i(9981),c=i(2392),f=i(7906),v=i(8751),_=i(5721),S=i(6584),E=i(6872),x=["Polygon","MultiPolygon"];function k(C,M,N){if(Array.isArray(C))C.forEach(function(U,O){if(Array.isArray(U)||_(U))return k(U,M,N);C[O]=M.castForQuery(null,U,N)});else for(var L=Object.keys(C),R=L.length;R--;){var D=L[R],z=C[D];Array.isArray(z)||_(z)?(k(z,M,N),C[D]=z):C[D]=M.castForQuery({val:z,context:N})}}function T(C,M,N,L){if("strictQuery"in C)return C.strictQuery;if("strictQuery"in M)return M.strictQuery;var R=L&&L.mongooseCollection&&L.mongooseCollection.conn&&L.mongooseCollection.conn.base&&L.mongooseCollection.conn.base.options;return R&&"strictQuery"in R?R.strictQuery:N.strictQuery}o.exports=function C(M,N,L,R){if(Array.isArray(N))throw new Error("Query filter must be an object, got an array ",v.inspect(N));if(N==null)return N;M!=null&&M.discriminators!=null&&N[M.options.discriminatorKey]!=null&&(M=c(M,N[M.options.discriminatorKey])||M);var D,z,U,O,I,j,P=Object.keys(N),A=P.length;for(L=L||{};A--;)if(j=N[O=P[A]],O==="$or"||O==="$nor"||O==="$and"){if(!Array.isArray(j))throw new h("Array",j,O);for(var $=0;$<j.length;++$){if(j[$]==null||g(j[$])!=="object")throw new h("Object",j[$],O+"."+$);var q=j[$][M.options.discriminatorKey];if(q==null)j[$]=C(M,j[$],L,R);else{var X=c(R.schema,q);j[$]=C(X||M,j[$],L,R)}}}else{if(O==="$where"){if((I=g(j))!=="string"&&I!=="function")throw new Error("Must have a string or function for $where");I==="function"&&(N[O]=j.toString());continue}if(O==="$expr"){j=p(j,M);continue}if(O==="$elemMatch")j=C(M,j,L,R);else if(O==="$text")j=y(j,O);else if(O!=="$comment"||M.paths.hasOwnProperty("$comment")){if(!M)continue;if(!(z=M.path(O)))for(var te=O.split("."),re=te.length;re--;){var ie=te.slice(0,re).join("."),Z=te.slice(re).join("."),ee=M.path(ie),de=ee&&ee.schema&&ee.schema.options&&ee.schema.options.discriminatorKey;if(ee!=null&&(ee.schema&&ee.schema.discriminators)!=null&&de!=null&&Z!==de){var le=m(N,ie+"."+de),V=ee.schema.discriminators;typeof le=="string"&&V[le]!=null?z=V[le].path(Z):le!=null&&Object.keys(le).length===1&&Array.isArray(le.$in)&&le.$in.length===1&&typeof le.$in[0]=="string"&&V[le.$in[0]]!=null&&(z=V[le.$in[0]].path(Z))}}if(z){if(j==null)continue;if(E.isPOJO(j))if(Object.keys(j).some(f))for(var G=Object.keys(j),K=void 0,ne=G.length;ne--;)if(U=j[K=G[ne]],K==="$elemMatch")U&&z!=null&&z.schema!=null?C(z.schema,U,L,R):U&&z!=null&&z.$isMongooseArray&&(E.isPOJO(U)&&U.$not!=null?C(M,U,L,R):j[K]=z.castForQuery(K,U,R));else if(K==="$not"){if(U&&z){if((D=Object.keys(U)).length&&f(D[0]))for(var W in U)U[W]=z.castForQuery(W,U[W],R);else j[K]=z.castForQuery(K,U,R);continue}}else j[K]=z.castForQuery(K,U,R);else N[O]=z.castForQuery(null,j,R);else if(Array.isArray(j)&&["Buffer","Array"].indexOf(z.instance)===-1){var H,se=[],ce=l(j);try{for(ce.s();!(H=ce.n()).done;){var ue=H.value;se.push(z.castForQuery(null,ue,R))}}catch(ge){ce.e(ge)}finally{ce.f()}N[O]={$in:se}}else N[O]=z.castForQuery(null,j,R)}else{for(var be=O.split("."),Se=be.length,Ae=void 0,we=void 0,Ue=void 0;Se--&&(Ae=be.slice(0,Se).join("."),!(z=M.path(Ae))););if(z){if(z.caster&&z.caster.schema){(Ue={})[we=be.slice(Se).join(".")]=j;var $e=C(z.caster.schema,Ue,L,R)[we];$e===void 0?delete N[O]:N[O]=$e}else N[O]=j;continue}if(_(j)){var Ce="";if(j.$near?Ce="$near":j.$nearSphere?Ce="$nearSphere":j.$within?Ce="$within":j.$geoIntersects?Ce="$geoIntersects":j.$geoWithin&&(Ce="$geoWithin"),Ce){var nt=new w.Number("__QueryCasting__"),Fe=j[Ce];if(j.$maxDistance!=null&&(j.$maxDistance=nt.castForQuery(null,j.$maxDistance,R)),j.$minDistance!=null&&(j.$minDistance=nt.castForQuery(null,j.$minDistance,R)),Ce==="$within"){var ut=Fe.$center||Fe.$centerSphere||Fe.$box||Fe.$polygon;if(!ut)throw new Error("Bad $within parameter: "+JSON.stringify(j));Fe=ut}else if(Ce==="$near"&&typeof Fe.type=="string"&&Array.isArray(Fe.coordinates))Fe=Fe.coordinates;else if((Ce==="$near"||Ce==="$nearSphere"||Ce==="$geoIntersects")&&Fe.$geometry&&typeof Fe.$geometry.type=="string"&&Array.isArray(Fe.$geometry.coordinates))Fe.$maxDistance!=null&&(Fe.$maxDistance=nt.castForQuery(null,Fe.$maxDistance,R)),Fe.$minDistance!=null&&(Fe.$minDistance=nt.castForQuery(null,Fe.$minDistance,R)),S(Fe.$geometry)&&(Fe.$geometry=Fe.$geometry.toObject({transform:!1,virtuals:!1})),Fe=Fe.$geometry.coordinates;else if(Ce==="$geoWithin")if(Fe.$geometry){S(Fe.$geometry)&&(Fe.$geometry=Fe.$geometry.toObject({virtuals:!1}));var _e=Fe.$geometry.type;if(x.indexOf(_e)===-1)throw new Error('Invalid geoJSON type for $geoWithin "'+_e+'", must be "Polygon" or "MultiPolygon"');Fe=Fe.$geometry.coordinates}else Fe=Fe.$box||Fe.$polygon||Fe.$center||Fe.$centerSphere,S(Fe)&&(Fe=Fe.toObject({virtuals:!1}));k(Fe,nt,R);continue}}if(M.nested[O])continue;var wt="strict"in L?L.strict:M.options.strict,ht=T(L,M._userProvidedOptions,M.options,R);if(L.upsert&&wt)throw wt==="throw"?new b(O):new b(O,'Path "'+O+'" is not in schema, strict mode is `true`, and upsert is `true`.');if(ht==="throw")throw new b(O,'Path "'+O+`" is not in schema and strictQuery is 'throw'.`);ht&&delete N[O]}}else j=d(j,O),N[O]=j}return N}},3087:(o,s,i)=>{var l=i(9373),u=i(4029).Long;o.exports=function(g){return g==null?g:g===""?null:typeof g=="bigint"?g:g instanceof u?g.toBigInt():typeof g=="string"||typeof g=="number"?BigInt(g):void l.ok(!1)}},6670:(o,s,i)=>{var l=i(1795);o.exports=function(u,g){if(o.exports.convertToTrue.has(u))return!0;if(o.exports.convertToFalse.has(u))return!1;if(u==null)return u;throw new l("boolean",u,g)},o.exports.convertToTrue=new Set([!0,"true",1,"1","yes"]),o.exports.convertToFalse=new Set([!1,"false",0,"0","no"])},195:(o,s,i)=>{var l=i(9373);o.exports=function(u){return u==null||u===""?null:u instanceof Date?(l.ok(!isNaN(u.valueOf())),u):(l.ok(typeof u!="boolean"),g=u instanceof Number||typeof u=="number"?new Date(u):typeof u=="string"&&!isNaN(Number(u))&&(Number(u)>=275761||Number(u)<-271820)?new Date(Number(u)):typeof u.valueOf=="function"?new Date(u.valueOf()):new Date(u),isNaN(g.valueOf())?void l.ok(!1):g);var g}},6209:(o,s,i)=>{var l=i(365).Buffer;function u(b){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},u(b)}var g=i(5003),h=i(9373);o.exports=function(b){return b==null?b:u(b)==="object"&&typeof b.$numberDecimal=="string"?g.fromString(b.$numberDecimal):b instanceof g?b:typeof b=="string"?g.fromString(b):typeof l=="function"&&l.isBuffer(b)||typeof Uint8Array=="function"&&b instanceof Uint8Array?new g(b):typeof b=="number"?g.fromString(String(b)):typeof b.valueOf=="function"&&typeof b.valueOf()=="string"?g.fromString(b.valueOf()):void h.ok(!1)}},3065:(o,s,i)=>{var l=i(9373);o.exports=function(u){return u==null?u:u===""?null:(typeof u!="string"&&typeof u!="boolean"||(u=Number(u)),l.ok(!isNaN(u)),u instanceof Number?u.valueOf():typeof u=="number"?u:Array.isArray(u)||typeof u.valueOf!="function"?u.toString&&!Array.isArray(u)&&u.toString()==Number(u)?Number(u):void l.ok(!1):Number(u.valueOf()))}},4731:(o,s,i)=>{var l=i(1563),u=i(6079);o.exports=function(g){if(g==null||l(g,"ObjectId"))return g;if(g._id){if(l(g._id,"ObjectId"))return g._id;if(g._id.toString instanceof Function)return new u(g._id.toString())}return g.toString instanceof Function?new u(g.toString()):new u(g)}},2417:(o,s,i)=>{var l=i(1795);o.exports=function(u,g){if(u==null)return u;if(u._id&&typeof u._id=="string")return u._id;if(u.toString&&u.toString!==Object.prototype.toString&&!Array.isArray(u))return u.toString();throw new l("string",u,g)}},8727:(o,s,i)=>{function l(){l=function(){return ae};var Y,ae={},fe=Object.prototype,me=fe.hasOwnProperty,pe=Object.defineProperty||function(Ve,He,Ze){Ve[He]=Ze.value},ve=typeof Symbol=="function"?Symbol:{},xe=ve.iterator||"@@iterator",ye=ve.asyncIterator||"@@asyncIterator",ke=ve.toStringTag||"@@toStringTag";function je(Ve,He,Ze){return Object.defineProperty(Ve,He,{value:Ze,enumerable:!0,configurable:!0,writable:!0}),Ve[He]}try{je({},"")}catch{je=function(He,Ze,xt){return He[Ze]=xt}}function Pe(Ve,He,Ze,xt){var rt=He&&He.prototype instanceof Qe?He:Qe,jt=Object.create(rt.prototype),qt=new Zt(xt||[]);return pe(jt,"_invoke",{value:It(Ve,Ze,qt)}),jt}function De(Ve,He,Ze){try{return{type:"normal",arg:Ve.call(He,Ze)}}catch(xt){return{type:"throw",arg:xt}}}ae.wrap=Pe;var Re="suspendedStart",Be="suspendedYield",Le="executing",Xe="completed",Je={};function Qe(){}function Ye(){}function tt(){}var ot={};je(ot,xe,function(){return this});var ft=Object.getPrototypeOf,st=ft&&ft(ft(Gn([])));st&&st!==fe&&me.call(st,xe)&&(ot=st);var yt=tt.prototype=Qe.prototype=Object.create(ot);function Ft(Ve){["next","throw","return"].forEach(function(He){je(Ve,He,function(Ze){return this._invoke(He,Ze)})})}function Dt(Ve,He){function Ze(rt,jt,qt,Jt){var en=De(Ve[rt],Ve,jt);if(en.type!=="throw"){var dn=en.arg,Bn=dn.value;return Bn&&y(Bn)=="object"&&me.call(Bn,"__await")?He.resolve(Bn.__await).then(function(an){Ze("next",an,qt,Jt)},function(an){Ze("throw",an,qt,Jt)}):He.resolve(Bn).then(function(an){dn.value=an,qt(dn)},function(an){return Ze("throw",an,qt,Jt)})}Jt(en.arg)}var xt;pe(this,"_invoke",{value:function(rt,jt){function qt(){return new He(function(Jt,en){Ze(rt,jt,Jt,en)})}return xt=xt?xt.then(qt,qt):qt()}})}function It(Ve,He,Ze){var xt=Re;return function(rt,jt){if(xt===Le)throw Error("Generator is already running");if(xt===Xe){if(rt==="throw")throw jt;return{value:Y,done:!0}}for(Ze.method=rt,Ze.arg=jt;;){var qt=Ze.delegate;if(qt){var Jt=Tt(qt,Ze);if(Jt){if(Jt===Je)continue;return Jt}}if(Ze.method==="next")Ze.sent=Ze._sent=Ze.arg;else if(Ze.method==="throw"){if(xt===Re)throw xt=Xe,Ze.arg;Ze.dispatchException(Ze.arg)}else Ze.method==="return"&&Ze.abrupt("return",Ze.arg);xt=Le;var en=De(Ve,He,Ze);if(en.type==="normal"){if(xt=Ze.done?Xe:Be,en.arg===Je)continue;return{value:en.arg,done:Ze.done}}en.type==="throw"&&(xt=Xe,Ze.method="throw",Ze.arg=en.arg)}}}function Tt(Ve,He){var Ze=He.method,xt=Ve.iterator[Ze];if(xt===Y)return He.delegate=null,Ze==="throw"&&Ve.iterator.return&&(He.method="return",He.arg=Y,Tt(Ve,He),He.method==="throw")||Ze!=="return"&&(He.method="throw",He.arg=new TypeError("The iterator does not provide a '"+Ze+"' method")),Je;var rt=De(xt,Ve.iterator,He.arg);if(rt.type==="throw")return He.method="throw",He.arg=rt.arg,He.delegate=null,Je;var jt=rt.arg;return jt?jt.done?(He[Ve.resultName]=jt.value,He.next=Ve.nextLoc,He.method!=="return"&&(He.method="next",He.arg=Y),He.delegate=null,Je):jt:(He.method="throw",He.arg=new TypeError("iterator result is not an object"),He.delegate=null,Je)}function Vt(Ve){var He={tryLoc:Ve[0]};1 in Ve&&(He.catchLoc=Ve[1]),2 in Ve&&(He.finallyLoc=Ve[2],He.afterLoc=Ve[3]),this.tryEntries.push(He)}function it(Ve){var He=Ve.completion||{};He.type="normal",delete He.arg,Ve.completion=He}function Zt(Ve){this.tryEntries=[{tryLoc:"root"}],Ve.forEach(Vt,this),this.reset(!0)}function Gn(Ve){if(Ve||Ve===""){var He=Ve[xe];if(He)return He.call(Ve);if(typeof Ve.next=="function")return Ve;if(!isNaN(Ve.length)){var Ze=-1,xt=function rt(){for(;++Ze<Ve.length;)if(me.call(Ve,Ze))return rt.value=Ve[Ze],rt.done=!1,rt;return rt.value=Y,rt.done=!0,rt};return xt.next=xt}}throw new TypeError(y(Ve)+" is not iterable")}return Ye.prototype=tt,pe(yt,"constructor",{value:tt,configurable:!0}),pe(tt,"constructor",{value:Ye,configurable:!0}),Ye.displayName=je(tt,ke,"GeneratorFunction"),ae.isGeneratorFunction=function(Ve){var He=typeof Ve=="function"&&Ve.constructor;return!!He&&(He===Ye||(He.displayName||He.name)==="GeneratorFunction")},ae.mark=function(Ve){return Object.setPrototypeOf?Object.setPrototypeOf(Ve,tt):(Ve.__proto__=tt,je(Ve,ke,"GeneratorFunction")),Ve.prototype=Object.create(yt),Ve},ae.awrap=function(Ve){return{__await:Ve}},Ft(Dt.prototype),je(Dt.prototype,ye,function(){return this}),ae.AsyncIterator=Dt,ae.async=function(Ve,He,Ze,xt,rt){rt===void 0&&(rt=Promise);var jt=new Dt(Pe(Ve,He,Ze,xt),rt);return ae.isGeneratorFunction(He)?jt:jt.next().then(function(qt){return qt.done?qt.value:jt.next()})},Ft(yt),je(yt,ke,"Generator"),je(yt,xe,function(){return this}),je(yt,"toString",function(){return"[object Generator]"}),ae.keys=function(Ve){var He=Object(Ve),Ze=[];for(var xt in He)Ze.push(xt);return Ze.reverse(),function rt(){for(;Ze.length;){var jt=Ze.pop();if(jt in He)return rt.value=jt,rt.done=!1,rt}return rt.done=!0,rt}},ae.values=Gn,Zt.prototype={constructor:Zt,reset:function(Ve){if(this.prev=0,this.next=0,this.sent=this._sent=Y,this.done=!1,this.delegate=null,this.method="next",this.arg=Y,this.tryEntries.forEach(it),!Ve)for(var He in this)He.charAt(0)==="t"&&me.call(this,He)&&!isNaN(+He.slice(1))&&(this[He]=Y)},stop:function(){this.done=!0;var Ve=this.tryEntries[0].completion;if(Ve.type==="throw")throw Ve.arg;return this.rval},dispatchException:function(Ve){if(this.done)throw Ve;var He=this;function Ze(en,dn){return jt.type="throw",jt.arg=Ve,He.next=en,dn&&(He.method="next",He.arg=Y),!!dn}for(var xt=this.tryEntries.length-1;xt>=0;--xt){var rt=this.tryEntries[xt],jt=rt.completion;if(rt.tryLoc==="root")return Ze("end");if(rt.tryLoc<=this.prev){var qt=me.call(rt,"catchLoc"),Jt=me.call(rt,"finallyLoc");if(qt&&Jt){if(this.prev<rt.catchLoc)return Ze(rt.catchLoc,!0);if(this.prev<rt.finallyLoc)return Ze(rt.finallyLoc)}else if(qt){if(this.prev<rt.catchLoc)return Ze(rt.catchLoc,!0)}else{if(!Jt)throw Error("try statement without catch or finally");if(this.prev<rt.finallyLoc)return Ze(rt.finallyLoc)}}}},abrupt:function(Ve,He){for(var Ze=this.tryEntries.length-1;Ze>=0;--Ze){var xt=this.tryEntries[Ze];if(xt.tryLoc<=this.prev&&me.call(xt,"finallyLoc")&&this.prev<xt.finallyLoc){var rt=xt;break}}rt&&(Ve==="break"||Ve==="continue")&&rt.tryLoc<=He&&He<=rt.finallyLoc&&(rt=null);var jt=rt?rt.completion:{};return jt.type=Ve,jt.arg=He,rt?(this.method="next",this.next=rt.finallyLoc,Je):this.complete(jt)},complete:function(Ve,He){if(Ve.type==="throw")throw Ve.arg;return Ve.type==="break"||Ve.type==="continue"?this.next=Ve.arg:Ve.type==="return"?(this.rval=this.arg=Ve.arg,this.method="return",this.next="end"):Ve.type==="normal"&&He&&(this.next=He),Je},finish:function(Ve){for(var He=this.tryEntries.length-1;He>=0;--He){var Ze=this.tryEntries[He];if(Ze.finallyLoc===Ve)return this.complete(Ze.completion,Ze.afterLoc),it(Ze),Je}},catch:function(Ve){for(var He=this.tryEntries.length-1;He>=0;--He){var Ze=this.tryEntries[He];if(Ze.tryLoc===Ve){var xt=Ze.completion;if(xt.type==="throw"){var rt=xt.arg;it(Ze)}return rt}}throw Error("illegal catch attempt")},delegateYield:function(Ve,He,Ze){return this.delegate={iterator:Gn(Ve),resultName:He,nextLoc:Ze},this.method==="next"&&(this.arg=Y),Je}},ae}function u(Y,ae,fe,me,pe,ve,xe){try{var ye=Y[ve](xe),ke=ye.value}catch(je){return void fe(je)}ye.done?ae(ke):Promise.resolve(ke).then(me,pe)}function g(Y){return function(){var ae=this,fe=arguments;return new Promise(function(me,pe){var ve=Y.apply(ae,fe);function xe(ke){u(ve,me,pe,xe,ye,"next",ke)}function ye(ke){u(ve,me,pe,xe,ye,"throw",ke)}xe(void 0)})}}function h(Y,ae){var fe=Object.keys(Y);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Y);ae&&(me=me.filter(function(pe){return Object.getOwnPropertyDescriptor(Y,pe).enumerable})),fe.push.apply(fe,me)}return fe}function b(Y){for(var ae=1;ae<arguments.length;ae++){var fe=arguments[ae]!=null?arguments[ae]:{};ae%2?h(Object(fe),!0).forEach(function(me){w(Y,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(fe)):h(Object(fe)).forEach(function(me){Object.defineProperty(Y,me,Object.getOwnPropertyDescriptor(fe,me))})}return Y}function w(Y,ae,fe){return(ae=function(me){var pe=function(ve,xe){if(y(ve)!="object"||!ve)return ve;var ye=ve[Symbol.toPrimitive];if(ye!==void 0){var ke=ye.call(ve,"string");if(y(ke)!="object")return ke;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ve)}(me);return y(pe)=="symbol"?pe:pe+""}(ae))in Y?Object.defineProperty(Y,ae,{value:fe,enumerable:!0,configurable:!0,writable:!0}):Y[ae]=fe,Y}function p(Y,ae){var fe=typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(!fe){if(Array.isArray(Y)||(fe=function(ke,je){if(ke){if(typeof ke=="string")return d(ke,je);var Pe={}.toString.call(ke).slice(8,-1);return Pe==="Object"&&ke.constructor&&(Pe=ke.constructor.name),Pe==="Map"||Pe==="Set"?Array.from(ke):Pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe)?d(ke,je):void 0}}(Y))||ae&&Y&&typeof Y.length=="number"){fe&&(Y=fe);var me=0,pe=function(){};return{s:pe,n:function(){return me>=Y.length?{done:!0}:{done:!1,value:Y[me++]}},e:function(ke){throw ke},f:pe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ve,xe=!0,ye=!1;return{s:function(){fe=fe.call(Y)},n:function(){var ke=fe.next();return xe=ke.done,ke},e:function(ke){ye=!0,ve=ke},f:function(){try{xe||fe.return==null||fe.return()}finally{if(ye)throw ve}}}}function d(Y,ae){(ae==null||ae>Y.length)&&(ae=Y.length);for(var fe=0,me=Array(ae);fe<ae;fe++)me[fe]=Y[fe];return me}function y(Y){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ae){return typeof ae}:function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},y(Y)}var m,c,f,v=i(9620).EventEmitter,_=i(6379),S=i(4888),E=i(3861),x=i(4107),k=i(900),T=i(7962),C=i(5506),M=i(3328),N=i(122),L=i(2037),R=i(7427),D=i(2874),z=i(4134),U=i(1973),O=i(8724).M,I=i(8724).c,j=i(2829).x,P=i(9981),A=i(111),$=i(37),q=i(9728),X=i(719),te=i(1490),re=i(2183),ie=i(9098),Z=i(8751).inspect,ee=i(4962).h,de=i(5837),le=i(3564),V=i(2888),G=i(6872),K=i(5543),ne=G.deepEqual,W=G.isMongooseObject,H=i(8770).arrayAtomicsBackupSymbol,se=i(8770).arrayAtomicsSymbol,ce=i(8770).documentArrayParent,ue=i(8770).documentIsModified,be=i(8770).documentModifiedPaths,Se=i(8770).documentSchemaSymbol,Ae=i(8770).getSymbol,we=i(8770).populateModelSymbol,Ue=i(8770).scopeSymbol,$e=i(8107).schemaMixedSymbol,Ce=i(251),nt=i(9585),Fe=i(8770).sessionNewDocuments,ut=G.specialProperties;function _e(Y,ae,fe,me){if(y(fe)==="object"&&fe!=null&&(fe=(me=fe).skipId),me=Object.assign({},me),this.$__schema==null){var pe=G.isObject(ae)&&!ae.instanceOfSchema?new C(ae):ae;this.$__setSchema(pe),ae=fe,fe=me,me=arguments[4]||{}}if(this.$__=new _,me.isNew!=null&&me.isNew!==!0&&(this.$isNew=me.isNew),me.priorDoc!=null&&(this.$__.priorDoc=me.priorDoc),fe&&(this.$__.skipId=fe),Y!=null&&y(Y)!=="object")throw new k(Y,"obj","Document");var ve=!0;me.defaults!==void 0&&(this.$__.defaults=me.defaults,ve=me.defaults);var xe=this.$__schema;typeof ae=="boolean"||ae==="throw"?(ae!==!0&&(this.$__.strictMode=ae),ae=void 0):xe.options.strict!==!0&&(this.$__.strictMode=xe.options.strict);var ye,ke=p(xe.requiredPaths(!0));try{for(ke.s();!(ye=ke.n()).done;){var je=ye.value;this.$__.activePaths.require(je)}}catch(Be){ke.e(Be)}finally{ke.f()}var Pe=null;G.isPOJO(ae)&&Object.keys(ae).length>0&&(Pe=ie(ae),this.$__.selected=ae,this.$__.exclude=Pe);var De=Pe===!1&&ae?R(ae):null;if(this._doc==null&&(this.$__buildDoc(Y,ae,fe,Pe,De,!1),ve&&D(this,ae,Pe,De,!0,null)),Y&&(this.$__original_set?this.$__original_set(Y,void 0,!0,me):this.$set(Y,void 0,!0,me),Y instanceof _e&&(this.$isNew=Y.$isNew)),me.willInit&&ve?me.skipDefaults&&(this.$__.skipDefaults=me.skipDefaults):ve&&D(this,ae,Pe,De,!1,me.skipDefaults),!this.$__.strictMode&&Y){var Re=this;Object.keys(this._doc).forEach(function(Be){Be in xe.tree||Be in xe.methods||Be in xe.virtuals||Be.startsWith("$")||I({prop:Be,subprops:null,prototype:Re})})}(function(Be){var Le=Be.$__schema&&Be.$__schema.callQueue;if(Le.length){var Xe,Je=p(Le);try{for(Je.s();!(Xe=Je.n()).done;){var Qe=Xe.value;Qe[0]!=="pre"&&Qe[0]!=="post"&&Qe[0]!=="on"&&Be[Qe[0]].apply(Be,Qe[1])}}catch(Ye){Je.e(Ye)}finally{Je.f()}}})(this)}for(var wt in _e.prototype.$isMongooseDocumentPrototype=!0,Object.defineProperty(_e.prototype,"isNew",{get:function(){return this.$isNew},set:function(Y){this.$isNew=Y}}),Object.defineProperty(_e.prototype,"errors",{get:function(){return this.$errors},set:function(Y){this.$errors=Y}}),_e.prototype.$isNew=!0,G.each(["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"],function(Y){_e.prototype[Y]=function(){if(!this.$__.emitter){if(Y==="emit")return;this.$__.emitter=new v,this.$__.emitter.setMaxListeners(0)}return this.$__.emitter[Y].apply(this.$__.emitter,arguments)},_e.prototype["$".concat(Y)]=_e.prototype[Y]}),_e.prototype.constructor=_e,v.prototype)_e[wt]=v.prototype[wt];function ht(Y,ae,fe){if(Y!=null)for(var me=Object.keys(fe.$__schema.paths),pe=me.length,ve=ae.indexOf(".")===-1?[ae]:ae.split("."),xe=0;xe<pe;++xe){var ye="",ke=me[xe];if(ke.startsWith(ae+".")){var je=fe.$__schema.paths[ke],Pe=je.splitPath().slice(ve.length),De=Pe.length;if(je.defaultValue!==void 0)for(var Re=Y,Be=0;Be<De&&Re!=null;++Be){var Le=Pe[Be];if(Be===De-1){if(Re[Le]!==void 0)break;try{var Xe=je.getDefault(fe,!1);Xe!==void 0&&(Re[Le]=Xe)}catch(Je){fe.invalidate(ae+"."+ye,Je);break}break}ye+=(ye.length?".":"")+Le,Re[Le]=Re[Le]||{},Re=Re[Le]}}}}function ge(Y,ae,fe,me,pe){pe=pe||"",ae.$__!=null&&(ae=ae._doc);for(var ve,xe,ye,ke=Object.keys(ae),je=ke.length,Pe=0,De=Y.$__.strictMode,Re=Y.$__schema;Pe<je;)Be(Pe++);function Be(Le){if((ye=ke[Le])!=="__proto__"&&ye!=="constructor"&&(xe=pe?pe+ye:ye,ve=Re.path(xe),!Re.$isRootDiscriminator||Y.$__isSelected(xe))){var Xe=ae[ye];if(!ve&&G.isPOJO(Xe))fe[ye]||(fe[ye]={},De||ye in Re.tree||ye in Re.methods||ye in Re.virtuals||(Y[ye]=fe[ye])),ge(Y,Xe,fe[ye],me,xe+".");else if(ve){if(fe.hasOwnProperty(ye)&&Xe!==void 0&&delete fe[ye],Xe===null)fe[ye]=ve._castNullish(null);else if(Xe!==void 0){var Je=Xe.$__==null?null:Xe.$__.wasPopulated;if(ve&&!Je)try{me&&me.setters?fe[ye]=ve.applySetters(Xe,Y,!1):fe[ye]=ve.cast(Xe,Y,!0)}catch(Qe){Y.invalidate(Qe.path,new L({path:Qe.path,message:Qe.message,type:"cast",value:Qe.value,reason:Qe}))}else fe[ye]=Xe}Y.$isModified(xe)||Y.$__.activePaths.init(xe)}else fe[ye]=Xe,De||pe||(Y[ye]=Xe)}}}function At(Y){if(Y==null)return!0;if(y(Y)!=="object"||Array.isArray(Y))return!1;for(var ae=0,fe=Object.keys(Y);ae<fe.length;ae++)if(!At(Y[fe[ae]]))return!1;return!0}function vt(Y,ae,fe){var me={};(function(gt){var tn=Object.keys(gt.$__.activePaths.getStatePaths("require")),On=0,Cr=tn.length;for(On=0;On<Cr;++On){var vn=tn[On],or=gt.$__schema.path(vn);if(or!=null&&typeof or.originalRequiredValue=="function"){gt.$__.cachedRequired=gt.$__.cachedRequired||{};try{gt.$__.cachedRequired[vn]=or.originalRequiredValue.call(gt,gt)}catch(Pr){gt.invalidate(vn,Pr)}}}})(Y);var pe=new Set(Object.keys(Y.$__.activePaths.getStatePaths("require")).filter(function(gt){return!(!Y.$__isSelected(gt)&&!Y.$isModified(gt))&&(Y.$__.cachedRequired==null||!(gt in Y.$__.cachedRequired)||Y.$__.cachedRequired[gt])}));function ve(gt){pe.add(gt)}Object.keys(Y.$__.activePaths.getStatePaths("init")).forEach(ve),Object.keys(Y.$__.activePaths.getStatePaths("modify")).forEach(ve),Object.keys(Y.$__.activePaths.getStatePaths("default")).forEach(ve);var xe,ye=Y.$getAllSubdocs(),ke=Y.modifiedPaths(),je=p(ye);try{for(je.s();!(xe=je.n()).done;){var Pe=xe.value;if(Pe.$basePath){var De,Re=Pe.$isSingleNested?Pe.$__pathRelativeToParent():Pe.$__fullPathWithIndexes(),Be=p(Pe.modifiedPaths());try{for(Be.s();!(De=Be.n()).done;){var Le=De.value;pe.delete(Re+"."+Le)}}catch(gt){Be.e(gt)}finally{Be.f()}!Y.$isModified(Re,null,ke)||Y.isDirectModified(Re)||Y.$isDefault(Re)||(pe.add(Re),Y.$__.pathsToScopes==null&&(Y.$__.pathsToScopes={}),Y.$__.pathsToScopes[Re]=Pe.$isDocumentArrayElement?Pe.__parentArray:Pe.$parent(),me[Re]={skipSchemaValidators:!0},Pe.$isDocumentArrayElement&&Pe.__index!=null&&(me[Re].index=Pe.__index))}}}catch(gt){je.e(gt)}finally{je.f()}var Xe,Je=p(pe);try{for(Je.s();!(Xe=Je.n()).done;){var Qe=Xe.value,Ye=Y.$__schema.path(Qe);if(Ye){if(Ye.$isMongooseDocumentArray){var tt,ot=p(pe);try{for(ot.s();!(tt=ot.n()).done;){var ft=tt.value;(ft==null||ft.startsWith(Ye.path+"."))&&pe.delete(ft)}}catch(gt){ot.e(gt)}finally{ot.f()}}(Ye.caster||Ye.validators.length!==0||Ye.$parentSchemaDocArray)&&(!Ye.$isMongooseArray||Ye.$isMongooseDocumentArray||Ye.$embeddedSchemaType.$isMongooseArray||Ye.validators.length!==0||Ye.$embeddedSchemaType.validators.length!==0)||pe.delete(Qe)}}}catch(gt){Je.e(gt)}finally{Je.f()}var st,yt=p(pe);try{for(yt.s();!(st=yt.n()).done;){var Ft=st.value;Y.$__schema.singleNestedPaths.hasOwnProperty(Ft)&&pe.delete(Ft)}}catch(gt){yt.e(gt)}finally{yt.f()}Array.isArray(ae)?pe=function(gt,tn){var On,Cr=new Set(tn),vn=new Map([]),or=p(tn);try{for(or.s();!(On=or.n()).done;){var Pr=On.value;if(Pr.indexOf(".")!==-1)for(var io=Pr.split("."),so=io[0],ao=1;ao<io.length;++ao)vn.set(so,Pr),so=so+"."+io[ao]}}catch(Mr){or.e(Mr)}finally{or.f()}var zr,lo=new Set,_r=p(gt);try{for(_r.s();!(zr=_r.n()).done;){var Hr=zr.value;Cr.has(Hr)?lo.add(Hr):vn.has(Hr)&&lo.add(vn.get(Hr))}}catch(Mr){_r.e(Mr)}finally{_r.f()}return lo}(pe,ae):Array.isArray(fe)&&(pe=function(gt,tn){return tn=new Set(tn),gt=Array.from(gt).filter(function(On){return!tn.has(On)}),new Set(gt)}(pe,fe));var Dt,It=p(pe);try{for(It.s();!(Dt=It.n()).done;){var Tt=Dt.value,Vt=Y.$__schema.path(Tt);Vt&&Vt.$isMongooseArray&&(Array.isArray(Vt)||!Vt.$isMongooseDocumentArray||Vt&&Vt.schemaOptions&&Vt.schemaOptions.required)&&(!Vt.$isMongooseArray||Vt.$isMongooseDocumentArray||Vt.$embeddedSchemaType.$isMongooseArray||Vt.$embeddedSchemaType.validators.length!==0)&&it(Y.$__getValue(Tt),pe,Tt)}}catch(gt){It.e(gt)}finally{It.f()}function it(gt,tn,On){if(gt!=null)for(var Cr=gt.length,vn=0;vn<Cr;++vn)Array.isArray(gt[vn])?it(gt[vn],tn,On+"."+vn):tn.add(On+"."+vn)}var Zt,Gn={skipArrays:!0},Ve=p(pe);try{for(Ve.s();!(Zt=Ve.n()).done;){var He=Zt.value;if(Y.$__schema.nested[He]){var Ze=Y.$__getValue(He);W(Ze)&&(Ze=Ze.toObject({transform:!1}));var xt=j(Ze,He,Gn,Y.$__schema);Object.keys(xt).forEach(ve)}}}catch(gt){Ve.e(gt)}finally{Ve.f()}var rt,jt=p(pe);try{for(jt.s();!(rt=jt.n()).done;){var qt=rt.value,Jt=Y.$__schema.path(qt);if(Jt&&(Jt.$parentSchemaDocArray&&typeof Jt.$parentSchemaDocArray.path=="string"&&pe.add(Jt.$parentSchemaDocArray.path),Jt.$isSchemaMap)){var en=Y.$__getValue(qt);if(en!=null){var dn,Bn=p(en.keys());try{for(Bn.s();!(dn=Bn.n()).done;){var an=dn.value;pe.add(qt+"."+an)}}catch(gt){Bn.e(gt)}finally{Bn.f()}}}}}catch(gt){jt.e(gt)}finally{jt.f()}return[pe=Array.from(pe),me]}function In(Y){for(var ae,fe,me,pe=Object.keys(Y),ve=pe.length;ve--;)me=Y[fe=pe[ve]],G.isPOJO(me)&&(Y[fe]=In(me)),Y[fe]!==void 0?ae=!0:delete Y[fe];return ae?Y:void 0}function Mt(Y,ae,fe,me){var pe,ve,xe,ye=Y.$__schema,ke=Object.keys(ye.virtuals),je=ke.length,Pe=je,De=Y._doc,Re=typeof(me&&me.aliases)!="boolean"||me.aliases;fe=fe||{};var Be=null;if(Array.isArray(fe.virtuals))Be=new Set(fe.virtuals);else if(fe.virtuals&&fe.virtuals.pathsToSkip){Be=new Set(ke);for(var Le=0;Le<fe.virtuals.pathsToSkip.length;Le++)Be.has(fe.virtuals.pathsToSkip[Le])&&Be.delete(fe.virtuals.pathsToSkip[Le])}if(!De)return ae;for(je=0;je<Pe;++je)if(pe=ke[je],(Be==null||Be.has(pe))&&(Re||!ye.aliases.hasOwnProperty(pe))){if(ve=pe,fe.path!=null){if(!pe.startsWith(fe.path+"."))continue;ve=pe.substring(fe.path.length+1)}var Xe=ve.split(".");if((xe=U(Y.get(pe),fe))!==void 0){var Je=Xe.length;De=ae;for(var Qe=0;Qe<Je-1;++Qe)De[Xe[Qe]]=De[Xe[Qe]]||{},De=De[Xe[Qe]];De[Xe[Je-1]]=xe}}return ae}function Nt(Y,ae){if(K(ae))throw new Error("`transform` function must be synchronous, but the transform on path `"+Y+"` returned a promise.")}_e.prototype.$__schema,_e.prototype.schema,Object.defineProperty(_e.prototype,"$locals",{configurable:!1,enumerable:!1,get:function(){return this.$__.locals==null&&(this.$__.locals={}),this.$__.locals},set:function(Y){this.$__.locals=Y}}),_e.prototype.isNew,Object.defineProperty(_e.prototype,"$where",{configurable:!1,enumerable:!1,writable:!0}),_e.prototype.id,_e.prototype.$errors,Object.defineProperty(_e.prototype,"$op",{get:function(){return this.$__.op||null},set:function(Y){this.$__.op=Y}}),_e.prototype.$__buildDoc=function(Y,ae,fe,me,pe){for(var ve={},xe=Object.keys(this.$__schema.paths).filter(function(Ye){return!Ye.includes("$*")}),ye=xe.length,ke=0;ke<ye;++ke){var je=xe[ke];if(!(je==="_id"&&(fe||Y&&"_id"in Y)))for(var Pe=this.$__schema.paths[je].splitPath(),De=Pe.length,Re=De-1,Be="",Le=ve,Xe=!1,Je=0;Je<De;++Je){var Qe=Pe[Je];if(Be.length?Be+="."+Qe:Be=Qe,me===!0){if(Be in ae)break}else if(me===!1&&ae&&!Xe){if(Be in ae)Xe=!0;else if(!pe[Be])break}Je<Re&&(Le=Le[Qe]||(Le[Qe]={}))}}this._doc=ve},_e.prototype.toBSON=function(){return this.toObject(ee)},_e.prototype.init=function(Y,ae,fe){return typeof ae=="function"&&(fe=ae,ae=null),this.$__init(Y,ae),fe&&fe(null,this),this},_e.prototype.$init=function(){return this.constructor.prototype.init.apply(this,arguments)},_e.prototype.$__init=function(Y,ae){if(this.$isNew=!1,ae=ae||{},Y._id!=null&&ae.populated&&ae.populated.length){var fe,me=String(Y._id),pe=p(ae.populated);try{for(pe.s();!(fe=pe.n()).done;){var ve=fe.value;if(ve.isVirtual?this.$populated(ve.path,G.getValue(ve.path,Y),ve):this.$populated(ve.path,ve._docs[me],ve),ve._childDocs!=null){var xe,ye=p(ve._childDocs);try{for(ye.s();!(xe=ye.n()).done;){var ke=xe.value;ke!=null&&ke.$__!=null&&(ke.$__.parent=this)}}catch(Pe){ye.e(Pe)}finally{ye.f()}ve._childDocs=[]}}}catch(Pe){pe.e(Pe)}finally{pe.f()}}ge(this,Y,this._doc,ae),de(this,ae.populated),this.$emit("init",this),this.constructor.emit("init",this);var je=this.$__.exclude===!1&&this.$__.selected?R(this.$__.selected):null;return D(this,this.$__.selected,this.$__.exclude,je,!1,this.$__.skipDefaults),this},_e.prototype.updateOne=function(Y,ae,fe){var me=this.constructor.updateOne({_id:this._id},Y,ae),pe=this;return me.pre(function(ve){pe.constructor._middleware.execPre("updateOne",pe,[pe],ve)}),me.post(function(ve){pe.constructor._middleware.execPost("updateOne",pe,[pe],{},ve)}),this.$session()!=null&&("session"in me.options||(me.options.session=this.$session())),fe!=null?me.exec(fe):me},_e.prototype.replaceOne=function(){var Y=Array.prototype.slice.call(arguments);return Y.unshift({_id:this._id}),this.constructor.replaceOne.apply(this.constructor,Y)},_e.prototype.$session=function(Y){if(arguments.length===0)return this.$__.session!=null&&this.$__.session.hasEnded?(this.$__.session=null,null):this.$__.session;if(Y!=null&&Y.hasEnded)throw new S("Cannot set a document's session to a session that has ended. Make sure you haven't called `endSession()` on the session you are passing to `$session()`.");if(Y!=null||this.$__.session!=null){if(this.$__.session=Y,!this.$isSubdocument){var ae,fe=p(this.$getAllSubdocs());try{for(fe.s();!(ae=fe.n()).done;)ae.value.$session(Y)}catch(me){fe.e(me)}finally{fe.f()}}return Y}},_e.prototype.$timestamps=function(Y){return arguments.length===0?this.$__.timestamps!=null?this.$__.timestamps:this.$__schema?this.$__schema.options.timestamps:void 0:(Y!==this.$timestamps()&&(this.$__.timestamps=Y),this)},_e.prototype.overwrite=function(Y){for(var ae=0,fe=Array.from(new Set(Object.keys(this._doc).concat(Object.keys(Y))));ae<fe.length;ae++){var me=fe[ae];me!=="_id"&&(this.$__schema.options.versionKey&&me===this.$__schema.options.versionKey||this.$__schema.options.discriminatorKey&&me===this.$__schema.options.discriminatorKey||this.$set(me,Y[me]))}return this},_e.prototype.$set=function(Y,ae,fe,me){var pe=this;G.isPOJO(fe)&&(me=fe,fe=void 0);var ve,xe,ye,ke,je=me&&me.merge,Pe=fe&&fe!==!0,De=fe===!0,Re=0,Be=me&&"strict"in me,Le=Be?me.strict:this.$__.strictMode;if(Pe&&((this.$__.adhocPaths||(this.$__.adhocPaths={}))[Y]=this.$__schema.interpretAsType(Y,fe,this.$__schema.options)),Y==null){var Xe=[ae,Y];Y=Xe[0],ae=Xe[1]}else if(typeof Y!="string"){if(Y instanceof _e&&(Y=Y.$__isNested?Y.toObject():Y.$__schema===this.$__schema?Mt(Y,b({},Y._doc)):Y._doc),Y==null){var Je=[ae,Y];Y=Je[0],ae=Je[1]}ke=ae?ae+".":"";var Qe=(ve=$(this.$__schema,Y)).length,Ye=me&&me._skipMinimizeTopLevel||!1;if(Qe===0&&Ye)return delete me._skipMinimizeTopLevel,ae&&this.$set(ae,{}),this;me=Object.assign({},me,{_skipMinimizeTopLevel:!1});for(var tt=0;tt<Qe;++tt){ye=ve[tt];var ot=ke?ke+ye:ye;xe=this.$__schema.pathType(ot);var ft=Y[ye];if(fe!==!0||ke||ft==null||xe!=="nested"||this._doc[ye]==null||delete this._doc[ye],G.isNonBuiltinObject(ft)&&xe==="nested")this.$set(ot,ft,De,Object.assign({},me,{_skipMarkModified:!0})),ht(this.$get(ot),ot,this);else if(Le){if(De&&ft===void 0&&this.$get(ot)!==void 0)continue;if(xe==="adhocOrUndefined"&&(xe=A(this,ot,{typeOnly:!0})),xe==="real"||xe==="virtual")this.$set(ot,ft,De,me);else if(xe==="nested"&&ft instanceof _e)this.$set(ot,ft.toObject({transform:!1}),De,me);else{if(Le==="throw")throw xe==="nested"?new x(ye,ft):new M(ye);xe==="nested"&&ft==null&&this.$set(ot,ft,De,me)}}else ft!==void 0&&this.$set(ot,ft,De,me)}for(var st={},yt=Object.keys(this.$__schema.tree),Ft=0,Dt=yt.length;Ft<Dt;++Ft)(ye=yt[Ft])&&this._doc.hasOwnProperty(ye)&&(st[ye]=void 0);return this._doc=Object.assign(st,this._doc),this}var It=this.$__schema.pathType(Y),Tt=null;if(It==="adhocOrUndefined"&&(Tt=Y.indexOf(".")===-1?[Y]:Y.split("."),It=A(this,Tt,{typeOnly:!0})),It==="adhocOrUndefined"&&!Be){Tt==null&&(Tt=Y.indexOf(".")===-1?[Y]:Y.split("."));var Vt=q(this.$__schema,Tt);Vt!==void 0&&(Le=Vt)}ae=X(ae);var it,Zt=pe.$__.priorDoc!=null?pe.$__.priorDoc.$__getValue(Y):De?void 0:pe.$__getValue(Y);if(It==="nested"&&ae){if(y(ae)==="object"&&ae!=null){if(ae.$__!=null&&(ae=ae.toObject(ee)),ae==null)return this.invalidate(Y,new S.CastError("Object",ae,Y)),this;var Gn=this.$isModified(Y),Ve=this.$__.savedState!=null&&this.$__.savedState.hasOwnProperty(Y);if(this.$__.savedState!=null&&!this.$isNew&&!this.$__.savedState.hasOwnProperty(Y)){var He=this.$__getValue(Y);this.$__.savedState[Y]=He;for(var Ze=0,xt=Object.keys(He||{});Ze<xt.length;Ze++){var rt=xt[Ze];this.$__.savedState[Y+"."+rt]=He[rt]}}if(je)return this.$set(ae,Y,De);this.$__setValue(Y,null),z(this,Y);var jt=$(this.$__schema,ae,Y);this.$__setValue(Y,{});var qt,Jt=p(jt);try{for(Jt.s();!(qt=Jt.n()).done;){var en=qt.value;this.$set(Y+"."+en,ae[en],De,b(b({},me),{},{_skipMarkModified:!0}))}}catch(Ct){Jt.e(Ct)}finally{Jt.f()}return Zt==null||Gn&&!Ve||!G.deepEqual(Ve?this.$__.savedState[Y]:Zt,ae)?this.markModified(Y):this.unmarkModified(Y),this}return this.invalidate(Y,new S.CastError("Object",ae,Y)),this}if(Tt==null&&(Tt=Y.indexOf(".")===-1?[Y]:Y.split(".")),typeof this.$__schema.aliases[Tt[0]]=="string"&&(Tt[0]=this.$__schema.aliases[Tt[0]]),It==="adhocOrUndefined"&&Le){var dn;for(Re=0;Re<Tt.length;++Re){var Bn=Tt.slice(0,Re+1).join(".");if(Re+1<Tt.length&&this.$__schema.pathType(Bn)==="virtual")return le.set(Y,ae,this),this;if((it=this.$__schema.path(Bn))!=null){if(it instanceof E){dn=!0;break}if(it.$isSchemaMap&&it.$__schemaType instanceof E&&Re<Tt.length-1){dn=!0,it=it.$__schemaType;break}}}if(it==null&&(it=A(this,Y)),!dn&&!it){if(Le==="throw")throw new M(Y);return this}}else{if(It==="virtual")return(it=this.$__schema.virtualpath(Y)).applySetters(ae,this),this;it=this.$__path(Y)}var an,gt=this._doc,tn="";for(Re=0;Re<Tt.length-1;++Re)gt=gt[Tt[Re]],tn+=(tn.length!==0?".":"")+Tt[Re],gt||(this.$set(tn,{}),this.$__isSelected(tn)||this.unmarkModified(tn),gt=this.$__getValue(tn));if(Tt.length<=1)an=Y;else{var On=Tt.length;for(Re=0;Re<On;++Re){var Cr=Tt.slice(0,Re+1).join(".");if(this.$get(Cr,null,{getters:!1})===null){an=Cr;break}}an||(an=Y)}if(!it)return this.$__set(an,Y,me,De,Tt,it,ae,Zt),It==="nested"&&ae==null&&z(this,Y),this;if((it.$isSingleNested||it.$isMongooseArray)&&function(Ct,sr){if(Ct.$__.validationError){for(var Sn=0,Fn=Object.keys(Ct.$__.validationError.errors);Sn<Fn.length;Sn++){var dr=Fn[Sn];dr.startsWith(sr+".")&&delete Ct.$__.validationError.errors[dr]}Object.keys(Ct.$__.validationError.errors).length===0&&(Ct.$__.validationError=null)}}(this,Y),ae!=null&&je&&it.$isSingleNested){ae instanceof _e&&(ae=ae.toObject({virtuals:!1,transform:!1}));for(var vn=0,or=Object.keys(ae);vn<or.length;vn++){var Pr=or[vn];this.$set(Y+"."+Pr,ae[Pr],De,me)}return this}var io=!0;try{var so,ao=function(){if(it.options==null||!(ae instanceof _e))return!1;var Ct=ae.constructor,sr=it.options.ref;if(sr!=null&&(sr===Ct.modelName||sr===Ct.baseModelName))return!0;var Sn=it.options.refPath;if(Sn==null)return!1;var Fn=ae.get(Sn);return Fn===Ct.modelName||Fn===Ct.baseModelName}(),zr=!1;if(ao&&ae instanceof _e&&(!ae.$__.wasPopulated||G.deepEqual(ae.$__.wasPopulated.value,ae._id))){var lo=it&&it.$isSingleNested?it.cast(ae,this):ae._id;this.$populated(Y,lo,w({},we,ae.constructor)),ae.$__.wasPopulated={value:lo},zr=!0}var _r=this.$__schema.options.typeKey;if(it.options&&Array.isArray(it.options[_r])&&it.options[_r].length&&it.options[_r][0].ref&&function(Ct,sr){if(!Array.isArray(Ct)||Ct.length===0)return!1;var Sn,Fn=p(Ct);try{for(Fn.s();!(Sn=Fn.n()).done;){var dr=Sn.value;if(!(dr instanceof _e)||dr.constructor.modelName==null||dr.constructor.modelName!=sr&&dr.constructor.baseModelName!=sr)return!1}}catch(zi){Fn.e(zi)}finally{Fn.f()}return!0}(ae,it.options[_r][0].ref)){so=w({},we,ae[0].constructor),this.$populated(Y,ae.map(function(Ct){return Ct._id}),so);var Hr,Mr=p(ae);try{for(Mr.s();!(Hr=Mr.n()).done;){var As=Hr.value;As.$__.wasPopulated={value:As._id}}}catch(Ct){Mr.e(Ct)}finally{Mr.f()}zr=!0}if(!ao||!it.$isSingleNested||!ae.$__){var Di=this;this.$__schema.singleNestedPaths[Y]!=null&&Tt.length>1&&(Di=nt(this,Tt,this.schema)),ae=me!=null&&me.overwriteImmutable?it.applySetters(ae,Di,!1,Zt,{overwriteImmutable:!0}):it.applySetters(ae,Di,!1,Zt)}if(Array.isArray(ae)&&!Array.isArray(it)&&it.$isMongooseDocumentArray&&ae.length!==0&&ae[0]!=null&&ae[0].$__!=null&&ae[0].$__.populated!=null){for(var ja=Object.keys(ae[0].$__.populated),Ca=function(){var Ct=Xo[Ui];pe.$populated(Y+"."+Ct,ae.map(function(sr){return sr.$populated(Ct)}),ae[0].$__.populated[Ct].options)},Ui=0,Xo=ja;Ui<Xo.length;Ui++)Ca();zr=!0}if(!zr&&this.$__.populated){if(Array.isArray(ae)&&this.$__.populated[Y])for(var Fi=0;Fi<ae.length;++Fi)ae[Fi]instanceof _e&&ae.set(Fi,ae[Fi]._id,!0);delete this.$__.populated[Y]}ae!=null&&it.$isSingleNested&&function(Ct,sr,Sn){var Fn=sr.schema;if(Fn!=null)for(var dr=0,zi=Object.keys(Fn.paths);dr<zi.length;dr++){var Pa=zi[dr],Ma=Fn.paths[Pa];if(Ma.$immutableSetter!=null){var pc=Sn==null?void 0:Sn.$__getValue(Pa);Ma.$immutableSetter.call(Ct,pc)}}}(ae,it,Zt),this.$markValid(Y)}catch(Ct){Ct instanceof S.StrictModeError&&Ct.isImmutableError?this.invalidate(Y,Ct):Ct instanceof S.CastError?(this.invalidate(Ct.path,Ct),Ct.$originalErrorPath&&this.invalidate(Y,new S.CastError(it.instance,ae,Y,Ct.$originalErrorPath))):this.invalidate(Y,new S.CastError(it.instance,ae,Y,Ct)),io=!1}if(io){var Ts,Vi=null,ir=null;if(!De){var fc=this.$isSubdocument?this.ownerDocument():this;Vi=fc.$__.savedState,ir=this.$isSubdocument?this.$__.fullPath+"."+Y:Y,fc.$__saveInitialState(ir)}this.$__set(an,Y,me,De,Tt,it,ae,Zt);var dc=!((Ts=this.$__.session)===null||Ts===void 0||!Ts.transaction),hc=this.$__.session&&this.$__.session[Fe]&&this.$__.session[Fe].has(this)&&this.$__.session[Fe].get(this).modifiedPaths&&!this.$__.session[Fe].get(this).modifiedPaths.has(ir);Vi!=null&&Vi.hasOwnProperty(ir)&&(!dc||hc)&&G.deepEqual(ae,Vi[ir])&&this.unmarkModified(Y)}return it.$isSingleNested&&(this.isDirectModified(Y)||ae==null)&&z(this,Y),this},_e.prototype.set=_e.prototype.$set,_e.prototype.$__shouldModify=function(Y,ae,fe,me,pe,ve,xe,ye){return!(fe&&fe._skipMarkModified||!this.$isNew&&!(ae in this.$__.activePaths.getStatePaths("modify"))&&(xe!==void 0||this.$__isSelected(ae))&&(xe===void 0&&ae in this.$__.activePaths.getStatePaths("default")||this.$populated(ae)&&xe instanceof _e&&ne(xe._id,ye)||ne(xe,ye!==void 0?ye:G.getValue(ae,this))&&(me||xe==null||!(ae in this.$__.activePaths.getStatePaths("default"))||!ne(xe,ve.getDefault(this,me)))))},_e.prototype.$__set=function(Y,ae,fe,me,pe,ve,xe,ye){f=f||i(1568),this.$__shouldModify(Y,ae,fe,me,pe,ve,xe,ye)?(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[ae]&&(delete this.$__.primitiveAtomics[ae],Object.keys(this.$__.primitiveAtomics).length===0&&delete this.$__.primitiveAtomics),this.markModified(Y),c||(c=i(1362)),xe&&G.isMongooseArray(xe)&&(xe._registerAtomic("$set",xe),G.isMongooseDocumentArray(xe)&&xe.forEach(function(Xe){Xe&&Xe.__parentArray&&(Xe.__parentArray=xe)}))):Array.isArray(xe)&&Array.isArray(ye)&&G.isMongooseArray(xe)&&G.isMongooseArray(ye)&&(xe[se]=ye[se],xe[H]=ye[H],G.isMongooseDocumentArray(xe)&&xe.forEach(function(Xe){Xe!=null&&(Xe.$isNew=!1)}));for(var ke=this._doc,je=0,Pe=pe.length,De="";je<Pe;je++){var Re=je+1===Pe;if(De+=De?"."+pe[je]:pe[je],ut.has(pe[je]))return;if(Re)ke instanceof Map?ke.set(pe[je],xe):ke.$isSingleNested?(pe[je]in ke||(ke[pe[je]]=xe),ke._doc[pe[je]]=xe):ke[pe[je]]=xe;else{var Be=ke instanceof Map,Le=Be?ke.get(pe[je]):ke[pe[je]];G.isPOJO(Le)||Le&&Le instanceof f||Le&&!Array.isArray(Le)&&Le.$isSingleNested||Le&&Array.isArray(Le)||Le==null&&(Le={},Be?ke.set(pe[je],Le):ke[pe[je]]=Le),ke=Le}}},_e.prototype.$__getValue=function(Y){return G.getValue(Y,this._doc)},_e.prototype.$inc=function(Y,ae){var fe=this;if(ae==null&&(ae=1),Array.isArray(Y))return Y.forEach(function(ke){return fe.$inc(ke,ae)}),this;var me=this.$__path(Y);if(me==null){if(this.$__.strictMode==="throw")throw new M(Y);if(this.$__.strictMode===!0)return this}else if(me.instance!=="Number")return this.invalidate(Y,new S.CastError(me.instance,ae,Y)),this;var pe=this.$__getValue(Y)||0,ve=!1,xe=null,ye=ae;try{ae=me.cast(ae),ye=(xe=me.applySetters(pe+ae,this))-pe,ve=!0}catch(ke){this.invalidate(Y,new S.CastError("number",ae,Y,ke))}return ve&&(this.$__.primitiveAtomics=this.$__.primitiveAtomics||{},this.$__.primitiveAtomics[Y]==null?this.$__.primitiveAtomics[Y]={$inc:ye}:this.$__.primitiveAtomics[Y].$inc+=ye,this.markModified(Y),this.$__setValue(Y,xe)),this},_e.prototype.$__setValue=function(Y,ae){return G.setValue(Y,ae,this._doc),this},_e.prototype.get=function(Y,ae,fe){var me;fe==null&&(fe={}),ae&&(me=this.$__schema.interpretAsType(Y,ae,this.$__schema.options));var pe=fe.noDottedPath,ve=pe?this.$__schema.paths[Y]:this.$__path(Y);if(ve==null&&(ve=this.$__schema.virtualpath(Y))!=null)return ve.applyGetters(void 0,this);if(pe){var xe=this._doc[Y];return me&&(xe=me.cast(xe)),ve!=null&&fe.getters!==!1?ve.applyGetters(xe,this):xe}if(ve!=null&&ve.instance==="Mixed"){var ye=this.$__schema.virtualpath(Y);ye!=null&&(ve=ye)}var ke=Y.indexOf(".")!==-1,je=this._doc,Pe=ke?Y.split("."):[Y];typeof this.$__schema.aliases[Pe[0]]=="string"&&(Pe[0]=this.$__schema.aliases[Pe[0]]);for(var De=0,Re=Pe.length;De<Re;De++)je&&je._doc&&(je=je._doc),je=je==null?void 0:je instanceof Map?je.get(Pe[De],{getters:!1}):De===Re-1?G.getValue(Pe[De],je):je[Pe[De]];if(me&&(je=me.cast(je)),ve!=null&&fe.getters!==!1)je=ve.applyGetters(je,this);else if(this.$__schema.nested[Y]&&fe.virtuals)return Mt(this,U(je)||{},{path:Y});return je},_e.prototype[Ae]=_e.prototype.get,_e.prototype.$get=_e.prototype.get,_e.prototype.$__path=function(Y){var ae=this.$__.adhocPaths;return(ae&&ae.hasOwnProperty(Y)?ae[Y]:null)||this.$__schema.path(Y)},_e.prototype.markModified=function(Y,ae){this.$__saveInitialState(Y),this.$__.activePaths.modify(Y),ae==null||this.$isSubdocument||(this.$__.pathsToScopes=this.$__pathsToScopes||{},this.$__.pathsToScopes[Y]=ae)},_e.prototype.$__saveInitialState=function(Y){var ae=this.$__.savedState,fe=Y;if(ae!=null){var me=fe.indexOf("."),pe=me===-1?fe:fe.slice(0,me);ae.hasOwnProperty(pe)||(ae[pe]=U(this.$__getValue(pe)))}},_e.prototype.unmarkModified=function(Y){this.$__.activePaths.init(Y),this.$__.pathsToScopes!=null&&delete this.$__.pathsToScopes[Y]},_e.prototype.$ignore=function(Y){this.$__.activePaths.ignore(Y)},_e.prototype.directModifiedPaths=function(){return Object.keys(this.$__.activePaths.getStatePaths("modify"))},_e.prototype.$isEmpty=function(Y){var ae={minimize:!0,virtuals:!1,getters:!1,transform:!1};if(arguments.length!==0){var fe=this.$get(Y);return fe==null||y(fe)==="object"&&(G.isPOJO(fe)?At(fe):Object.keys(fe.toObject(ae)).length===0)}return Object.keys(this.toObject(ae)).length===0},_e.prototype.modifiedPaths=function(Y){Y=Y||{};var ae=Object.keys(this.$__.activePaths.getStatePaths("modify")),fe=new Set,me=0,pe=0,ve=ae.length;for(me=0;me<ve;++me){var xe=ae[me],ye=Ce(xe),ke=ye.length;for(pe=0;pe<ke;++pe)fe.add(ye[pe]);if(Y.includeChildren){var je=0,Pe=this.$get(xe);if(y(Pe)==="object"&&Pe!==null){Pe._doc&&(Pe=Pe._doc);var De=Pe.length;if(Array.isArray(Pe))for(je=0;je<De;++je){var Re=xe+"."+je;if(!fe.has(Re)&&(fe.add(Re),Pe[je]!=null&&Pe[je].$__)){var Be=Pe[je].modifiedPaths(),Le=0,Xe=Be.length;for(Le=0;Le<Xe;++Le)fe.add(Re+"."+Be[Le])}}else{var Je=Object.keys(Pe),Qe=0,Ye=Je.length;for(Qe=0;Qe<Ye;++Qe)fe.add(xe+"."+Je[Qe])}}}}return Array.from(fe)},_e.prototype[be]=_e.prototype.modifiedPaths,_e.prototype.isModified=function(Y,ae,fe){var me=this;if(Y){var pe=ae&&ae.ignoreAtomics,ve=this.$__.activePaths.states.modify;if(ve==null)return!1;typeof Y=="string"&&(Y=Y.indexOf(" ")===-1?[Y]:Y.split(" "));var xe,ye=p(Y);try{for(ye.s();!(xe=ye.n()).done;)if(ve[xe.value]!=null)return!0}catch(De){ye.e(De)}finally{ye.f()}var ke=fe||this[be](),je=Y.some(function(De){return!!~ke.indexOf(De)}),Pe=Object.keys(ve);return pe&&(Pe=Pe.filter(function(De){var Re=me.$__getValue(De);return Re==null||Re[se]==null||Re[se].$set!==void 0})),je||Y.some(function(De){return Pe.some(function(Re){return Re===De||De.startsWith(Re+".")})})}return this.$__.activePaths.some("modify")},_e.prototype.$isModified=_e.prototype.isModified,_e.prototype[ue]=_e.prototype.isModified,_e.prototype.$isDefault=function(Y){var ae=this;if(Y==null)return this.$__.activePaths.some("default");if(typeof Y=="string"&&Y.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("default").hasOwnProperty(Y);var fe=Y;return Array.isArray(fe)||(fe=fe.split(" ")),fe.some(function(me){return ae.$__.activePaths.getStatePaths("default").hasOwnProperty(me)})},_e.prototype.$isDeleted=function(Y){return arguments.length===0?!!this.$__.isDeleted:(this.$__.isDeleted=!!Y,this)},_e.prototype.isDirectModified=function(Y){var ae=this;if(Y==null)return this.$__.activePaths.some("modify");if(typeof Y=="string"&&Y.indexOf(" ")===-1){var fe=this.$__.activePaths.getStatePaths("modify").hasOwnProperty(Y);if(fe||Y.indexOf(".")===-1)return fe;for(var me=Y.split("."),pe=0;pe<me.length-1;++pe){var ve=me.slice(0,pe+1).join("."),xe=this.$get(ve);if(xe!=null&&xe.$__!=null&&xe.isDirectModified(me.slice(pe+1).join(".")))return!0}return!1}var ye=Y;return typeof ye=="string"&&(ye=ye.split(" ")),ye.some(function(ke){return ae.isDirectModified(ke)})},_e.prototype.isInit=function(Y){var ae=this;if(Y==null)return this.$__.activePaths.some("init");if(typeof Y=="string"&&Y.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("init").hasOwnProperty(Y);var fe=Y;return Array.isArray(fe)||(fe=fe.split(" ")),fe.some(function(me){return ae.$__.activePaths.getStatePaths("init").hasOwnProperty(me)})},_e.prototype.isSelected=function(Y){var ae=this;if(this.$__.selected==null)return!0;if(!Y)return!1;if(Y==="_id")return this.$__.selected._id!==0;if(Y.indexOf(" ")!==-1&&(Y=Y.split(" ")),Array.isArray(Y))return Y.some(function(De){return ae.$__isSelected(De)});var fe=Object.keys(this.$__.selected),me=null;if(fe.length===1&&fe[0]==="_id")return this.$__.selected._id===0;for(var pe=0,ve=fe;pe<ve.length;pe++){var xe=ve[pe];if(xe!=="_id"&&re(this.$__.selected[xe])){me=!!this.$__.selected[xe];break}}if(me===null)return!0;if(Y in this.$__.selected)return me;for(var ye=Y+".",ke=0,je=fe;ke<je.length;ke++){var Pe=je[ke];if(Pe!=="_id"){if(Pe.startsWith(ye))return me||Pe!==ye;if(ye.startsWith(Pe+"."))return me}}return!me},_e.prototype.$__isSelected=_e.prototype.isSelected,_e.prototype.isDirectSelected=function(Y){var ae=this;if(this.$__.selected==null)return!0;if(Y==="_id")return this.$__.selected._id!==0;if(Y.indexOf(" ")!==-1&&(Y=Y.split(" ")),Array.isArray(Y))return Y.some(function(ye){return ae.isDirectSelected(ye)});var fe=Object.keys(this.$__.selected),me=null;if(fe.length===1&&fe[0]==="_id")return this.$__.selected._id===0;for(var pe=0,ve=fe;pe<ve.length;pe++){var xe=ve[pe];if(xe!=="_id"&&re(this.$__.selected[xe])){me=!!this.$__.selected[xe];break}}return me===null||(this.$__.selected.hasOwnProperty(Y)?me:!me)},_e.prototype.validate=function(){var Y=g(l().mark(function ae(fe,me){var pe,ve,xe=this,ye=arguments;return l().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:if(typeof fe!="function"&&typeof me!="function"&&typeof ye[2]!="function"){ke.next=2;break}throw new S("Document.prototype.validate() no longer accepts a callback");case 2:if(this.$op="validate",this.$isSubdocument!=null||(this.$__.validating?pe=new T(this,{parentStack:me&&me.parentStack,conflictStack:this.$__.validating.stack}):this.$__.validating=new T(this,{parentStack:me&&me.parentStack})),ye.length===1&&(y(ye[0])!=="object"||Array.isArray(ye[0])||(me=ye[0],fe=null)),me&&typeof me.pathsToSkip=="string"&&(ve=me.pathsToSkip.indexOf(" ")===-1,me.pathsToSkip=ve?[me.pathsToSkip]:me.pathsToSkip.split(" ")),pe==null){ke.next=8;break}throw pe;case 8:return ke.abrupt("return",new Promise(function(je,Pe){xe.$__validate(fe,me,function(De){if(xe.$op=null,xe.$__.validating=null,De!=null)return Pe(De);je()})}));case 9:case"end":return ke.stop()}},ae,this)}));return function(ae,fe){return Y.apply(this,arguments)}}(),_e.prototype.$validate=_e.prototype.validate,_e.prototype.$__validate=function(Y,ae,fe){var me=this;typeof Y=="function"?(fe=Y,ae=null,Y=null):typeof ae=="function"&&(fe=ae,ae=null);var pe,ve=ae&&y(ae)==="object"&&"validateModifiedOnly"in ae,xe=ae&&ae.pathsToSkip||null;pe=ve?!!ae.validateModifiedOnly:this.$__schema.options.validateModifiedOnly;var ye=this,ke=function(){var Ye=me.$__.validationError;if(me.$__.validationError=null,me.$__.validating=null,pe&&Ye!=null){for(var tt=0,ot=Object.keys(Ye.errors);tt<ot.length;tt++){var ft=ot[tt];me.$isModified(ft)||delete Ye.errors[ft]}Object.keys(Ye.errors).length===0&&(Ye=void 0)}if(me.$__.cachedRequired={},me.$emit("validate",ye),me.constructor.emit("validate",ye),Ye){for(var st in Ye.errors)!me[ce]&&Ye.errors[st]instanceof S.CastError&&me.invalidate(st,Ye.errors[st]);return Ye}},je=vt(this,Y,xe),Pe=pe?je[0].filter(function(Ye){return me.$isModified(Ye)}):je[0],De=je[1];if(typeof Y=="string"&&(Y=Y.split(" ")),Pe.length===0)return te(function(){var Ye=ke();if(Ye)return ye.$__schema.s.hooks.execPost("validate:error",ye,[ye],{error:Ye},function(tt){fe(tt)});fe(null,ye)});var Re,Be={},Le=0,Xe=p(Pe);try{for(Xe.s();!(Re=Xe.n()).done;)Je(Re.value)}catch(Ye){Xe.e(Ye)}finally{Xe.f()}function Je(Ye){Ye==null||Be[Ye]||(Be[Ye]=!0,Le++,te(function(){var tt=ye.$__schema.path(Ye);if(!tt)return--Le||Qe();if(ye.$isValid(Ye)){if(tt[$e]!=null&&Ye!==tt.path)return--Le||Qe();var ot,ft=ye.$__getValue(Ye);(ot=ye.$populated(Ye))?ft=ot:ft!=null&&ft.$__!=null&&ft.$__.wasPopulated&&(ft=ft._id);var st=ye.$__.pathsToScopes!=null&&Ye in ye.$__.pathsToScopes?ye.$__.pathsToScopes[Ye]:ye,yt=b(b({},De[Ye]),{},{path:Ye,validateModifiedOnly:pe});tt.doValidate(ft,function(Ft){if(Ft){if((tt.$isSingleNested||tt.$isArraySubdocument||tt.$isMongooseDocumentArray)&&Ft instanceof N)return--Le||Qe();ye.invalidate(Ye,Ft,void 0,!0)}--Le||Qe()},st,yt)}else--Le||Qe()}))}function Qe(){var Ye=ke();if(Ye)return ye.$__schema.s.hooks.execPost("validate:error",ye,[ye],{error:Ye},function(tt){fe(tt)});fe(null,ye)}},_e.prototype.validateSync=function(Y,ae){var fe,me=this,pe=this;arguments.length!==1||y(arguments[0])!=="object"||Array.isArray(arguments[0])||(ae=arguments[0],Y=null),fe=ae&&y(ae)==="object"&&"validateModifiedOnly"in ae?!!ae.validateModifiedOnly:this.$__schema.options.validateModifiedOnly;var ve=ae&&ae.pathsToSkip;if(typeof Y=="string"){var xe=Y.indexOf(" ")===-1;Y=xe?[Y]:Y.split(" ")}else typeof ve=="string"&&ve.indexOf(" ")!==-1&&(ve=ve.split(" "));for(var ye=vt(this,Y,ve),ke=fe?ye[0].filter(function(tt){return me.$isModified(tt)}):ye[0],je=ye[1],Pe={},De=0,Re=ke.length;De<Re;++De){var Be=ke[De];if(!Pe[Be]){Pe[Be]=!0;var Le=pe.$__schema.path(Be);if(Le&&pe.$isValid(Be)){var Xe=pe.$__getValue(Be),Je=Le.doValidateSync(Xe,pe,{skipSchemaValidators:je[Be],path:Be,validateModifiedOnly:fe});if(Je){if((Le.$isSingleNested||Le.$isArraySubdocument||Le.$isMongooseDocumentArray)&&Je instanceof N)continue;pe.invalidate(Be,Je,void 0,!0)}}}}var Qe=pe.$__.validationError;if(pe.$__.validationError=void 0,pe.$emit("validate",pe),pe.constructor.emit("validate",pe),Qe)for(var Ye in Qe.errors)Qe.errors[Ye]instanceof S.CastError&&pe.invalidate(Ye,Qe.errors[Ye]);return Qe},_e.prototype.invalidate=function(Y,ae,fe,me){if(this.$__.validationError||(this.$__.validationError=new N(this)),!this.$__.validationError.errors[Y])return ae&&typeof ae!="string"||(ae=new L({path:Y,message:ae,type:me||"user defined",value:fe})),this.$__.validationError===ae||this.$__.validationError.addError(Y,ae),this.$__.validationError},_e.prototype.$markValid=function(Y){this.$__.validationError&&this.$__.validationError.errors[Y]&&(delete this.$__.validationError.errors[Y],Object.keys(this.$__.validationError.errors).length===0&&(this.$__.validationError=null))},_e.prototype.$isValid=function(Y){var ae=this;return this.$__.validationError==null||Object.keys(this.$__.validationError.errors).length===0||Y!=null&&(Y.indexOf(" ")!==-1&&(Y=Y.split(" ")),Array.isArray(Y)?Y.some(function(fe){return ae.$__.validationError.errors[fe]==null}):this.$__.validationError.errors[Y]==null)},_e.prototype.$__reset=function(){var Y,ae=this,fe=this.$parent()===this?this.$getAllSubdocs():[],me=new Set,pe=p(fe);try{for(pe.s();!(Y=pe.n()).done;){var ve=Y.value,xe=ve.$__fullPathWithIndexes();if(ve.$__reset(),this.isModified(xe)||De(xe))if(ve.$isDocumentArrayElement)me.add(ve.parentArray());else{var ye=ve.$parent();ye===this?this.$__.activePaths.clearPath(ve.$basePath):ye!=null&&ye.$isSubdocument&&ye.$__reset()}}}catch(Re){pe.e(Re)}finally{pe.f()}var ke,je=p(me);try{for(je.s();!(ke=je.n()).done;){var Pe=ke.value;this.$__.activePaths.clearPath(Pe.$path()),Pe[H]=Pe[se],Pe[se]={}}}catch(Re){je.e(Re)}finally{je.f()}function De(Re){Re=Re.indexOf(".")===-1?[Re]:Re.split(".");for(var Be="",Le=0;Le<Re.length;++Le)if(Be+=(Be.length?".":"")+Re[Le],ae.$__.activePaths[Be]==="init")return!0;return!1}return this.$__dirty().forEach(function(Re){var Be=Re.value;Be&&Be[se]&&(Be[H]=Be[se],Be[se]={})}),this.$__.backup={},this.$__.backup.activePaths={modify:Object.assign({},this.$__.activePaths.getStatePaths("modify")),default:Object.assign({},this.$__.activePaths.getStatePaths("default"))},this.$__.backup.validationError=this.$__.validationError,this.$__.backup.errors=this.$errors,this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("default"),this.$__.validationError=void 0,this.$errors=void 0,ae=this,this.$__schema.requiredPaths().forEach(function(Re){ae.$__.activePaths.require(Re)}),this},_e.prototype.$__undoReset=function(){if(this.$__.backup!=null&&this.$__.backup.activePaths!=null){this.$__.activePaths.states.modify=this.$__.backup.activePaths.modify,this.$__.activePaths.states.default=this.$__.backup.activePaths.default,this.$__.validationError=this.$__.backup.validationError,this.$errors=this.$__.backup.errors;var Y,ae=p(this.$__dirty());try{for(ae.s();!(Y=ae.n()).done;){var fe=Y.value.value;fe&&fe[se]&&fe[H]&&(fe[se]=fe[H])}}catch(ve){ae.e(ve)}finally{ae.f()}var me,pe=p(this.$getAllSubdocs());try{for(pe.s();!(me=pe.n()).done;)me.value.$__undoReset()}catch(ve){pe.e(ve)}finally{pe.f()}}},_e.prototype.$__dirty=function(){var Y=this,ae=this.$__.activePaths.map("modify",function(pe){return{path:pe,value:Y.$__getValue(pe),schema:Y.$__path(pe)}});ae=ae.concat(this.$__.activePaths.map("default",function(pe){if(pe!=="_id"&&Y.$__getValue(pe)!=null)return{path:pe,value:Y.$__getValue(pe),schema:Y.$__path(pe)}}));var fe=new Map(ae.filter(function(pe){return pe!=null}).map(function(pe){return[pe.path,pe.value]})),me=[];return ae.forEach(function(pe){if(pe){for(var ve=null,xe=Ce(pe.path),ye=0;ye<xe.length-1;ye++)if(fe.has(xe[ye])){ve=fe.get(xe[ye]);break}ve==null?me.push(pe):ve!=null&&ve[se]!=null&&ve.hasAtomics()&&(ve[se]={},ve[se].$set=ve)}}),me},_e.prototype.$__setSchema=function(Y){O(Y.tree,this,void 0,Y.options);for(var ae=0,fe=Object.keys(Y.virtuals);ae<fe.length;ae++){var me=fe[ae];Y.virtuals[me]._applyDefaultGetters()}Y.path("schema")==null&&(this.schema=Y),this.$__schema=Y,this[Se]=Y},_e.prototype.$__getArrayPathsToValidate=function(){return m||(m=i(6077)),this.$__.activePaths.map("init","modify",(function(Y){return this.$__getValue(Y)}).bind(this)).filter(function(Y){return Y&&Array.isArray(Y)&&G.isMongooseDocumentArray(Y)&&Y.length}).reduce(function(Y,ae){return Y.concat(ae)},[]).filter(function(Y){return Y})},_e.prototype.$getAllSubdocs=function(){function Y(pe,ve,xe){var ye=pe,ke=!1;if(xe&&(pe instanceof _e&&pe[Se].paths[xe]?ye=pe._doc[xe]:pe instanceof _e&&pe[Se].nested[xe]?(ye=pe._doc[xe],ke=!0):ye=pe[xe]),ye instanceof f)ve.push(ye);else if(ye instanceof Map)ve=Array.from(ye.keys()).reduce(function(Re,Be){return Y(ye.get(Be),Re,null)},ve);else if(ye&&!Array.isArray(ye)&&ye.$isSingleNested)ve=Object.keys(ye._doc).reduce(function(Re,Be){return Y(ye,Re,Be)},ve),ve.push(ye);else if(ye&&G.isMongooseDocumentArray(ye))ye.forEach(function(Re){Re&&Re._doc&&(ve=Object.keys(Re._doc).reduce(function(Be,Le){return Y(Re._doc,Be,Le)},ve),Re instanceof f&&ve.push(Re))});else if(ke&&ye!=null)for(var je=0,Pe=Object.keys(ye);je<Pe.length;je++){var De=Pe[je];Y(ye,ve,De)}return ve}m||(m=i(6077)),f=f||i(1568);for(var ae=[],fe=0,me=Object.keys(this._doc);fe<me.length;fe++)Y(this,ae,me[fe]);return ae},_e.prototype.$__handleReject=function(Y){this.$listeners("error").length?this.$emit("error",Y):this.constructor.listeners&&this.constructor.listeners("error").length&&this.constructor.emit("error",Y)},_e.prototype.$toObject=function(Y,ae){var fe,me,pe,ve={transform:!0,flattenDecimals:!0},xe=ae?"toJSON":"toObject",ye=this.constructor&&this.constructor.base&&this.constructor.base.options&&P(this.constructor.base.options,xe)||{},ke=this.$__schema&&this.$__schema.options||{};ve=b(b(b({},ve),ye),ke[xe]),(Y=G.isPOJO(Y)?b({},Y):{})._calledWithOptions=Y._calledWithOptions||b({},Y),fe=Y._calledWithOptions.minimize!=null?Y.minimize:ve.minimize!=null?ve.minimize:ke.minimize,me=Y._calledWithOptions.flattenMaps!=null?Y.flattenMaps:ve.flattenMaps!=null?ve.flattenMaps:ke.flattenMaps,pe=Y._calledWithOptions.flattenObjectIds!=null?Y.flattenObjectIds:ve.flattenObjectIds!=null?ve.flattenObjectIds:ke.flattenObjectIds;var je=Object.assign({},Y,{_isNested:!0,json:ae,minimize:fe,flattenMaps:me,flattenObjectIds:pe,_seen:Y&&Y._seen||new Map});if(G.hasUserDefinedProperty(Y,"getters")&&(je.getters=Y.getters),G.hasUserDefinedProperty(Y,"virtuals")&&(je.virtuals=Y.virtuals),(Y.depopulate||Y._parentOptions&&Y._parentOptions.depopulate)&&Y._isNested&&this.$__.wasPopulated)return U(this.$__.wasPopulated.value||this._id,je);(Y=b(b({},ve),Y))._isNested=!0,Y.json=ae,Y.minimize=fe,je._parentOptions=Y,je._skipSingleNestedGetters=!1;var Pe=Object.assign({},je);Pe._skipSingleNestedGetters=!0;var De=Y.transform,Re=U(this._doc,je)||{};Y.getters&&(function(Je,Qe,Ye){var tt,ot,ft=Je.$__schema,st=Object.keys(ft.paths),yt=st.length,Ft=Je._doc;if(!Ft)return Qe;for(;yt--;){var Dt=(tt=st[yt]).split("."),It=Dt.length,Tt=It-1,Vt=Qe,it=void 0;if(Ft=Je._doc,Je.$__isSelected(tt))for(var Zt=0;Zt<It&&(ot=Ft[it=Dt[Zt]],Vt==null||y(Vt)==="object");++Zt){if(Zt===Tt){var Gn=Je.$get(tt);if(Vt[it]=U(Gn,Ye),Array.isArray(Vt[it])&&ft.paths[tt].$embeddedSchemaType)for(var Ve=0;Ve<Vt[it].length;++Ve)Vt[it][Ve]=ft.paths[tt].$embeddedSchemaType.applyGetters(Vt[it][Ve],Je)}else{if(ot==null){it in Ft&&(Vt[it]=ot);break}Vt=Vt[it]||(Vt[it]={})}Ft=ot}}}(this,Re,Pe),Y.minimize&&(Re=In(Re)||{})),(Y.virtuals||Y.getters&&Y.virtuals!==!1)&&Mt(this,Re,Pe,Y),Y.versionKey===!1&&this.$__schema.options.versionKey&&delete Re[this.$__schema.options.versionKey];var Be=Y.transform;if(Be&&function(Je,Qe){var Ye=Je.$__schema,tt=Object.keys(Ye.paths||{});if(!Je._doc)return Qe;for(var ot=0,ft=tt;ot<ft.length;ot++){var st=ft[ot],yt=Ye.paths[st];if(typeof yt.options.transform=="function"){var Ft=Je.$get(st);if(Ft===void 0)continue;var Dt=yt.options.transform.call(Je,Ft);Nt(st,Dt),G.setValue(st,Dt,Qe)}else if(yt.$embeddedSchemaType!=null&&typeof yt.$embeddedSchemaType.options.transform=="function"){var It=Je.$get(st);if(It===void 0)continue;for(var Tt=[].concat(It),Vt=yt.$embeddedSchemaType.options.transform,it=0;it<Tt.length;++it){var Zt=Vt.call(Je,Tt[it]);Tt[it]=Zt,Nt(st,Zt)}Qe[st]=Tt}}}(this,Re),Y.useProjection&&function(Je,Qe){var Ye=Je.$__schema,tt=Object.keys(Ye.paths||{});if(!Je._doc)return Qe;var ot=Je.$__.selected;if(ot===void 0&&(ot={},V.applyPaths(ot,Ye)),ot==null||Object.keys(ot).length===0)return Qe;for(var ft=0,st=tt;ft<st.length;ft++){var yt=st[ft];ot[yt]==null||ot[yt]||delete Qe[yt]}}(this,Re),Be===!0||ke.toObject&&Be){var Le=Y.json?ke.toJSON:ke.toObject;Le&&(Be=typeof Y.transform=="function"?Y.transform:Le.transform)}else Y.transform=De;if(typeof Be=="function"){var Xe=Be(this,Re,Y);Xe!==void 0&&(Re=Xe)}return Re},_e.prototype.toObject=function(Y){return this.$toObject(Y)},_e.prototype.toJSON=function(Y){return this.$toObject(Y,!0)},_e.prototype.ownerDocument=function(){return this},_e.prototype.parent=function(){return this.$isSubdocument||this.$__.wasPopulated?this.$__.parent:this},_e.prototype.$parent=_e.prototype.parent,_e.prototype.inspect=function(Y){var ae;G.isPOJO(Y)&&((ae=Y).minimize=!1);var fe=this.toObject(ae);return fe??"MongooseDocument { "+fe+" }"},Z.custom&&(_e.prototype[Z.custom]=_e.prototype.inspect),_e.prototype.toString=function(){var Y=this.inspect();return typeof Y=="string"?Y:Z(Y)},_e.prototype.equals=function(Y){if(!Y)return!1;var ae=this.$__getValue("_id"),fe=Y.$__!=null?Y.$__getValue("_id"):Y;return ae||fe?ae&&ae.equals?ae.equals(fe):ae===fe:ne(this,Y)},_e.prototype.populate=function(){var Y=g(l().mark(function ae(){var fe,me,pe,ve,xe,ye,ke,je,Pe,De,Re=arguments;return l().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(fe={},typeof(me=Array.prototype.slice.call(Re))[me.length-1]!="function"){Be.next=4;break}throw new S("Document.prototype.populate() no longer accepts a callback");case 4:if(me.length!==0){pe=G.populate.apply(null,me),ve=p(pe);try{for(ve.s();!(xe=ve.n()).done;)ye=xe.value,fe[ye.path]=ye}catch(Le){ve.e(Le)}finally{ve.f()}}return ke=G.object.vals(fe),je=this.constructor,this.$__isNested&&(je=this.$__[Ue].constructor,Pe=this.$__.nestedPath,ke.forEach(function(Le){Le.path=Pe+"."+Le.path})),this.$session()!=null&&(De=this.$session(),ke.forEach(function(Le){Le.options!=null?"session"in Le.options||(Le.options.session=De):Le.options={session:De}})),ke.forEach(function(Le){Le._localModel=je}),Be.abrupt("return",je.populate(this,ke));case 11:case"end":return Be.stop()}},ae,this)}));return function(){return Y.apply(this,arguments)}}(),_e.prototype.$getPopulatedDocs=function(){var Y=[];this.$__.populated!=null&&(Y=Y.concat(Object.keys(this.$__.populated)));var ae,fe=[],me=p(Y);try{for(me.s();!(ae=me.n()).done;){var pe=ae.value,ve=this.$get(pe);Array.isArray(ve)?fe=fe.concat(ve):ve instanceof _e&&fe.push(ve)}}catch(xe){me.e(xe)}finally{me.f()}return fe},_e.prototype.populated=function(Y,ae,fe){if(ae==null||ae===!0){if(!this.$__.populated||typeof Y!="string")return;var me=Y.endsWith(".$*")?Y.replace(/\.\$\*$/,""):Y,pe=this.$__.populated[me];return pe?ae===!0?pe:pe.value:void 0}this.$__.populated||(this.$__.populated={}),this.$__.populated[Y]={value:ae,options:fe};for(var ve=Y.split("."),xe=0;xe<ve.length-1;++xe){var ye=ve.slice(0,xe+1).join("."),ke=this.$get(ye);if(ke!=null&&ke.$__!=null&&this.$populated(ye)){var je=ve.slice(xe+1).join(".");ke.$populated(je,ae,fe);break}}return ae},_e.prototype.$populated=_e.prototype.populated,_e.prototype.$assertPopulated=function(Y,ae){var fe=this;if(Array.isArray(Y))return Y.forEach(function(me){return fe.$assertPopulated(me,ae)}),this;if(arguments.length>1&&this.$set(ae),!this.$populated(Y))throw new S('Expected path "'.concat(Y,'" to be populated'));return this},_e.prototype.depopulate=function(Y){var ae;typeof Y=="string"&&(Y=Y.indexOf(" ")===-1?[Y]:Y.split(" "));var fe=this.$$populatedVirtuals?Object.keys(this.$$populatedVirtuals):[],me=this.$__&&this.$__.populated||{};if(arguments.length===0){var pe,ve=p(fe);try{for(ve.s();!(pe=ve.n()).done;){var xe=pe.value;delete this.$$populatedVirtuals[xe],delete this._doc[xe],delete me[xe]}}catch(Be){ve.e(Be)}finally{ve.f()}for(var ye=0,ke=Object.keys(me);ye<ke.length;ye++){var je=ke[ye];(ae=this.$populated(je))&&(delete me[je],G.setValue(je,ae,this._doc))}return this}var Pe,De=p(Y);try{for(De.s();!(Pe=De.n()).done;){var Re=Pe.value;ae=this.$populated(Re),delete me[Re],fe.indexOf(Re)!==-1?(delete this.$$populatedVirtuals[Re],delete this._doc[Re]):ae&&G.setValue(Re,ae,this._doc)}}catch(Be){De.e(Be)}finally{De.f()}return this},_e.prototype.$__fullPath=function(Y){return Y||""},_e.prototype.getChanges=function(){var Y=this.$__delta();return Y?Y[1]:{}},_e.prototype.$clone=function(){var Y=new this.constructor;if(Y.$isNew=this.$isNew,this._doc&&(Y._doc=U(this._doc)),this.$__){var ae,fe=new this.$__.constructor,me=p(Object.getOwnPropertyNames(this.$__));try{for(me.s();!(ae=me.n()).done;){var pe=ae.value;pe!=="activePaths"&&(fe[pe]=U(this.$__[pe]))}}catch(ve){me.e(ve)}finally{me.f()}Object.assign(fe.activePaths,U(b({},this.$__.activePaths))),Y.$__=fe}return Y},_e.ValidationError=N,o.exports=_e},4304:(o,s,i)=>{var l=i(8727),u=i(3434),g=!1;o.exports=function(){return g?u:l},o.exports.setBrowser=function(h){g=h}},9906:o=>{var s=null;o.exports.get=function(){return s},o.exports.set=function(i){s=i}},6333:(o,s)=>{s.Collection=function(){throw new Error("Cannot create a collection from browser library")},s.Connection=function(){throw new Error("Cannot create a connection from browser library")}},1795:(o,s,i)=>{function l(E){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},l(E)}function u(E,x){for(var k=0;k<x.length;k++){var T=x[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,g(T.key),T)}}function g(E){var x=function(k,T){if(l(k)!="object"||!k)return k;var C=k[Symbol.toPrimitive];if(C!==void 0){var M=C.call(k,"string");if(l(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(k)}(E);return l(x)=="symbol"?x:x+""}function h(E,x,k){return x=p(x),function(T,C){if(C&&(l(C)=="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(T)}(E,w()?Reflect.construct(x,k||[],p(E).constructor):x.apply(E,k))}function b(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function w(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!E})()}function p(E){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},p(E)}function d(E,x){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,T){return k.__proto__=T,k},d(E,x)}var y=i(5202),m=i(8751),c=function(E){function x(C,M,N,L,R){var D;if(function(U,O){if(!(U instanceof O))throw new TypeError("Cannot call a class as a function")}(this,x),arguments.length>0){var z=v(M);(D=h(this,x,[S(null,C,M,N,_(R),z,L)])).init(C,M,N,L,R)}else D=h(this,x,[S()]);return b(D)}return function(C,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(M&&M.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),M&&d(C,M)}(x,E),k=x,(T=[{key:"toJSON",value:function(){return{stringValue:this.stringValue,valueType:this.valueType,kind:this.kind,value:this.value,path:this.path,reason:this.reason,name:this.name,message:this.message}}},{key:"init",value:function(C,M,N,L,R){this.stringValue=f(M),this.messageFormat=_(R),this.kind=C,this.value=M,this.path=N,this.reason=L,this.valueType=v(M)}},{key:"copy",value:function(C){this.messageFormat=C.messageFormat,this.stringValue=C.stringValue,this.kind=C.kind,this.value=C.value,this.path=C.path,this.reason=C.reason,this.message=C.message,this.valueType=C.valueType}},{key:"setModel",value:function(C){this.model=C,this.message=S(C,this.kind,this.value,this.path,this.messageFormat,this.valueType)}}])&&u(k.prototype,T),Object.defineProperty(k,"prototype",{writable:!1}),k;var k,T}(y);function f(E){var x=m.inspect(E);return(x=x.replace(/^'|'$/g,'"')).startsWith('"')||(x='"'+x+'"'),x}function v(E){if(E==null)return""+E;var x=l(E);return x!=="object"||typeof E.constructor!="function"?x:E.constructor.name}function _(E){var x=E&&E._castErrorMessage||null;if(typeof x=="string"||typeof x=="function")return x}function S(E,x,k,T,C,M,N){if(typeof C=="string"){var L=f(k),R=C.replace("{KIND}",x).replace("{VALUE}",L).replace("{PATH}",T);return E!=null&&(R=R.replace("{MODEL}",E.modelName)),R}if(typeof C=="function")return C(k,T,E,x);var D="Cast to "+x+" failed for value "+f(k)+(M?" (type "+M+")":"")+' at path "'+T+'"';return E!=null&&(D+=' for model "'+E.modelName+'"'),N!=null&&typeof N.constructor=="function"&&N.constructor.name!=="AssertionError"&&N.constructor.name!=="Error"&&(D+=' because of "'+N.constructor.name+'"'),D}Object.defineProperty(c.prototype,"name",{value:"CastError"}),o.exports=c},6067:(o,s,i)=>{function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(p)}function u(p,d,y){return d=h(d),function(m,c){if(c&&(l(c)=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(m)}(p,g()?Reflect.construct(d,y||[],h(p).constructor):d.apply(p,y))}function g(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!p})()}function h(p){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},h(p)}function b(p,d){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,m){return y.__proto__=m,y},b(p,d)}var w=function(p){function d(m){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,d),u(this,d,["For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\n  "+m.join(`
  `)+`
Use Model.updateOne() to update these arrays instead.`])}return function(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),c&&b(m,c)}(d,p),y=d,Object.defineProperty(y,"prototype",{writable:!1}),y;var y}(i(4888));Object.defineProperty(w.prototype,"name",{value:"DivergentArrayError"}),o.exports=w},4888:(o,s,i)=>{var l=i(5202);o.exports=l,l.messages=i(983),l.Messages=l.messages,l.DocumentNotFoundError=i(3640),l.CastError=i(1795),l.ValidationError=i(122),l.ValidatorError=i(2037),l.VersionError=i(8809),l.ParallelSaveError=i(5007),l.OverwriteModelError=i(5676),l.MissingSchemaError=i(1511),l.MongooseServerSelectionError=i(1870),l.DivergentArrayError=i(6067),l.StrictModeError=i(3328),l.StrictPopulateError=i(8967)},3346:(o,s,i)=>{function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(p)}function u(p,d,y){return d=h(d),function(m,c){if(c&&(l(c)=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(m)}(p,g()?Reflect.construct(d,y||[],h(p).constructor):d.apply(p,y))}function g(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!p})()}function h(p){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},h(p)}function b(p,d){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,m){return y.__proto__=m,y},b(p,d)}var w=function(p){function d(m,c){return function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}(this,d),u(this,d,['Cannot create use schema for property "'.concat(m,'" because the schema has the ').concat(c," option enabled.")])}return function(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),c&&b(m,c)}(d,p),y=d,Object.defineProperty(y,"prototype",{writable:!1}),y;var y}(i(4888));Object.defineProperty(w.prototype,"name",{value:"InvalidSchemaOptionError"}),o.exports=w},983:(o,s)=>{var i=o.exports={};i.DocumentNotFoundError=null,i.general={},i.general.default="Validator failed for path `{PATH}` with value `{VALUE}`",i.general.required="Path `{PATH}` is required.",i.Number={},i.Number.min="Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).",i.Number.max="Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).",i.Number.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.",i.Date={},i.Date.min="Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).",i.Date.max="Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).",i.String={},i.String.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.",i.String.match="Path `{PATH}` is invalid ({VALUE}).",i.String.minlength="Path `{PATH}` (`{VALUE}`) is shorter than the minimum allowed length ({MINLENGTH}).",i.String.maxlength="Path `{PATH}` (`{VALUE}`) is longer than the maximum allowed length ({MAXLENGTH})."},1511:(o,s,i)=>{function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(p)}function u(p,d,y){return d=h(d),function(m,c){if(c&&(l(c)=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(m)}(p,g()?Reflect.construct(d,y||[],h(p).constructor):d.apply(p,y))}function g(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!p})()}function h(p){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},h(p)}function b(p,d){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,m){return y.__proto__=m,y},b(p,d)}var w=function(p){function d(m){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,d),u(this,d,[`Schema hasn't been registered for model "`+m+`".
Use mongoose.model(name, schema)`])}return function(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),c&&b(m,c)}(d,p),y=d,Object.defineProperty(y,"prototype",{writable:!1}),y;var y}(i(4888));Object.defineProperty(w.prototype,"name",{value:"MissingSchemaError"}),o.exports=w},5202:o=>{function s(b){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},s(b)}function i(b){var w=typeof Map=="function"?new Map:void 0;return i=function(p){if(p===null||!function(y){try{return Function.toString.call(y).indexOf("[native code]")!==-1}catch{return typeof y=="function"}}(p))return p;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(w!==void 0){if(w.has(p))return w.get(p);w.set(p,d)}function d(){return function(y,m,c){if(l())return Reflect.construct.apply(null,arguments);var f=[null];f.push.apply(f,m);var v=new(y.bind.apply(y,f));return c&&u(v,c.prototype),v}(p,arguments,g(this).constructor)}return d.prototype=Object.create(p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u(d,p)},i(b)}function l(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l=function(){return!!b})()}function u(b,w){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,d){return p.__proto__=d,p},u(b,w)}function g(b){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)},g(b)}var h=function(b){function w(){return function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}(this,w),function(d,y,m){return y=g(y),function(c,f){if(f&&(s(f)=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(c)}(d,l()?Reflect.construct(y,m||[],g(d).constructor):y.apply(d,m))}(this,w,arguments)}return function(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),y&&u(d,y)}(w,b),p=w,Object.defineProperty(p,"prototype",{writable:!1}),p;var p}(i(Error));Object.defineProperty(h.prototype,"name",{value:"MongooseError"}),o.exports=h},3640:(o,s,i)=>{function l(y){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},l(y)}function u(y,m,c){return m=h(m),function(f,v){if(v&&(l(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(f)}(y,g()?Reflect.construct(m,c||[],h(y).constructor):m.apply(y,c))}function g(){try{var y=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!y})()}function h(y){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},h(y)}function b(y,m){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,f){return c.__proto__=f,c},b(y,m)}var w=i(4888),p=i(8751),d=function(y){function m(f,v,_,S){var E;(function(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")})(this,m);var x=w.messages;return(E=u(this,m,[x.DocumentNotFoundError!=null?typeof x.DocumentNotFoundError=="function"?x.DocumentNotFoundError(f,v):x.DocumentNotFoundError:'No document found for query "'+p.inspect(f)+'" on model "'+v+'"'])).result=S,E.numAffected=_,E.filter=f,E.query=f,E}return function(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),v&&b(f,v)}(m,y),c=m,Object.defineProperty(c,"prototype",{writable:!1}),c;var c}(w);Object.defineProperty(d.prototype,"name",{value:"DocumentNotFoundError"}),o.exports=d},4107:(o,s,i)=>{function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(p)}function u(p,d,y){return d=h(d),function(m,c){if(c&&(l(c)=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(m)}(p,g()?Reflect.construct(d,y||[],h(p).constructor):d.apply(p,y))}function g(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!p})()}function h(p){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},h(p)}function b(p,d){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,m){return y.__proto__=m,y},b(p,d)}var w=function(p){function d(m,c){var f;(function(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")})(this,d);var v=Array.isArray(c)?"array":"primitive value";return(f=u(this,d,["Tried to set nested object field `"+m+"` to ".concat(v," `")+c+"`"])).path=m,f}return function(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),c&&b(m,c)}(d,p),y=d,Object.defineProperty(y,"prototype",{writable:!1}),y;var y}(i(4888));Object.defineProperty(w.prototype,"name",{value:"ObjectExpectedError"}),o.exports=w},900:(o,s,i)=>{function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(p)}function u(p,d,y){return d=h(d),function(m,c){if(c&&(l(c)=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(m)}(p,g()?Reflect.construct(d,y||[],h(p).constructor):d.apply(p,y))}function g(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!p})()}function h(p){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},h(p)}function b(p,d){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,m){return y.__proto__=m,y},b(p,d)}var w=function(p){function d(m,c,f){return function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}(this,d),u(this,d,['Parameter "'+c+'" to '+f+'() must be an object, got "'+m.toString()+'" (type '+l(m)+")"])}return function(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),c&&b(m,c)}(d,p),y=d,Object.defineProperty(y,"prototype",{writable:!1}),y;var y}(i(4888));Object.defineProperty(w.prototype,"name",{value:"ObjectParameterError"}),o.exports=w},5676:(o,s,i)=>{function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(p)}function u(p,d,y){return d=h(d),function(m,c){if(c&&(l(c)=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(m)}(p,g()?Reflect.construct(d,y||[],h(p).constructor):d.apply(p,y))}function g(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!p})()}function h(p){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},h(p)}function b(p,d){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,m){return y.__proto__=m,y},b(p,d)}var w=function(p){function d(m){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,d),u(this,d,["Cannot overwrite `"+m+"` model once compiled."])}return function(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),c&&b(m,c)}(d,p),y=d,Object.defineProperty(y,"prototype",{writable:!1}),y;var y}(i(4888));Object.defineProperty(w.prototype,"name",{value:"OverwriteModelError"}),o.exports=w},5007:(o,s,i)=>{function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(p)}function u(p,d,y){return d=h(d),function(m,c){if(c&&(l(c)=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(m)}(p,g()?Reflect.construct(d,y||[],h(p).constructor):d.apply(p,y))}function g(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!p})()}function h(p){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},h(p)}function b(p,d){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,m){return y.__proto__=m,y},b(p,d)}var w=function(p){function d(m){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,d),u(this,d,["Can't save() the same doc multiple times in parallel. Document: "+m._id])}return function(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),c&&b(m,c)}(d,p),y=d,Object.defineProperty(y,"prototype",{writable:!1}),y;var y}(i(4888));Object.defineProperty(w.prototype,"name",{value:"ParallelSaveError"}),o.exports=w},7962:(o,s,i)=>{function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(p)}function u(p,d,y){return d=h(d),function(m,c){if(c&&(l(c)=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(m)}(p,g()?Reflect.construct(d,y||[],h(p).constructor):d.apply(p,y))}function g(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!p})()}function h(p){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},h(p)}function b(p,d){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,m){return y.__proto__=m,y},b(p,d)}var w=function(p){function d(m){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,d),u(this,d,["Can't validate() the same doc multiple times in parallel. Document: "+m._id])}return function(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),c&&b(m,c)}(d,p),y=d,Object.defineProperty(y,"prototype",{writable:!1}),y;var y}(i(5202));Object.defineProperty(w.prototype,"name",{value:"ParallelValidateError"}),o.exports=w},1870:(o,s,i)=>{function l(v){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},l(v)}function u(v,_){for(var S=0;S<_.length;S++){var E=_[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,g(E.key),E)}}function g(v){var _=function(S,E){if(l(S)!="object"||!S)return S;var x=S[Symbol.toPrimitive];if(x!==void 0){var k=x.call(S,"string");if(l(k)!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(v);return l(_)=="symbol"?_:_+""}function h(v,_,S){return _=w(_),function(E,x){if(x&&(l(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(E)}(v,b()?Reflect.construct(_,S||[],w(v).constructor):_.apply(v,S))}function b(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b=function(){return!!v})()}function w(v){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},w(v)}function p(v,_){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,E){return S.__proto__=E,S},p(v,_)}var d=i(5202),y=i(5285),m=i(2082),c=i(3871),f=function(v){function _(){return function(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}(this,_),h(this,_,arguments)}return function(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),k&&p(x,k)}(_,v),S=_,(E=[{key:"assimilateError",value:function(x){var k=x.reason,T=m(k)&&y(k)&&x.message.indexOf("bad auth")===-1&&x.message.indexOf("Authentication failed")===-1;for(var C in T?this.message="Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/":c(k)?this.message="Mongoose is connecting with SSL enabled, but the server is not accepting SSL connections. Please ensure that the MongoDB server you are connecting to is configured to accept SSL connections. Learn more: https://mongoosejs.com/docs/tutorials/ssl.html":this.message=x.message,x)C!=="name"&&(this[C]=x[C]);return this}}])&&u(S.prototype,E),Object.defineProperty(S,"prototype",{writable:!1}),S;var S,E}(d);Object.defineProperty(f.prototype,"name",{value:"MongooseServerSelectionError"}),o.exports=f},3328:(o,s,i)=>{function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(p)}function u(p,d,y){return d=h(d),function(m,c){if(c&&(l(c)=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(m)}(p,g()?Reflect.construct(d,y||[],h(p).constructor):d.apply(p,y))}function g(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!p})()}function h(p){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},h(p)}function b(p,d){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,m){return y.__proto__=m,y},b(p,d)}var w=function(p){function d(m,c,f){var v;return function(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}(this,d),(v=u(this,d,[c=c||"Field `"+m+"` is not in schema and strict mode is set to throw."])).isImmutableError=!!f,v.path=m,v}return function(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),c&&b(m,c)}(d,p),y=d,Object.defineProperty(y,"prototype",{writable:!1}),y;var y}(i(4888));Object.defineProperty(w.prototype,"name",{value:"StrictModeError"}),o.exports=w},8967:(o,s,i)=>{function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(p)}function u(p,d,y){return d=h(d),function(m,c){if(c&&(l(c)=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(m)}(p,g()?Reflect.construct(d,y||[],h(p).constructor):d.apply(p,y))}function g(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!p})()}function h(p){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},h(p)}function b(p,d){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,m){return y.__proto__=m,y},b(p,d)}var w=function(p){function d(m,c){var f;return function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}(this,d),(f=u(this,d,[c=c||"Cannot populate path `"+m+"` because it is not in your schema. Set the `strictPopulate` option to false to override."])).path=m,f}return function(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),c&&b(m,c)}(d,p),y=d,Object.defineProperty(y,"prototype",{writable:!1}),y;var y}(i(4888));Object.defineProperty(w.prototype,"name",{value:"StrictPopulateError"}),o.exports=w},122:(o,s,i)=>{function l(v){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},l(v)}function u(v,_){for(var S=0;S<_.length;S++){var E=_[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,g(E.key),E)}}function g(v){var _=function(S,E){if(l(S)!="object"||!S)return S;var x=S[Symbol.toPrimitive];if(x!==void 0){var k=x.call(S,"string");if(l(k)!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(v);return l(_)=="symbol"?_:_+""}function h(v,_,S){return _=w(_),function(E,x){if(x&&(l(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(E)}(v,b()?Reflect.construct(_,S||[],w(v).constructor):_.apply(v,S))}function b(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b=function(){return!!v})()}function w(v){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},w(v)}function p(v,_){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,E){return S.__proto__=E,S},p(v,_)}var d=i(5202),y=i(1981),m=i(8751),c=i(198),f=function(v){function _(x){var k,T;return function(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}(this,_),(k=h(this,_,[T=y(x)==="model"?x.constructor.modelName+" validation failed":"Validation failed"])).errors={},k._message=T,x&&(x.$errors=k.errors),k}return function(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),k&&p(x,k)}(_,v),S=_,(E=[{key:"toString",value:function(){return this.name+": "+c(this)}},{key:"inspect",value:function(){return Object.assign(new Error(this.message),this)}},{key:"addError",value:function(x,k){if(k instanceof _)for(var T=k.errors,C=0,M=Object.keys(T);C<M.length;C++){var N=M[C];this.addError("".concat(x,".").concat(N),T[N])}else this.errors[x]=k,this.message=this._message+": "+c(this)}}])&&u(S.prototype,E),Object.defineProperty(S,"prototype",{writable:!1}),S;var S,E}(d);m.inspect.custom&&(f.prototype[m.inspect.custom]=f.prototype.inspect),Object.defineProperty(f.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}}),Object.defineProperty(f.prototype,"name",{value:"ValidationError"}),o.exports=f},2037:(o,s,i)=>{function l(c){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},l(c)}function u(c,f){for(var v=0;v<f.length;v++){var _=f[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,g(_.key),_)}}function g(c){var f=function(v,_){if(l(v)!="object"||!v)return v;var S=v[Symbol.toPrimitive];if(S!==void 0){var E=S.call(v,"string");if(l(E)!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}(c);return l(f)=="symbol"?f:f+""}function h(c,f,v){return f=w(f),function(_,S){if(S&&(l(S)=="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(_)}(c,b()?Reflect.construct(f,v||[],w(c).constructor):f.apply(c,v))}function b(){try{var c=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b=function(){return!!c})()}function w(c){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)},w(c)}function p(c,f){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,_){return v.__proto__=_,v},p(c,f)}var d=i(4888),y=function(c){function f(S,E){var x;(function(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")})(this,f);var k=S.message;k||(k=d.messages.general.default);var T=m(k,S,E);return x=h(this,f,[T]),S=Object.assign({},S,{message:T}),x.properties=S,x.kind=S.type,x.path=S.path,x.value=S.value,x.reason=S.reason,x}return function(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),E&&p(S,E)}(f,c),v=f,(_=[{key:"toString",value:function(){return this.message}},{key:"toJSON",value:function(){return Object.assign({name:this.name,message:this.message},this)}}])&&u(v.prototype,_),Object.defineProperty(v,"prototype",{writable:!1}),v;var v,_}(d);function m(c,f,v){if(typeof c=="function")return c(f,v);for(var _=0,S=Object.keys(f);_<S.length;_++){var E=S[_];E!=="message"&&(c=c.replace("{"+E.toUpperCase()+"}",f[E]))}return c}Object.defineProperty(y.prototype,"name",{value:"ValidatorError"}),Object.defineProperty(y.prototype,"properties",{enumerable:!1,writable:!0,value:null}),y.prototype.formatMessage=m,o.exports=y},8809:(o,s,i)=>{function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(p)}function u(p,d,y){return d=h(d),function(m,c){if(c&&(l(c)=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(m)}(p,g()?Reflect.construct(d,y||[],h(p).constructor):d.apply(p,y))}function g(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!p})()}function h(p){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},h(p)}function b(p,d){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,m){return y.__proto__=m,y},b(p,d)}var w=function(p){function d(m,c,f){var v;(function(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")})(this,d);var _=f.join(", ");return(v=u(this,d,['No matching document found for id "'+m._id+'" version '+c+' modifiedPaths "'+_+'"'])).version=c,v.modifiedPaths=f,v}return function(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),c&&b(m,c)}(d,p),y=d,Object.defineProperty(y,"prototype",{writable:!1}),y;var y}(i(4888));Object.defineProperty(w.prototype,"name",{value:"VersionError"}),o.exports=w},6069:o=>{o.exports=function s(i){if(!Array.isArray(i))return{min:0,max:0,containsNonArrayItem:!0};if(i.length===0)return{min:1,max:1,containsNonArrayItem:!1};if(i.length===1&&!Array.isArray(i[0]))return{min:1,max:1,containsNonArrayItem:!1};for(var l=s(i[0]),u=1;u<i.length;++u){var g=s(i[u]);g.min<l.min&&(l.min=g.min),g.max>l.max&&(l.max=g.max),l.containsNonArrayItem=l.containsNonArrayItem||g.containsNonArrayItem}return l.min=l.min+1,l.max=l.max+1,l}},1973:(o,s,i)=>{function l(S){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},l(S)}var u=i(5003),g=i(6079),h=i(2862),b=i(6584),w=i(6749),p=i(1563),d=i(7339).isMongooseArray,y=i(5721),m=i(4673),c=i(8770),f=i(3636).trustedSymbol;function v(S,E,x){if(S==null)return S;if(Array.isArray(S))return function(M,N){var L=0,R=M.length,D=new Array(R);for(L=0;L<R;++L)D[L]=v(M[L],N,!0);return D}(d(S)?S.__array:S,E);if(b(S)){E&&E._skipSingleNestedGetters&&S.$isSingleNested&&(E=Object.assign({},E,{getters:!1}));var k,T=S.$isSingleNested;return m(S)&&S.$__!=null&&S._doc!=null?S._doc:(k=E&&E.json&&typeof S.toJSON=="function"?S.toJSON(E):S.toObject(E),E&&E.minimize&&!S.constructor.$__required&&T&&Object.keys(k).length===0?void 0:k)}var C=S.constructor;if(C)switch(w(C)){case"Object":return _(S,E,x);case"Date":return new C(+S);case"RegExp":return function(M){var N=new RegExp(M.source,M.flags);return N.lastIndex!==M.lastIndex&&(N.lastIndex=M.lastIndex),N}(S)}return p(S,"ObjectId")?E&&E.flattenObjectIds?S.toJSON():new g(S.id):p(S,"Decimal128")?E&&E.flattenDecimals?S.toJSON():u.fromString(S.toString()):!C&&y(S)?_(S,E,x):l(S)==="object"&&S[c.schemaTypeSymbol]?S.clone():E&&E.bson&&typeof S.toBSON=="function"?S:typeof S.valueOf=="function"?S.valueOf():_(S,E,x)}function _(S,E,x){var k,T=E&&E.minimize,C=E&&E.omitUndefined,M=E&&E._seen,N={};if(M&&M.has(S))return M.get(S);M&&M.set(S,N),f in S&&(N[f]=S[f]);var L=0,R="",D=Object.keys(S),z=D.length;for(L=0;L<z;++L)if(!h.has(R=D[L])){var U=v(S[R],E,!1);T!==!1&&!C||U!==void 0?T===!0&&U===void 0||(k||(k=!0),N[R]=U):delete N[R]}return T&&!x?k&&N:N}o.exports=v},2829:(o,s,i)=>{var l=i(365).Buffer;function u(p){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},u(p)}var g=i(4029).Binary,h=i(1563),b=i(6584);i(4888),i(8751);function w(p){return p&&u(p)==="object"&&!(p instanceof Date)&&!h(p,"ObjectId")&&(!Array.isArray(p)||p.length!==0)&&!(p instanceof l)&&!h(p,"Decimal128")&&!(p instanceof g)}s.x=function p(d,y,m,c){var f,v=(f=d&&b(d)&&!l.isBuffer(d)?Object.keys(d.toObject({transform:!1,virtuals:!1})||{}):Object.keys(d||{})).length,_={};y=y?y+".":"";for(var S=0;S<v;++S){var E=f[S],x=d[E];_[y+E]=x;var k=c&&c.path&&c.path(y+E),T=c&&c.nested&&c.nested[y+E];if(!k||k.instance!=="Mixed"){if(w(x)){if(m&&m.skipArrays&&Array.isArray(x))continue;var C=p(x,y+E,m,c);for(var M in C)_[M]=C[M];Array.isArray(x)&&(_[y+E]=x)}if(T)for(var N=0,L=Object.keys(c.paths);N<L.length;N++){var R=L[N];R.startsWith(y+E+".")&&!_.hasOwnProperty(R)&&(_[R]=void 0)}}}return _}},2794:(o,s,i)=>{var l=i(1563);o.exports=function(u,g){return typeof u=="string"&&typeof g=="string"||typeof u=="number"&&typeof g=="number"?u===g:!(!l(u,"ObjectId")||!l(g,"ObjectId"))&&u.toString()===g.toString()}},4531:o=>{o.exports=function(s,i,l,u,g){var h=Object.keys(s).reduce(function(w,p){return w||p.startsWith(i+".")},!1),b=i+"."+l.options.discriminatorKey;h||g.length!==1||g[0]!==b||u.splice(u.indexOf(b),1)}},8413:(o,s,i)=>{var l=i(7291);o.exports=function(u,g,h){var b=u.schema.options.discriminatorKey,w=g!=null&&g[b];if(w==null&&(w=h),u.discriminators&&w!=null)if(u.discriminators[w])u=u.discriminators[w];else{var p=l(u.discriminators,w);p&&(u=p)}return u}},7291:(o,s,i)=>{var l=i(2794);o.exports=function(u,g){if(u==null)return null;for(var h=0,b=Object.keys(u);h<b.length;h++){var w=u[b[h]];if(w.schema&&w.schema.discriminatorMapping&&l(w.schema.discriminatorMapping.value,g))return w}return null}},2392:(o,s,i)=>{var l=i(2794);o.exports=function(u,g){if(u==null||u.discriminators==null)return null;for(var h=0,b=Object.keys(u.discriminators);h<b.length;h++){var w=b[h],p=u.discriminators[w];if(p.discriminatorMapping!=null&&l(p.discriminatorMapping.value,g))return p}return null}},2462:(o,s,i)=>{var l=i(4913),u=i(2862),g=i(1563),h=i(6079),b=i(5721);o.exports=function w(p,d,y,m){var c,f=Object.keys(d),v=0,_=f.length;if(y=y||"",!(m=m||new WeakSet).has(d)){for(m.add(d);v<_;)if(c=f[v++],(y||c!=="discriminators"&&c!=="base"&&c!=="_applyDiscriminators"&&c!=="_userProvidedOptions"&&c!=="options")&&!(y==="tree"&&d!=null&&d.instanceOfSchema||u.has(c))){if(p[c]==null)p[c]=d[c];else if(b(d[c])){if(b(p[c])||(p[c]={}),d[c]!=null){if(d[c].$isSingleNested&&p[c].$isMongooseDocumentArray||d[c].$isMongooseDocumentArray&&p[c].$isSingleNested||d[c].$isMongooseDocumentArrayElement&&p[c].$isMongooseDocumentArrayElement)continue;if(d[c].instanceOfSchema){p[c].instanceOfSchema?l(p[c],d[c].clone(),!0):p[c]=d[c].clone();continue}if(g(d[c],"ObjectId")){p[c]=new h(d[c]);continue}}w(p[c],d[c],y?y+"."+c:c,m)}}}}},2874:(o,s,i)=>{var l=i(7368);function u(g,h){g.$__.activePaths.default(h),g.$isSubdocument&&g.$isSingleNested&&g.$parent()!=null&&g.$parent().$__.activePaths.default(g.$__pathRelativeToParent(h))}o.exports=function(g,h,b,w,p,d){for(var y=Object.keys(g.$__schema.paths),m=y.length,c=0;c<m;++c){var f=void 0,v="",_=y[c];if(_!=="_id"||!g.$__.skipId)for(var S=g.$__schema.paths[_],E=S.splitPath(),x=E.length,k=!1,T=g._doc,C=0;C<x&&T!=null;++C){var M=E[C];if(v+=(v.length?".":"")+M,b===!0){if(v in h)break}else if(b===!1&&h&&!k){var N=S.$isSingleNested||S.$isMongooseDocumentArray;if(v in h&&!l(h[v])||C===x-1&&N&&w!=null&&w[v])k=!0;else if(w!=null&&!w[v])break}if(C===x-1){if(T[M]!==void 0)break;if(p!=null){if(typeof S.defaultValue=="function"){if(!S.defaultValue.$runBeforeSetters&&p||S.defaultValue.$runBeforeSetters&&!p)break}else if(!p)continue}if(d&&d[v])break;if(h&&b!==null){if(b===!0){if(_ in h)continue;try{f=S.getDefault(g,!1)}catch(L){g.invalidate(_,L);break}f!==void 0&&(T[M]=f,u(g,_))}else if(k){try{f=S.getDefault(g,!1)}catch(L){g.invalidate(_,L);break}f!==void 0&&(T[M]=f,u(g,_))}}else{try{f=S.getDefault(g,!1)}catch(L){g.invalidate(_,L);break}f!==void 0&&(T[M]=f,u(g,_))}}else T=T[M]}}}},4134:o=>{o.exports=function(s,i,l){var u=(l=l||{}).skipDocArrays,g=0;if(!s)return g;for(var h=0,b=Object.keys(s.$__.activePaths.getStatePaths("modify"));h<b.length;h++){var w=b[h];if(u){var p=s.$__schema.path(w);if(p&&p.$isMongooseDocumentArray)continue}if(w.startsWith(i+".")&&(s.$__.activePaths.clearPath(w),++g,s.$isSubdocument)){var d=s.ownerDocument(),y=s.$__fullPath(w);d.$__.activePaths.clearPath(y)}}return g}},8724:(o,s,i)=>{var l,u=i(1973),g=i(8770).documentSchemaSymbol,h=i(4962).h,b=i(6872),w=i(8770).getSymbol,p=i(8770).scopeSymbol,d=b.isPOJO;s.M=c,s.c=f;var y=Object.freeze({minimize:!0,virtuals:!1,getters:!1,transform:!1}),m=Object.freeze({noDottedPath:!0});function c(v,_,S,E){l=l||i(8727);for(var x=E.typeKey,k=0,T=Object.keys(v);k<T.length;k++){var C=T[k],M=v[C];f({prop:C,subprops:d(M)&&Object.keys(M).length>0&&(!M[x]||x==="type"&&d(M.type)&&M.type.type)?M:null,prototype:_,prefix:S,options:E})}}function f(v){var _=v.prop,S=v.subprops,E=v.prototype,x=v.prefix,k=v.options;l=l||i(8727);var T=(x?x+".":"")+_,C=(x=x||"")?Object.freeze({}):m;S?Object.defineProperty(E,_,{enumerable:!0,configurable:!0,get:function(){var M,N,L=this;if(this.$__.getters||(this.$__.getters={}),!this.$__.getters[T]){var R=Object.create(l.prototype,(M=this,N={},Object.getOwnPropertyNames(M).forEach(function(D){["isNew","$__","$errors","errors","_doc","$locals","$op","__parentArray","__index","$isDocumentArrayElement"].indexOf(D)===-1||(N[D]=Object.getOwnPropertyDescriptor(M,D),N[D].enumerable=!1)}),N));x||(R.$__[p]=this),R.$__.nestedPath=T,Object.defineProperty(R,"schema",{enumerable:!1,configurable:!0,writable:!1,value:E.schema}),Object.defineProperty(R,"$__schema",{enumerable:!1,configurable:!0,writable:!1,value:E.schema}),Object.defineProperty(R,g,{enumerable:!1,configurable:!0,writable:!1,value:E.schema}),Object.defineProperty(R,"toObject",{enumerable:!1,configurable:!0,writable:!1,value:function(){return u(L.get(T,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null}))}}),Object.defineProperty(R,"$__get",{enumerable:!1,configurable:!0,writable:!1,value:function(){return L.get(T,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null})}}),Object.defineProperty(R,"toJSON",{enumerable:!1,configurable:!0,writable:!1,value:function(){return L.get(T,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toJSON&&this.schema.options.toJSON.virtuals||null})}}),Object.defineProperty(R,"$__isNested",{enumerable:!1,configurable:!0,writable:!1,value:!0}),Object.defineProperty(R,"$isEmpty",{enumerable:!1,configurable:!0,writable:!1,value:function(){return Object.keys(this.get(T,null,y)||{}).length===0}}),Object.defineProperty(R,"$__parent",{enumerable:!1,configurable:!0,writable:!1,value:this}),c(S,R,T,k),this.$__.getters[T]=R}return this.$__.getters[T]},set:function(M){M!=null&&M.$__isNested?M=M.$__get():M instanceof l&&!M.$__isNested&&(M=M.$toObject(h)),(this.$__[p]||this).$set(T,M)}}):Object.defineProperty(E,_,{enumerable:!0,configurable:!0,get:function(){return this[w].call(this.$__[p]||this,T,null,C)},set:function(M){this.$set.call(this.$__[p]||this,T,M)}})}},9585:o=>{o.exports=function(s,i,l){for(var u=i[0],g=l,h=s,b=0;b<i.length-1;++b){var w=g.path(u);if(w&&w.schema){var p=h.get(u);if(g=w.schema,u=i[b+1],Array.isArray(p)&&!isNaN(u)&&(p=p[u],u=""),p==null)break;h=p}else u+=u.length?"."+i[b+1]:i[b+1]}return h}},111:(o,s,i)=>{var l=i(9981),u=i(2392);o.exports=function g(h,b,w){for(var p=(w=w||{}).typeOnly,d=Array.isArray(b)?b:b.indexOf(".")===-1?[b]:b.split("."),y=null,m="adhocOrUndefined",c=u(h.schema,h.get(h.schema.options.discriminatorKey))||h.schema,f=0;f<d.length;++f){var v=d.slice(0,f+1).join(".");if((y=c.path(v))!=null){if(y.instance==="Mixed")return p?"real":y;if(m=c.pathType(v),(y.$isSingleNested||y.$isMongooseDocumentArrayElement)&&y.schema.discriminators!=null){var _=y.schema.discriminators,S=h.get(v+"."+l(y,"schema.options.discriminatorKey"));if(S==null||_[S]==null)continue;var E=d.slice(f+1).join(".");return g(h.get(v),E,w)}}else m="adhocOrUndefined"}return p?m:y}},719:(o,s,i)=>{function l(p,d){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(p);d&&(m=m.filter(function(c){return Object.getOwnPropertyDescriptor(p,c).enumerable})),y.push.apply(y,m)}return y}function u(p){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?l(Object(y),!0).forEach(function(m){g(p,m,y[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):l(Object(y)).forEach(function(m){Object.defineProperty(p,m,Object.getOwnPropertyDescriptor(y,m))})}return p}function g(p,d,y){return(d=function(m){var c=function(f,v){if(h(f)!="object"||!f)return f;var _=f[Symbol.toPrimitive];if(_!==void 0){var S=_.call(f,"string");if(h(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(f)}(m);return h(c)=="symbol"?c:c+""}(d))in p?Object.defineProperty(p,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[d]=y,p}function h(p){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},h(p)}var b=i(6872),w=new Set(["__index","__parentArray","_doc"]);o.exports=function(p,d){if(b.isPOJO(p)&&p.$__!=null&&p._doc!=null){if(d){for(var y={},m=0,c=Object.keys(p);m<c.length;m++){var f=c[m];h(f)!=="symbol"&&f[0]!=="$"&&(w.has(f)||(y[f]=p[f]))}return u(u({},p._doc),y)}return p._doc}return p}},9449:o=>{function s(i,l){(l==null||l>i.length)&&(l=i.length);for(var u=0,g=Array(l);u<l;u++)g[u]=i[u];return g}o.exports=function(i,l,u){if(i.length===0)return u();var g,h=i.length,b=null,w=function(p,d){var y=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!y){if(Array.isArray(p)||(y=function(S,E){if(S){if(typeof S=="string")return s(S,E);var x={}.toString.call(S).slice(8,-1);return x==="Object"&&S.constructor&&(x=S.constructor.name),x==="Map"||x==="Set"?Array.from(S):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?s(S,E):void 0}}(p))||d&&p&&typeof p.length=="number"){y&&(p=y);var m=0,c=function(){};return{s:c,n:function(){return m>=p.length?{done:!0}:{done:!1,value:p[m++]}},e:function(S){throw S},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f,v=!0,_=!1;return{s:function(){y=y.call(p)},n:function(){var S=y.next();return v=S.done,S},e:function(S){_=!0,f=S},f:function(){try{v||y.return==null||y.return()}finally{if(_)throw f}}}}(i);try{for(w.s();!(g=w.n()).done;)l(g.value,function(p){if(b==null)return p!=null?u(b=p):--h<=0?u():void 0})}catch(p){w.e(p)}finally{w.f()}}},198:o=>{o.exports=function(s){for(var i,l=Object.keys(s.errors||{}),u=l.length,g=[],h=0;h<u;++h)i=l[h],s!==s.errors[i]&&g.push(i+": "+s.errors[i].message);return g.join(", ")}},9981:o=>{function s(l,u){(u==null||u>l.length)&&(u=l.length);for(var g=0,h=Array(u);g<u;g++)h[g]=l[g];return h}function i(l,u){return l==null?l:l instanceof Map?l.get(u):l[u]}o.exports=function(l,u,g){var h,b=!1;if(typeof u=="string"){if(u.indexOf(".")===-1){var w=i(l,u);return w??g}h=u.split(".")}else if(b=!0,(h=u).length===1){var p=i(l,h[0]);return p??g}var d,y=u,m=l,c=function(v,_){var S=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!S){if(Array.isArray(v)||(S=function(M,N){if(M){if(typeof M=="string")return s(M,N);var L={}.toString.call(M).slice(8,-1);return L==="Object"&&M.constructor&&(L=M.constructor.name),L==="Map"||L==="Set"?Array.from(M):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?s(M,N):void 0}}(v))||_&&v&&typeof v.length=="number"){S&&(v=S);var E=0,x=function(){};return{s:x,n:function(){return E>=v.length?{done:!0}:{done:!1,value:v[E++]}},e:function(M){throw M},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k,T=!0,C=!1;return{s:function(){S=S.call(v)},n:function(){var M=S.next();return T=M.done,M},e:function(M){C=!0,k=M},f:function(){try{T||S.return==null||S.return()}finally{if(C)throw k}}}}(h);try{for(c.s();!(d=c.n()).done;){var f=d.value;if(m==null)return g;if(!b&&m[y]!=null)return m[y];m=i(m,f),b||(y=y.substr(f.length+1))}}catch(v){c.e(v)}finally{c.f()}return m??g}},1981:o=>{o.exports=function(s){if(s!=null&&typeof s.constructor=="function")return s.constructor.name}},6749:o=>{var s=/^function\s*([^\s(]+)/;o.exports=function(i){return i.name||(i.toString().trim().match(s)||[])[1]}},1490:o=>{var s={env:{}}!==void 0&&typeof{env:{}}.nextTick=="function"?{env:{}}.nextTick.bind({env:{}}):function(i){return setTimeout(i,0)};o.exports=function(i){return s(i)}},1605:o=>{o.exports=function(s,i){var l=s.discriminatorMapping&&s.discriminatorMapping.value;if(l&&!("sparse"in i)){var u=s.options.discriminatorKey;i.partialFilterExpression=i.partialFilterExpression||{},i.partialFilterExpression[u]=l}return i}},8857:o=>{o.exports=function(s){return typeof s=="function"&&s.constructor&&s.constructor.name==="AsyncFunction"}},1563:o=>{function s(i){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(i)}o.exports=function(i,l){return s(i)==="object"&&i!==null&&i._bsontype===l}},6584:(o,s,i)=>{var l=i(7339).isMongooseArray;o.exports=function(u){return u!=null&&(l(u)||u.$__!=null||u.isMongooseBuffer||u.$isMongooseMap)}},5721:(o,s,i)=>{var l=i(365).Buffer;o.exports=function(u){return l.isBuffer(u)||Object.prototype.toString.call(u)==="[object Object]"}},4673:o=>{function s(i){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(i)}o.exports=function(i){if(i==null||s(i)!=="object")return!1;var l=Object.getPrototypeOf(i);return!l||l.constructor.name==="Object"}},5543:o=>{function s(i){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(i)}o.exports=function(i){return!!i&&(s(i)==="object"||typeof i=="function")&&typeof i.then=="function"}},9130:o=>{function s(i){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(i)}o.exports=function(i){for(var l=Object.keys(i),u=!0,g=0,h=l.length;g<h;++g)if(s(i[l[g]])==="object"&&i[l[g]]!==null){u=!1;break}return u}},8859:(o,s,i)=>{var l=i(8107),u=i(8486);o.exports=h,h.middlewareFunctions=["deleteOne","save","validate","remove","updateOne","init"];var g=new Set(h.middlewareFunctions.flatMap(function(b){return[b,"$__".concat(b)]}));function h(b,w,p){var d={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0,contextParameter:!0},y=(p=p||{}).decorateDoc?b:b.prototype;b.$appliedHooks=!0;for(var m=0,c=Object.keys(w.paths);m<c.length;m++){var f=c[m],v=w.paths[f],_=null;if(v.$isSingleNested)_=v.caster;else{if(!v.$isMongooseDocumentArray)continue;_=v.Constructor}if(!_.$appliedHooks&&(h(_,v.schema,p),_.discriminators!=null))for(var S=0,E=Object.keys(_.discriminators);S<E.length;S++){var x=E[S];h(_.discriminators[x],_.discriminators[x].schema,p)}}var k=w.s.hooks.filter(function(I){return I.name==="updateOne"||I.name==="deleteOne"?!!I.document:I.name==="remove"||I.name==="init"?I.document==null||!!I.document:I.query==null&&I.document==null||I.document!==!1}).filter(function(I){return!w.methods[I.name]||!I.fn[l.builtInMiddleware]});b._middleware=k,y.$__originalValidate=y.$__originalValidate||y.$__validate;for(var T=0,C=["save","validate","remove","deleteOne"];T<C.length;T++){var M=C[T],N=M==="validate"?"$__originalValidate":"$__".concat(M),L=k.createWrapper(M,y[N],null,d);y["$__".concat(M)]=L}y.$__init=k.createWrapperSync("init",y.$__init,null,d);for(var R=Object.keys(w.methods),D=Object.assign({},d,{checkForPromise:!0}),z=function(){var I=O[U];if(g.has(I)||!k.hasHooks(I))return 0;var j=y[I];y[I]=function(){var P=this,A=Array.prototype.slice.call(arguments),$=A.slice(-1).pop(),q=typeof $=="function"?A.slice(0,A.length-1):A;return u($,function(X){return P["$__".concat(I)].apply(P,q.concat([X]))},b.events)},y["$__".concat(I)]=k.createWrapper(I,j,null,D)},U=0,O=R;U<O.length;U++)z()}},9181:(o,s,i)=>{function l(c,f){var v=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!v){if(Array.isArray(c)||(v=function(T,C){if(T){if(typeof T=="string")return u(T,C);var M={}.toString.call(T).slice(8,-1);return M==="Object"&&T.constructor&&(M=T.constructor.name),M==="Map"||M==="Set"?Array.from(T):M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M)?u(T,C):void 0}}(c))||f&&c&&typeof c.length=="number"){v&&(c=v);var _=0,S=function(){};return{s:S,n:function(){return _>=c.length?{done:!0}:{done:!1,value:c[_++]}},e:function(T){throw T},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E,x=!0,k=!1;return{s:function(){v=v.call(c)},n:function(){var T=v.next();return x=T.done,T},e:function(T){k=!0,E=T},f:function(){try{x||v.return==null||v.return()}finally{if(k)throw E}}}}function u(c,f){(f==null||f>c.length)&&(f=c.length);for(var v=0,_=Array(f);v<f;v++)_[v]=c[v];return _}var g=i(3861),h=i(6956),b=i(1973),w=i(8724).c,p=i(9981),d=i(6872),y=i(2462),m={toJSON:!0,toObject:!0,_id:!0,id:!0,virtuals:!0,methods:!0};o.exports=function(c,f,v,_,S,E){if(!v||!v.instanceOfSchema)throw new Error("You must pass a valid discriminator Schema");if(E=E==null||E,c.schema.discriminatorMapping&&!c.schema.discriminatorMapping.isRoot)throw new Error('Discriminator "'+f+'" can only be a discriminator of the root model');if(S){var x=p(c.base,"options.applyPluginsToDiscriminators",!1)||!E;c.base._applyPlugins(v,{skipTopLevel:!x})}else E||h(v);var k=c.schema.options.discriminatorKey,T=c.schema.path(k);if(T!=null)d.hasUserDefinedProperty(T.options,"select")||(T.options.select=!0),T.options.$skipDiscriminatorCheck=!0;else{var C={};C[k]={default:void 0,select:!0,$skipDiscriminatorCheck:!0},C[k][c.schema.options.typeKey]=String,c.schema.add(C),w({prop:k,prototype:c.prototype,options:c.schema.options})}if(v.path(k)&&v.path(k).options.$skipDiscriminatorCheck!==!0)throw new Error('Discriminator "'+f+'" cannot have field with name "'+k+'"');var M=f;if((typeof _=="string"&&_.length||_!=null)&&(M=_),function(N,L){N._baseSchema=L,L.paths._id&&L.paths._id.options&&!L.paths._id.options.auto&&N.remove("_id");for(var R=[],D=0,z=Object.keys(L.paths);D<z.length;D++){var U=z[D];if(N.nested[U])R.push(U);else if(U.indexOf(".")!==-1){var O,I="",j=l(U.split(".").slice(0,-1));try{for(j.s();!(O=j.n()).done;){var P=O.value;I+=(I.length?".":"")+P,(N.paths[I]instanceof g||N.singleNestedPaths[I]instanceof g)&&R.push(U)}}catch(H){j.e(H)}finally{j.f()}}}y(N,L);for(var A=0,$=R;A<$.length;A++){var q=$[A];delete N.paths[q]}N.childSchemas.forEach(function(H){H.model.prototype.$__setSchema(H.schema)});var X={};X[k]={default:M,select:!0,set:function(H){if(H===M||Array.isArray(M)&&d.deepEqual(H,M))return M;throw new Error(`Can't set discriminator key "`+k+'"')},$skipDiscriminatorCheck:!0},X[k][N.options.typeKey]=T?T.options[N.options.typeKey]:String,N.add(X),N.discriminatorMapping={key:k,value:M,isRoot:!1},L.options.collection&&(N.options.collection=L.options.collection);var te=N.options.toJSON,re=N.options.toObject,ie=N.options._id,Z=N.options.id,ee=Object.keys(N.options);N.options.discriminatorKey=L.options.discriminatorKey;for(var de=N._userProvidedOptions,le=0,V=ee;le<V.length;le++){var G=V[le];if(!m[G]&&G in de&&!d.deepEqual(N.options[G],L.options[G]))throw new Error("Can't customize discriminator option "+G+" (can only modify "+Object.keys(m).join(", ")+")")}N.options=b(L.options);for(var K=0,ne=Object.keys(de);K<ne.length;K++){var W=ne[K];N.options[W]=de[W]}te&&(N.options.toJSON=te),re&&(N.options.toObject=re),ie!==void 0&&(N.options._id=ie),N.options.id=Z,E&&(N.s.hooks=c.schema.s.hooks.merge(N.s.hooks)),S&&(N.plugins=Array.prototype.slice.call(L.plugins)),N.callQueue=L.callQueue.concat(N.callQueue),delete N._requiredpaths}(v,c.schema),c.discriminators||(c.discriminators={}),c.schema.discriminatorMapping||(c.schema.discriminatorMapping={key:k,value:null,isRoot:!0}),c.schema.discriminators||(c.schema.discriminators={}),c.schema.discriminators[f]=v,c.discriminators[f]&&!v.options.overwriteModels)throw new Error('Discriminator with name "'+f+'" already exists');return v}},251:o=>{var s=/\./g;o.exports=function(i){if(i.indexOf(".")===-1)return[i];for(var l=i.split(s),u=l.length,g=new Array(u),h="",b=0;b<u;++b)h+=h.length!==0?"."+l[b]:l[b],g[b]=h;return g}},5837:(o,s,i)=>{function l(g,h){(h==null||h>g.length)&&(h=g.length);for(var b=0,w=Array(h);b<h;b++)w[b]=g[b];return w}var u=i(6872);o.exports=function(g,h){if(g._id!=null&&h!=null&&h.length!==0){var b,w=String(g._id),p=function(S,E){var x=typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(!x){if(Array.isArray(S)||(x=function(L,R){if(L){if(typeof L=="string")return l(L,R);var D={}.toString.call(L).slice(8,-1);return D==="Object"&&L.constructor&&(D=L.constructor.name),D==="Map"||D==="Set"?Array.from(L):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?l(L,R):void 0}}(S))||E&&S&&typeof S.length=="number"){x&&(S=x);var k=0,T=function(){};return{s:T,n:function(){return k>=S.length?{done:!0}:{done:!1,value:S[k++]}},e:function(L){throw L},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,M=!0,N=!1;return{s:function(){x=x.call(S)},n:function(){var L=x.next();return M=L.done,L},e:function(L){N=!0,C=L},f:function(){try{M||x.return==null||x.return()}finally{if(N)throw C}}}}(h);try{for(p.s();!(b=p.n()).done;){var d=b.value;if(!d.isVirtual)for(var y=d.path.split("."),m=0;m<y.length-1;++m){var c=y.slice(0,m+1).join("."),f=y.slice(m+1).join("."),v=g.get(c);if(v!=null&&u.isMongooseDocumentArray(v)){for(var _=0;_<v.length;++_)v[_]&&v[_].populated(f,d._docs[w]==null?void 0:d._docs[w][_],d);break}}}}catch(S){p.e(S)}finally{p.f()}}}},6870:(o,s,i)=>{var l=i(5202),u=i(8751);o.exports=function(g,h){if(typeof g!="string"&&typeof g!="function")throw new l('Invalid ref at path "'+h+'". Got '+u.inspect(g,{depth:0}))}},7427:o=>{o.exports=function(s){for(var i={},l=0,u=Object.keys(s);l<u.length;l++){var g=u[l];if(g.indexOf(".")!==-1)for(var h=g.split("."),b=h[0],w=0;w<h.length;++w)i[b]=1,w+1<h.length&&(b=b+"."+h[w+1]);else i[g]=1}return i}},2183:o=>{function s(i){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(i)}o.exports=function(i){return i==null||s(i)!=="object"||!("$meta"in i)&&!("$slice"in i)}},9098:(o,s,i)=>{function l(g){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(g)}var u=i(2183);o.exports=function g(h){if(h==null)return null;var b=Object.keys(h),w=null;if(b.length===1&&b[0]==="_id")w=!h._id;else for(var p=0;p<b.length;++p){var d=b[p];if(d!=="_id"&&u(h[d])){w=h[d]!=null&&l(h[d])==="object"?g(h[d]):!h[d];break}}return w}},7368:o=>{function s(i){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(i)}o.exports=function(i){return i!=null&&s(i)==="object"&&i.$slice==null&&i.$elemMatch==null&&i.$meta==null&&i.$==null}},23:o=>{o.exports=function(s,i){for(var l,u,g,h=i.split("."),b="",w=0;w<h.length;++w)if(s[b+=b.length?".":""+h[w]]){for(g=(u=Object.keys(s)).length,l=0;l<g;++l)u[w].indexOf(b+".")!==0||u[w].indexOf(i);return!0}return!1}},8486:(o,s,i)=>{var l=i(1490),u=Symbol("mongoose:emitted");o.exports=function(g,h,b,w){if(typeof g=="function")try{return h(function(p){if(p==null)g.apply(this,arguments);else{b!=null&&b.listeners!=null&&b.listeners("error").length>0&&!p[u]&&(p[u]=!0,b.emit("error",p));try{g(p)}catch(d){return l(function(){throw d})}}})}catch(p){return b!=null&&b.listeners!=null&&b.listeners("error").length>0&&!p[u]&&(p[u]=!0,b.emit("error",p)),g(p)}return new(w=w||i.g.Promise)(function(p,d){h(function(y,m){return y!=null?(b!=null&&b.listeners!=null&&b.listeners("error").length>0&&!y[u]&&(y[u]=!0,b.emit("error",y)),d(y)):arguments.length>2?p(Array.prototype.slice.call(arguments,1)):void p(m)})})}},5130:(o,s,i)=>{o.exports=u;var l=i(9853);function u(g,h){var b=h.schema.s.hooks.filter(function(w){var p=function(d){var y={};return d.hasOwnProperty("query")&&(y.query=d.query),d.hasOwnProperty("document")&&(y.document=d.document),y}(w);return w.name==="validate"?!!p.query:w.name==="deleteOne"||w.name==="updateOne"?!!p.query||Object.keys(p).length===0:w.query==null&&w.document==null||!!w.query});g.prototype._queryMiddleware=b}u.middlewareFunctions=l.concat(["validate"])},9739:(o,s,i)=>{function l(k){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},l(k)}var u=i(1795),g=i(3328),h=i(3065),b=new Set(["$and","$or"]),w=new Set(["$cmp","$eq","$lt","$lte","$gt","$gte"]),p=new Set(["$multiply","$divide","$log","$mod","$trunc","$avg","$max","$min","$stdDevPop","$stdDevSamp","$sum"]),d=new Set(["$abs","$exp","$ceil","$floor","$ln","$log10","$sqrt","$sin","$cos","$tan","$asin","$acos","$atan","$atan2","$asinh","$acosh","$atanh","$sinh","$cosh","$tanh","$degreesToRadians","$radiansToDegrees"]),y=new Set(["$arrayElemAt","$first","$last"]),m=new Set(["$year","$month","$week","$dayOfMonth","$dayOfYear","$hour","$minute","$second","$isoDayOfWeek","$isoWeekYear","$isoWeek","$millisecond"]),c=new Set(["$not"]);function f(k,T,C){if(E(k)||k===null)return k;k.$cond!=null?Array.isArray(k.$cond)?k.$cond=k.$cond.map(function(D){return f(D,T,C)}):(k.$cond.if=f(k.$cond.if,T,C),k.$cond.then=f(k.$cond.then,T,C),k.$cond.else=f(k.$cond.else,T,C)):k.$ifNull!=null?k.$ifNull.map(function(D){return f(D,T,C)}):k.$switch!=null&&(k.branches.map(function(D){return f(D,T,C)}),k.default=f(k.default,T,C));for(var M=0,N=Object.keys(k);M<N.length;M++){var L=N[M];b.has(L)?k[L]=k[L].map(function(D){return f(D,T,C)}):w.has(L)?k[L]=S(k[L],T,C):p.has(L)?k[L]=_(k[L]):d.has(L)?k[L]=v(k[L]):c.has(L)&&(k[L]=f(k[L],T,C))}if(k.$in&&(k.$in=function(D,z,U){var O=D[1];if(!E(O))return D;var I=D[0],j=z.path(O.slice(1));if(j!==null){if(!j.$isMongooseArray)throw new Error("Path must be an array for $in");return[j.$isMongooseDocumentArray?j.$embeddedSchemaType.cast(I):j.caster.cast(I),O]}if(U===!1)return D;if(U==="throw")throw new g("$in")}(k.$in,T,C)),k.$size&&(k.$size=v(k.$size)),k.$round){var R=k.$round;if(!Array.isArray(R)||R.length<1||R.length>2)throw new u("Array",R,"$round");k.$round=R.map(function(D){return v(D)})}return function(D){for(var z=Object.keys(D),U=0,O=z.length;U<O;++U)D[z[U]]===void 0&&delete D[z[U]]}(k),k}function v(k){if(!x(k))return k;try{return h(k)}catch{throw new u("Number",k)}}function _(k){if(!Array.isArray(k)){if(!x(k))return k;try{return h(k)}catch{throw new u("Number",k)}}return k.map(function(T){if(!x(T))return T;try{return h(T)}catch{throw new u("Number",T)}})}function S(k,T,C){if(!Array.isArray(k)||k.length!==2)throw new Error("Comparison operator must be an array of length 2");k[0]=f(k[0],T,C);var M=k[0];if(x(k[1])){var N=null,L=null,R=null;if(E(M))N=M.slice(1),L=T.path(N);else if(l(M)==="object"&&M!=null)for(var D=0,z=Object.keys(M);D<z.length;D++){var U=z[D];m.has(U)&&E(M[U])?(N=M[U].slice(1)+"."+U,R=h):y.has(U)&&E(M[U])&&(N=M[U].slice(1)+"."+U,(L=T.path(M[U].slice(1)))!=null&&(L.$isMongooseDocumentArray?L=L.$embeddedSchemaType:L.$isMongooseArray&&(L=L.caster)))}var O=l(k[1])==="object"&&k[1]!=null&&k[1].$literal!=null;if(L!=null)k[1]=O?{$literal:L.cast(k[1].$literal)}:L.cast(k[1]);else if(R!=null)if(O)try{k[1]={$literal:R(k[1].$literal)}}catch{throw new u(R.name.replace(/^cast/,""),k[1],N+".$literal")}else try{k[1]=R(k[1])}catch{throw new u(R.name.replace(/^cast/,""),k[1],N)}else{if(N!=null&&C===!0)return;if(N!=null&&C==="throw")throw new g(N)}}else k[1]=f(k[1]);return k}function E(k){return typeof k=="string"&&k[0]==="$"}function x(k){return!(typeof k=="string"&&k[0]==="$"||l(k)==="object"&&k!==null&&Object.keys(k).find(function(T){return T[0]==="$"})&&k.$literal==null)}o.exports=function(k,T,C){if(l(k)!=="object"||k===null)throw new Error("`$expr` must be an object");return f(k,T,C)}},1428:o=>{o.exports=function(s){switch(s){case"p":s="primary";break;case"pp":s="primaryPreferred";break;case"s":s="secondary";break;case"sp":s="secondaryPreferred";break;case"n":s="nearest"}return s}},7906:o=>{var s=new Set(["$ref","$id","$db"]);o.exports=function(i){return i[0]==="$"&&!s.has(i)}},3636:(o,s)=>{function i(u){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},i(u)}var l=Symbol("mongoose#trustedSymbol");s.trustedSymbol=l,s.trusted=function(u){return u==null||i(u)!=="object"||(u[l]=!0),u}},9853:o=>{o.exports=Object.freeze(["count","countDocuments","distinct","estimatedDocumentCount","find","findOne","findOneAndReplace","findOneAndUpdate","replaceOne","updateMany","updateOne","deleteMany","deleteOne","findOneAndDelete","findOneAndRemove"])},4133:o=>{o.exports=function(s){var i={_id:{auto:!0}};i._id[s.options.typeKey]="ObjectId",s.add(i)}},6956:(o,s,i)=>{var l=i(4292);o.exports=function(u){for(var g=0,h=Object.values(l);g<h.length;g++)(0,h[g])(u,{deduplicate:!0});u.plugins=Object.values(l).map(function(b){return{fn:b,opts:{deduplicate:!0}}}).concat(u.plugins)}},7658:o=>{o.exports=function(s){return s.replace(/\.\$(\[[^\]]*\])?(?=\.)/g,".0").replace(/\.\$(\[[^\]]*\])?$/g,".0")}},5379:(o,s,i)=>{var l=i(9981),u=i(5721),g=i(1605);o.exports=function(h){var b=[],w=new WeakMap,p=h.constructor.indexTypes,d=new Map;return function y(m,c,f){if(!w.has(m)){w.set(m,!0),c=c||"";for(var v=0,_=Object.keys(m.paths);v<_.length;v++){var S=_[v],E=m.paths[S];if(f==null||!f.paths[S]){if(E.$isMongooseDocumentArray||E.$isSingleNested){if(l(E,"options.excludeIndexes")!==!0&&l(E,"schemaOptions.excludeIndexes")!==!0&&l(E,"schema.options.excludeIndexes")!==!0&&y(E.schema,c+S+"."),E.schema.discriminators!=null)for(var x=E.schema.discriminators,k=0,T=Object.keys(x);k<T.length;k++)y(x[T[k]],c+S+".",E.schema);if(E.$isMongooseDocumentArray)continue}var C=E._index||E.caster&&E.caster._index;if(C!==!1&&C!=null){var M={},N=u(C),L=N?C:{},R=typeof C=="string"?C:!!N&&C.type;if(R&&p.indexOf(R)!==-1)M[c+S]=R;else if(L.text)M[c+S]="text",delete L.text;else{var D;D=C==="descending"||C==="desc"||C!=="ascending"&&C!=="asc"&&Number(C)===-1,M[c+S]=D?-1:1}delete L.type,"background"in L||(L.background=!0),m.options.autoIndex!=null&&(L._autoIndex=m.options.autoIndex);var z=L&&L.name;typeof z=="string"&&d.has(z)?Object.assign(d.get(z),M):(b.push([M,L]),d.set(z,M))}}}w.delete(m),c?function(U,O){for(var I=U._indexes,j=I.length,P=0;P<j;++P){for(var A=I[P][0],$=I[P][1],q=Object.keys(A),X=q.length,te={},re=0;re<X;++re){var ie=q[re];te[O+ie]=A[ie]}var Z=Object.assign({},$);if($!=null&&$.partialFilterExpression!=null){Z.partialFilterExpression={};for(var ee=$.partialFilterExpression,de=0,le=Object.keys(ee);de<le.length;de++){var V=le[de];Z.partialFilterExpression[O+V]=ee[V]}}b.push([te,Z])}}(m,c):(m._indexes.forEach(function(U){var O=U[1];"background"in O||(O.background=!0),g(m,O)}),b=b.concat(m._indexes))}}(h),b}},37:(o,s,i)=>{function l(h,b){var w=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!w){if(Array.isArray(h)||(w=function(f,v){if(f){if(typeof f=="string")return u(f,v);var _={}.toString.call(f).slice(8,-1);return _==="Object"&&f.constructor&&(_=f.constructor.name),_==="Map"||_==="Set"?Array.from(f):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?u(f,v):void 0}}(h))||b&&h&&typeof h.length=="number"){w&&(h=w);var p=0,d=function(){};return{s:d,n:function(){return p>=h.length?{done:!0}:{done:!1,value:h[p++]}},e:function(f){throw f},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,m=!0,c=!1;return{s:function(){w=w.call(h)},n:function(){var f=w.next();return m=f.done,f},e:function(f){c=!0,y=f},f:function(){try{m||w.return==null||w.return()}finally{if(c)throw y}}}}function u(h,b){(b==null||b>h.length)&&(b=h.length);for(var w=0,p=Array(b);w<b;w++)p[w]=h[w];return p}var g=i(9981);o.exports=function(h,b,w){var p,d=w!=null?Object.keys(g(h.tree,w,{})):Object.keys(h.tree),y=new Set(Object.keys(b));if(y.size>1){p=new Set;var m,c=l(d);try{for(c.s();!(m=c.n()).done;){var f=m.value;y.has(f)&&p.add(f)}}catch(E){c.e(E)}finally{c.f()}var v,_=l(y);try{for(_.s();!(v=_.n()).done;){var S=v.value;p.has(S)||p.add(S)}}catch(E){_.e(E)}finally{_.f()}p=Array.from(p)}else p=Array.from(y);return p}},9728:o=>{o.exports=function(s,i){if(i.length!==1){for(var l=i[0],u=void 0,g=0;g<i.length-1;++g){var h=s.path(l);h&&h.schema?(u=h.schema.options.strict,s=h.schema,l=h.$isMongooseDocumentArray&&!isNaN(i[g+1])?"":i[g+1]):l+=l.length?"."+i[g+1]:i[g+1]}return u}}},9691:(o,s,i)=>{var l=i(4133);o.exports=function(u,g){return g==null||g._id==null||(u=u.clone(),g._id?u.paths._id||(l(u),u.options._id=!0):(u.remove("_id"),u.options._id=!1)),u}},6370:o=>{o.exports=function(s,i){return s==null?null:typeof s=="boolean"?i:typeof s[i]=="boolean"?s[i]?i:null:i in s?s[i]:i}},1879:o=>{function s(){return this._id!=null?String(this._id):null}function i(l){return this._id=l,l}o.exports=function(l){return!l.paths.id&&l.paths._id&&l.options.id&&(l.aliases&&l.aliases.id||(l.virtual("id").get(s),l.virtual("id").set(i))),l}},4913:o=>{function s(i,l){(l==null||l>i.length)&&(l=i.length);for(var u=0,g=Array(l);u<l;u++)g[u]=i[u];return g}o.exports=function(i,l,u){for(var g={},h=0,b=Object.keys(l.tree);h<b.length;h++){var w=b[h];u&&(i.paths[w]||i.nested[w]||i.singleNestedPaths[w])||(g[w]=l.tree[w])}i.options._isMerging=!0,i.add(g,null),delete i.options._isMerging,i.callQueue=i.callQueue.concat(l.callQueue),i.method(l.methods),i.static(l.statics);for(var p=0,d=Object.entries(l._userProvidedOptions);p<d.length;p++){var y=(f=d[p],v=2,function(E){if(Array.isArray(E))return E}(f)||function(E,x){var k=E==null?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(k!=null){var T,C,M,N,L=[],R=!0,D=!1;try{if(M=(k=k.call(E)).next,x===0){if(Object(k)!==k)return;R=!1}else for(;!(R=(T=M.call(k)).done)&&(L.push(T.value),L.length!==x);R=!0);}catch(z){D=!0,C=z}finally{try{if(!R&&k.return!=null&&(N=k.return(),Object(N)!==N))return}finally{if(D)throw C}}return L}}(f,v)||function(E,x){if(E){if(typeof E=="string")return s(E,x);var k={}.toString.call(E).slice(8,-1);return k==="Object"&&E.constructor&&(k=E.constructor.name),k==="Map"||k==="Set"?Array.from(E):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?s(E,x):void 0}}(f,v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),m=y[0],c=y[1];m in i._userProvidedOptions||i.set(m,c)}var f,v;for(var _ in l.query)i.query[_]=l.query[_];for(var S in l.virtuals)i.virtuals[S]=l.virtuals[S].clone();i._indexes=i._indexes.concat(l._indexes||[]),i.s.hooks.merge(l.s.hooks,!1)}},8828:(o,s,i)=>{var l=i(3328);o.exports=function(u){var g,h;u.$immutable?(u.$immutableSetter=(g=u.path,h=u.options.immutable,function(b,w,p,d){if(this==null||this.$__==null||this.isNew||d&&d.overwriteImmutable||!(typeof h=="function"?h.call(this,this):h))return b;var y=this.$__.priorDoc!=null?this.$__.priorDoc.$__getValue(g):this.$__getValue(g);if(this.$__.strictMode==="throw"&&b!==y)throw new l(g,"Path `"+g+"` is immutable and strict mode is set to throw.",!0);return y}),u.set(u.$immutableSetter)):u.$immutableSetter&&(u.setters=u.setters.filter(function(b){return b!==u.$immutableSetter}),delete u.$immutableSetter)}},2862:o=>{o.exports=new Set(["__proto__","constructor","prototype"])},8770:(o,s)=>{s.arrayAtomicsBackupSymbol=Symbol("mongoose#Array#atomicsBackup"),s.arrayAtomicsSymbol=Symbol("mongoose#Array#_atomics"),s.arrayParentSymbol=Symbol("mongoose#Array#_parent"),s.arrayPathSymbol=Symbol("mongoose#Array#_path"),s.arraySchemaSymbol=Symbol("mongoose#Array#_schema"),s.documentArrayParent=Symbol("mongoose:documentArrayParent"),s.documentIsSelected=Symbol("mongoose#Document#isSelected"),s.documentIsModified=Symbol("mongoose#Document#isModified"),s.documentModifiedPaths=Symbol("mongoose#Document#modifiedPaths"),s.documentSchemaSymbol=Symbol("mongoose#Document#schema"),s.getSymbol=Symbol("mongoose#Document#get"),s.modelSymbol=Symbol("mongoose#Model"),s.objectIdSymbol=Symbol("mongoose#ObjectId"),s.populateModelSymbol=Symbol("mongoose.PopulateOptions#Model"),s.schemaTypeSymbol=Symbol("mongoose#schemaType"),s.sessionNewDocuments=Symbol("mongoose:ClientSession#newDocuments"),s.scopeSymbol=Symbol("mongoose#Document#scope"),s.validatorErrorSymbol=Symbol("mongoose:validatorError")},4922:o=>{o.exports=function(s,i,l,u,g){var h=i!=null&&i.updatedAt===!1,b=i!=null&&i.createdAt===!1,w=l!=null?l():s.ownerDocument().constructor.base.now();if(!b&&(s.isNew||s.$isSubdocument)&&u&&!s.$__getValue(u)&&s.$__isSelected(u)&&s.$set(u,w,void 0,{overwriteImmutable:!0}),!h&&g&&(s.isNew||s.$isModified())){var p=w;s.isNew&&u!=null&&(p=s.$__getValue(u)),s.$set(g,p)}}},3767:(o,s,i)=>{function l(c){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},l(c)}function u(c,f){(f==null||f>c.length)&&(f=c.length);for(var v=0,_=Array(f);v<f;v++)_[v]=c[v];return _}function g(c,f,v){return(f=function(_){var S=function(E,x){if(l(E)!="object"||!E)return E;var k=E[Symbol.toPrimitive];if(k!==void 0){var T=k.call(E,"string");if(l(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(_);return l(S)=="symbol"?S:S+""}(f))in c?Object.defineProperty(c,f,{value:v,enumerable:!0,configurable:!0,writable:!0}):c[f]=v,c}var h=i(4843),b=i(6434),w=i(9981),p=i(6370),d=i(4922),y=i(8107),m=new Set(["replaceOne","findOneAndReplace"]);o.exports=function(c,f){var v=c.childSchemas.find(function(N){return!!N.schema.options.timestamps});if(f||v){var _=p(f,"createdAt"),S=p(f,"updatedAt"),E=f!=null&&f.hasOwnProperty("currentTime")?f.currentTime:null,x={};if(c.$timestamps={createdAt:_,updatedAt:S},_&&!c.paths[_]){var k=c.base!=null?c.base.get("timestamps.createdAt.immutable"):null,T=k==null||k;x[_]=g(g({},c.options.typeKey||"type",Date),"immutable",T)}S&&!c.paths[S]&&(x[S]=Date),c.add(x),c.pre("save",function(N){var L=w(this,"$__.saveOptions.timestamps");if(L===!1)return N();d(this,L,E,_,S),N()}),c.methods.initializeTimestamps=function(){var N=E!=null?E():this.constructor.base.now();if(_&&!this.get(_)&&this.$set(_,N),S&&!this.get(S)&&this.$set(S,N),this.$isSubdocument)return this;var L,R=function(z,U){var O=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!O){if(Array.isArray(z)||(O=function(q,X){if(q){if(typeof q=="string")return u(q,X);var te={}.toString.call(q).slice(8,-1);return te==="Object"&&q.constructor&&(te=q.constructor.name),te==="Map"||te==="Set"?Array.from(q):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?u(q,X):void 0}}(z))||U&&z&&typeof z.length=="number"){O&&(z=O);var I=0,j=function(){};return{s:j,n:function(){return I>=z.length?{done:!0}:{done:!1,value:z[I++]}},e:function(q){throw q},f:j}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P,A=!0,$=!1;return{s:function(){O=O.call(z)},n:function(){var q=O.next();return A=q.done,q},e:function(q){$=!0,P=q},f:function(){try{A||O.return==null||O.return()}finally{if($)throw P}}}}(this.$getAllSubdocs());try{for(R.s();!(L=R.n()).done;){var D=L.value;D.initializeTimestamps&&D.initializeTimestamps()}}catch(z){R.e(z)}finally{R.f()}return this},M[y.builtInMiddleware]=!0;var C={query:!0,model:!1};c.pre("findOneAndReplace",C,M),c.pre("findOneAndUpdate",C,M),c.pre("replaceOne",C,M),c.pre("update",C,M),c.pre("updateOne",C,M),c.pre("updateMany",C,M)}function M(N){var L=E!=null?E():this.model.base.now();m.has(this.op)&&this.getUpdate()==null&&this.setUpdate({}),b(L,_,S,this.getUpdate(),this._mongooseOptions,this.schema),h(L,this.getUpdate(),this.model.schema),N()}}},5285:(o,s,i)=>{var l=i(1981);o.exports=function(u){if(l(u)!=="TopologyDescription")return!1;var g=Array.from(u.servers.values());return g.length>0&&g.every(function(h){return h.type==="Unknown"})}},2082:(o,s,i)=>{function l(g,h){(h==null||h>g.length)&&(h=g.length);for(var b=0,w=Array(h);b<h;b++)w[b]=g[b];return w}var u=i(1981);o.exports=function(g){if(u(g)!=="TopologyDescription"||g.servers.size===0)return!1;var h,b=function(p,d){var y=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!y){if(Array.isArray(p)||(y=function(S,E){if(S){if(typeof S=="string")return l(S,E);var x={}.toString.call(S).slice(8,-1);return x==="Object"&&S.constructor&&(x=S.constructor.name),x==="Map"||x==="Set"?Array.from(S):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?l(S,E):void 0}}(p))||d&&p&&typeof p.length=="number"){y&&(p=y);var m=0,c=function(){};return{s:c,n:function(){return m>=p.length?{done:!0}:{done:!1,value:p[m++]}},e:function(S){throw S},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f,v=!0,_=!1;return{s:function(){y=y.call(p)},n:function(){var S=y.next();return v=S.done,S},e:function(S){_=!0,f=S},f:function(){try{v||y.return==null||y.return()}finally{if(_)throw f}}}}(g.servers.values());try{for(b.s();!(h=b.n()).done;){var w=h.value;if(w.host.endsWith(".mongodb.net")===!1||w.port!==27017)return!1}}catch(p){b.e(p)}finally{b.f()}return!0}},3871:(o,s,i)=>{var l=i(1981);o.exports=function(u){if(l(u)!=="TopologyDescription")return!1;var g=Array.from(u.servers.values());return g.length>0&&g.every(function(h){return h.error&&h.error.message.indexOf("Client network socket disconnected before secure TLS connection was established")!==-1})}},4843:(o,s,i)=>{function l(p,d){var y=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!y){if(Array.isArray(p)||(y=function(S,E){if(S){if(typeof S=="string")return u(S,E);var x={}.toString.call(S).slice(8,-1);return x==="Object"&&S.constructor&&(x=S.constructor.name),x==="Map"||x==="Set"?Array.from(S):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?u(S,E):void 0}}(p))||d&&p&&typeof p.length=="number"){y&&(p=y);var m=0,c=function(){};return{s:c,n:function(){return m>=p.length?{done:!0}:{done:!1,value:p[m++]}},e:function(S){throw S},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f,v=!0,_=!1;return{s:function(){y=y.call(p)},n:function(){var S=y.next();return v=S.done,S},e:function(S){_=!0,f=S},f:function(){try{v||y.return==null||y.return()}finally{if(_)throw f}}}}function u(p,d){(d==null||d>p.length)&&(d=p.length);for(var y=0,m=Array(d);y<d;y++)m[y]=p[y];return m}var g=i(7658),h=i(6370);function b(p,d,y){if(d!=null){var m=Object.keys(d).some(function(N){return N[0]==="$"});if(m){if(d.$push&&M(d.$push),d.$addToSet&&M(d.$addToSet),d.$set!=null)for(var c=0,f=Object.keys(d.$set);c<f.length;c++){var v=f[c];w(y,v,d.$set,p)}if(d.$setOnInsert!=null)for(var _=0,S=Object.keys(d.$setOnInsert);_<S.length;_++){var E=S[_];w(y,E,d.$setOnInsert,p)}}var x,k=Object.keys(d).filter(function(N){return N[0]!=="$"}),T=l(k);try{for(T.s();!(x=T.n()).done;){var C=x.value;w(y,C,d,p)}}catch(N){T.e(N)}finally{T.f()}}function M(N){for(var L=function(){var z=D[R],U=y.path(z.replace(/\.\$\./i,".").replace(/.\$$/,""));if(N[z]&&U&&U.$isMongooseDocumentArray&&U.schema.options.timestamps){var O=U.schema.options.timestamps,I=h(O,"createdAt"),j=h(O,"updatedAt");N[z].$each?N[z].$each.forEach(function(P){j!=null&&(P[j]=p),I!=null&&(P[I]=p),b(p,P,U.schema)}):(j!=null&&(N[z][j]=p),I!=null&&(N[z][I]=p),b(p,N[z],U.schema))}},R=0,D=Object.keys(N);R<D.length;R++)L()}}function w(p,d,y,m){var c=g(d),f=p.path(c);if(f){for(var v=[],_=c.split("."),S=_.length-1;S>0;--S){var E=p.path(_.slice(0,S).join("."));E!=null&&(E.$isMongooseDocumentArray||E.$isSingleNested)&&v.push({parentPath:d.split(".").slice(0,S).join("."),parentSchemaType:E})}if(Array.isArray(y[d])&&f.$isMongooseDocumentArray)(function(I,j,P){var A=j.schema.options.timestamps,$=I.length;if(A)for(var q=h(A,"createdAt"),X=h(A,"updatedAt"),te=0;te<$;++te)X!=null&&(I[te][X]=P),q!=null&&(I[te][q]=P),b(P,I[te],j.schema);else for(var re=0;re<$;++re)b(P,I[re],j.schema)})(y[d],f,m);else if(y[d]&&f.$isSingleNested)(function(I,j,P){var A=j.schema.options.timestamps;if(A){var $=h(A,"createdAt"),q=h(A,"updatedAt");q!=null&&(I[q]=P),$!=null&&(I[$]=P),b(P,I,j.schema)}else b(P,I,j.schema)})(y[d],f,m);else if(v.length>0){var x,k=l(v);try{for(k.s();!(x=k.n()).done;){var T=x.value,C=T.parentPath,M=T.parentSchemaType,N=M.schema.options.timestamps,L=h(N,"updatedAt");if(N&&L!=null){if(M.$isSingleNested)y[C+"."+L]=m;else if(M.$isMongooseDocumentArray){var R=d.substring(C.length+1);if(/^\d+$/.test(R)){y[C+"."+R][L]=m;continue}var D=R.indexOf(".");y[C+"."+(R=D!==-1?R.substring(0,D):R)+"."+L]=m}}}}catch(I){k.e(I)}finally{k.f()}}else if(f.schema!=null&&f.schema!=p&&y[d]){var z=f.schema.options.timestamps,U=h(z,"createdAt"),O=h(z,"updatedAt");if(!z)return;O!=null&&(y[d][O]=m),U!=null&&(y[d][U]=m)}}}o.exports=b},6434:(o,s,i)=>{function l(g){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(g)}var u=i(9981);o.exports=function(g,h,b,w,p){var d=w,y=d,m=u(p,"overwrite",!1),c=u(p,"timestamps",!0);if(!c||d==null)return w;var f,v,_,S=c!=null&&c.createdAt===!1,E=c!=null&&c.updatedAt===!1;if(m)return w&&w.$set&&(w=w.$set,d.$set={},y=d.$set),E||!b||w[b]||(y[b]=g),S||!h||w[h]||(y[h]=g),d;if(w=w||{},Array.isArray(d))return b==null||d.push({$set:(f={},v=b,_=g,(v=function(U){var O=function(I,j){if(l(I)!="object"||!I)return I;var P=I[Symbol.toPrimitive];if(P!==void 0){var A=P.call(I,"string");if(l(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(U);return l(O)=="symbol"?O:O+""}(v))in f?Object.defineProperty(f,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):f[v]=_,f)}),d;if(d.$set=d.$set||{},!E&&b&&(!w.$currentDate||!w.$currentDate[b])){var x=!1;if(b.indexOf(".")!==-1)for(var k=b.split("."),T=1;T<k.length;++T){var C=k.slice(-T).join("."),M=k.slice(0,-T).join(".");if(w[M]!=null){w[M][C]=g,x=!0;break}if(w.$set&&w.$set[M]){w.$set[M][C]=g,x=!0;break}}x||(d.$set[b]=g),d.hasOwnProperty(b)&&delete d[b]}if(!S&&h){w[h]&&delete w[h],w.$set&&w.$set[h]&&delete w.$set[h];var N=!1;if(h.indexOf(".")!==-1)for(var L=h.split("."),R=1;R<L.length;++R){var D=L.slice(-R).join("."),z=L.slice(0,-R).join(".");if(w[z]!=null){w[z][D]=g,N=!0;break}if(w.$set&&w.$set[z]){w.$set[z][D]=g,N=!0;break}}N||(d.$setOnInsert=d.$setOnInsert||{},d.$setOnInsert[h]=g)}return Object.keys(d.$set).length===0&&delete d.$set,d}},6379:(o,s,i)=>{var l=i(489).ctor("require","modify","init","default","ignore");function u(){this.activePaths=new l}o.exports=u,u.prototype.strictMode=!0,u.prototype.fullPath=void 0,u.prototype.selected=void 0,u.prototype.shardval=void 0,u.prototype.saveError=void 0,u.prototype.validationError=void 0,u.prototype.adhocPaths=void 0,u.prototype.removing=void 0,u.prototype.inserting=void 0,u.prototype.saving=void 0,u.prototype.version=void 0,u.prototype._id=void 0,u.prototype.ownerDocument=void 0,u.prototype.populate=void 0,u.prototype.populated=void 0,u.prototype.primitiveAtomics=void 0,u.prototype.wasPopulated=!1,u.prototype.scope=void 0,u.prototype.session=null,u.prototype.pathsToScopes=null,u.prototype.cachedRequired=null},4962:(o,s)=>{s.h={transform:!1,virtuals:!1,getters:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1,useProjection:!1}},4034:(o,s,i)=>{function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(p)}function u(p,d){for(var y=0;y<d.length;y++){var m=d[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,h(m.key),m)}}function g(p,d,y){return d&&u(p.prototype,d),y&&u(p,y),Object.defineProperty(p,"prototype",{writable:!1}),p}function h(p){var d=function(y,m){if(l(y)!="object"||!y)return y;var c=y[Symbol.toPrimitive];if(c!==void 0){var f=c.call(y,"string");if(l(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}(p);return l(d)=="symbol"?d:d+""}var b=i(1973),w=g(function p(d){if(function(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}(this,p),this._docs={},this._childDocs=[],d!=null&&(d=b(d),Object.assign(this,d),l(d.subPopulate)==="object"&&(this.populate=d.subPopulate),d.perDocumentLimit!=null&&d.limit!=null))throw new Error("Can not use `limit` and `perDocumentLimit` at the same time. Path: `"+d.path+"`.")});o.exports=w},4756:(o,s,i)=>{function l(d){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},l(d)}function u(d,y,m){return y=h(y),function(c,f){if(f&&(l(f)=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(c)}(d,g()?Reflect.construct(y,m||[],h(d).constructor):y.apply(d,m))}function g(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!d})()}function h(d){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},h(d)}function b(d,y){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,c){return m.__proto__=c,m},b(d,y)}var w=function(d){function y(){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,y),u(this,y,arguments)}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),f&&b(c,f)}(y,d),m=y,Object.defineProperty(m,"prototype",{writable:!1}),m;var m}(i(1764)),p=i(3439);Object.defineProperty(w.prototype,"enum",p),Object.defineProperty(w.prototype,"of",p),Object.defineProperty(w.prototype,"castNonArrays",p),o.exports=w},9586:(o,s,i)=>{function l(d){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},l(d)}function u(d,y,m){return y=h(y),function(c,f){if(f&&(l(f)=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(c)}(d,g()?Reflect.construct(y,m||[],h(d).constructor):y.apply(d,m))}function g(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!d})()}function h(d){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},h(d)}function b(d,y){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,c){return m.__proto__=c,m},b(d,y)}var w=function(d){function y(){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,y),u(this,y,arguments)}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),f&&b(c,f)}(y,d),m=y,Object.defineProperty(m,"prototype",{writable:!1}),m;var m}(i(1764)),p=i(3439);Object.defineProperty(w.prototype,"subtype",p),o.exports=w},2869:(o,s,i)=>{function l(d){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},l(d)}function u(d,y,m){return y=h(y),function(c,f){if(f&&(l(f)=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(c)}(d,g()?Reflect.construct(y,m||[],h(d).constructor):y.apply(d,m))}function g(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!d})()}function h(d){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},h(d)}function b(d,y){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,c){return m.__proto__=c,m},b(d,y)}var w=function(d){function y(){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,y),u(this,y,arguments)}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),f&&b(c,f)}(y,d),m=y,Object.defineProperty(m,"prototype",{writable:!1}),m;var m}(i(1764)),p=i(3439);Object.defineProperty(w.prototype,"min",p),Object.defineProperty(w.prototype,"max",p),Object.defineProperty(w.prototype,"expires",p),o.exports=w},887:(o,s,i)=>{function l(d){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},l(d)}function u(d,y,m){return y=h(y),function(c,f){if(f&&(l(f)=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(c)}(d,g()?Reflect.construct(y,m||[],h(d).constructor):y.apply(d,m))}function g(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!d})()}function h(d){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},h(d)}function b(d,y){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,c){return m.__proto__=c,m},b(d,y)}var w=function(d){function y(){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,y),u(this,y,arguments)}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),f&&b(c,f)}(y,d),m=y,Object.defineProperty(m,"prototype",{writable:!1}),m;var m}(i(1764)),p=i(3439);Object.defineProperty(w.prototype,"excludeIndexes",p),Object.defineProperty(w.prototype,"_id",p),o.exports=w},8227:(o,s,i)=>{function l(d){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},l(d)}function u(d,y,m){return y=h(y),function(c,f){if(f&&(l(f)=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(c)}(d,g()?Reflect.construct(y,m||[],h(d).constructor):y.apply(d,m))}function g(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!d})()}function h(d){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},h(d)}function b(d,y){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,c){return m.__proto__=c,m},b(d,y)}var w=function(d){function y(){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,y),u(this,y,arguments)}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),f&&b(c,f)}(y,d),m=y,Object.defineProperty(m,"prototype",{writable:!1}),m;var m}(i(1764)),p=i(3439);Object.defineProperty(w.prototype,"of",p),o.exports=w},8491:(o,s,i)=>{function l(d){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},l(d)}function u(d,y,m){return y=h(y),function(c,f){if(f&&(l(f)=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(c)}(d,g()?Reflect.construct(y,m||[],h(d).constructor):y.apply(d,m))}function g(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!d})()}function h(d){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},h(d)}function b(d,y){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,c){return m.__proto__=c,m},b(d,y)}var w=function(d){function y(){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,y),u(this,y,arguments)}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),f&&b(c,f)}(y,d),m=y,Object.defineProperty(m,"prototype",{writable:!1}),m;var m}(i(1764)),p=i(3439);Object.defineProperty(w.prototype,"min",p),Object.defineProperty(w.prototype,"max",p),Object.defineProperty(w.prototype,"enum",p),Object.defineProperty(w.prototype,"populate",p),o.exports=w},8172:(o,s,i)=>{function l(d){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},l(d)}function u(d,y,m){return y=h(y),function(c,f){if(f&&(l(f)=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(c)}(d,g()?Reflect.construct(y,m||[],h(d).constructor):y.apply(d,m))}function g(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!d})()}function h(d){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},h(d)}function b(d,y){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,c){return m.__proto__=c,m},b(d,y)}var w=function(d){function y(){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,y),u(this,y,arguments)}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),f&&b(c,f)}(y,d),m=y,Object.defineProperty(m,"prototype",{writable:!1}),m;var m}(i(1764)),p=i(3439);Object.defineProperty(w.prototype,"auto",p),Object.defineProperty(w.prototype,"populate",p),o.exports=w},3209:(o,s,i)=>{function l(d){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},l(d)}function u(d,y,m){return y=h(y),function(c,f){if(f&&(l(f)=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(c)}(d,g()?Reflect.construct(y,m||[],h(d).constructor):y.apply(d,m))}function g(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!d})()}function h(d){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},h(d)}function b(d,y){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,c){return m.__proto__=c,m},b(d,y)}var w=function(d){function y(){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,y),u(this,y,arguments)}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),f&&b(c,f)}(y,d),m=y,Object.defineProperty(m,"prototype",{writable:!1}),m;var m}(i(1764)),p=i(3439);Object.defineProperty(w.prototype,"enum",p),Object.defineProperty(w.prototype,"match",p),Object.defineProperty(w.prototype,"lowercase",p),Object.defineProperty(w.prototype,"trim",p),Object.defineProperty(w.prototype,"uppercase",p),Object.defineProperty(w.prototype,"minLength",p),Object.defineProperty(w.prototype,"minlength",p),Object.defineProperty(w.prototype,"maxLength",p),Object.defineProperty(w.prototype,"maxlength",p),Object.defineProperty(w.prototype,"populate",p),o.exports=w},5446:(o,s,i)=>{function l(d){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},l(d)}function u(d,y,m){return y=h(y),function(c,f){if(f&&(l(f)=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(c)}(d,g()?Reflect.construct(y,m||[],h(d).constructor):y.apply(d,m))}function g(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!d})()}function h(d){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},h(d)}function b(d,y){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,c){return m.__proto__=c,m},b(d,y)}var w=function(d){function y(){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,y),u(this,y,arguments)}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),f&&b(c,f)}(y,d),m=y,Object.defineProperty(m,"prototype",{writable:!1}),m;var m}(i(1764)),p=i(3439);Object.defineProperty(w.prototype,"_id",p),o.exports=w},1764:(o,s,i)=>{function l(d){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},l(d)}function u(d,y){for(var m=0;m<y.length;m++){var c=y[m];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(d,h(c.key),c)}}function g(d,y,m){return y&&u(d.prototype,y),m&&u(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function h(d){var y=function(m,c){if(l(m)!="object"||!m)return m;var f=m[Symbol.toPrimitive];if(f!==void 0){var v=f.call(m,"string");if(l(v)!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}(d);return l(y)=="symbol"?y:y+""}var b=i(1973),w=g(function d(y){if(function(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}(this,d),y==null)return this;Object.assign(this,b(y))}),p=i(3439);Object.defineProperty(w.prototype,"type",p),Object.defineProperty(w.prototype,"validate",p),Object.defineProperty(w.prototype,"cast",p),Object.defineProperty(w.prototype,"required",p),Object.defineProperty(w.prototype,"default",p),Object.defineProperty(w.prototype,"ref",p),Object.defineProperty(w.prototype,"refPath",p),Object.defineProperty(w.prototype,"select",p),Object.defineProperty(w.prototype,"index",p),Object.defineProperty(w.prototype,"unique",p),Object.defineProperty(w.prototype,"immutable",p),Object.defineProperty(w.prototype,"sparse",p),Object.defineProperty(w.prototype,"text",p),Object.defineProperty(w.prototype,"transform",p),o.exports=w},1902:(o,s,i)=>{function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(p)}function u(p,d){for(var y=0;y<d.length;y++){var m=d[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,h(m.key),m)}}function g(p,d,y){return d&&u(p.prototype,d),y&&u(p,y),Object.defineProperty(p,"prototype",{writable:!1}),p}function h(p){var d=function(y,m){if(l(y)!="object"||!y)return y;var c=y[Symbol.toPrimitive];if(c!==void 0){var f=c.call(y,"string");if(l(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}(p);return l(d)=="symbol"?d:d+""}var b=i(3439),w=g(function p(d){(function(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")})(this,p),Object.assign(this,d),d!=null&&d.options!=null&&(this.options=Object.assign({},d.options))});Object.defineProperty(w.prototype,"ref",b),Object.defineProperty(w.prototype,"refPath",b),Object.defineProperty(w.prototype,"localField",b),Object.defineProperty(w.prototype,"foreignField",b),Object.defineProperty(w.prototype,"justOne",b),Object.defineProperty(w.prototype,"count",b),Object.defineProperty(w.prototype,"match",b),Object.defineProperty(w.prototype,"options",b),Object.defineProperty(w.prototype,"skip",b),Object.defineProperty(w.prototype,"limit",b),Object.defineProperty(w.prototype,"perDocumentLimit",b),o.exports=w},3439:o=>{o.exports=Object.freeze({enumerable:!0,configurable:!0,writable:!0,value:void 0})},4292:(o,s,i)=>{s.removeSubdocs=i(4393),s.saveSubdocs=i(535),s.sharding=i(7472),s.trackTransaction=i(442),s.validateBeforeSave=i(9888)},4393:(o,s,i)=>{var l=i(9449);o.exports=function(u){u.s.hooks.pre("deleteOne",{document:!0,query:!1},function(g){if(this.$isSubdocument)g();else if(this.$__!=null){var h=this,b=this.$getAllSubdocs();l(b,function(w,p){w.$__deleteOne(p)},function(w){if(w)return h.$__schema.s.hooks.execPost("deleteOne:error",h,[h],{error:w},function(p){g(p)});g()})}else g()},null,!0)}},535:(o,s,i)=>{var l=i(9449);o.exports=function(u){var g=!0;u.s.hooks.pre("save",!1,function(h){if(this.$isSubdocument)h();else{var b=this,w=this.$getAllSubdocs();w.length?l(w,function(p,d){p.$__schema.s.hooks.execPre("save",p,function(y){d(y)})},function(p){if(p)return b.$__schema.s.hooks.execPost("save:error",b,[b],{error:p},function(d){h(d)});h()}):h()}},null,g),u.s.hooks.post("save",function(h,b){if(this.$isSubdocument)b();else{var w=this,p=this.$getAllSubdocs();p.length?l(p,function(d,y){d.$__schema.s.hooks.execPost("save",d,[d],function(m){y(m)})},function(d){if(d)return w.$__schema.s.hooks.execPost("save:error",w,[w],{error:d},function(y){b(y)});b()}):b()}},null,g)}},7472:(o,s,i)=>{var l=i(8770).objectIdSymbol,u=i(6872);function g(){var b,w;if(this.$__.shardval){w=(b=Object.keys(this.$__.shardval)).length,this.$where=this.$where||{};for(var p=0;p<w;++p)this.$where[b[p]]=this.$__.shardval[b[p]]}}function h(){var b=this.$__schema.options.shardKey||this.$__schema.options.shardkey;if(u.isPOJO(b))for(var w,p=this.$__.shardval={},d=Object.keys(b),y=d.length,m=0;m<y;++m)(w=this.$__getValue(d[m]))==null?p[d[m]]=w:u.isMongooseObject(w)?p[d[m]]=w.toObject({depopulate:!0,_isNested:!0}):w instanceof Date||w[l]?p[d[m]]=w:typeof w.valueOf=="function"?p[d[m]]=w.valueOf():p[d[m]]=w}o.exports=function(b){b.post("init",function(){return h.call(this),this}),b.pre("save",function(w){g.call(this),w()}),b.pre("remove",function(w){g.call(this),w()}),b.post("save",function(){h.call(this)})},o.exports.storeShard=h},442:(o,s,i)=>{function l(d,y){var m=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!m){if(Array.isArray(d)||(m=function(E,x){if(E){if(typeof E=="string")return u(E,x);var k={}.toString.call(E).slice(8,-1);return k==="Object"&&E.constructor&&(k=E.constructor.name),k==="Map"||k==="Set"?Array.from(E):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?u(E,x):void 0}}(d))||y&&d&&typeof d.length=="number"){m&&(d=m);var c=0,f=function(){};return{s:f,n:function(){return c>=d.length?{done:!0}:{done:!1,value:d[c++]}},e:function(E){throw E},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,_=!0,S=!1;return{s:function(){m=m.call(d)},n:function(){var E=m.next();return _=E.done,E},e:function(E){S=!0,v=E},f:function(){try{_||m.return==null||m.return()}finally{if(S)throw v}}}}function u(d,y){(y==null||y>d.length)&&(y=d.length);for(var m=0,c=Array(y);m<y;m++)c[m]=d[m];return c}var g=i(8770).arrayAtomicsSymbol,h=i(8770).sessionNewDocuments,b=i(6872);function w(d,y){var m=new Map;y=y||new Map;var c,f=l(Object.keys(d.$__.activePaths.init).concat(Object.keys(d.$__.activePaths.modify)));try{for(f.s();!(c=f.n()).done;){var v=c.value,_=d.$__getValue(v);if(_!=null&&Array.isArray(_)&&b.isMongooseDocumentArray(_)&&_.length&&_[g]!=null&&Object.keys(_[g]).length!==0){var S=y.get(v)||{};m.set(v,p(S,_[g]))}}}catch(N){f.e(N)}finally{f.f()}var E,x=l(d.$__dirty());try{for(x.s();!(E=x.n()).done;){var k=E.value,T=k.path,C=k.value;if(C!=null&&C[g]!=null&&Object.keys(C[g]).length!==0){var M=y.get(T)||{};m.set(T,p(M,C[g]))}}}catch(N){x.e(N)}finally{x.f()}return m}function p(d,y){return d=d||{},y.$pullAll!=null&&(d.$pullAll=(d.$pullAll||[]).concat(y.$pullAll)),y.$push!=null&&(d.$push=d.$push||{},d.$push.$each=(d.$push.$each||[]).concat(y.$push.$each)),y.$addToSet!=null&&(d.$addToSet=(d.$addToSet||[]).concat(y.$addToSet)),y.$set!=null&&(d.$set=Object.assign(d.$set||{},y.$set)),d}o.exports=function(d){d.pre("save",function(){var y=this.$session();if(y!=null&&y.transaction!=null&&y[h]!=null)if(y[h].has(this)){for(var m=y[h].get(this),c=0,f=Object.keys(this.$__.activePaths.getStatePaths("modify"));c<f.length;c++){var v=f[c];m.modifiedPaths.add(v)}m.atomics=w(this,m.atomics)}else{var _={};this.isNew&&(_.isNew=!0),this.$__schema.options.versionKey&&(_.versionKey=this.get(this.$__schema.options.versionKey)),_.modifiedPaths=new Set(Object.keys(this.$__.activePaths.getStatePaths("modify"))),_.atomics=w(this),y[h].set(this,_)}})}},9888:o=>{function s(i){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(i)}o.exports=function(i){i.pre("save",!1,function(l,u){var g=this,h=this;if(this.$isSubdocument)return l();if(u&&s(u)==="object"&&"validateBeforeSave"in u?u.validateBeforeSave:this.$__schema.options.validateBeforeSave){var b=u&&s(u)==="object"&&"validateModifiedOnly"in u?{validateModifiedOnly:u.validateModifiedOnly}:null;this.$validate(b).then(function(){g.$op="save",l()},function(w){h.$__schema.s.hooks.execPost("save:error",h,[h],{error:w},function(p){h.$op="save",l(p)})})}else l()},null,!0)}},2888:(o,s,i)=>{function l(c){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},l(c)}function u(c,f){var v=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!v){if(Array.isArray(c)||(v=function(T,C){if(T){if(typeof T=="string")return g(T,C);var M={}.toString.call(T).slice(8,-1);return M==="Object"&&T.constructor&&(M=T.constructor.name),M==="Map"||M==="Set"?Array.from(T):M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M)?g(T,C):void 0}}(c))||f&&c&&typeof c.length=="number"){v&&(c=v);var _=0,S=function(){};return{s:S,n:function(){return _>=c.length?{done:!0}:{done:!1,value:c[_++]}},e:function(T){throw T},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E,x=!0,k=!1;return{s:function(){v=v.call(c)},n:function(){var T=v.next();return x=T.done,T},e:function(T){k=!0,E=T},f:function(){try{x||v.return==null||v.return()}finally{if(k)throw E}}}}function g(c,f){(f==null||f>c.length)&&(f=c.length);for(var v=0,_=Array(f);v<f;v++)_[v]=c[v];return _}var h=i(4531),b=i(9981),w=i(7291),p=i(2183),d=i(1973),y=i(23);function m(c){return function(f){f.options||(f.options={}),c!=null&&Array.isArray(c.virtuals)&&((c=Object.assign({},c)).virtuals=c.virtuals.filter(function(v){return typeof v=="string"&&v.startsWith(f.path+".")}).map(function(v){return v.slice(f.path.length+1)})),f.options.lean=c}}s.preparePopulationOptions=function(c,f){var v=c.options.populate,_=Object.keys(v).reduce(function(S,E){return S.concat([v[E]])},[]);return f.lean!=null&&_.filter(function(S){return(S&&S.options&&S.options.lean)==null}).forEach(m(f.lean)),_.forEach(function(S){S._localModel=c.model}),_},s.preparePopulationOptionsMQ=function(c,f){var v=c._mongooseOptions.populate,_=Object.keys(v).reduce(function(x,k){return x.concat([v[k]])},[]);f.lean!=null&&_.filter(function(x){return(x&&x.options&&x.options.lean)==null}).forEach(m(f.lean));var S=c&&c.options&&c.options.session||null;S!=null&&_.forEach(function(x){x.options!=null?"session"in x.options||(x.options.session=S):x.options={session:S}});var E=c._fieldsForExec();return _.forEach(function(x){x._queryProjection=E}),_.forEach(function(x){x._localModel=c.model}),_},s.createModel=function(c,f,v,_,S){c.hooks.execPreSync("createModel",f);var E=c.schema?c.schema.discriminatorMapping:null,x=E&&E.isRoot?E.key:null,k=f[x];if(x&&k&&c.discriminators){var T=c.discriminators[k]||w(c.discriminators,k);if(T){var C=d(_);return s.applyPaths(C,T.schema),new T(void 0,C,!0)}}var M={skipId:!0,isNew:!1,willInit:!0};return S!=null&&"defaults"in S&&(M.defaults=S.defaults),new c(void 0,v,M)},s.createModelAndInit=function(c,f,v,_,S,E,x){var k=E?{populated:E}:void 0,T=s.createModel(c,f,v,_,S);try{T.$init(f,k,x)}catch(C){x(C,T)}},s.applyPaths=function(c,f){var v,_,S=new Set;if(c){_=Object.keys(c);for(var E=[],x=0;x<_.length;++x){var k=_[x];_[x][0]==="-"&&(delete c[k],k==="-_id"?c._id=0:E.push(k.slice(1)))}_=Object.keys(c);for(var T=0;T<_.length;++T)if(_[T][0]!=="+"){var C=c[_[T]];if(p(C)&&!(_[T]==="_id"&&_.length>1)&&(!(_[T]===f.options.discriminatorKey&&_.length>1&&C!=null)||C)){v=!C;break}}for(var M=0,N=E;M<N.length;M++){var L=N[M],R=f.path(L);R&&R.selected&&v===!1?R&&R.selected&&v===!1&&S.add(L):(c[L]=0,v=!0)}}var D=[],z=[],U=[];switch(function de(le,V){if(V||(V=""),U.indexOf(le)!==-1)return[];U.push(le);var G=[];return le.eachPath(function(K,ne){if(V&&(K=V+"."+K),ne.$isSchemaMap||K.endsWith(".$*")){var W=c&&"+"+K in c;ne.options&&ne.options.select===!1&&!W&&z.push(K)}else{var H=ee(K,ne);if(H!=null||Array.isArray(ne)||!ne.$isMongooseArray||ne.$isMongooseDocumentArray||(H=ee(K,ne.caster)),H!=null&&G.push(H),ne.schema){var se=de(ne.schema,K);v===!1&&h(c,K,ne.schema,D,se)}}}),U.pop(),G}(f),v){case!0:var O,I=u(z);try{for(I.s();!(O=I.n()).done;){var j=O.value;c[j]=0}}catch(de){I.e(de)}finally{I.f()}break;case!1:f&&f.paths._id&&f.paths._id.options&&f.paths._id.options.select===!1&&(c._id=0);var P,A=u(D);try{for(A.s();!(P=A.n()).done;){var $=P.value;S.has($)||y(c,$)||(c[$]=c[$]||1)}}catch(de){A.e(de)}finally{A.f()}break;case void 0:if(c==null)break;for(var q=0,X=Object.keys(c||{});q<X.length;q++){var te=X[q];te.startsWith("+")&&delete c[te]}var re,ie=u(z);try{for(ie.s();!(re=ie.n()).done;){var Z=re.value;c[Z]==null&&(c[Z]=0)}}catch(de){ie.e(de)}finally{ie.f()}}function ee(de,le){if(c!=null&&typeof le.selected=="boolean"&&(le.selected!==!1||!c[de]))if(v||!le.selected||de!==f.options.discriminatorKey||c[de]==null||c[de]){if(v!==!1||!le.selected||c[de]==null||c[de]){var V="+"+de;if(c&&V in c)return delete c[V],void(v===!1&&_.length>1&&!~_.indexOf(de)&&(c[de]=1));for(var G=de.split("."),K="",ne=0;ne<G.length;++ne)if(K+=K.length?"."+G[ne]:G[ne],z.indexOf(K)!==-1)return;if(!v&&le&&le.options&&le.options.$skipDiscriminatorCheck)for(var W="",H=0;H<G.length;++H){W+=(W.length===0?"":".")+G[H];var se=b(c,W,!1)||b(c,W+".$",!1);if(se&&l(se)!=="object")return}return(le.selected?D:z).push(de),de}delete c[de]}else delete c[de]}}},5506:(o,s,i)=>{var l=i(365).Buffer;function u(W,H){var se=Object.keys(W);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(W);H&&(ce=ce.filter(function(ue){return Object.getOwnPropertyDescriptor(W,ue).enumerable})),se.push.apply(se,ce)}return se}function g(W,H,se){return(H=function(ce){var ue=function(be,Se){if(h(be)!="object"||!be)return be;var Ae=be[Symbol.toPrimitive];if(Ae!==void 0){var we=Ae.call(be,"string");if(h(we)!="object")return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(be)}(ce);return h(ue)=="symbol"?ue:ue+""}(H))in W?Object.defineProperty(W,H,{value:se,enumerable:!0,configurable:!0,writable:!0}):W[H]=se,W}function h(W){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},h(W)}function b(W,H){return function(se){if(Array.isArray(se))return se}(W)||function(se,ce){var ue=se==null?null:typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if(ue!=null){var be,Se,Ae,we,Ue=[],$e=!0,Ce=!1;try{if(Ae=(ue=ue.call(se)).next,ce===0){if(Object(ue)!==ue)return;$e=!1}else for(;!($e=(be=Ae.call(ue)).done)&&(Ue.push(be.value),Ue.length!==ce);$e=!0);}catch(nt){Ce=!0,Se=nt}finally{try{if(!$e&&ue.return!=null&&(we=ue.return(),Object(we)!==we))return}finally{if(Ce)throw Se}}return Ue}}(W,H)||p(W,H)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w(W,H){var se=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!se){if(Array.isArray(W)||(se=p(W))||H&&W&&typeof W.length=="number"){se&&(W=se);var ce=0,ue=function(){};return{s:ue,n:function(){return ce>=W.length?{done:!0}:{done:!1,value:W[ce++]}},e:function(we){throw we},f:ue}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var be,Se=!0,Ae=!1;return{s:function(){se=se.call(W)},n:function(){var we=se.next();return Se=we.done,we},e:function(we){Ae=!0,be=we},f:function(){try{Se||se.return==null||se.return()}finally{if(Ae)throw be}}}}function p(W,H){if(W){if(typeof W=="string")return d(W,H);var se={}.toString.call(W).slice(8,-1);return se==="Object"&&W.constructor&&(se=W.constructor.name),se==="Map"||se==="Set"?Array.from(W):se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se)?d(W,H):void 0}}function d(W,H){(H==null||H>W.length)&&(H=W.length);for(var se=0,ce=Array(H);se<H;se++)ce[se]=W[se];return ce}var y,m=i(9620).EventEmitter,c=i(3138),f=i(5202),v=i(4289),_=i(1764),S=i(1902),E=i(459),x=i(4133),k=i(1973),T=i(9981),C=i(1981),M=i(5379),N=i(1428),L=i(1879),R=i(4913),D=i(3564),z=i(3767),U=i(6872),O=i(6870),I=i(8751),j=/\.\d+(\.|$)/,P=i(5130).middlewareFunctions,A=i(8859).middlewareFunctions,$=P.concat(A).reduce(function(W,H){return W.add(H)},new Set),q=U.isPOJO,X=0,te=/^\d+$/;function re(W,H){if(!(this instanceof re))return new re(W,H);if(this.obj=W,this.paths={},this.aliases={},this.subpaths={},this.virtuals={},this.singleNestedPaths={},this.nested={},this.inherits={},this.callQueue=[],this._indexes=[],this.methods=H&&H.methods||{},this.methodOptions={},this.statics=H&&H.statics||{},this.tree={},this.query=H&&H.query||{},this.childSchemas=[],this.plugins=[],this.$id=++X,this.mapPaths=[],this.s={hooks:new c},this.options=this.defaultOptions(H),Array.isArray(W)){var se,ce=w(W);try{for(ce.s();!(se=ce.n()).done;){var ue=se.value;this.add(ue)}}catch(nt){ce.e(nt)}finally{ce.f()}}else W&&this.add(W);if(H&&H.virtuals)for(var be=H.virtuals,Se=0,Ae=Object.keys(be);Se<Ae.length;Se++){var we=Ae[Se],Ue=be[we].options?be[we].options:void 0,$e=this.virtual(we,Ue);be[we].get&&$e.get(be[we].get),be[we].set&&$e.set(be[we].set)}var Ce=W&&W._id&&U.isObject(W._id);!this.paths._id&&this.options._id&&!Ce&&x(this),this.setupTimestamp(this.options.timestamps)}function ie(W,H){for(var se=0,ce=Object.keys(H);se<ce.length;se++){var ue=ce[se],be=null;if(H[ue]!=null)be=H[ue];else{var Se=T(W.paths[ue],"options");if(Se==null)continue;be=Se.alias}if(be){var Ae=W.paths[ue].path;if(Array.isArray(be)){var we,Ue=w(be);try{for(Ue.s();!(we=Ue.n()).done;){var $e=we.value;if(typeof $e!="string")throw new Error("Invalid value for alias option on "+Ae+", got "+$e);W.aliases[$e]=Ae,W.virtual($e).get(function(Ce){return function(){return typeof this.get=="function"?this.get(Ce):this[Ce]}}(Ae)).set(function(Ce){return function(nt){return this.$set(Ce,nt)}}(Ae))}}catch(Ce){Ue.e(Ce)}finally{Ue.f()}}else{if(typeof be!="string")throw new Error("Invalid value for alias option on "+Ae+", got "+be);W.aliases[be]=Ae,W.virtual(be).get(function(Ce){return function(){return typeof this.get=="function"?this.get(Ce):this[Ce]}}(Ae)).set(function(Ce){return function(nt){return this.$set(Ce,nt)}}(Ae))}}}}re.prototype=Object.create(m.prototype),re.prototype.constructor=re,re.prototype.instanceOfSchema=!0,Object.defineProperty(re.prototype,"$schemaType",{configurable:!1,enumerable:!1,writable:!0}),Object.defineProperty(re.prototype,"childSchemas",{configurable:!1,enumerable:!0,writable:!0}),Object.defineProperty(re.prototype,"virtuals",{configurable:!1,enumerable:!0,writable:!0}),re.prototype.obj,re.prototype.paths,re.prototype.tree,re.prototype.clone=function(){var W=this,H=this._clone();return H.on("init",function(se){return W.emit("init",se)}),H},re.prototype._clone=function(W){var H=new(W=W||(this.base==null?re:this.base.Schema))({},this._userProvidedOptions);H.base=this.base,H.obj=this.obj,H.options=k(this.options),H.callQueue=this.callQueue.map(function(ge){return ge}),H.methods=k(this.methods),H.methodOptions=k(this.methodOptions),H.statics=k(this.statics),H.query=k(this.query),H.plugins=Array.prototype.slice.call(this.plugins),H._indexes=k(this._indexes),H.s.hooks=this.s.hooks.clone(),H.tree=k(this.tree),H.paths=Object.fromEntries(Object.entries(this.paths).map(function(ge){var At=b(ge,2);return[At[0],At[1].clone()]})),H.nested=k(this.nested),H.subpaths=k(this.subpaths);for(var se=0,ce=Object.values(H.paths);se<ce.length;se++){var ue=ce[se];if(ue.$isSingleNested){for(var be=ue.path,Se=0,Ae=Object.keys(ue.schema.paths);Se<Ae.length;Se++){var we=Ae[Se];H.singleNestedPaths[be+"."+we]=ue.schema.paths[we]}for(var Ue=0,$e=Object.keys(ue.schema.singleNestedPaths);Ue<$e.length;Ue++){var Ce=$e[Ue];H.singleNestedPaths[be+"."+Ce]=ue.schema.singleNestedPaths[Ce]}for(var nt=0,Fe=Object.keys(ue.schema.subpaths);nt<Fe.length;nt++){var ut=Fe[nt];H.singleNestedPaths[be+"."+ut]=ue.schema.subpaths[ut]}for(var _e=0,wt=Object.keys(ue.schema.nested);_e<wt.length;_e++){var ht=wt[_e];H.singleNestedPaths[be+"."+ht]="nested"}}}return H.childSchemas=function(ge){for(var At=[],vt=0,In=Object.keys(ge.paths);vt<In.length;vt++){var Mt=In[vt],Nt=ge.paths[Mt];(Nt.$isMongooseDocumentArray||Nt.$isSingleNested)&&At.push({schema:Nt.schema,model:Nt.caster})}return At}(H),H.virtuals=k(this.virtuals),H.$globalPluginsApplied=this.$globalPluginsApplied,H.$isRootDiscriminator=this.$isRootDiscriminator,H.$implicitlyCreated=this.$implicitlyCreated,H.$id=++X,H.$originalSchemaId=this.$id,H.mapPaths=[].concat(this.mapPaths),this.discriminatorMapping!=null&&(H.discriminatorMapping=Object.assign({},this.discriminatorMapping)),this.discriminators!=null&&(H.discriminators=Object.assign({},this.discriminators)),this._applyDiscriminators!=null&&(H._applyDiscriminators=new Map(this._applyDiscriminators)),H.aliases=Object.assign({},this.aliases),H},re.prototype.pick=function(W,H){var se=new re({},H||this.options);if(!Array.isArray(W))throw new f('Schema#pick() only accepts an array argument, got "'+h(W)+'"');var ce,ue=w(W);try{for(ue.s();!(ce=ue.n()).done;){var be=ce.value;if(this.nested[be])se.add(g({},be,T(this.tree,be)));else{var Se=this.path(be);if(Se==null)throw new f("Path `"+be+"` is not in the schema");se.add(g({},be,Se))}}}catch(Ae){ue.e(Ae)}finally{ue.f()}return se},re.prototype.omit=function(W,H){var se=new re(this,H||this.options);if(!Array.isArray(W))throw new f('Schema#omit() only accepts an array argument, got "'+h(W)+'"');for(var ce in se.remove(W),se.singleNestedPaths)W.includes(ce)&&delete se.singleNestedPaths[ce];return se},re.prototype.defaultOptions=function(W){this._userProvidedOptions=W==null?{}:k(W);var H=this.base&&this.base.options||{};if(W=function(se){for(var ce=1;ce<arguments.length;ce++){var ue=arguments[ce]!=null?arguments[ce]:{};ce%2?u(Object(ue),!0).forEach(function(be){g(se,be,ue[be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(ue)):u(Object(ue)).forEach(function(be){Object.defineProperty(se,be,Object.getOwnPropertyDescriptor(ue,be))})}return se}({strict:!("strict"in H)||H.strict,strictQuery:"strictQuery"in H&&H.strictQuery,bufferCommands:!0,capped:!1,versionKey:"__v",optimisticConcurrency:!1,minimize:!0,autoIndex:null,discriminatorKey:"__t",shardKey:null,read:null,validateBeforeSave:!0,validateModifiedOnly:!1,_id:!0,id:!("id"in H)||H.id,typeKey:"type"},W),W.versionKey&&typeof W.versionKey!="string")throw new f("`versionKey` must be falsy or string, got `"+h(W.versionKey)+"`");if(typeof W.read=="string"?W.read=N(W.read):Array.isArray(W.read)&&typeof W.read[0]=="string"&&(W.read={mode:N(W.read[0]),tags:W.read[1]}),W.optimisticConcurrency&&!W.versionKey)throw new f("Must set `versionKey` if using `optimisticConcurrency`");return W},re.prototype.discriminator=function(W,H,se){return this._applyDiscriminators=this._applyDiscriminators||new Map,this._applyDiscriminators.set(W,{schema:H,options:se}),this},re.prototype.add=function(W,H){if(W instanceof re||W!=null&&W.instanceOfSchema)return R(this,W),this;if(W._id===!1&&H==null&&(this.options._id=!1),(H=H||"")==="__proto__."||H==="constructor."||H==="prototype.")return this;for(var se=Object.keys(W),ce=this.options.typeKey,ue=0,be=se;ue<be.length;ue++){var Se=be[ue];if(!U.specialProperties.has(Se)){var Ae=H+Se,we=W[Se];if(we==null)throw new TypeError("Invalid value for schema path `"+Ae+'`, got value "'+we+'"');if(Se!=="_id"||we!==!1){var Ue=!1;if(typeof we=="string"&&(Ue=(this.base!=null?this.base.Schema.Types:re.Types)[we.charAt(0).toUpperCase()+we.substring(1)]!=null),Se!=="_id"&&(h(we)!=="object"&&typeof we!="function"&&!Ue||we==null))throw new TypeError("Invalid schema configuration: `".concat(we,"` is not ")+"a valid type at path `".concat(Se,"`. See ")+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");if(we instanceof E||(we.constructor&&we.constructor.name||null)==="VirtualType")this.virtual(we);else{if(Array.isArray(we)&&we.length===1&&we[0]==null)throw new TypeError("Invalid value for schema Array path `"+Ae+'`, got value "'+we[0]+'"');if(q(we)||we instanceof _)if(Object.keys(we).length<1)H&&(this.nested[H.substring(0,H.length-1)]=!0),this.path(Ae,we);else if(!we[ce]||ce==="type"&&q(we.type)&&we.type.type)this.nested[Ae]=!0,this.add(we,Ae+".");else{var $e=we[ce];if(q($e)&&Object.keys($e).length>0){H&&(this.nested[H.substring(0,H.length-1)]=!0);var Ce={};this._userProvidedOptions.typeKey&&(Ce.typeKey=this._userProvidedOptions.typeKey),this._userProvidedOptions.strict!=null&&(Ce.strict=this._userProvidedOptions.strict),this._userProvidedOptions.toObject!=null&&(Ce.toObject=U.omit(this._userProvidedOptions.toObject,["transform"])),this._userProvidedOptions.toJSON!=null&&(Ce.toJSON=U.omit(this._userProvidedOptions.toJSON,["transform"]));var nt=new re($e,Ce);nt.$implicitlyCreated=!0;var Fe=Object.assign({},we,g({},ce,nt));this.path(H+Se,Fe)}else if(H&&(this.nested[H.substring(0,H.length-1)]=!0),this.path(H+Se,we),we!=null&&!we.instanceOfSchema&&U.isPOJO(we.discriminators)){var ut=this.path(H+Se);for(var _e in we.discriminators)ut.discriminator(_e,we.discriminators[_e])}}else if(H&&(this.nested[H.substring(0,H.length-1)]=!0),this.path(H+Se,we),we[0]!=null&&!we[0].instanceOfSchema&&U.isPOJO(we[0].discriminators)){var wt=this.path(H+Se);for(var ht in we[0].discriminators)wt.discriminator(ht,we[0].discriminators[ht])}}}}}var ge=Object.fromEntries(Object.entries(W).map(function(At){var vt=b(At,1)[0];return[H+vt,null]}));return ie(this,ge),this},re.prototype.alias=function(W,H){return ie(this,g({},W,H)),this},re.prototype.removeIndex=function(W){if(arguments.length>1)throw new Error("removeIndex() takes only 1 argument");if(h(W)!=="object"&&typeof W!="string")throw new Error("removeIndex() may only take either an object or a string as an argument");if(h(W)==="object")for(var H=this._indexes.length-1;H>=0;--H)I.isDeepStrictEqual(this._indexes[H][0],W)&&this._indexes.splice(H,1);else for(var se=this._indexes.length-1;se>=0;--se)this._indexes[se][1]!=null&&this._indexes[se][1].name===W&&this._indexes.splice(se,1);return this},re.prototype.clearIndexes=function(){return this._indexes.length=0,this},re.reserved=Object.create(null),re.prototype.reserved=re.reserved;var Z=re.reserved;function ee(W){return/\.\d+/.test(W)?W.replace(/\.\d+\./g,".$.").replace(/\.\d+$/,".$"):W}function de(W,H){if(W.mapPaths.length===0)return null;var se,ce=w(W.mapPaths);try{for(ce.s();!(se=ce.n()).done;){var ue=se.value.path;if(new RegExp("^"+ue.replace(/\.\$\*/g,"\\.[^.]+")+"$").test(H))return W.paths[ue]}}catch(be){ce.e(be)}finally{ce.f()}return null}function le(W,H,se){var ce=H.split(/\.(\d+)\.|\.(\d+)$/).filter(Boolean);if(ce.length<2)return W.paths.hasOwnProperty(ce[0])?W.paths[ce[0]]:"adhocOrUndefined";var ue=W.path(ce[0]),be=!1;if(!ue)return"adhocOrUndefined";for(var Se=ce.length-1,Ae=1;Ae<ce.length;++Ae){be=!1;var we=ce[Ae];if(Ae===Se&&ue&&!/\D/.test(we)){ue=ue.$isMongooseDocumentArray?ue.$embeddedSchemaType:ue instanceof y.Array?ue.caster:void 0;break}if(/\D/.test(we)){if(!ue||!ue.schema){ue=void 0;break}be=ue.schema.pathType(we)==="nested",ue=ue.schema.path(we)}else ue instanceof y.Array&&Ae!==Se&&(ue=ue.caster)}return W.subpaths[se]=ue,ue?"real":be?"nested":"adhocOrUndefined"}function V(W,H){var se,ce=w(W.childSchemas);try{for(ce.s();!(se=ce.n()).done;){var ue=se.value.schema;ue.$implicitlyCreated&&(Object.assign(ue.options,H),V(ue,H))}}catch(be){ce.e(be)}finally{ce.f()}}Z.prototype=Z.emit=Z.listeners=Z.removeListener=Z.collection=Z.errors=Z.get=Z.init=Z.isModified=Z.isNew=Z.populated=Z.remove=Z.save=Z.toObject=Z.validate=1,Z.collection=1,re.prototype.path=function(W,H){if(H===void 0){if(this.paths[W]!=null)return this.paths[W];var se=ee(W),ce=function(st,yt,Ft){return st.paths.hasOwnProperty(yt)?st.paths[yt]:st.subpaths.hasOwnProperty(Ft)?st.subpaths[Ft]:st.singleNestedPaths.hasOwnProperty(Ft)&&h(st.singleNestedPaths[Ft])==="object"?st.singleNestedPaths[Ft]:null}(this,W,se);if(ce!=null)return ce;var ue=de(this,W);return ue??((ce=this.hasMixedParent(se))!=null?ce:j.test(W)?function(st,yt,Ft){return le(st,yt,Ft),st.subpaths[Ft]}(this,W,se):void 0)}var be=W.split(".")[0];if(Z[be]&&!this.options.suppressReservedKeysWarning){var Se="`".concat(be,"` is a reserved schema pathname and may break some functionality. ")+"You are allowed to use it, but use at your own risk. To disable this warning pass `suppressReservedKeysWarning` as a schema option.";U.warn(Se)}h(H)==="object"&&U.hasUserDefinedProperty(H,"ref")&&O(H.ref,W);var Ae,we=W.split(/\./),Ue=we.pop(),$e=this.tree,Ce="",nt=w(we);try{for(nt.s();!(Ae=nt.n()).done;){var Fe=Ae.value;if(U.specialProperties.has(Fe))throw new Error("Cannot set special property `"+Fe+"` on a schema");if(Ce=Ce+=(Ce.length>0?".":"")+Fe,$e[Fe]||(this.nested[Ce]=!0,$e[Fe]={}),h($e[Fe])!=="object"){var ut="Cannot set nested path `"+W+"`. Parent path `"+Ce+"` already set to type "+$e[Fe].name+".";throw new Error(ut)}$e=$e[Fe]}}catch(st){nt.e(st)}finally{nt.f()}$e[Ue]=k(H),this.paths[W]=this.interpretAsType(W,H,this.options);var _e=this.paths[W];if(_e.$isSchemaMap){var wt=W+".$*";this.paths[wt]=_e.$__schemaType,this.mapPaths.push(this.paths[wt])}if(_e.$isSingleNested){for(var ht=0,ge=Object.keys(_e.schema.paths);ht<ge.length;ht++){var At=ge[ht];this.singleNestedPaths[W+"."+At]=_e.schema.paths[At]}for(var vt=0,In=Object.keys(_e.schema.singleNestedPaths);vt<In.length;vt++){var Mt=In[vt];this.singleNestedPaths[W+"."+Mt]=_e.schema.singleNestedPaths[Mt]}for(var Nt=0,Y=Object.keys(_e.schema.subpaths);Nt<Y.length;Nt++){var ae=Y[Nt];this.singleNestedPaths[W+"."+ae]=_e.schema.subpaths[ae]}for(var fe=0,me=Object.keys(_e.schema.nested);fe<me.length;fe++){var pe=me[fe];this.singleNestedPaths[W+"."+pe]="nested"}Object.defineProperty(_e.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),_e.caster.base=this.base,this.childSchemas.push({schema:_e.schema,model:_e.caster})}else _e.$isMongooseDocumentArray&&(Object.defineProperty(_e.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),_e.casterConstructor.base=this.base,this.childSchemas.push({schema:_e.schema,model:_e.casterConstructor}));if(_e.$isMongooseArray&&_e.caster instanceof v){for(var ve=W,xe=_e;xe.$isMongooseArray;)ve+=".$",xe.$isMongooseDocumentArray?(xe.$embeddedSchemaType._arrayPath=ve,xe.$embeddedSchemaType._arrayParentPath=W,xe=xe.$embeddedSchemaType):(xe.caster._arrayPath=ve,xe.caster._arrayParentPath=W,xe=xe.caster),this.subpaths[ve]=xe;for(var ye=0,ke=[];ye<ke.length;ye++){var je=ke[ye];this.subpaths[je.path]=je}}if(_e.$isMongooseDocumentArray){for(var Pe=0,De=Object.keys(_e.schema.paths);Pe<De.length;Pe++){var Re=De[Pe],Be=_e.schema.paths[Re];this.subpaths[W+"."+Re]=Be,h(Be)==="object"&&Be!=null&&Be.$parentSchemaDocArray==null&&(Be.$parentSchemaDocArray=_e)}for(var Le=0,Xe=Object.keys(_e.schema.subpaths);Le<Xe.length;Le++){var Je=Xe[Le],Qe=_e.schema.subpaths[Je];this.subpaths[W+"."+Je]=Qe,h(Qe)==="object"&&Qe!=null&&Qe.$parentSchemaDocArray==null&&(Qe.$parentSchemaDocArray=_e)}for(var Ye=0,tt=Object.keys(_e.schema.singleNestedPaths);Ye<tt.length;Ye++){var ot=tt[Ye],ft=_e.schema.singleNestedPaths[ot];this.subpaths[W+"."+ot]=ft,h(ft)==="object"&&ft!=null&&ft.$parentSchemaDocArray==null&&(ft.$parentSchemaDocArray=_e)}}return this},Object.defineProperty(re.prototype,"base",{configurable:!0,enumerable:!1,writable:!0,value:null}),re.prototype.interpretAsType=function(W,H,se){if(H instanceof v){if(H.path===W)return H;var ce=H.clone();return ce.path=W,ce}var ue=this.base!=null?this.base.Schema.Types:re.Types,be=this.base!=null?this.base.Types:i(8941);if(!(U.isPOJO(H)||H instanceof _)&&U.getFunctionName(H.constructor)!=="Object"){var Se=H;(H={})[se.typeKey]=Se}var Ae,we=H[se.typeKey]&&(H[se.typeKey]instanceof Function||se.typeKey!=="type"||!H.type.type)?H[se.typeKey]:{};if(U.isPOJO(we)||we==="mixed")return new ue.Mixed(W,H);if(Array.isArray(we)||we===Array||we==="array"||we===ue.Array){var Ue=we===Array||we==="array"?H.cast||H.of:we[0];if(Ue&&Ue.instanceOfSchema){if(!(Ue instanceof re)){if(!this.options._isMerging)throw new TypeError("Schema for array path `"+W+"` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+"".concat(W,": new Schema(...)"));Ue=new re(Ue)}return new ue.DocumentArray(W,Ue,H)}if(Ue&&Ue[se.typeKey]&&Ue[se.typeKey].instanceOfSchema){if(!(Ue[se.typeKey]instanceof re)){if(!this.options._isMerging)throw new TypeError("Schema for array path `"+W+"` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+"".concat(W,": new Schema(...)"));Ue[se.typeKey]=new re(Ue[se.typeKey])}return new ue.DocumentArray(W,Ue[se.typeKey],H,Ue)}if(Array.isArray(Ue))return new ue.Array(W,this.interpretAsType(W,Ue,se),H);var $e=Ue==null||!Ue[se.typeKey]||se.typeKey==="type"&&Ue.type.type?Ue:Ue[se.typeKey];if(typeof Ue=="string")Ue=ue[Ue.charAt(0).toUpperCase()+Ue.substring(1)];else if(U.isPOJO($e)){if(Object.keys($e).length){var Ce={minimize:se.minimize};se.typeKey&&(Ce.typeKey=se.typeKey),se.hasOwnProperty("strict")&&(Ce.strict=se.strict),se.hasOwnProperty("strictQuery")&&(Ce.strictQuery=se.strictQuery),se.hasOwnProperty("toObject")&&(Ce.toObject=U.omit(se.toObject,["transform"])),se.hasOwnProperty("toJSON")&&(Ce.toJSON=U.omit(se.toJSON,["transform"])),this._userProvidedOptions.hasOwnProperty("_id")?Ce._id=this._userProvidedOptions._id:re.Types.DocumentArray.defaultOptions._id!=null&&(Ce._id=re.Types.DocumentArray.defaultOptions._id);var nt=new re($e,Ce);return nt.$implicitlyCreated=!0,new ue.DocumentArray(W,nt,H)}return new ue.Array(W,ue.Mixed,H)}if(Ue){if(we=!Ue[se.typeKey]||se.typeKey==="type"&&Ue.type.type?Ue:Ue[se.typeKey],Array.isArray(we))return new ue.Array(W,this.interpretAsType(W,we,se),H);if((Ae=typeof we=="string"?we:we.schemaName||U.getFunctionName(we))==="ClockDate"&&(Ae="Date"),Ae===void 0)throw new TypeError("Invalid schema configuration: "+"Could not determine the embedded type for array `".concat(W,"`. ")+"See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(!ue.hasOwnProperty(Ae))throw new TypeError("Invalid schema configuration: "+"`".concat(Ae,"` is not a valid type within the array `").concat(W,"`.")+"See https://bit.ly/mongoose-schematypes for a list of valid schema types.")}return new ue.Array(W,Ue||ue.Mixed,H,se)}if(we&&we.instanceOfSchema)return new ue.Subdocument(we,W,H);if((Ae=l.isBuffer(we)?"Buffer":typeof we=="function"||h(we)==="object"?we.schemaName||U.getFunctionName(we):we===be.ObjectId?"ObjectId":we===be.Decimal128?"Decimal128":we==null?""+we:we.toString())&&(Ae=Ae.charAt(0).toUpperCase()+Ae.substring(1)),Ae==="ObjectID"&&(Ae="ObjectId"),Ae==="ClockDate"&&(Ae="Date"),Ae===void 0)throw new TypeError("Invalid schema configuration: `".concat(W,"` schematype definition is ")+"invalid. See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(ue[Ae]==null)throw new TypeError("Invalid schema configuration: `".concat(Ae,"` is not ")+"a valid type at path `".concat(W,"`. See ")+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");var Fe=new ue[Ae](W,H);return Fe.$isSchemaMap&&function(ut,_e,wt,ht,ge){var At=wt+".$*",vt={type:{}};U.hasUserDefinedProperty(ht,"of")&&((vt=U.isPOJO(ht.of)&&Object.keys(ht.of).length>0&&!U.hasUserDefinedProperty(ht.of,ut.options.typeKey)?g({},ut.options.typeKey,new re(ht.of)):U.isPOJO(ht.of)?Object.assign({},ht.of):g({},ut.options.typeKey,ht.of))[ut.options.typeKey]&&vt[ut.options.typeKey].instanceOfSchema&&vt[ut.options.typeKey].eachPath(function(In,Mt){if(Mt.options.select===!0||Mt.options.select===!1)throw new f('Cannot use schema-level projections (`select: true` or `select: false`) within maps at path "'+wt+"."+In+'"')}),U.hasUserDefinedProperty(ht,"ref")&&(vt.ref=ht.ref)),_e.$__schemaType=ut.interpretAsType(At,vt,ge)}(this,Fe,W,H,se),Fe},re.prototype.eachPath=function(W){for(var H=Object.keys(this.paths),se=H.length,ce=0;ce<se;++ce)W(H[ce],this.paths[H[ce]]);return this},re.prototype.requiredPaths=function(W){if(this._requiredpaths&&!W)return this._requiredpaths;for(var H=Object.keys(this.paths),se=H.length,ce=[];se--;){var ue=H[se];this.paths[ue].isRequired&&ce.push(ue)}return this._requiredpaths=ce,this._requiredpaths},re.prototype.indexedPaths=function(){return this._indexedpaths||(this._indexedpaths=this.indexes()),this._indexedpaths},re.prototype.pathType=function(W){if(this.paths.hasOwnProperty(W))return"real";if(this.virtuals.hasOwnProperty(W))return"virtual";if(this.nested.hasOwnProperty(W))return"nested";var H=ee(W);if(this.subpaths.hasOwnProperty(H)||this.subpaths.hasOwnProperty(W))return"real";var se=this.singleNestedPaths.hasOwnProperty(H)||this.singleNestedPaths.hasOwnProperty(W);return se?se==="nested"?"nested":"real":de(this,W)!=null?"real":/\.\d+\.|\.\d+$/.test(W)?le(this,W,H):"adhocOrUndefined"},re.prototype.hasMixedParent=function(W){var H=W.split(/\./g);W="";for(var se=0;se<H.length;++se)if(W=se>0?W+"."+H[se]:H[se],this.paths.hasOwnProperty(W)&&this.paths[W]instanceof y.Mixed)return this.paths[W];return null},re.prototype.setupTimestamp=function(W){return z(this,W)},re.prototype.queue=function(W,H){return this.callQueue.push([W,H]),this},re.prototype.pre=function(W){if(W instanceof RegExp){var H,se=Array.prototype.slice.call(arguments,1),ce=w($);try{for(ce.s();!(H=ce.n()).done;){var ue=H.value;W.test(ue)&&this.pre.apply(this,[ue].concat(se))}}catch(Ue){ce.e(Ue)}finally{ce.f()}return this}if(Array.isArray(W)){var be,Se=Array.prototype.slice.call(arguments,1),Ae=w(W);try{for(Ae.s();!(be=Ae.n()).done;){var we=be.value;this.pre.apply(this,[we].concat(Se))}}catch(Ue){Ae.e(Ue)}finally{Ae.f()}return this}return this.s.hooks.pre.apply(this.s.hooks,arguments),this},re.prototype.post=function(W){if(W instanceof RegExp){var H,se=Array.prototype.slice.call(arguments,1),ce=w($);try{for(ce.s();!(H=ce.n()).done;){var ue=H.value;W.test(ue)&&this.post.apply(this,[ue].concat(se))}}catch(Ue){ce.e(Ue)}finally{ce.f()}return this}if(Array.isArray(W)){var be,Se=Array.prototype.slice.call(arguments,1),Ae=w(W);try{for(Ae.s();!(be=Ae.n()).done;){var we=be.value;this.post.apply(this,[we].concat(Se))}}catch(Ue){Ae.e(Ue)}finally{Ae.f()}return this}return this.s.hooks.post.apply(this.s.hooks,arguments),this},re.prototype.plugin=function(W,H){if(typeof W!="function")throw new Error('First param to `schema.plugin()` must be a function, got "'+h(W)+'"');if(H&&H.deduplicate){var se,ce=w(this.plugins);try{for(ce.s();!(se=ce.n()).done;)if(se.value.fn===W)return this}catch(ue){ce.e(ue)}finally{ce.f()}}return this.plugins.push({fn:W,opts:H}),W(this,H),this},re.prototype.method=function(W,H,se){if(typeof W!="string")for(var ce in W)this.methods[ce]=W[ce],this.methodOptions[ce]=k(se);else this.methods[W]=H,this.methodOptions[W]=k(se);return this},re.prototype.static=function(W,H){if(typeof W!="string")for(var se in W)this.statics[se]=W[se];else this.statics[W]=H;return this},re.prototype.index=function(W,H){for(var se in W||(W={}),H||(H={}),H.expires&&U.expires(H),W)this.aliases[se]&&(W[this.aliases[se]]=W[se],delete W[se]);for(var ce=0,ue=Object.keys(W);ce<ue.length;ce++){var be=ue[ce];W[be]==="ascending"||W[be]==="asc"?W[be]=1:W[be]!=="descending"&&W[be]!=="desc"||(W[be]=-1)}return this._indexes.push([W,H]),this},re.prototype.set=function(W,H,se){if(arguments.length===1)return this.options[W];switch(W){case"read":typeof H=="string"?this.options[W]={mode:N(H),tags:se}:Array.isArray(H)&&typeof H[0]=="string"?this.options[W]={mode:N(H[0]),tags:H[1]}:this.options[W]=H,this._userProvidedOptions[W]=this.options[W];break;case"timestamps":this.setupTimestamp(H),this.options[W]=H,this._userProvidedOptions[W]=this.options[W];break;case"_id":this.options[W]=H,this._userProvidedOptions[W]=this.options[W],H&&!this.paths._id?x(this):!H&&this.paths._id!=null&&this.paths._id.auto&&this.remove("_id");break;default:this.options[W]=H,this._userProvidedOptions[W]=this.options[W]}return W==="strict"&&V(this,{strict:H}),W==="strictQuery"&&V(this,{strictQuery:H}),this},re.prototype.get=function(W){return this.options[W]};var G="2d 2dsphere hashed text".split(" ");function K(W,H){var se,ce=H.split("."),ue=ce.pop(),be=W.tree,Se=w(ce);try{for(Se.s();!(se=Se.n()).done;)be=be[se.value]}catch(Ae){Se.e(Ae)}finally{Se.f()}delete be[ue]}function ne(W){return W.startsWith("$[")&&W.endsWith("]")}Object.defineProperty(re,"indexTypes",{get:function(){return G},set:function(){throw new Error("Cannot overwrite Schema.indexTypes")}}),re.prototype.indexes=function(){return M(this)},re.prototype.virtual=function(W,H){if(W instanceof E||C(W)==="VirtualType")return this.virtual(W.path,W.options);if(H=new S(H),U.hasUserDefinedProperty(H,["ref","refPath"])){if(H.localField==null)throw new Error("Reference virtuals require `localField` option");if(H.foreignField==null)throw new Error("Reference virtuals require `foreignField` option");this.pre("init",function(Ue){if(D.has(W,Ue)){var $e=D.get(W,Ue);this.$$populatedVirtuals||(this.$$populatedVirtuals={}),H.justOne||H.count?this.$$populatedVirtuals[W]=Array.isArray($e)?$e[0]:$e:this.$$populatedVirtuals[W]=Array.isArray($e)?$e:$e==null?[]:[$e],D.unset(W,Ue)}});var se=this.virtual(W);se.options=H,se.set(function(Ue){this.$$populatedVirtuals||(this.$$populatedVirtuals={}),H.justOne||H.count?(this.$$populatedVirtuals[W]=Array.isArray(Ue)?Ue[0]:Ue,h(this.$$populatedVirtuals[W])!=="object"&&(this.$$populatedVirtuals[W]=H.count?Ue:null)):(this.$$populatedVirtuals[W]=Array.isArray(Ue)?Ue:Ue==null?[]:[Ue],this.$$populatedVirtuals[W]=this.$$populatedVirtuals[W].filter(function($e){return $e&&h($e)==="object"}))}),typeof H.get=="function"&&se.get(H.get);for(var ce=W.split("."),ue=ce[0],be=0;be<ce.length-1;++be)if(this.paths[ue]!=null){if(this.paths[ue].$isMongooseDocumentArray||this.paths[ue].$isSingleNested){var Se=ce.slice(be+1).join(".");this.paths[ue].schema.virtual(Se,H);break}ue+="."+ce[be+1]}return se}var Ae=this.virtuals,we=W.split(".");if(this.pathType(W)==="real")throw new Error('Virtual path "'+W+'" conflicts with a real path in the schema');return Ae[W]=we.reduce(function(Ue,$e,Ce){return Ue[$e]||(Ue[$e]=Ce===we.length-1?new E(H,W):{}),Ue[$e]},this.tree),Ae[W]},re.prototype.virtualpath=function(W){return this.virtuals.hasOwnProperty(W)?this.virtuals[W]:null},re.prototype.remove=function(W){return typeof W=="string"&&(W=[W]),Array.isArray(W)&&W.forEach(function(H){if(this.path(H)!=null||this.nested[H]){if(this.nested[H]){var se,ce=w(Object.keys(this.paths).concat(Object.keys(this.nested)));try{for(ce.s();!(se=ce.n()).done;){var ue=se.value;ue.startsWith(H+".")&&(delete this.paths[ue],delete this.nested[ue],K(this,ue))}}catch(be){ce.e(be)}finally{ce.f()}return delete this.nested[H],void K(this,H)}delete this.paths[H],K(this,H)}},this),this},re.prototype.removeVirtual=function(W){if(typeof W=="string"&&(W=[W]),Array.isArray(W)){var H,se=w(W);try{for(se.s();!(H=se.n()).done;){var ce=H.value;if(this.virtuals[ce]==null)throw new f('Attempting to remove virtual "'.concat(ce,'" that does not exist.'))}}catch(Ae){se.e(Ae)}finally{se.f()}var ue,be=w(W);try{for(be.s();!(ue=be.n()).done;){var Se=ue.value;delete this.paths[Se],delete this.virtuals[Se],Se.indexOf(".")!==-1?D.unset(Se,this.tree):delete this.tree[Se]}}catch(Ae){be.e(Ae)}finally{be.f()}}return this},re.prototype.loadClass=function(W,H){return W===Object.prototype||W===Function.prototype||W.prototype.hasOwnProperty("$isMongooseModelPrototype")||W.prototype.hasOwnProperty("$isMongooseDocumentPrototype")||(this.loadClass(Object.getPrototypeOf(W),H),H||Object.getOwnPropertyNames(W).forEach(function(se){if(!se.match(/^(length|name|prototype|constructor|__proto__)$/)){var ce=Object.getOwnPropertyDescriptor(W,se);ce.hasOwnProperty("value")&&this.static(se,ce.value)}},this),Object.getOwnPropertyNames(W.prototype).forEach(function(se){if(!se.match(/^(constructor)$/)){var ce=Object.getOwnPropertyDescriptor(W.prototype,se);H||typeof ce.value=="function"&&this.method(se,ce.value),typeof ce.get=="function"&&(this.virtuals[se]&&(this.virtuals[se].getters=[]),this.virtual(se).get(ce.get)),typeof ce.set=="function"&&(this.virtuals[se]&&(this.virtuals[se].setters=[]),this.virtual(se).set(ce.set))}},this)),this},re.prototype._getSchema=function(W){var H=this.path(W),se=[];if(H)return H.$fullPath=W,H;for(var ce=W.split("."),ue=0;ue<ce.length;++ue)(ce[ue]==="$"||ne(ce[ue]))&&(ce[ue]="0"),te.test(ce[ue])&&(ce[ue]="$");return function be(Se,Ae){for(var we,Ue,$e=Se.length+1;$e--;)if(Ue=Se.slice(0,$e).join("."),we=Ae.path(Ue)){if(se.push(Ue),we.caster){if(we.caster instanceof y.Mixed)return we.caster.$fullPath=se.join("."),we.caster;if($e!==Se.length){if($e+1===Se.length&&we.$embeddedSchemaType&&(Se[$e]==="$"||ne(Se[$e])))return we.$embeddedSchemaType;if(we.schema){var Ce=void 0;return Se[$e]==="$"||ne(Se[$e])?$e+1===Se.length?we.$embeddedSchemaType:((Ce=be(Se.slice($e+1),we.schema))&&(Ce.$parentSchemaDocArray=Ce.$parentSchemaDocArray||(we.schema.$isSingleNested?null:we)),Ce):((Ce=be(Se.slice($e),we.schema))&&(Ce.$parentSchemaDocArray=Ce.$parentSchemaDocArray||(we.schema.$isSingleNested?null:we)),Ce)}}}else if(we.$isSchemaMap){if($e>=Se.length)return we;if($e+1>=Se.length||we.$__schemaType instanceof y.Mixed)return we.$__schemaType;if(we.$__schemaType.schema!=null)return be(Se.slice($e+1),we.$__schemaType.schema)}return we.$fullPath=se.join("."),we}}(ce,this)},re.prototype._getPathType=function(W){return this.path(W)?"real":function H(se,ce){for(var ue,be,Se=se.length+1;Se--;){if(be=se.slice(0,Se).join("."),ue=ce.path(be))return ue.caster?ue.caster instanceof y.Mixed?{schema:ue,pathType:"mixed"}:Se!==se.length&&ue.schema?se[Se]==="$"||ne(se[Se])?Se===se.length-1?{schema:ue,pathType:"nested"}:H(se.slice(Se+1),ue.schema):H(se.slice(Se),ue.schema):{schema:ue,pathType:ue.$isSingleNested?"nested":"array"}:{schema:ue,pathType:"real"};if(Se===se.length&&ce.nested[be])return{schema:ce,pathType:"nested"}}return{schema:ue||ce,pathType:"undefined"}}(W.split("."),this)},re.prototype._preCompile=function(){this.plugin(L,{deduplicate:!0})},o.exports=s=re,re.Types=y=i(5251),s.ObjectId=y.ObjectId},8997:(o,s,i)=>{var l=i(5202),u=i(4289),g=i(3617),h=i(8413);function b(w,p){if(this.$parentSchemaType=p&&p.$parentSchemaType,!this.$parentSchemaType)throw new l("Cannot create DocumentArrayElement schematype without a parent");delete p.$parentSchemaType,u.call(this,w,p,"DocumentArrayElement"),this.$isMongooseDocumentArrayElement=!0}b.schemaName="DocumentArrayElement",b.defaultOptions={},b.prototype=Object.create(u.prototype),b.prototype.constructor=b,b.prototype.cast=function(){var w;return(w=this.$parentSchemaType).cast.apply(w,arguments)[0]},b.prototype.doValidate=function(w,p,d,y){var m=h(this.caster,w);return!w||w instanceof m||(w=new m(w,d,null,null,y&&y.index!=null?y.index:null)),g.prototype.doValidate.call(this,w,p,d,y)},b.prototype.clone=function(){this.options.$parentSchemaType=this.$parentSchemaType;var w=u.prototype.clone.apply(this,arguments);return delete this.options.$parentSchemaType,w.caster=this.caster,w.schema=this.schema,w},o.exports=b},3617:(o,s,i)=>{function l(R,D){var z=Object.keys(R);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(R);D&&(U=U.filter(function(O){return Object.getOwnPropertyDescriptor(R,O).enumerable})),z.push.apply(z,U)}return z}function u(R){for(var D=1;D<arguments.length;D++){var z=arguments[D]!=null?arguments[D]:{};D%2?l(Object(z),!0).forEach(function(U){g(R,U,z[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(z)):l(Object(z)).forEach(function(U){Object.defineProperty(R,U,Object.getOwnPropertyDescriptor(z,U))})}return R}function g(R,D,z){return(D=function(U){var O=function(I,j){if(h(I)!="object"||!I)return I;var P=I[Symbol.toPrimitive];if(P!==void 0){var A=P.call(I,"string");if(h(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(U);return h(O)=="symbol"?O:O+""}(D))in R?Object.defineProperty(R,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):R[D]=z,R}function h(R){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},h(R)}var b,w=i(1795),p=i(9620).EventEmitter,d=i(4107),y=i(5446),m=i(4289),c=i(2874),f=i(8702),v=i(1521).W,_=i(9181),S=i(5008),E=i(8413),x=i(9691),k=i(4962).h,T=i(9098),C=i(6872),M=i(3346);function N(R,D,z){if(R.options.timeseries)throw new M(D,"timeseries");var U=N.defaultOptions&&N.defaultOptions._id;U!=null&&((z=z||{})._id=U),R=x(R,z),this.caster=L(R,null,z),this.caster.path=D,this.caster.prototype.$basePath=D,this.schema=R,this.$isSingleNested=!0,this.base=R.base,m.call(this,D,z,"Embedded")}function L(R,D,z){b||(b=i(2591));var U=function(A,$,q){this.$__parent=q,b.apply(this,arguments),q!=null&&this.$session(q.$session())};R._preCompile();var O=D!=null?D.prototype:b.prototype;for(var I in(U.prototype=Object.create(O)).$__setSchema(R),U.prototype.constructor=U,U.$__required=z==null?void 0:z.required,U.base=R.base,U.schema=R,U.$isSingleNested=!0,U.events=new p,U.prototype.toBSON=function(){return this.toObject(k)},R.methods)U.prototype[I]=R.methods[I];for(var j in R.statics)U[j]=R.statics[j];for(var P in p.prototype)U[P]=p.prototype[P];return U}o.exports=N,N.prototype=Object.create(m.prototype),N.prototype.constructor=N,N.prototype.OptionsConstructor=y,N.prototype.$conditionalHandlers.$geoWithin=function(R,D){return{$geometry:this.castForQuery(null,R.$geometry,D)}},N.prototype.$conditionalHandlers.$near=N.prototype.$conditionalHandlers.$nearSphere=S.cast$near,N.prototype.$conditionalHandlers.$within=N.prototype.$conditionalHandlers.$geoWithin=S.cast$within,N.prototype.$conditionalHandlers.$geoIntersects=S.cast$geoIntersects,N.prototype.$conditionalHandlers.$minDistance=v,N.prototype.$conditionalHandlers.$maxDistance=v,N.prototype.$conditionalHandlers.$exists=f,N.prototype.cast=function(R,D,z,U,O){if(R&&R.$isSingleNested&&R.parent===D)return R;if(R!=null&&(h(R)!=="object"||Array.isArray(R)))throw new d(this.path,R);var I,j=this.schema.path(this.schema.options.discriminatorKey),P=j==null?null:j.getDefault(D),A=E(this.caster,R,P),$=D&&D.$__&&D.$__.selected,q=this.path,X=$==null?null:Object.keys($).reduce(function(re,ie){return ie.startsWith(q+".")&&((re=re||{})[ie.substring(q.length+1)]=$[ie]),re},null);if(!z)return O=Object.assign({},O,{priorDoc:U}),Object.keys(R).length===0?new A({},X,D,void 0,O):new A(R,X,D,void 0,O);delete(I=new A(void 0,X,D,!1,{defaults:!1})).$__.defaults,I.$init(R);var te=T(X);return c(I,X,te),I},N.prototype.castForQuery=function(R,D,z,U){var O;if(R!=null){if(!(O=this.$conditionalHandlers[R]))throw new Error("Can't use "+R);return O.call(this,D)}if(D==null)return D;var I=E(this.caster,D);if(D instanceof I)return D;this.options.runSetters&&(D=this._applySetters(D,z));var j=U!=null&&U.strict!=null?U.strict:void 0;try{D=new I(D,j)}catch(P){throw P instanceof w?P:new w("Embedded",D,this.path,P,this)}return D},N.prototype.doValidate=function(R,D,z,U){var O=E(this.caster,R);if(!R||R instanceof O||(R=new O(R,null,z!=null&&z.$__!=null?z:null)),U&&U.skipSchemaValidators)return R?R.validate().then(function(){return D(null)},function(I){return D(I)}):D(null);m.prototype.doValidate.call(this,R,function(I){return I?D(I):R?void R.validate().then(function(){return D(null)},function(j){return D(j)}):D(null)},z,U)},N.prototype.doValidateSync=function(R,D,z){if(!z||!z.skipSchemaValidators){var U=m.prototype.doValidateSync.call(this,R,D);if(U)return U}if(R)return R.validateSync()},N.prototype.discriminator=function(R,D,z){z=z||{};var U=C.isPOJO(z)?z.value:z,O=typeof z.clone!="boolean"||z.clone;return D.instanceOfSchema&&O&&(D=D.clone()),D=_(this.caster,R,D,U),this.caster.discriminators[R]=L(D,this.caster),this.caster.discriminators[R]},N.defaultOptions={},N.set=m.set,N.setters=[],N.get=m.get,N.prototype.toJSON=function(){return{path:this.path,options:this.options}},N.prototype.clone=function(){var R=new this.constructor(this.schema,this.path,u(u({},this.options),{},{_skipApplyDiscriminators:!0}));return R.validators=this.validators.slice(),this.requiredValidator!==void 0&&(R.requiredValidator=this.requiredValidator),R.caster.discriminators=Object.assign({},this.caster.discriminators),R}},94:(o,s,i)=>{function l(z,U){(U==null||U>z.length)&&(U=z.length);for(var O=0,I=Array(U);O<U;O++)I[O]=z[O];return I}function u(z){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},u(z)}var g,h,b=i(8702),w=i(3053),p=i(5202),d=i(4756),y=i(4289),m=y.CastError,c=i(3861),f=i(6069),v=i(6787),_=i(1973),S=i(7906),E=i(8751),x=i(6872),k=i(1521).W,T=i(5008),C=i(7291),M=Symbol("mongoose#isNestedArray"),N=Object.freeze({});function L(z,U,O,I){h||(h=i(8941).Embedded);var j,P,A="type";if(I&&I.typeKey&&(A=I.typeKey),this.schemaOptions=I,U){var $={};x.isPOJO(U)&&(U[A]?(delete($=_(U))[A],U=U[A]):U=c),O!=null&&O.ref!=null&&$.ref==null&&($.ref=O.ref),U===Object&&(U=c);var q=typeof U=="string"?U:x.getFunctionName(U),X=i(5251),te=X.hasOwnProperty(q)?X[q]:U;if(this.casterConstructor=te,this.casterConstructor instanceof L&&(this.casterConstructor[M]=!0),typeof te!="function"||te.$isArraySubdocument||te.$isSchemaMap)this.caster=te,this.caster instanceof h||(this.caster.path=z);else{var re=this.caster instanceof h?null:z;this.caster=new te(re,$)}this.$embeddedSchemaType=this.caster}if(this.$isMongooseArray=!0,y.call(this,z,O,"Array"),this.defaultValue!=null&&(j=this.defaultValue,P=typeof j=="function"),!("defaultValue"in this)||this.defaultValue!==void 0){var ie=function(){return P?j.call(this):j!=null?[].concat(j):[]};ie.$runBeforeSetters=!P,this.default(ie)}}L.schemaName="Array",L.options={castNonArrays:!0},L.defaultOptions={},L.set=y.set,L.setters=[],L.get=y.get,L.prototype=Object.create(y.prototype),L.prototype.constructor=L,L.prototype.OptionsConstructor=d,L._checkRequired=y.prototype.checkRequired,L.checkRequired=y.checkRequired,L.prototype.checkRequired=function(z,U){return u(z)==="object"&&y._isRef(this,z,U,!0)?!!z:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():L.checkRequired())(z)},L.prototype.enum=function(){for(var z=this;;){var U=z&&z.caster&&z.caster.instance;if(U!=="Array"){if(U!=="String"&&U!=="Number")throw new Error("`enum` can only be set on an array of strings or numbers , not "+U);break}z=z.caster}var O=arguments;return!Array.isArray(arguments)&&x.isObject(arguments)&&(O=x.object.vals(O)),z.caster.enum.apply(z.caster,O),this},L.prototype.applyGetters=function(z,U){return U!=null&&U.$__!=null&&U.$populated(this.path)?z:y.prototype.applyGetters.call(this,z,U)},L.prototype._applySetters=function(z,U,O,I){if(this.casterConstructor.$isMongooseArray&&L.options.castNonArrays&&!this[M]){for(var j=0,P=this;P!=null&&P.$isMongooseArray&&!P.$isMongooseDocumentArray;)++j,P=P.casterConstructor;if(z!=null&&z.length!==0){var A=f(z);if(A.min===A.max&&A.max<j&&A.containsNonArrayItem)for(var $=A.max;$<j;++$)z=[z]}}return y.prototype._applySetters.call(this,z,U,O,I)},L.prototype.cast=function(z,U,O,I,j){var P,A;if(g||(g=i(8941).Array),Array.isArray(z)){if(!z.length&&U){var $=U.schema.indexedPaths(),q=this.path;for(P=0,A=$.length;P<A;++P){var X=$[P][0][q];if(X==="2dsphere"||X==="2d")return}var te=this.path.endsWith(".coordinates")?this.path.substring(0,this.path.lastIndexOf(".")):null;if(te!=null){for(P=0,A=$.length;P<A;++P)if($[P][0][te]==="2dsphere")return}}j=j||N;var re=x.isMongooseArray(z)?z.__array:z,ie=j.path||this.path;if(j.arrayPathIndex!=null&&(ie+="."+j.arrayPathIndex),re=(z=g(re,ie,U,this)).__array,O&&U!=null&&U.$__!=null&&U.$populated(this.path))return z;var Z=this.caster,ee=Z.$isMongooseArray;if(Z&&this.casterConstructor!==c)try{var de=re.length;for(P=0;P<de;P++){var le={};ee&&(j.arrayPath!=null||Z._arrayParentPath!=null)&&(le.arrayPathIndex=P),re[P]=Z.applySetters(re[P],U,O,void 0,le)}}catch(G){throw new m("["+G.kind+"]",E.inspect(z),this.path+"."+P,G,this)}return z}var V=this.options.castNonArrays!=null?this.options.castNonArrays:L.options.castNonArrays;if(O||V)return U&&O&&U.markModified(this.path),this.cast([z],U,O);throw new m("Array",E.inspect(z),this.path,null,this)},L.prototype._castForPopulate=function(z,U){if(g||(g=i(8941).Array),Array.isArray(z)){var O,I=z.__array?z.__array:z,j=I.length,P=this.caster;if(P&&this.casterConstructor!==c)try{for(O=0;O<j;O++){var A={};P.$isMongooseArray&&P._arrayParentPath!=null&&(A.arrayPathIndex=O),I[O]=P.cast(I[O],U,!1,void 0,A)}}catch($){throw new m("["+$.kind+"]",E.inspect(z),this.path+"."+O,$,this)}return z}throw new m("Array",E.inspect(z),this.path,null,this)},L.prototype.$toObject=L.prototype.toObject,L.prototype.discriminator=function(){for(var z,U=this;U.$isMongooseArray&&!U.$isMongooseDocumentArray;)if((U=U.casterConstructor)==null||typeof U=="function")throw new p("You can only add an embedded discriminator on a document array, "+this.path+" is a plain array");return(z=U).discriminator.apply(z,arguments)},L.prototype.clone=function(){var z=Object.assign({},this.options),U=new this.constructor(this.path,this.caster,z,this.schemaOptions);return U.validators=this.validators.slice(),this.requiredValidator!==void 0&&(U.requiredValidator=this.requiredValidator),U},L.prototype._castForQuery=function(z,U){var O=this,I=this.casterConstructor;if(z&&I.discriminators&&I.schema&&I.schema.options&&I.schema.options.discriminatorKey)if(typeof z[I.schema.options.discriminatorKey]=="string"&&I.discriminators[z[I.schema.options.discriminatorKey]])I=I.discriminators[z[I.schema.options.discriminatorKey]];else{var j=C(I.discriminators,z[I.schema.options.discriminatorKey]);j&&(I=j)}var P=this.casterConstructor.prototype,A=P&&P.castForQuery,$=P&&P.cast,q=I.castForQuery,X=this.caster;return Array.isArray(z)?(this.setters.reverse().forEach(function(te){z=te.call(O,z,O)}),z=z.map(function(te){return x.isObject(te)&&te.$elemMatch?te:A?te=A.call(X,null,te,U):$?te=$.call(X,te):q?te=q.call(X,null,te,U):te!=null?te=new I(te):te})):A?z=A.call(X,null,z,U):$?z=$.call(X,z):q?z=q.call(X,null,z,U):z!=null&&(z=new I(z)),z},L.prototype.castForQuery=function(z,U,O){var I;if(z!=null){if(!(I=this.$conditionalHandlers[z]))throw new Error("Can't use "+z+" with Array.");return I.call(this,U,O)}return this._castForQuery(U,O)};var R=L.prototype.$conditionalHandlers={};function D(z){return function(U){if(!Array.isArray(U))throw new TypeError("conditional "+z+" requires an array");var O,I=[],j=function(A,$){var q=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(!q){if(Array.isArray(A)||(q=function(ee,de){if(ee){if(typeof ee=="string")return l(ee,de);var le={}.toString.call(ee).slice(8,-1);return le==="Object"&&ee.constructor&&(le=ee.constructor.name),le==="Map"||le==="Set"?Array.from(ee):le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le)?l(ee,de):void 0}}(A))||$&&A&&typeof A.length=="number"){q&&(A=q);var X=0,te=function(){};return{s:te,n:function(){return X>=A.length?{done:!0}:{done:!1,value:A[X++]}},e:function(ee){throw ee},f:te}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re,ie=!0,Z=!1;return{s:function(){q=q.call(A)},n:function(){var ee=q.next();return ie=ee.done,ee},e:function(ee){Z=!0,re=ee},f:function(){try{ie||q.return==null||q.return()}finally{if(Z)throw re}}}}(U);try{for(j.s();!(O=j.n()).done;){var P=O.value;I.push(v(this.casterConstructor.schema,P,null,this&&this.$$context))}}catch(A){j.e(A)}finally{j.f()}return I}}R.$all=function(z,U){var O=this;return Array.isArray(z)||(z=[z]),z=z.map(function(I){if(!x.isObject(I))return I;if(I.$elemMatch!=null)return{$elemMatch:v(O.casterConstructor.schema,I.$elemMatch,null,O&&O.$$context)};var j={};return j[O.path]=I,v(O.casterConstructor.schema,j,null,O&&O.$$context)[O.path]},this),this.castForQuery(null,z,U)},R.$options=String,R.$elemMatch=function(z,U){for(var O,I=Object.keys(z),j=I.length,P=0;P<j;++P){var A=I[P],$=z[A];S(A)&&$!=null&&(z[A]=this.castForQuery(A,$,U))}var q=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.options&&this.casterConstructor.schema.options.discriminatorKey,X=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.discriminators||{};if(q!=null&&z[q]!=null&&X[z[q]]!=null)return v(X[z[q]],z,null,this&&this.$$context);var te=(O=this.casterConstructor.schema)!==null&&O!==void 0?O:U.schema;return v(te,z,null,this&&this.$$context)},R.$geoIntersects=T.cast$geoIntersects,R.$or=D("$or"),R.$and=D("$and"),R.$nor=D("$nor"),R.$near=R.$nearSphere=T.cast$near,R.$within=R.$geoWithin=T.cast$within,R.$size=R.$minDistance=R.$maxDistance=k,R.$exists=b,R.$type=w,R.$eq=R.$gt=R.$gte=R.$lt=R.$lte=R.$not=R.$regex=R.$ne=L.prototype._castForQuery,R.$nin=y.prototype.$conditionalHandlers.$nin,R.$in=y.prototype.$conditionalHandlers.$in,o.exports=L},6795:(o,s,i)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},l(m)}function u(m,c){var f=Object.keys(m);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(m);c&&(v=v.filter(function(_){return Object.getOwnPropertyDescriptor(m,_).enumerable})),f.push.apply(f,v)}return f}function g(m){for(var c=1;c<arguments.length;c++){var f=arguments[c]!=null?arguments[c]:{};c%2?u(Object(f),!0).forEach(function(v){h(m,v,f[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(f)):u(Object(f)).forEach(function(v){Object.defineProperty(m,v,Object.getOwnPropertyDescriptor(f,v))})}return m}function h(m,c,f){return(c=function(v){var _=function(S,E){if(l(S)!="object"||!S)return S;var x=S[Symbol.toPrimitive];if(x!==void 0){var k=x.call(S,"string");if(l(k)!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(v);return l(_)=="symbol"?_:_+""}(c))in m?Object.defineProperty(m,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):m[c]=f,m}var b=i(1795),w=i(4289),p=i(3087);function d(m,c){w.call(this,m,c,"BigInt")}function y(m,c){return this.castForQuery(null,m,c)}d.schemaName="BigInt",d.defaultOptions={},d.prototype=Object.create(w.prototype),d.prototype.constructor=d,d._cast=p,d.set=w.set,d.setters=[],d.get=w.get,d.cast=function(m){return arguments.length===0||(m===!1&&(m=this._defaultCaster),this._cast=m),this._cast},d._checkRequired=function(m){return m!=null},d.checkRequired=w.checkRequired,d.prototype.checkRequired=function(m){return this.constructor._checkRequired(m)},d.prototype.cast=function(m){var c;c=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():d.cast();try{return c(m)}catch(f){throw new b("BigInt",m,this.path,f,this)}},d.$conditionalHandlers=g(g({},w.prototype.$conditionalHandlers),{},{$gt:y,$gte:y,$lt:y,$lte:y}),d.prototype.castForQuery=function(m,c,f){var v;return m!=null?(v=d.$conditionalHandlers[m])?v.call(this,c):this.applySetters(null,c,f):this.applySetters(c,f)},d.prototype._castNullish=function(m){return m===void 0||(typeof this.constructor.cast=="function"?this.constructor.cast():d.cast()),m},o.exports=d},6470:(o,s,i)=>{function l(d){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},l(d)}function u(d,y){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(d);y&&(c=c.filter(function(f){return Object.getOwnPropertyDescriptor(d,f).enumerable})),m.push.apply(m,c)}return m}function g(d,y,m){return(y=function(c){var f=function(v,_){if(l(v)!="object"||!v)return v;var S=v[Symbol.toPrimitive];if(S!==void 0){var E=S.call(v,"string");if(l(E)!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}(c);return l(f)=="symbol"?f:f+""}(y))in d?Object.defineProperty(d,y,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[y]=m,d}var h=i(1795),b=i(4289),w=i(6670);function p(d,y){b.call(this,d,y,"Boolean")}p.schemaName="Boolean",p.defaultOptions={},p.prototype=Object.create(b.prototype),p.prototype.constructor=p,p._cast=w,p.set=b.set,p.setters=[],p.get=b.get,p.cast=function(d){return arguments.length===0||(d===!1&&(d=this._defaultCaster),this._cast=d),this._cast},p._defaultCaster=function(d){if(d!=null&&typeof d!="boolean")throw new Error;return d},p._checkRequired=function(d){return d===!0||d===!1},p.checkRequired=b.checkRequired,p.prototype.checkRequired=function(d){return this.constructor._checkRequired(d)},Object.defineProperty(p,"convertToTrue",{get:function(){return w.convertToTrue},set:function(d){w.convertToTrue=d}}),Object.defineProperty(p,"convertToFalse",{get:function(){return w.convertToFalse},set:function(d){w.convertToFalse=d}}),p.prototype.cast=function(d){var y;y=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():p.cast();try{return y(d)}catch(m){throw new h("Boolean",d,this.path,m,this)}},p.$conditionalHandlers=function(d){for(var y=1;y<arguments.length;y++){var m=arguments[y]!=null?arguments[y]:{};y%2?u(Object(m),!0).forEach(function(c){g(d,c,m[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):u(Object(m)).forEach(function(c){Object.defineProperty(d,c,Object.getOwnPropertyDescriptor(m,c))})}return d}({},b.prototype.$conditionalHandlers),p.prototype.castForQuery=function(d,y,m){var c;return d!=null?(c=p.$conditionalHandlers[d])?c.call(this,y):this.applySetters(null,y,m):this.applySetters(y,m)},p.prototype._castNullish=function(d){if(d===void 0)return d;var y=typeof this.constructor.cast=="function"?this.constructor.cast():p.cast();return y==null?d:!(y.convertToFalse instanceof Set&&y.convertToFalse.has(d))&&(!!(y.convertToTrue instanceof Set&&y.convertToTrue.has(d))||d)},o.exports=p},8800:(o,s,i)=>{var l=i(365).Buffer;function u(S,E){var x=Object.keys(S);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(S);E&&(k=k.filter(function(T){return Object.getOwnPropertyDescriptor(S,T).enumerable})),x.push.apply(x,k)}return x}function g(S){for(var E=1;E<arguments.length;E++){var x=arguments[E]!=null?arguments[E]:{};E%2?u(Object(x),!0).forEach(function(k){h(S,k,x[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(x)):u(Object(x)).forEach(function(k){Object.defineProperty(S,k,Object.getOwnPropertyDescriptor(x,k))})}return S}function h(S,E,x){return(E=function(k){var T=function(C,M){if(b(C)!="object"||!C)return C;var N=C[Symbol.toPrimitive];if(N!==void 0){var L=N.call(C,"string");if(b(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(k);return b(T)=="symbol"?T:T+""}(E))in S?Object.defineProperty(S,E,{value:x,enumerable:!0,configurable:!0,writable:!0}):S[E]=x,S}function b(S){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},b(S)}var w=i(4051),p=i(9586),d=i(4289),y=i(4282),m=i(6872),c=w.Binary,f=d.CastError;function v(S,E){d.call(this,S,E,"Buffer")}function _(S,E){return this.castForQuery(null,S,E)}v.schemaName="Buffer",v.defaultOptions={},v.prototype=Object.create(d.prototype),v.prototype.constructor=v,v.prototype.OptionsConstructor=p,v._checkRequired=function(S){return!(!S||!S.length)},v.set=d.set,v.setters=[],v.get=d.get,v.checkRequired=d.checkRequired,v.prototype.checkRequired=function(S,E){return d._isRef(this,S,E,!0)?!!S:this.constructor._checkRequired(S)},v.prototype.cast=function(S,E,x){var k;if(d._isRef(this,S,E,x)){if(S&&S.isMongooseBuffer)return S;if(l.isBuffer(S))return S&&S.isMongooseBuffer||(S=new w(S,[this.path,E]),this.options.subtype!=null&&(S._subtype=this.options.subtype)),S;if(S instanceof c){if(k=new w(S.value(!0),[this.path,E]),typeof S.sub_type!="number")throw new f("Buffer",S,this.path,null,this);return k._subtype=S.sub_type,k}if(S==null||m.isNonBuiltinObject(S))return this._castRef(S,E,x)}if(S&&S._id&&(S=S._id),S&&S.isMongooseBuffer)return S;if(l.isBuffer(S))return S&&S.isMongooseBuffer||(S=new w(S,[this.path,E]),this.options.subtype!=null&&(S._subtype=this.options.subtype)),S;if(S instanceof c){if(k=new w(S.value(!0),[this.path,E]),typeof S.sub_type!="number")throw new f("Buffer",S,this.path,null,this);return k._subtype=S.sub_type,k}if(S===null)return S;var T=b(S);if(T==="string"||T==="number"||Array.isArray(S)||T==="object"&&S.type==="Buffer"&&Array.isArray(S.data))return T==="number"&&(S=[S]),k=new w(S,[this.path,E]),this.options.subtype!=null&&(k._subtype=this.options.subtype),k;throw new f("Buffer",S,this.path,null,this)},v.prototype.subtype=function(S){return this.options.subtype=S,this},v.prototype.$conditionalHandlers=g(g({},d.prototype.$conditionalHandlers),{},{$bitsAllClear:y,$bitsAnyClear:y,$bitsAllSet:y,$bitsAnySet:y,$gt:_,$gte:_,$lt:_,$lte:_}),v.prototype.castForQuery=function(S,E,x){var k;if(S!=null){if(!(k=this.$conditionalHandlers[S]))throw new Error("Can't use "+S+" with Buffer.");return k.call(this,E)}var T=this.applySetters(E,x);return T&&T.toObject({transform:!1,virtuals:!1})},o.exports=v},6535:(o,s,i)=>{function l(_,S){var E=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);S&&(x=x.filter(function(k){return Object.getOwnPropertyDescriptor(_,k).enumerable})),E.push.apply(E,x)}return E}function u(_){for(var S=1;S<arguments.length;S++){var E=arguments[S]!=null?arguments[S]:{};S%2?l(Object(E),!0).forEach(function(x){g(_,x,E[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(E)):l(Object(E)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(E,x))})}return _}function g(_,S,E){return(S=function(x){var k=function(T,C){if(h(T)!="object"||!T)return T;var M=T[Symbol.toPrimitive];if(M!==void 0){var N=M.call(T,"string");if(h(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(x);return h(k)=="symbol"?k:k+""}(S))in _?Object.defineProperty(_,S,{value:E,enumerable:!0,configurable:!0,writable:!0}):_[S]=E,_}function h(_){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},h(_)}var b=i(4888),w=i(2869),p=i(4289),d=i(195),y=i(1981),m=i(6872),c=p.CastError;function f(_,S){p.call(this,_,S,"Date")}function v(_){return this.cast(_)}f.schemaName="Date",f.defaultOptions={},f.prototype=Object.create(p.prototype),f.prototype.constructor=f,f.prototype.OptionsConstructor=w,f._cast=d,f.set=p.set,f.setters=[],f.get=p.get,f.cast=function(_){return arguments.length===0||(_===!1&&(_=this._defaultCaster),this._cast=_),this._cast},f._defaultCaster=function(_){if(_!=null&&!(_ instanceof Date))throw new Error;return _},f.prototype.expires=function(_){return y(this._index)!=="Object"&&(this._index={}),this._index.expires=_,m.expires(this._index),this},f._checkRequired=function(_){return _ instanceof Date},f.checkRequired=p.checkRequired,f.prototype.checkRequired=function(_,S){return h(_)==="object"&&p._isRef(this,_,S,!0)?_!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():f.checkRequired())(_)},f.prototype.min=function(_,S){if(this.minValidator&&(this.validators=this.validators.filter(function(k){return k.validator!==this.minValidator},this)),_){var E=S||b.messages.Date.min;typeof E=="string"&&(E=E.replace(/{MIN}/,_===Date.now?"Date.now()":_.toString()));var x=this;this.validators.push({validator:this.minValidator=function(k){var T=_;typeof _=="function"&&_!==Date.now&&(T=T.call(this));var C=T===Date.now?T():x.cast(T);return k===null||k.valueOf()>=C.valueOf()},message:E,type:"min",min:_})}return this},f.prototype.max=function(_,S){if(this.maxValidator&&(this.validators=this.validators.filter(function(k){return k.validator!==this.maxValidator},this)),_){var E=S||b.messages.Date.max;typeof E=="string"&&(E=E.replace(/{MAX}/,_===Date.now?"Date.now()":_.toString()));var x=this;this.validators.push({validator:this.maxValidator=function(k){var T=_;typeof T=="function"&&T!==Date.now&&(T=T.call(this));var C=T===Date.now?T():x.cast(T);return k===null||k.valueOf()<=C.valueOf()},message:E,type:"max",max:_})}return this},f.prototype.cast=function(_){var S;S=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():f.cast();try{return S(_)}catch(E){throw new c("date",_,this.path,E,this)}},f.prototype.$conditionalHandlers=u(u({},p.prototype.$conditionalHandlers),{},{$gt:v,$gte:v,$lt:v,$lte:v}),f.prototype.castForQuery=function(_,S,E){if(_==null)return this.applySetters(S,E);var x=this.$conditionalHandlers[_];if(!x)throw new Error("Can't use "+_+" with Date.");return x.call(this,S)},o.exports=f},6621:(o,s,i)=>{function l(c){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},l(c)}function u(c,f){var v=Object.keys(c);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(c);f&&(_=_.filter(function(S){return Object.getOwnPropertyDescriptor(c,S).enumerable})),v.push.apply(v,_)}return v}function g(c){for(var f=1;f<arguments.length;f++){var v=arguments[f]!=null?arguments[f]:{};f%2?u(Object(v),!0).forEach(function(_){h(c,_,v[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(v)):u(Object(v)).forEach(function(_){Object.defineProperty(c,_,Object.getOwnPropertyDescriptor(v,_))})}return c}function h(c,f,v){return(f=function(_){var S=function(E,x){if(l(E)!="object"||!E)return E;var k=E[Symbol.toPrimitive];if(k!==void 0){var T=k.call(E,"string");if(l(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(_);return l(S)=="symbol"?S:S+""}(f))in c?Object.defineProperty(c,f,{value:v,enumerable:!0,configurable:!0,writable:!0}):c[f]=v,c}var b=i(4289),w=b.CastError,p=i(6209),d=i(1563);function y(c,f){b.call(this,c,f,"Decimal128")}function m(c){return this.cast(c)}y.schemaName="Decimal128",y.defaultOptions={},y.prototype=Object.create(b.prototype),y.prototype.constructor=y,y._cast=p,y.set=b.set,y.setters=[],y.get=b.get,y.cast=function(c){return arguments.length===0||(c===!1&&(c=this._defaultCaster),this._cast=c),this._cast},y._defaultCaster=function(c){if(c!=null&&!d(c,"Decimal128"))throw new Error;return c},y._checkRequired=function(c){return d(c,"Decimal128")},y.checkRequired=b.checkRequired,y.prototype.checkRequired=function(c,f){return b._isRef(this,c,f,!0)?!!c:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():y.checkRequired())(c)},y.prototype.cast=function(c,f,v){if(b._isRef(this,c,f,v))return d(c,"Decimal128")?c:this._castRef(c,f,v);var _;_=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():y.cast();try{return _(c)}catch(S){throw new w("Decimal128",c,this.path,S,this)}},y.prototype.$conditionalHandlers=g(g({},b.prototype.$conditionalHandlers),{},{$gt:m,$gte:m,$lt:m,$lte:m}),o.exports=y},4504:(o,s,i)=>{var l,u,g=i(94),h=i(1795),b=i(8997),w=i(9620).EventEmitter,p=i(887),d=i(4289),y=i(9181),m=i(9691),c=i(719),f=i(6872),v=i(8413),_=i(3346),S=i(8770).arrayAtomicsSymbol,E=i(8770).arrayPathSymbol,x=i(8770).documentArrayParent;function k(L,R,D,z){if(R.options&&R.options.timeseries)throw new _(L,"timeseries");var U=k.defaultOptions&&k.defaultOptions._id;U!=null&&((z=z||{})._id=U),z!=null&&z._id!=null?R=m(R,z):D!=null&&D._id!=null&&(R=m(R,D));var O=T(R,D);O.prototype.$basePath=L,g.call(this,L,O,D),this.schema=R,this.schemaOptions=z||{},this.$isMongooseDocumentArray=!0,this.Constructor=O,O.base=R.base;var I=this.defaultValue;"defaultValue"in this&&I===void 0||this.default(function(){var j=I.call(this);return j==null||Array.isArray(j)||(j=[j]),j}),this.$embeddedSchemaType=new b(L+".$",{required:this&&this.schemaOptions&&this.schemaOptions.required||!1,$parentSchemaType:this}),this.$embeddedSchemaType.caster=this.Constructor,this.$embeddedSchemaType.schema=this.schema}function T(L,R,D){function z(){u.apply(this,arguments),this.__parentArray!=null&&this.__parentArray.getArrayParent()!=null&&this.$session(this.__parentArray.getArrayParent().$session())}u||(u=i(1568)),L._preCompile();var U=D!=null?D.prototype:u.prototype;for(var O in z.prototype=Object.create(U),z.prototype.$__setSchema(L),z.schema=L,z.prototype.constructor=z,z.$isArraySubdocument=!0,z.events=new w,z.base=L.base,L.methods)z.prototype[O]=L.methods[O];for(var I in L.statics)z[I]=L.statics[I];for(var j in w.prototype)z[j]=w.prototype[j];return z.options=R,z}k.schemaName="DocumentArray",k.options={castNonArrays:!0},k.prototype=Object.create(g.prototype),k.prototype.constructor=k,k.prototype.OptionsConstructor=p,k.prototype.discriminator=function(L,R,D){typeof L=="function"&&(L=f.getFunctionName(L)),D=D||{};var z=f.isPOJO(D)?D.value:D,U=typeof D.clone!="boolean"||D.clone;R.instanceOfSchema&&U&&(R=R.clone());var O=T(R=y(this.casterConstructor,L,R,z),null,this.casterConstructor);O.baseCasterConstructor=this.casterConstructor;try{Object.defineProperty(O,"name",{value:L})}catch{}return this.casterConstructor.discriminators[L]=O,this.casterConstructor.discriminators[L]},k.prototype.doValidate=function(L,R,D,z){l||(l=i(6077));var U=this;try{d.prototype.doValidate.call(this,L,function(O){if(O)return R(O);var I,j=L&&L.length;if(!j||z&&z.updateValidator)return R();function P(te){te!=null&&(I=te),--j||R(I)}f.isMongooseDocumentArray(L)||(L=new l(L,U.path,D));for(var A=0,$=j;A<$;++A){var q=L[A];if(q!=null){if(!(q instanceof u)){var X=v(U.casterConstructor,L[A]);q=L[A]=new X(q,L,void 0,void 0,A)}z==null||!z.validateModifiedOnly||q.$isModified()?q.$__validate(P):--j||R(I)}else--j||R(I)}},D)}catch(O){return R(O)}},k.prototype.doValidateSync=function(L,R,D){var z=d.prototype.doValidateSync.call(this,L,R);if(z!=null)return z;var U=L&&L.length,O=null;if(U){for(var I=0,j=U;I<j;++I){var P=L[I];if(P){if(!(P instanceof u)){var A=v(this.casterConstructor,L[I]);P=L[I]=new A(P,L,void 0,void 0,I)}if(D==null||!D.validateModifiedOnly||P.$isModified()){var $=P.validateSync();$&&O==null&&(O=$)}}}return O}},k.prototype.getDefault=function(L,R,D){var z=typeof this.defaultValue=="function"?this.defaultValue.call(L):this.defaultValue;if(z==null||D&&D.skipCast)return z;l||(l=i(6077)),Array.isArray(z)||(z=[z]),z=new l(z,this.path,L);for(var U=0;U<z.length;++U){var O=new(v(this.casterConstructor,z[U]))({},z,void 0,void 0,U);O.$init(z[U]),O.isNew=!0,Object.assign(O.$__.activePaths.default,O.$__.activePaths.init),O.$__.activePaths.init={},z[U]=O}return z};var C=Object.freeze({transform:!1,virtuals:!1}),M=Object.freeze({skipId:!1,willInit:!0});function N(L,R,D){if(D&&R){for(var z,U,O,I=L.path+".",j=Object.keys(R),P=j.length,A={};P--;)if((U=j[P]).startsWith(I)){if((O=U.substring(I.length))==="$")continue;O.startsWith("$.")&&(O=O.substring(2)),z||(z=!0),A[O]=R[U]}return z&&A||void 0}}k.prototype.cast=function(L,R,D,z,U){if(l||(l=i(6077)),L!=null&&L[E]!=null&&L===z)return L;var O,I,j=(U=U||{}).path||this.path;if(!Array.isArray(L)){if(!D&&!k.options.castNonArrays)throw new h("DocumentArray",L,this.path,null,this);return R&&D&&R.markModified(j),this.cast([L],R,D,z,U)}U.skipDocumentArrayCast&&!f.isMongooseDocumentArray(L)||(L=new l(L,j,R)),z!=null&&(L[S]=z[S]||{}),U.arrayPathIndex!=null&&(L[E]=j+"."+U.arrayPathIndex);for(var P=f.isMongooseDocumentArray(L)?L.__array:L,A=P.length,$=0;$<A;++$)if(P[$]){var q=v(this.casterConstructor,P[$]),X=c(P[$],!0);if(P[$]!==X&&(P[$]=X),P[$]instanceof u){if(P[$][x]!==R)if(D){var te=new q(null,L,M,O,$);P[$]=te.$init(P[$])}else{var re=new q(P[$],L,void 0,void 0,$);P[$]=re}P[$].__index==null&&P[$].$setIndex($)}else if(P[$]!=null)if(D)R?O||(O=N(this,R.$__.selected,D)):O=!0,I=new q(null,L,M,O,$),P[$]=I.$init(P[$]);else if(z&&typeof z.id=="function"&&(I=z.id(P[$]._id)),z&&I&&f.deepEqual(I.toObject(C),P[$]))I.set(P[$]),P[$]=I;else try{I=new q(P[$],L,void 0,void 0,$),P[$]=I}catch(ie){throw new h("embedded",P[$],L[E],ie,this)}}return L},k.prototype.clone=function(){var L=Object.assign({},this.options),R=new this.constructor(this.path,this.schema,L,this.schemaOptions);return R.validators=this.validators.slice(),this.requiredValidator!==void 0&&(R.requiredValidator=this.requiredValidator),R.Constructor.discriminators=Object.assign({},this.Constructor.discriminators),R},k.prototype.applyGetters=function(L,R){return d.prototype.applyGetters.call(this,L,R)},k.defaultOptions={},k.set=d.set,k.setters=[],k.get=d.get,o.exports=k},5251:(o,s,i)=>{s.Array=i(94),s.Boolean=i(6470),s.BigInt=i(6795),s.Buffer=i(8800),s.Date=i(6535),s.Decimal128=s.Decimal=i(6621),s.DocumentArray=i(4504),s.Map=i(71),s.Mixed=i(3861),s.Number=i(1751),s.ObjectId=i(7116),s.String=i(6542),s.Subdocument=i(3617),s.UUID=i(2729),s.Oid=s.ObjectId,s.Object=s.Mixed,s.Bool=s.Boolean,s.ObjectID=s.ObjectId},71:(o,s,i)=>{function l(_){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},l(_)}function u(_,S){(S==null||S>_.length)&&(S=_.length);for(var E=0,x=Array(S);E<S;E++)x[E]=_[E];return x}function g(_,S){for(var E=0;E<S.length;E++){var x=S[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(_,h(x.key),x)}}function h(_){var S=function(E,x){if(l(E)!="object"||!E)return E;var k=E[Symbol.toPrimitive];if(k!==void 0){var T=k.call(E,"string");if(l(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(_);return l(S)=="symbol"?S:S+""}function b(_,S,E){return S=d(S),function(x,k){if(k&&(l(k)=="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(x)}(_,w()?Reflect.construct(S,E||[],d(_).constructor):S.apply(_,E))}function w(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!_})()}function p(){return p=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(_,S,E){var x=function(T,C){for(;!{}.hasOwnProperty.call(T,C)&&(T=d(T))!==null;);return T}(_,S);if(x){var k=Object.getOwnPropertyDescriptor(x,S);return k.get?k.get.call(arguments.length<3?_:E):k.value}},p.apply(null,arguments)}function d(_){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},d(_)}function y(_,S){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,x){return E.__proto__=x,E},y(_,S)}var m=i(3828),c=i(8227),f=i(4289),v=function(_){function S(k,T){var C;return function(M,N){if(!(M instanceof N))throw new TypeError("Cannot call a class as a function")}(this,S),(C=b(this,S,[k,T,"Map"])).$isSchemaMap=!0,C}return function(k,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(T&&T.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),T&&y(k,T)}(S,_),E=S,(x=[{key:"set",value:function(k,T){return f.set(k,T)}},{key:"cast",value:function(k,T,C){if(k instanceof m)return k;var M=this.path;if(C){var N=new m({},M,T,this.$__schemaType);if(k instanceof i.g.Map){var L,R=function(P,A){var $=typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(!$){if(Array.isArray(P)||($=function(Z,ee){if(Z){if(typeof Z=="string")return u(Z,ee);var de={}.toString.call(Z).slice(8,-1);return de==="Object"&&Z.constructor&&(de=Z.constructor.name),de==="Map"||de==="Set"?Array.from(Z):de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de)?u(Z,ee):void 0}}(P))||A&&P&&typeof P.length=="number"){$&&(P=$);var q=0,X=function(){};return{s:X,n:function(){return q>=P.length?{done:!0}:{done:!1,value:P[q++]}},e:function(Z){throw Z},f:X}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var te,re=!0,ie=!1;return{s:function(){$=$.call(P)},n:function(){var Z=$.next();return re=Z.done,Z},e:function(Z){ie=!0,te=Z},f:function(){try{re||$.return==null||$.return()}finally{if(ie)throw te}}}}(k.keys());try{for(R.s();!(L=R.n()).done;){var D=L.value,z=k.get(D);z=z==null?N.$__schemaType._castNullish(z):N.$__schemaType.cast(z,T,!0,null,{path:M+"."+D}),N.$init(D,z)}}catch(P){R.e(P)}finally{R.f()}}else for(var U=0,O=Object.keys(k);U<O.length;U++){var I=O[U],j=k[I];j=j==null?N.$__schemaType._castNullish(j):N.$__schemaType.cast(j,T,!0,null,{path:M+"."+I}),N.$init(I,j)}return N}return new m(k,M,T,this.$__schemaType)}},{key:"clone",value:function(){var k=p(d(S.prototype),"clone",this).call(this);return this.$__schemaType!=null&&(k.$__schemaType=this.$__schemaType.clone()),k}}])&&g(E.prototype,x),Object.defineProperty(E,"prototype",{writable:!1}),E;var E,x}(f);v.schemaName="Map",v.prototype.OptionsConstructor=c,v.defaultOptions={},o.exports=v},3861:(o,s,i)=>{var l=i(4289),u=i(8107),g=i(5721),h=i(6872);function b(w,p){if(p&&p.default){var d=p.default;Array.isArray(d)&&d.length===0?p.default=Array:!p.shared&&g(d)&&Object.keys(d).length===0&&(p.default=function(){return{}})}l.call(this,w,p,"Mixed"),this[u.schemaMixedSymbol]=!0}b.schemaName="Mixed",b.defaultOptions={},b.prototype=Object.create(l.prototype),b.prototype.constructor=b,b.get=l.get,b.set=l.set,b.setters=[],b.prototype.cast=function(w){return w instanceof Error?h.errorToPOJO(w):w},b.prototype.castForQuery=function(w,p){return p},o.exports=b},1751:(o,s,i)=>{function l(_,S){var E=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);S&&(x=x.filter(function(k){return Object.getOwnPropertyDescriptor(_,k).enumerable})),E.push.apply(E,x)}return E}function u(_){for(var S=1;S<arguments.length;S++){var E=arguments[S]!=null?arguments[S]:{};S%2?l(Object(E),!0).forEach(function(x){g(_,x,E[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(E)):l(Object(E)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(E,x))})}return _}function g(_,S,E){return(S=function(x){var k=function(T,C){if(h(T)!="object"||!T)return T;var M=T[Symbol.toPrimitive];if(M!==void 0){var N=M.call(T,"string");if(h(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(x);return h(k)=="symbol"?k:k+""}(S))in _?Object.defineProperty(_,S,{value:E,enumerable:!0,configurable:!0,writable:!0}):_[S]=E,_}function h(_){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},h(_)}var b=i(4888),w=i(8491),p=i(4289),d=i(3065),y=i(4282),m=i(6872),c=p.CastError;function f(_,S){p.call(this,_,S,"Number")}function v(_){return this.cast(_)}f.get=p.get,f.set=p.set,f.setters=[],f._cast=d,f.cast=function(_){return arguments.length===0||(_===!1&&(_=this._defaultCaster),this._cast=_),this._cast},f._defaultCaster=function(_){if(typeof _!="number")throw new Error;return _},f.schemaName="Number",f.defaultOptions={},f.prototype=Object.create(p.prototype),f.prototype.constructor=f,f.prototype.OptionsConstructor=w,f._checkRequired=function(_){return typeof _=="number"||_ instanceof Number},f.checkRequired=p.checkRequired,f.prototype.checkRequired=function(_,S){return h(_)==="object"&&p._isRef(this,_,S,!0)?_!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():f.checkRequired())(_)},f.prototype.min=function(_,S){if(this.minValidator&&(this.validators=this.validators.filter(function(x){return x.validator!==this.minValidator},this)),_!=null){var E=S||b.messages.Number.min;E=E.replace(/{MIN}/,_),this.validators.push({validator:this.minValidator=function(x){return x==null||x>=_},message:E,type:"min",min:_})}return this},f.prototype.max=function(_,S){if(this.maxValidator&&(this.validators=this.validators.filter(function(x){return x.validator!==this.maxValidator},this)),_!=null){var E=S||b.messages.Number.max;E=E.replace(/{MAX}/,_),this.validators.push({validator:this.maxValidator=function(x){return x==null||x<=_},message:E,type:"max",max:_})}return this},f.prototype.enum=function(_,S){return this.enumValidator&&(this.validators=this.validators.filter(function(E){return E.validator!==this.enumValidator},this)),Array.isArray(_)||(m.isPOJO(_)&&_.values!=null?(S=_.message,_=_.values):typeof _=="number"&&(_=Array.prototype.slice.call(arguments),S=null),m.isPOJO(_)&&(_=Object.values(_)),S=S||b.messages.Number.enum),S=S??b.messages.Number.enum,this.enumValidator=function(E){return E==null||_.indexOf(E)!==-1},this.validators.push({validator:this.enumValidator,message:S,type:"enum",enumValues:_}),this},f.prototype.cast=function(_,S,E){if(typeof _!="number"&&p._isRef(this,_,S,E)&&(_==null||m.isNonBuiltinObject(_)))return this._castRef(_,S,E);var x,k=_&&_._id!==void 0?_._id:_;x=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():f.cast();try{return x(k)}catch(T){throw new c("Number",k,this.path,T,this)}},f.prototype.$conditionalHandlers=u(u({},p.prototype.$conditionalHandlers),{},{$bitsAllClear:y,$bitsAnyClear:y,$bitsAllSet:y,$bitsAnySet:y,$gt:v,$gte:v,$lt:v,$lte:v,$mod:function(_){var S=this;return Array.isArray(_)?_.map(function(E){return S.cast(E)}):[this.cast(_)]}}),f.prototype.castForQuery=function(_,S,E){var x;if(_!=null){if(!(x=this.$conditionalHandlers[_]))throw new c("number",S,this.path,null,this);return x.call(this,S,E)}return this.applySetters(S,E)},o.exports=f},7116:(o,s,i)=>{function l(k){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},l(k)}function u(k,T){var C=Object.keys(k);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(k);T&&(M=M.filter(function(N){return Object.getOwnPropertyDescriptor(k,N).enumerable})),C.push.apply(C,M)}return C}function g(k){for(var T=1;T<arguments.length;T++){var C=arguments[T]!=null?arguments[T]:{};T%2?u(Object(C),!0).forEach(function(M){h(k,M,C[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(C)):u(Object(C)).forEach(function(M){Object.defineProperty(k,M,Object.getOwnPropertyDescriptor(C,M))})}return k}function h(k,T,C){return(T=function(M){var N=function(L,R){if(l(L)!="object"||!L)return L;var D=L[Symbol.toPrimitive];if(D!==void 0){var z=D.call(L,"string");if(l(z)!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(M);return l(N)=="symbol"?N:N+""}(T))in k?Object.defineProperty(k,T,{value:C,enumerable:!0,configurable:!0,writable:!0}):k[T]=C,k}var b,w=i(8172),p=i(4289),d=i(4731),y=i(1981),m=i(6079),c=i(1563),f=i(6872),v=p.CastError;function _(k,T){var C=typeof k=="string"&&k.length===24&&/^[a-f0-9]+$/i.test(k),M=T&&T.suppressWarning;!C&&k!==void 0||M||f.warn("mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you're trying to create a hex char path in your schema."),p.call(this,k,T,"ObjectId")}function S(k){return this.cast(k)}function E(){return new m}function x(k){return b||(b=i(8727)),this instanceof b&&k===void 0?new m:k}_.schemaName="ObjectId",_.defaultOptions={},_.prototype=Object.create(p.prototype),_.prototype.constructor=_,_.prototype.OptionsConstructor=w,_.get=p.get,_.set=p.set,_.setters=[],_.prototype.auto=function(k){return k&&(this.default(E),this.set(x)),this},_._checkRequired=function(k){return c(k,"ObjectId")},_._cast=d,_.cast=function(k){return arguments.length===0||(k===!1&&(k=this._defaultCaster),this._cast=k),this._cast},_._defaultCaster=function(k){if(!c(k,"ObjectId"))throw new Error(k+" is not an instance of ObjectId");return k},_.checkRequired=p.checkRequired,_.prototype.checkRequired=function(k,T){return p._isRef(this,k,T,!0)?!!k:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():_.checkRequired())(k)},_.prototype.cast=function(k,T,C){if(!c(k,"ObjectId")&&p._isRef(this,k,T,C)){if((y(k)||"").toLowerCase()==="objectid")return new m(k.toHexString());if(k==null||f.isNonBuiltinObject(k))return this._castRef(k,T,C)}var M;M=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():_.cast();try{return M(k)}catch(N){throw new v("ObjectId",k,this.path,N,this)}},_.prototype.$conditionalHandlers=g(g({},p.prototype.$conditionalHandlers),{},{$gt:S,$gte:S,$lt:S,$lte:S}),E.$runBeforeSetters=!0,o.exports=_},4282:(o,s,i)=>{var l=i(365).Buffer,u=i(1795);function g(h,b){var w=Number(b);if(isNaN(w))throw new u("number",b,h);return w}o.exports=function(h){var b=this;return Array.isArray(h)?h.map(function(w){return g(b.path,w)}):l.isBuffer(h)?h:g(b.path,h)}},8702:(o,s,i)=>{var l=i(6670);o.exports=function(u){var g=this!=null?this.path:null;return l(u,g)}},5008:(o,s,i)=>{var l=i(1521).i,u=i(1521).W;function g(b,w){switch(b.$geometry.type){case"Polygon":case"LineString":case"Point":l(b.$geometry.coordinates,w)}return h(w,b),b}function h(b,w){w.$maxDistance&&(w.$maxDistance=u.call(b,w.$maxDistance)),w.$minDistance&&(w.$minDistance=u.call(b,w.$minDistance))}s.cast$geoIntersects=function(b){if(b.$geometry)return g(b,this),b},s.cast$near=function(b){var w=i(94);if(Array.isArray(b))return l(b,this),b;if(h(this,b),b&&b.$geometry)return g(b,this);if(!Array.isArray(b))throw new TypeError("$near must be either an array or an object with a $geometry property");return w.prototype.castForQuery.call(this,null,b)},s.cast$within=function(b){var w=this;if(h(this,b),b.$box||b.$polygon){var p=b.$box?"$box":"$polygon";b[p].forEach(function(y){if(!Array.isArray(y))throw new TypeError("Invalid $within $box argument. Expected an array, received "+y);y.forEach(function(m,c){y[c]=u.call(w,m)})})}else if(b.$center||b.$centerSphere){var d=b.$center?"$center":"$centerSphere";b[d].forEach(function(y,m){Array.isArray(y)?y.forEach(function(c,f){y[f]=u.call(w,c)}):b[d][m]=u.call(w,y)})}else b.$geometry&&g(b,this);return b}},1521:(o,s,i)=>{var l=i(1751);function u(g){return l.cast()(g)}s.W=u,s.i=function g(h,b){h.forEach(function(w,p){Array.isArray(w)?g(w,b):h[p]=u.call(b,w)})}},6495:(o,s,i)=>{function l(b){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},l(b)}var u=i(1795),g=i(6670),h=i(2417);o.exports=function(b,w){if(b==null||l(b)!=="object")throw new u("$text",b,w);return b.$search!=null&&(b.$search=h(b.$search,w+".$search")),b.$language!=null&&(b.$language=h(b.$language,w+".$language")),b.$caseSensitive!=null&&(b.$caseSensitive=g(b.$caseSensitive,w+".$castSensitive")),b.$diacriticSensitive!=null&&(b.$diacriticSensitive=g(b.$diacriticSensitive,w+".$diacriticSensitive")),b}},3053:o=>{o.exports=function(s){if(Array.isArray(s)){if(!s.every(function(i){return typeof i=="number"||typeof i=="string"}))throw new Error("$type array values must be strings or numbers");return s}if(typeof s!="number"&&typeof s!="string")throw new Error("$type parameter must be number, string, or array of numbers and strings");return s}},6542:(o,s,i)=>{function l(x,k){var T=Object.keys(x);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(x);k&&(C=C.filter(function(M){return Object.getOwnPropertyDescriptor(x,M).enumerable})),T.push.apply(T,C)}return T}function u(x){for(var k=1;k<arguments.length;k++){var T=arguments[k]!=null?arguments[k]:{};k%2?l(Object(T),!0).forEach(function(C){g(x,C,T[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(T)):l(Object(T)).forEach(function(C){Object.defineProperty(x,C,Object.getOwnPropertyDescriptor(T,C))})}return x}function g(x,k,T){return(k=function(C){var M=function(N,L){if(h(N)!="object"||!N)return N;var R=N[Symbol.toPrimitive];if(R!==void 0){var D=R.call(N,"string");if(h(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}(C);return h(M)=="symbol"?M:M+""}(k))in x?Object.defineProperty(x,k,{value:T,enumerable:!0,configurable:!0,writable:!0}):x[k]=T,x}function h(x){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},h(x)}function b(x,k){(k==null||k>x.length)&&(k=x.length);for(var T=0,C=Array(k);T<k;T++)C[T]=x[T];return C}var w=i(4289),p=i(4888),d=i(3209),y=i(2417),m=i(6872),c=i(1563),f=w.CastError;function v(x,k){this.enumValues=[],this.regExp=null,w.call(this,x,k,"String")}function _(x,k){return this.castForQuery(null,x,k)}function S(x){return x==null?this._castNullish(x):this.cast(x,this)}v.schemaName="String",v.defaultOptions={},v.prototype=Object.create(w.prototype),v.prototype.constructor=v,Object.defineProperty(v.prototype,"OptionsConstructor",{configurable:!1,enumerable:!1,writable:!1,value:d}),v._cast=y,v.cast=function(x){return arguments.length===0||(x===!1&&(x=this._defaultCaster),this._cast=x),this._cast},v._defaultCaster=function(x){if(x!=null&&typeof x!="string")throw new Error;return x},v.get=w.get,v.set=w.set,v.setters=[],v._checkRequired=function(x){return(x instanceof String||typeof x=="string")&&x.length},v.checkRequired=w.checkRequired,v.prototype.enum=function(){if(this.enumValidator&&(this.validators=this.validators.filter(function(L){return L.validator!==this.enumValidator},this),this.enumValidator=!1),arguments[0]===void 0||arguments[0]===!1)return this;var x,k;m.isObject(arguments[0])?Array.isArray(arguments[0].values)?(x=arguments[0].values,k=arguments[0].message):(x=m.object.vals(arguments[0]),k=p.messages.String.enum):(x=arguments,k=p.messages.String.enum);var T,C=function(L,R){var D=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(!D){if(Array.isArray(L)||(D=function(P,A){if(P){if(typeof P=="string")return b(P,A);var $={}.toString.call(P).slice(8,-1);return $==="Object"&&P.constructor&&($=P.constructor.name),$==="Map"||$==="Set"?Array.from(P):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?b(P,A):void 0}}(L))||R&&L&&typeof L.length=="number"){D&&(L=D);var z=0,U=function(){};return{s:U,n:function(){return z>=L.length?{done:!0}:{done:!1,value:L[z++]}},e:function(P){throw P},f:U}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,I=!0,j=!1;return{s:function(){D=D.call(L)},n:function(){var P=D.next();return I=P.done,P},e:function(P){j=!0,O=P},f:function(){try{I||D.return==null||D.return()}finally{if(j)throw O}}}}(x);try{for(C.s();!(T=C.n()).done;){var M=T.value;M!==void 0&&this.enumValues.push(this.cast(M))}}catch(L){C.e(L)}finally{C.f()}var N=this.enumValues;return this.enumValidator=function(L){return L===void 0||~N.indexOf(L)},this.validators.push({validator:this.enumValidator,message:k,type:"enum",enumValues:N}),this},v.prototype.lowercase=function(x){var k=this;return arguments.length>0&&!x?this:this.set(function(T){return typeof T!="string"&&(T=k.cast(T)),T&&T.toLowerCase()})},v.prototype.uppercase=function(x){var k=this;return arguments.length>0&&!x?this:this.set(function(T){return typeof T!="string"&&(T=k.cast(T)),T&&T.toUpperCase()})},v.prototype.trim=function(x){var k=this;return arguments.length>0&&!x?this:this.set(function(T){return typeof T!="string"&&(T=k.cast(T)),T&&T.trim()})},v.prototype.minlength=function(x,k){if(this.minlengthValidator&&(this.validators=this.validators.filter(function(C){return C.validator!==this.minlengthValidator},this)),x!=null){var T=k||p.messages.String.minlength;T=T.replace(/{MINLENGTH}/,x),this.validators.push({validator:this.minlengthValidator=function(C){return C===null||C.length>=x},message:T,type:"minlength",minlength:x})}return this},v.prototype.minLength=v.prototype.minlength,v.prototype.maxlength=function(x,k){if(this.maxlengthValidator&&(this.validators=this.validators.filter(function(C){return C.validator!==this.maxlengthValidator},this)),x!=null){var T=k||p.messages.String.maxlength;T=T.replace(/{MAXLENGTH}/,x),this.validators.push({validator:this.maxlengthValidator=function(C){return C===null||C.length<=x},message:T,type:"maxlength",maxlength:x})}return this},v.prototype.maxLength=v.prototype.maxlength,v.prototype.match=function(x,k){var T=k||p.messages.String.match;return this.validators.push({validator:function(C){return!!x&&(x.lastIndex=0,C==null||C===""||x.test(C))},message:T,type:"regexp",regexp:x}),this},v.prototype.checkRequired=function(x,k){return h(x)==="object"&&w._isRef(this,x,k,!0)?x!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():v.checkRequired())(x)},v.prototype.cast=function(x,k,T){if(typeof x!="string"&&w._isRef(this,x,k,T))return this._castRef(x,k,T);var C;C=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():v.cast();try{return C(x)}catch{throw new f("string",x,this.path,null,this)}};var E=u(u({},w.prototype.$conditionalHandlers),{},{$all:function(x,k){var T=this;return Array.isArray(x)?x.map(function(C){return T.castForQuery(null,C,k)}):[this.castForQuery(null,x,k)]},$gt:_,$gte:_,$lt:_,$lte:_,$options:S,$regex:function(x){return Object.prototype.toString.call(x)==="[object RegExp]"?x:S.call(this,x)},$not:_});Object.defineProperty(v.prototype,"$conditionalHandlers",{configurable:!1,enumerable:!1,writable:!1,value:Object.freeze(E)}),v.prototype.castForQuery=function(x,k,T){var C;if(x!=null){if(!(C=this.$conditionalHandlers[x]))throw new Error("Can't use "+x+" with String.");return C.call(this,k,T)}return Object.prototype.toString.call(k)==="[object RegExp]"||c(k,"BSONRegExp")?k:this.applySetters(k,T)},o.exports=v},8107:(o,s)=>{s.schemaMixedSymbol=Symbol.for("mongoose:schema_mixed"),s.builtInMiddleware=Symbol.for("mongoose:built-in-middleware")},2729:(o,s,i)=>{var l=i(365).Buffer;function u(k){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},u(k)}function g(k,T){var C=Object.keys(k);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(k);T&&(M=M.filter(function(N){return Object.getOwnPropertyDescriptor(k,N).enumerable})),C.push.apply(C,M)}return C}function h(k){for(var T=1;T<arguments.length;T++){var C=arguments[T]!=null?arguments[T]:{};T%2?g(Object(C),!0).forEach(function(M){b(k,M,C[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(C)):g(Object(C)).forEach(function(M){Object.defineProperty(k,M,Object.getOwnPropertyDescriptor(C,M))})}return k}function b(k,T,C){return(T=function(M){var N=function(L,R){if(u(L)!="object"||!L)return L;var D=L[Symbol.toPrimitive];if(D!==void 0){var z=D.call(L,"string");if(u(z)!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(M);return u(N)=="symbol"?N:N+""}(T))in k?Object.defineProperty(k,T,{value:C,enumerable:!0,configurable:!0,writable:!0}):k[T]=C,k}var w=i(4051),p=i(4289),d=p.CastError,y=i(6872),m=i(4282),c=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i,f=w.Binary;function v(k){typeof k!="string"&&(k="");var T,C=(T=k.replace(/[{}-]/g,""))!=null&&l.from(T,"hex"),M=new w(C);return M._subtype=4,M}function _(k){var T,C;return typeof k!="string"&&k!=null?(T=(C=k)!=null&&C.toString("hex")).substring(0,8)+"-"+T.substring(8,12)+"-"+T.substring(12,16)+"-"+T.substring(16,20)+"-"+T.substring(20,32):k}function S(k,T){p.call(this,k,T,"UUID"),this.getters.push(function(C){return C!=null&&C.$__!=null?C:_(C)})}function E(k){return this.cast(k)}function x(k){var T=this;return k.map(function(C){return T.cast(C)})}S.schemaName="UUID",S.defaultOptions={},S.prototype=Object.create(p.prototype),S.prototype.constructor=S,S._cast=function(k){if(k==null)return k;function T(C){var M=new w(C);return M._subtype=4,M}if(typeof k=="string"){if(c.test(k))return v(k);throw new d(S.schemaName,k,this.path)}if(l.isBuffer(k))return T(k);if(k instanceof f)return T(k.value(!0));if(k.toString&&k.toString!==Object.prototype.toString&&c.test(k.toString()))return v(k.toString());throw new d(S.schemaName,k,this.path)},S.get=p.get,S.set=p.set,S.setters=[],S.cast=function(k){return arguments.length===0||(k===!1&&(k=this._defaultCaster),this._cast=k),this._cast},S._checkRequired=function(k){return k!=null},S.checkRequired=p.checkRequired,S.prototype.checkRequired=function(k){return l.isBuffer(k)&&(k=_(k)),k!=null&&c.test(k)},S.prototype.cast=function(k,T,C){if(y.isNonBuiltinObject(k)&&p._isRef(this,k,T,C))return this._castRef(k,T,C);var M;M=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():S.cast();try{return M(k)}catch(N){throw new d(S.schemaName,k,this.path,N,this)}},S.prototype.$conditionalHandlers=h(h({},p.prototype.$conditionalHandlers),{},{$bitsAllClear:m,$bitsAnyClear:m,$bitsAllSet:m,$bitsAnySet:m,$all:x,$gt:E,$gte:E,$in:x,$lt:E,$lte:E,$ne:E,$nin:x}),S.prototype.castForQuery=function(k,T,C){var M;if(k!=null){if(!(M=this.$conditionalHandlers[k]))throw new Error("Can't use "+k+" with UUID.");return M.call(this,T,C)}return this.cast(T)},o.exports=S},4289:(o,s,i)=>{var l=i(365).Buffer;function u(R){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},u(R)}var g=i(4888),h=i(1764),b=i(8702),w=i(3053),p=i(1973),d=i(8828),y=i(8857),m=i(9130),c=i(1490),f=i(8770).schemaTypeSymbol,v=i(6872),_=i(8770).validatorErrorSymbol,S=i(8770).documentIsModified,E=i(8770).populateModelSymbol,x=g.CastError,k=g.ValidatorError,T={_skipMarkModified:!0};function C(R,D,z){this[f]=!0,this.path=R,this.instance=z,this.validators=[],this.getters=this.constructor.hasOwnProperty("getters")?this.constructor.getters.slice():[],this.setters=this.constructor.hasOwnProperty("setters")?this.constructor.setters.slice():[],this.splitPath(),D=D||{};for(var U=this.constructor.defaultOptions||{},O=0,I=Object.keys(U);O<I.length;O++){var j=I[O];U.hasOwnProperty(j)&&!Object.prototype.hasOwnProperty.call(D,j)&&(D[j]=U[j])}D.select==null&&delete D.select;var P=this.OptionsConstructor||h;this.options=new P(D),this._index=null,v.hasUserDefinedProperty(this.options,"immutable")&&(this.$immutable=this.options.immutable,d(this));for(var A=0,$=Object.keys(this.options);A<$.length;A++){var q=$[A];if(q!=="cast"){if(v.hasUserDefinedProperty(this.options,q)&&typeof this[q]=="function"){if(q==="index"&&this._index){if(D.index===!1){var X=this._index;if(u(X)==="object"&&X!=null){if(X.unique)throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true');if(X.sparse)throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}this._index=!1}continue}var te=D[q];if(q==="default"){this.default(te);continue}var re=Array.isArray(te)?te:[te];this[q].apply(this,re)}}else Array.isArray(this.options[q])?this.castFunction.apply(this,this.options[q]):this.castFunction(this.options[q])}Object.defineProperty(this,"$$context",{enumerable:!1,configurable:!1,writable:!0,value:null})}function M(R,D){if(R!==void 0&&!R){var z=new(D.ErrorConstructor||k)(D);return z[_]=!0,z}}function N(R,D){return this.castForQuery(null,R,D)}function L(R,D){var z=this;return Array.isArray(R)?R.map(function(U){return Array.isArray(U)&&U.length===0?U:z.castForQuery(null,U,D)}):[this.castForQuery(null,R,D)]}C.prototype.OptionsConstructor=h,C.prototype.path,C.prototype.validators,C.prototype.isRequired,C.prototype.splitPath=function(){return this._presplitPath!=null?this._presplitPath:this.path!=null?(this._presplitPath=this.path.indexOf(".")===-1?[this.path]:this.path.split("."),this._presplitPath):void 0},C.cast=function(R){return arguments.length===0||(R===!1&&(R=function(D){return D}),this._cast=R),this._cast},C.prototype.castFunction=function(R,D){return arguments.length===0?this._castFunction:(R===!1&&(R=this.constructor._defaultCaster||function(z){return z}),typeof R=="string"?(this._castErrorMessage=R,this._castFunction):(R!=null&&(this._castFunction=R),D!=null&&(this._castErrorMessage=D),this._castFunction))},C.prototype.cast=function(){throw new Error("Base SchemaType class does not implement a `cast()` function")},C.set=function(R,D){this.hasOwnProperty("defaultOptions")||(this.defaultOptions=Object.assign({},this.defaultOptions)),this.defaultOptions[R]=D},C.get=function(R){this.getters=this.hasOwnProperty("getters")?this.getters:[],this.getters.push(R)},C.prototype.default=function(R){if(arguments.length===1){if(R===void 0)return void(this.defaultValue=void 0);if(R!=null&&R.instanceOfSchema)throw new g("Cannot set default value of path `"+this.path+"` to a mongoose Schema instance.");return this.defaultValue=R,this.defaultValue}return arguments.length>1&&(this.defaultValue=Array.prototype.slice.call(arguments)),this.defaultValue},C.prototype.index=function(R){return this._index=R,v.expires(this._index),this},C.prototype.unique=function(R){if(this._index===!1){if(!R)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true')}return this.options.hasOwnProperty("index")||R!==!1?(this._index==null||this._index===!0?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.unique=R,this):this},C.prototype.text=function(R){if(this._index===!1){if(!R)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `text` set to true')}return this.options.hasOwnProperty("index")||R!==!1?(this._index===null||this._index===void 0||typeof this._index=="boolean"?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.text=R,this):this},C.prototype.sparse=function(R){if(this._index===!1){if(!R)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}return this.options.hasOwnProperty("index")||R!==!1?(this._index==null||typeof this._index=="boolean"?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.sparse=R,this):this},C.prototype.immutable=function(R){return this.$immutable=R,d(this),this},C.prototype.transform=function(R){return this.options.transform=R,this},C.prototype.set=function(R){if(typeof R!="function")throw new TypeError("A setter must be a function.");return this.setters.push(R),this},C.prototype.get=function(R){if(typeof R!="function")throw new TypeError("A getter must be a function.");return this.getters.push(R),this},C.prototype.validate=function(R,D,z){var U,O,I,j;if(typeof R=="function"||R&&v.getFunctionName(R.constructor)==="RegExp")return typeof D=="function"?(U={validator:R,message:D}).type=z||"user defined":D instanceof Object&&!z?((U=m(D)?Object.assign({},D):p(D)).message||(U.message=U.msg),U.validator=R,U.type=U.type||"user defined"):(D==null&&(D=g.messages.general.default),z||(z="user defined"),U={message:D,type:z,validator:R}),this.validators.push(U),this;for(O=0,I=arguments.length;O<I;O++){if(j=arguments[O],!v.isPOJO(j)){var P="Invalid validator. Received ("+u(j)+") "+j+". See https://mongoosejs.com/docs/api/schematype.html#SchemaType.prototype.validate()";throw new Error(P)}this.validate(j.validator,j)}return this},C.prototype.required=function(R,D){var z={};if(arguments.length>0&&R==null)return this.validators=this.validators.filter(function(I){return I.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;if(u(R)==="object"&&(D=(z=R).message||D,R=R.isRequired),R===!1)return this.validators=this.validators.filter(function(I){return I.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;var U=this;this.isRequired=!0,this.requiredValidator=function(I){var j=this&&this.$__&&this.$__.cachedRequired;if(j!=null&&!this.$__isSelected(U.path)&&!this[S](U.path))return!0;if(j!=null&&U.path in j){var P=!j[U.path]||U.checkRequired(I,this);return delete j[U.path],P}return typeof R=="function"&&!R.apply(this)||U.checkRequired(I,this)},this.originalRequiredValue=R,typeof R=="string"&&(D=R,R=void 0);var O=D||g.messages.general.required;return this.validators.unshift(Object.assign({},z,{validator:this.requiredValidator,message:O,type:"required"})),this},C.prototype.ref=function(R){return this.options.ref=R,this},C.prototype.getDefault=function(R,D,z){var U;if((U=typeof this.defaultValue=="function"?this.defaultValue===Date.now||this.defaultValue===Array||this.defaultValue.name.toLowerCase()==="objectid"?this.defaultValue.call(R):this.defaultValue.call(R,R):this.defaultValue)!=null){if(u(U)!=="object"||this.options&&this.options.shared||(U=p(U)),z&&z.skipCast)return this._applySetters(U,R);var O=this.applySetters(U,R,D,void 0,T);return O&&!Array.isArray(O)&&O.$isSingleNested&&(O.$__parent=R),O}return U},C.prototype._applySetters=function(R,D,z,U,O){var I=R;if(z)return I;for(var j=this.setters,P=j.length-1;P>=0;P--)I=j[P].call(D,I,U,this,O);return I},C.prototype._castNullish=function(R){return R},C.prototype.applySetters=function(R,D,z,U,O){var I=this._applySetters(R,D,z,U,O);return I==null?this._castNullish(I):I=this.cast(I,D,z,U,O)},C.prototype.applyGetters=function(R,D){var z=R,U=this.getters,O=U.length;if(O===0)return z;for(var I=0;I<O;++I)z=U[I].call(D,z,this);return z},C.prototype.select=function(R){return this.selected=!!R,this},C.prototype.doValidate=function(R,D,z,U){var O=this,I=!1,j=this.path,P=this.validators.filter(function(re){return u(re)==="object"&&re!==null}),A=P.length;if(!A)return D(null);for(var $=function(){if(I)return 0;var re,ie=P[q],Z=ie.validator,ee=m(ie)?Object.assign({},ie):p(ie);if(ee.path=U&&U.path?U.path:j,ee.fullPath=O.$fullPath,ee.value=R,Z instanceof RegExp)return te(Z.test(R),ee,z),1;if(typeof Z!="function")return 1;if(R===void 0&&Z!==O.requiredValidator)return te(!0,ee,z),1;try{re=ee.propsParameter?Z.call(z,R,ee):Z.call(z,R)}catch(de){re=!1,ee.reason=de,de.message&&(ee.message=de.message)}re!=null&&typeof re.then=="function"?re.then(function(de){te(de,ee,z)},function(de){ee.reason=de,ee.message=de.message,te(re=!1,ee,z)}):te(re,ee,z)},q=0,X=P.length;q<X&&$()!==0;++q);function te(re,ie,Z){if(!I)if(re===void 0||re)--A<=0&&c(function(){D(null)});else{var ee=ie.ErrorConstructor||k;(I=new ee(ie,Z))[_]=!0,c(function(){D(I)})}}},C.prototype.doValidateSync=function(R,D,z){var U=this.path;if(!this.validators.length)return null;var O=this.validators;if(R===void 0){if(this.validators.length===0||this.validators[0].type!=="required")return null;O=[this.validators[0]]}var I=null,j=0,P=O.length;for(j=0;j<P;++j){var A=O[j];if(A!==null&&u(A)==="object"){var $=A.validator,q=m(A)?Object.assign({},A):p(A);q.path=z&&z.path?z.path:U,q.fullPath=this.$fullPath,q.value=R;var X=!1;if(!y($)){if($ instanceof RegExp)I=M($.test(R),q);else if(typeof $=="function"){try{X=q.propsParameter?$.call(D,R,q):$.call(D,R)}catch(te){X=!1,q.reason=te}if((X==null||typeof X.then!="function")&&(I=M(X,q)))break}}}}return I},C._isRef=function(R,D,z,U){var O=U&&R.options&&(R.options.ref||R.options.refPath);if(!O&&z&&z.$__!=null){var I=z.$__fullPath(R.path,!0),j=z.ownerDocument();O=I!=null&&j.$populated(I)||z.$populated(R.path)}return!!O&&(D==null||!(l.isBuffer(D)||D._bsontype==="Binary"||!v.isObject(D))||U)},C.prototype._castRef=function(R,D,z){if(R==null)return R;if(R.$__!=null)return R.$__.wasPopulated=R.$__.wasPopulated||{value:R._id},R;if(l.isBuffer(R)||!v.isObject(R)){if(z)return R;throw new x(this.instance,R,this.path,null,this)}var U=D.$__fullPath(this.path,!0),O=D.ownerDocument().$populated(U,!0),I=R;return D.$__.populated&&D.$__.populated[U]&&D.$__.populated[U].options&&D.$__.populated[U].options.options&&D.$__.populated[U].options.options.lean||((I=new O.options[E](R)).$__.wasPopulated={value:I._id}),I},C.prototype.$conditionalHandlers={$all:function(R,D){var z=this;return Array.isArray(R)?R.map(function(U){return z.castForQuery(null,U,D)}):[this.castForQuery(null,R,D)]},$eq:N,$in:L,$ne:N,$nin:L,$exists:b,$type:w},C.prototype.castForQuery=function(R,D,z){var U;if(R!=null){if(!(U=this.$conditionalHandlers[R]))throw new Error("Can't use "+R);return U.call(this,D,z)}return this.applySetters(D,z)},C.checkRequired=function(R){return arguments.length!==0&&(this._checkRequired=R),this._checkRequired},C.prototype.checkRequired=function(R){return R!=null},C.prototype.clone=function(){var R=Object.assign({},this.options),D=new this.constructor(this.path,R,this.instance);return D.validators=this.validators.slice(),this.requiredValidator!==void 0&&(D.requiredValidator=this.requiredValidator),this.defaultValue!==void 0&&(D.defaultValue=this.defaultValue),this.$immutable!==void 0&&this.options.immutable===void 0&&(D.$immutable=this.$immutable,d(D)),this._index!==void 0&&(D._index=this._index),this.selected!==void 0&&(D.selected=this.selected),this.isRequired!==void 0&&(D.isRequired=this.isRequired),this.originalRequiredValue!==void 0&&(D.originalRequiredValue=this.originalRequiredValue),D.getters=this.getters.slice(),D.setters=this.setters.slice(),D},o.exports=s=C,s.CastError=x,s.ValidatorError=k},489:(o,s,i)=>{i(6872);var l=o.exports=function(){};l.ctor=function(){var u=Array.prototype.slice.call(arguments),g=function(){l.apply(this,arguments),this.paths={},this.states={}};return(g.prototype=new l).stateNames=u,u.forEach(function(h){g.prototype[h]=function(b){this._changeState(b,h)}}),g},l.prototype._changeState=function(u,g){var h=this.paths[u];if(h!==g){var b=this.states[h];b&&delete b[u],this.paths[u]=g,this.states[g]=this.states[g]||{},this.states[g][u]=!0}},l.prototype.clear=function(u){if(this.states[u]!=null)for(var g,h=Object.keys(this.states[u]),b=h.length;b--;)g=h[b],delete this.states[u][g],delete this.paths[g]},l.prototype.clearPath=function(u){var g=this.paths[u];g&&(delete this.paths[u],delete this.states[g][u])},l.prototype.getStatePaths=function(u){return this.states[u]!=null?this.states[u]:{}},l.prototype.some=function(){var u=this,g=arguments.length?arguments:this.stateNames;return Array.prototype.some.call(g,function(h){return u.states[h]!=null&&Object.keys(u.states[h]).length})},l.prototype._iter=function(u){return function(){var g=Array.prototype.slice.call(arguments),h=g.pop();g.length||(g=this.stateNames);var b=this;return g.reduce(function(w,p){return b.states[p]==null?w:w.concat(Object.keys(b.states[p]))},[])[u](function(w,p,d){return h(w,p,d)})}},l.prototype.forEach=function(){return this.forEach=this._iter("forEach"),this.forEach.apply(this,arguments)},l.prototype.map=function(){return this.map=this._iter("map"),this.map.apply(this,arguments)}},1568:(o,s,i)=>{function l(m,c){var f=Object.keys(m);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(m);c&&(v=v.filter(function(_){return Object.getOwnPropertyDescriptor(m,_).enumerable})),f.push.apply(f,v)}return f}function u(m,c,f){return(c=function(v){var _=function(S,E){if(g(S)!="object"||!S)return S;var x=S[Symbol.toPrimitive];if(x!==void 0){var k=x.call(S,"string");if(g(k)!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(v);return g(_)=="symbol"?_:_+""}(c))in m?Object.defineProperty(m,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):m[c]=f,m}function g(m){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},g(m)}var h=i(9620).EventEmitter,b=i(2591),w=i(6872),p=i(8770).documentArrayParent;function d(m,c,f,v,_){var S;w.isMongooseDocumentArray(c)?(this.__parentArray=c,this[p]=c.$parent()):(this.__parentArray=void 0,this[p]=void 0),this.$setIndex(_),this.$__parent=this[p],g(f)==="object"&&f!=null?(S=function(E){for(var x=1;x<arguments.length;x++){var k=arguments[x]!=null?arguments[x]:{};x%2?l(Object(k),!0).forEach(function(T){u(E,T,k[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(k)):l(Object(k)).forEach(function(T){Object.defineProperty(E,T,Object.getOwnPropertyDescriptor(k,T))})}return E}({isNew:!0},f),f=void 0):S={isNew:!0},b.call(this,m,v,this[p],f,S)}for(var y in d.prototype=Object.create(b.prototype),d.prototype.constructor=d,Object.defineProperty(d.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!1}),Object.defineProperty(d.prototype,"$isDocumentArrayElement",{configurable:!1,writable:!1,value:!0}),h.prototype)d[y]=h.prototype[y];d.prototype.$setIndex=function(m){if(this.__index=m,this.$__!=null&&this.$__.validationError!=null)for(var c=0,f=Object.keys(this.$__.validationError.errors);c<f.length;c++){var v=f[c];this.invalidate(v,this.$__.validationError.errors[v])}},d.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate("path")`, use `doc.populate("arr.0.path")`')},d.prototype.$__removeFromParent=function(){var m=this._doc._id;if(!m)throw new Error("For your own good, Mongoose does not know how to remove an ArraySubdocument that has no _id");this.__parentArray.pull({_id:m})},d.prototype.$__fullPath=function(m,c){return this.__index==null?null:(this.$__.fullPath||this.ownerDocument(),c?m?this.$__.fullPath+"."+m:this.$__.fullPath:m?this.$__.fullPath+"."+this.__index+"."+m:this.$__.fullPath+"."+this.__index)},d.prototype.$__pathRelativeToParent=function(m,c){return this.__index!=null&&this.__parentArray&&this.__parentArray.$path?c?m==null?this.__parentArray.$path():this.__parentArray.$path()+"."+m:m==null?this.__parentArray.$path()+"."+this.__index:this.__parentArray.$path()+"."+this.__index+"."+m:null},d.prototype.$parent=function(){return this[p]},d.prototype.parentArray=function(){return this.__parentArray},o.exports=d},6077:(o,s,i)=>{function l(v){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},l(v)}function u(v,_,S){return(_=function(E){var x=function(k,T){if(l(k)!="object"||!k)return k;var C=k[Symbol.toPrimitive];if(C!==void 0){var M=C.call(k,"string");if(l(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(k)}(E);return l(x)=="symbol"?x:x+""}(_))in v?Object.defineProperty(v,_,{value:S,enumerable:!0,configurable:!0,writable:!0}):v[_]=S,v}var g=i(8075),h=i(9261),b=i(8727),w=i(8770).arrayAtomicsSymbol,p=i(8770).arrayAtomicsBackupSymbol,d=i(8770).arrayParentSymbol,y=i(8770).arrayPathSymbol,m=i(8770).arraySchemaSymbol,c=Array.prototype.push,f=/^\d+$/;o.exports=function(v,_,S){var E=[],x=u(u(u(u(u({},w,{}),p,void 0),y,_),m,void 0),d,void 0);if(Array.isArray(v)&&(v[y]===_&&v[d]===S&&(x[w]=Object.assign({},v[w])),v.forEach(function(T){c.call(E,T)})),x[y]=_,x.__array=E,S&&S instanceof b)for(x[d]=S,x[m]=S.$__schema.path(_);x[m]!=null&&x[m].$isMongooseArray&&!x[m].$isMongooseDocumentArray;)x[m]=x[m].casterConstructor;var k=new Proxy(E,{get:function(T,C){return C==="isMongooseArray"||C==="isMongooseArrayProxy"||C==="isMongooseDocumentArray"||C==="isMongooseDocumentArrayProxy"||(x.hasOwnProperty(C)?x[C]:h.hasOwnProperty(C)?h[C]:g.hasOwnProperty(C)?g[C]:E[C])},set:function(T,C,M){return typeof C=="string"&&f.test(C)?h.set.call(k,C,M,!1):x.hasOwnProperty(C)?x[C]=M:E[C]=M,!0}});return k}},1255:(o,s)=>{s.isMongooseDocumentArray=function(i){return Array.isArray(i)&&i.isMongooseDocumentArray}},9261:(o,s,i)=>{var l=i(365).Buffer;function u(x,k){var T=typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!T){if(Array.isArray(x)||(T=function(D,z){if(D){if(typeof D=="string")return g(D,z);var U={}.toString.call(D).slice(8,-1);return U==="Object"&&D.constructor&&(U=D.constructor.name),U==="Map"||U==="Set"?Array.from(D):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?g(D,z):void 0}}(x))||k&&x&&typeof x.length=="number"){T&&(x=T);var C=0,M=function(){};return{s:M,n:function(){return C>=x.length?{done:!0}:{done:!1,value:x[C++]}},e:function(D){throw D},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,L=!0,R=!1;return{s:function(){T=T.call(x)},n:function(){var D=T.next();return L=D.done,D},e:function(D){R=!0,N=D},f:function(){try{L||T.return==null||T.return()}finally{if(R)throw N}}}}function g(x,k){(k==null||k>x.length)&&(k=x.length);for(var T=0,C=Array(k);T<k;T++)C[T]=x[T];return C}var h=i(8075),b=i(8727),w=i(4731),p=i(7291),d=i(4962).h,y=i(6872),m=i(1563),c=i(8770).arrayParentSymbol,f=i(8770).arrayPathSymbol,v=i(8770).arraySchemaSymbol,_=i(8770).documentArrayParent,S={toBSON:function(){return this.toObject(d)},getArrayParent:function(){return this[c]},_cast:function(x,k,T){if(this[v]==null)return x;var C=this[v].casterConstructor;if((C.$isMongooseDocumentArray?y.isMongooseDocumentArray(x):x instanceof C)||x&&x.constructor&&x.constructor.baseCasterConstructor===C)return x[_]&&x.__parentArray||(x[_]=this[c],x.__parentArray=this),x.$setIndex(k),x;if(x==null)return null;if((l.isBuffer(x)||m(x,"ObjectId")||!y.isObject(x))&&(x={_id:x}),x&&C.discriminators&&C.schema&&C.schema.options&&C.schema.options.discriminatorKey)if(typeof x[C.schema.options.discriminatorKey]=="string"&&C.discriminators[x[C.schema.options.discriminatorKey]])C=C.discriminators[x[C.schema.options.discriminatorKey]];else{var M=p(C.discriminators,x[C.schema.options.discriminatorKey]);M&&(C=M)}if(C.$isMongooseDocumentArray)return C.cast(x,this,void 0,void 0,k);var N=new C(x,this,T,void 0,k);return N.isNew=!0,N},id:function(x){var k,T,C;try{k=w(x).toString()}catch{k=null}var M,N=u(this);try{for(N.s();!(M=N.n()).done;){var L=M.value;if(L&&(C=L.get("_id"))!=null){if(C instanceof b){if(T||(T=String(x)),T==C._id)return L}else if(m(x,"ObjectId")||m(C,"ObjectId")){if(k==C)return L}else if(x==C||y.deepEqual(x,C))return L}}}catch(R){N.e(R)}finally{N.f()}return null},toObject:function(x){return[].concat(this.map(function(k){return k==null?null:typeof k.toObject!="function"?k:k.toObject(x)}))},$toObject:function(){return this.constructor.prototype.toObject.apply(this,arguments)},push:function(){var x=h.push.apply(this,arguments);return E(this),x},pull:function(){var x=h.pull.apply(this,arguments);return E(this),x},shift:function(){var x=h.shift.apply(this,arguments);return E(this),x},splice:function(){var x=h.splice.apply(this,arguments);return E(this),x},inspect:function(){return this.toObject()},create:function(x){var k=this[v].casterConstructor;if(x&&k.discriminators&&k.schema&&k.schema.options&&k.schema.options.discriminatorKey)if(typeof x[k.schema.options.discriminatorKey]=="string"&&k.discriminators[x[k.schema.options.discriminatorKey]])k=k.discriminators[x[k.schema.options.discriminatorKey]];else{var T=p(k.discriminators,x[k.schema.options.discriminatorKey]);T&&(k=T)}return new k(x,this)},notify:function(x){var k=this;return function T(C,M){for(var N=(M=M||k).length;N--;)M[N]!=null&&(x==="save"&&(C=k[N]),y.isMongooseArray(M[N])?T(C,M[N]):M[N]&&M[N].emit(x,C))}},set:function(x,k,T){var C=this.__array;if(T)return C[x]=k,this;var M=S._cast.call(this,k,x);return S._markModified.call(this,x),C[x]=M,this},_markModified:function(x,k){var T,C=this[c];if(C){if(T=this[f],arguments.length&&(T=k!=null?T+"."+x.__index+"."+k:T+"."+x),T!=null&&T.endsWith(".$"))return this;C.markModified(T,arguments.length!==0?x:C)}return this}};function E(x){var k=x[c];if(k&&k.$__.populated!=null){var T,C=u(Object.keys(k.$__.populated).filter(function(N){return N.startsWith(x[f]+".")}));try{var M=function(){var N=T.value,L=N.slice((x[f]+".").length);if(!Array.isArray(k.$__.populated[N].value))return 1;k.$__.populated[N].value=x.map(function(R){return R.$populated(L)})};for(C.s();!(T=C.n()).done;)M()}catch(N){C.e(N)}finally{C.f()}}}o.exports=S},1362:(o,s,i)=>{function l(f){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},l(f)}function u(f,v,_){return(v=function(S){var E=function(x,k){if(l(x)!="object"||!x)return x;var T=x[Symbol.toPrimitive];if(T!==void 0){var C=T.call(x,"string");if(l(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}(S);return l(E)=="symbol"?E:E+""}(v))in f?Object.defineProperty(f,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):f[v]=_,f}var g=i(8727),h=i(8075),b=i(8770).arrayAtomicsSymbol,w=i(8770).arrayAtomicsBackupSymbol,p=i(8770).arrayParentSymbol,d=i(8770).arrayPathSymbol,y=i(8770).arraySchemaSymbol,m=Array.prototype.push,c=/^\d+$/;o.exports=function(f,v,_,S){var E;if(Array.isArray(f)){var x=f.length;if(x===0)E=new Array;else if(x===1)(E=new Array(1))[0]=f[0];else if(x<1e4)E=new Array,m.apply(E,f);else{E=new Array;for(var k=0;k<x;++k)m.call(E,f[k])}}else E=[];var T=u(u(u(u(u(u(u(u({},b,{}),w,void 0),d,v),y,S),p,void 0),"isMongooseArray",!0),"isMongooseArrayProxy",!0),"__array",E);f&&f[b]!=null&&(T[b]=f[b]),_!=null&&_ instanceof g&&(T[p]=_,T[y]=S||_.schema.path(v));var C=new Proxy(E,{get:function(M,N){return T.hasOwnProperty(N)?T[N]:h.hasOwnProperty(N)?h[N]:typeof N=="string"&&c.test(N)&&(S==null?void 0:S.$embeddedSchemaType)!=null?S.$embeddedSchemaType.applyGetters(E[N],_):E[N]},set:function(M,N,L){return typeof N=="string"&&c.test(N)?h.set.call(C,N,L,!1):T.hasOwnProperty(N)?T[N]=L:E[N]=L,!0}});return C}},7339:(o,s)=>{s.isMongooseArray=function(i){return Array.isArray(i)&&i.isMongooseArray}},8075:(o,s,i)=>{var l=i(365).Buffer;function u(O){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},u(O)}function g(O,I){var j=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!j){if(Array.isArray(O)||(j=h(O))||I&&O&&typeof O.length=="number"){j&&(O=j);var P=0,A=function(){};return{s:A,n:function(){return P>=O.length?{done:!0}:{done:!1,value:O[P++]}},e:function(te){throw te},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $,q=!0,X=!1;return{s:function(){j=j.call(O)},n:function(){var te=j.next();return q=te.done,te},e:function(te){X=!0,$=te},f:function(){try{q||j.return==null||j.return()}finally{if(X)throw $}}}}function h(O,I){if(O){if(typeof O=="string")return b(O,I);var j={}.toString.call(O).slice(8,-1);return j==="Object"&&O.constructor&&(j=O.constructor.name),j==="Map"||j==="Set"?Array.from(O):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?b(O,I):void 0}}function b(O,I){(I==null||I>O.length)&&(I=O.length);for(var j=0,P=Array(I);j<I;j++)P[j]=O[j];return P}var w=i(8727),p=i(1568),d=i(5202),y=i(4134),m=i(1973),c=i(4962).h,f=i(3564),v=i(6872),_=i(1563),S=i(8770).arrayAtomicsSymbol,E=i(8770).arrayParentSymbol,x=i(8770).arrayPathSymbol,k=i(8770).arraySchemaSymbol,T=i(8770).populateModelSymbol,C=Symbol("mongoose#Array#sliced"),M=Array.prototype.push,N={$__getAtomics:function(){var O=[],I=Object.keys(this[S]||{}),j=I.length,P=Object.assign({},c,{_isNested:!0});if(j===0)return O[0]=["$set",this.toObject(P)],O;for(;j--;){var A=I[j],$=this[S][A];v.isMongooseObject($)?$=$.toObject(P):Array.isArray($)?$=this.toObject.call($,P):$!=null&&Array.isArray($.$each)?$.$each=this.toObject.call($.$each,P):$!=null&&typeof $.valueOf=="function"&&($=$.valueOf()),A==="$addToSet"&&($={$each:$}),O.push([A,$])}return O},$atomics:function(){return this[S]},$parent:function(){return this[E]},$path:function(){return this[x]},$shift:function(){this._registerAtomic("$pop",-1),this._markModified();var O=this.__array;if(!O._shifted)return O._shifted=!0,[].shift.call(O)},$pop:function(){if(this._registerAtomic("$pop",1),this._markModified(),!this._popped)return this._popped=!0,[].pop.call(this)},$schema:function(){return this[k]},_cast:function(O){var I,j=!1,P=this[E];if(P&&(j=P.$populated(this[x],!0)),j&&O!=null){if((I=j.options[T])==null)throw new d("No populated model found for path `"+this[x]+"`. This is likely a bug in Mongoose, please report an issue on github.com/Automattic/mongoose.");return(l.isBuffer(O)||_(O,"ObjectId")||!v.isObject(O))&&(O={_id:O}),O.schema&&O.schema.discriminatorMapping&&O.schema.discriminatorMapping.key!==void 0||(O=new I(O)),this[k].caster.applySetters(O,P,!0)}return this[k].caster.applySetters(O,P,!1)},_mapCast:function(O,I){return this._cast(O,this.length+I)},_markModified:function(O){var I,j=this[E];if(j){if(I=this[x],arguments.length&&(I=I+"."+O),I!=null&&I.endsWith(".$"))return this;j.markModified(I,arguments.length!==0?O:j)}return this},_registerAtomic:function(O,I){if(!this[C]){if(O==="$set")return this[S]={$set:I},y(this[E],this[x]),this._markModified(),this;var j,P=this[S];if(O==="$pop"&&!("$pop"in P)){var A=this;this[E].once("save",function(){A._popped=A._shifted=null})}if(P.$set||Object.keys(P).length&&!(O in P))return this[S]={$set:this},this;if(O==="$pullAll"||O==="$addToSet")P[O]||(P[O]=[]),P[O]=P[O].concat(I);else if(O==="$pullDocs"){var $=P.$pull||(P.$pull={});I[0]instanceof p?(j=$.$or||($.$or=[]),Array.prototype.push.apply(j,I.map(function(Z){return Z.toObject({transform:function(ee,de){return Z==null||Z.$__==null||Object.keys(Z.$__.activePaths.getStatePaths("default")).forEach(function(le){f.unset(le,de),L(de,le)}),de},virtuals:!1})}))):(j=$._id||($._id={$in:[]})).$in=j.$in.concat(I)}else if(O==="$push")if(P.$push=P.$push||{$each:[]},I!=null&&v.hasUserDefinedProperty(I,"$each"))P.$push=I;else if(I.length===1)P.$push.$each.push(I[0]);else if(I.length<1e4){var q;(q=P.$push.$each).push.apply(q,function(Z){if(Array.isArray(Z))return b(Z)}(ie=I)||function(Z){if(typeof Symbol<"u"&&Z[Symbol.iterator]!=null||Z["@@iterator"]!=null)return Array.from(Z)}(ie)||h(ie)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())}else{var X,te=g(I);try{for(te.s();!(X=te.n()).done;){var re=X.value;P.$push.$each.push(re)}}catch(Z){te.e(Z)}finally{te.f()}}else P[O]=I;return this}var ie},addToSet:function(){R(this,arguments);var O=[].map.call(arguments,this._mapCast,this),I=[],j="";O[0]instanceof p?j="doc":O[0]instanceof Date?j="date":_(O[0],"ObjectId")&&(j="ObjectId");var P=v.isMongooseArray(O)?O.__array:O,A=v.isMongooseArray(this)?this.__array:this;return P.forEach(function($){var q,X=+$;switch(j){case"doc":q=this.some(function(te){return te.equals($)});break;case"date":q=this.some(function(te){return+te===X});break;case"ObjectId":q=this.find(function(te){return te.toString()===$.toString()});break;default:q=~this.indexOf($)}q||(this._markModified(),A.push($),this._registerAtomic("$addToSet",$),[].push.call(I,$))},this),I},hasAtomics:function(){return v.isPOJO(this[S])?Object.keys(this[S]).length:0},includes:function(O,I){return this.indexOf(O,I)!==-1},indexOf:function(O,I){_(O,"ObjectId")&&(O=O.toString()),I=I??0;for(var j=this.length,P=I;P<j;++P)if(O==this[P])return P;return-1},inspect:function(){return JSON.stringify(this)},nonAtomicPush:function(){var O=[].map.call(arguments,this._mapCast,this);this._markModified();var I=[].push.apply(this,O);return this._registerAtomic("$set",this),I},pop:function(){this._markModified();var O=[].pop.call(this);return this._registerAtomic("$set",this),O},pull:function(){var O=this,I=[].map.call(arguments,function($,q){return O._cast($,q,{defaults:!1})},this),j=this[E].get(this[x]);v.isMongooseArray(j)&&(j=j.__array);var P,A=j.length;for(this._markModified();A--;)(P=j[A])instanceof w?I.some(function($){return P.equals($)})&&j.splice(A,1):~this.indexOf.call(I,P)&&j.splice(A,1);return I[0]instanceof p?this._registerAtomic("$pullDocs",I.map(function($){var q=$.$__getValue("_id");return q===void 0||$.$isDefault("_id")?$:q})):this._registerAtomic("$pullAll",I),y(this[E],this[x])>0&&this._registerAtomic("$set",this),this},push:function(){var O,I=arguments,j=I,P=I[0]!=null&&v.hasUserDefinedProperty(I[0],"$each"),A=v.isMongooseArray(this)?this.__array:this;if(P&&(j=I[0],I=I[0].$each),this[k]==null)return M.apply(this,I);R(this,I),I=[].map.call(I,this._mapCast,this);var $=this[S];return this._markModified(),P?(j.$each=I,($.$push&&$.$push.$each&&$.$push.$each.length||0)!==0&&$.$push.$position!=j.$position?(j.$position!=null?([].splice.apply(A,[j.$position,0].concat(I)),O=A.length):O=[].push.apply(A,I),this._registerAtomic("$set",this)):j.$position!=null?([].splice.apply(A,[j.$position,0].concat(I)),O=this.length):O=[].push.apply(A,I)):(j=I,O=M.apply(A,I)),this._registerAtomic("$push",j),O},remove:function(){return this.pull.apply(this,arguments)},set:function(O,I,j){var P=this.__array;if(j)return P[O]=I,this;var A=N._cast.call(this,I,O);return N._markModified.call(this,O),P[O]=A,this},shift:function(){var O=v.isMongooseArray(this)?this.__array:this;this._markModified();var I=[].shift.call(O);return this._registerAtomic("$set",this),I},sort:function(){var O=v.isMongooseArray(this)?this.__array:this,I=[].sort.apply(O,arguments);return this._registerAtomic("$set",this),I},splice:function(){var O,I=v.isMongooseArray(this)?this.__array:this;if(this._markModified(),R(this,Array.prototype.slice.call(arguments,2)),arguments.length){var j;if(this[k]==null)j=arguments;else{j=[];for(var P=0;P<arguments.length;++P)j[P]=P<2?arguments[P]:this._cast(arguments[P],arguments[0]+(P-2))}O=[].splice.apply(I,j),this._registerAtomic("$set",this)}return O},toBSON:function(){return this.toObject(c)},toObject:function(O){var I=v.isMongooseArray(this)?this.__array:this;return O&&O.depopulate?((O=m(O))._isNested=!0,[].concat(I).map(function(j){return j instanceof w?j.toObject(O):j})):[].concat(I)},$toObject:function(){return this.constructor.prototype.toObject.apply(this,arguments)},unshift:function(){var O;R(this,arguments),O=this[k]==null?arguments:[].map.call(arguments,this._cast,this);var I=v.isMongooseArray(this)?this.__array:this;return this._markModified(),[].unshift.apply(I,O),this._registerAtomic("$set",this),this.length}};function L(O,I,j){if(typeof I=="string"){if(I.indexOf(".")===-1)return;I=f.stringToParts(I)}(j=j||0)>=I.length||O!=null&&u(O)==="object"&&(L(O[I[0]],I,j+1),O[I[0]]!=null&&u(O[I[0]])==="object"&&Object.keys(O[I[0]]).length===0&&delete O[I[0]])}function R(O,I){var j,P,A,$=O==null?null:O[k]&&O[k].caster&&O[k].caster.options&&O[k].caster.options.ref||null;O.length===0&&I.length!==0&&function(q,X){if(!X)return!1;var te,re=g(q);try{for(re.s();!(te=re.n()).done;){var ie=te.value;if(ie==null)return!1;var Z=ie.constructor;if(!(ie instanceof w)||Z.modelName!==X&&Z.baseModelName!==X)return!1}}catch(ee){re.e(ee)}finally{re.f()}return!0}(I,$)&&O[E].$populated(O[x],[],(j={},P=T,A=I[0].constructor,(P=function(q){var X=function(te,re){if(u(te)!="object"||!te)return te;var ie=te[Symbol.toPrimitive];if(ie!==void 0){var Z=ie.call(te,"string");if(u(Z)!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)}(q);return u(X)=="symbol"?X:X+""}(P))in j?Object.defineProperty(j,P,{value:A,enumerable:!0,configurable:!0,writable:!0}):j[P]=A,j))}for(var D=function(){var O=U[z];if(Array.prototype[O]==null)return 1;N[O]=function(){var I=v.isMongooseArray(this)?this.__array:this,j=[].concat(I);return j[O].apply(j,arguments)}},z=0,U=["filter","flat","flatMap","map","slice"];z<U.length;z++)D();o.exports=N},4051:(o,s,i)=>{var l=i(365).Buffer,u=i(4029).Binary,g=i(6872);function h(p,d,y){var m,c,f,v,_=p;return p==null&&(_=0),Array.isArray(d)?(c=d[0],f=d[1]):m=d,v=typeof _=="number"||_ instanceof Number?l.alloc(_):l.from(_,m,y),g.decorate(v,h.mixin),v.isMongooseBuffer=!0,v[h.pathSymbol]=c,v[w]=f,v._subtype=0,v}var b=Symbol.for("mongoose#Buffer#_path"),w=Symbol.for("mongoose#Buffer#_parent");h.pathSymbol=b,h.mixin={_subtype:void 0,_markModified:function(){var p=this[w];return p&&p.markModified(this[h.pathSymbol]),this},write:function(){var p=l.prototype.write.apply(this,arguments);return p>0&&this._markModified(),p},copy:function(p){var d=l.prototype.copy.apply(this,arguments);return p&&p.isMongooseBuffer&&p._markModified(),d}},g.each(["writeUInt8","writeUInt16","writeUInt32","writeInt8","writeInt16","writeInt32","writeFloat","writeDouble","fill","utf8Write","binaryWrite","asciiWrite","set","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE"],function(p){l.prototype[p]&&(h.mixin[p]=function(){var d=l.prototype[p].apply(this,arguments);return this._markModified(),d})}),h.mixin.toObject=function(p){var d=typeof p=="number"?p:this._subtype||0;return new u(l.from(this),d)},h.mixin.$toObject=h.mixin.toObject,h.mixin.toBSON=function(){return new u(this,this._subtype||0)},h.mixin.equals=function(p){if(!l.isBuffer(p)||this.length!==p.length)return!1;for(var d=0;d<this.length;++d)if(this[d]!==p[d])return!1;return!0},h.mixin.subtype=function(p){if(typeof p!="number")throw new TypeError("Invalid subtype. Expected a number");this._subtype!==p&&this._markModified(),this._subtype=p},h.Binary=u,o.exports=h},5003:(o,s,i)=>{o.exports=i(4029).Decimal128},8941:(o,s,i)=>{s.Array=i(1362),s.Buffer=i(4051),s.Document=s.Embedded=i(1568),s.DocumentArray=i(6077),s.Decimal128=i(5003),s.ObjectId=i(6079),s.Map=i(3828),s.Subdocument=i(2591),s.UUID=i(8369)},3828:(o,s,i)=>{function l(L){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},l(L)}function u(L,R){var D=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(!D){if(Array.isArray(L)||(D=function(P,A){if(P){if(typeof P=="string")return g(P,A);var $={}.toString.call(P).slice(8,-1);return $==="Object"&&P.constructor&&($=P.constructor.name),$==="Map"||$==="Set"?Array.from(P):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?g(P,A):void 0}}(L))||R&&L&&typeof L.length=="number"){D&&(L=D);var z=0,U=function(){};return{s:U,n:function(){return z>=L.length?{done:!0}:{done:!1,value:L[z++]}},e:function(P){throw P},f:U}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,I=!0,j=!1;return{s:function(){D=D.call(L)},n:function(){var P=D.next();return I=P.done,P},e:function(P){j=!0,O=P},f:function(){try{I||D.return==null||D.return()}finally{if(j)throw O}}}}function g(L,R){(R==null||R>L.length)&&(R=L.length);for(var D=0,z=Array(R);D<R;D++)z[D]=L[D];return z}function h(L,R){for(var D=0;D<R.length;D++){var z=R[D];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(L,b(z.key),z)}}function b(L){var R=function(D,z){if(l(D)!="object"||!D)return D;var U=D[Symbol.toPrimitive];if(U!==void 0){var O=U.call(D,"string");if(l(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}(L);return l(R)=="symbol"?R:R+""}function w(){return w=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(L,R,D){var z=function(O,I){for(;!{}.hasOwnProperty.call(O,I)&&(O=m(O))!==null;);return O}(L,R);if(z){var U=Object.getOwnPropertyDescriptor(z,R);return U.get?U.get.call(arguments.length<3?L:D):U.value}},w.apply(null,arguments)}function p(L){var R=typeof Map=="function"?new Map:void 0;return p=function(D){if(D===null||!function(U){try{return Function.toString.call(U).indexOf("[native code]")!==-1}catch{return typeof U=="function"}}(D))return D;if(typeof D!="function")throw new TypeError("Super expression must either be null or a function");if(R!==void 0){if(R.has(D))return R.get(D);R.set(D,z)}function z(){return function(U,O,I){if(d())return Reflect.construct.apply(null,arguments);var j=[null];j.push.apply(j,O);var P=new(U.bind.apply(U,j));return I&&y(P,I.prototype),P}(D,arguments,m(this).constructor)}return z.prototype=Object.create(D.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),y(z,D)},p(L)}function d(){try{var L=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!L})()}function y(L,R){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,z){return D.__proto__=z,D},y(L,R)}function m(L){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},m(L)}var c=i(3861),f=i(5202),v=i(1973),_=i(6872).deepEqual,S=i(1981),E=i(719),x=i(8751),k=i(2862),T=i(1563),C=i(8770).populateModelSymbol,M=function(L){function R(U,O,I,j){var P;return function(A,$){if(!(A instanceof $))throw new TypeError("Cannot call a class as a function")}(this,R),S(U)==="Object"&&(U=Object.keys(U).reduce(function(A,$){return A.concat([[$,U[$]]])},[])),(P=function(A,$,q){return $=m($),function(X,te){if(te&&(l(te)=="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(re){if(re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re}(X)}(A,d()?Reflect.construct($,q||[],m(A).constructor):$.apply(A,q))}(this,R,[U])).$__parent=I!=null&&I.$__!=null?I:null,P.$__path=O,P.$__schemaType=j??new c(O),P.$__runDeferred(),P}return function(U,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(O&&O.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),O&&y(U,O)}(R,L),D=R,z=[{key:"$init",value:function(U,O){N(U),w(m(R.prototype),"set",this).call(this,U,O),O!=null&&O.$isSingleNested&&(O.$basePath=this.$__path+"."+U)}},{key:"$__set",value:function(U,O){w(m(R.prototype),"set",this).call(this,U,O)}},{key:"get",value:function(U,O){return T(U,"ObjectId")&&(U=U.toString()),(O=O||{}).getters===!1?w(m(R.prototype),"get",this).call(this,U):this.$__schemaType.applyGetters(w(m(R.prototype),"get",this).call(this,U),this.$__parent)}},{key:"set",value:function(U,O){if(T(U,"ObjectId")&&(U=U.toString()),N(U),O=E(O),this.$__schemaType==null)return this.$__deferred=this.$__deferred||[],void this.$__deferred.push({key:U,value:O});var I,j=this.$__parent,P=j!=null&&j.$__&&j.$__.populated?j.$populated(q.call(this),!0)||j.$populated(this.$__path,!0):null,A=this.get(U);if(P!=null){if(this.$__schemaType.$isSingleNested)throw new f("Cannot manually populate single nested subdoc underneath Map "+'at path "'.concat(this.$__path,'". Try using an array instead of a Map.'));Array.isArray(O)&&this.$__schemaType.$isMongooseArray?O=O.map(function(X){return X.$__==null&&(X=new P.options[C](X)),X.$__.wasPopulated={value:X._id},X}):(O.$__==null&&(O=new P.options[C](O)),O.$__.wasPopulated={value:O._id})}else try{var $=this.$__schemaType.$isMongooseDocumentArray||this.$__schemaType.$isSingleNested?{path:q.call(this)}:null;O=this.$__schemaType.applySetters(O,this.$__parent,!1,this.get(U),$)}catch(X){if(this.$__parent!=null&&this.$__parent.$__!=null)return void this.$__parent.invalidate(q.call(this),X);throw X}function q(){return I||(I=this.$__path+"."+U)}w(m(R.prototype),"set",this).call(this,U,O),j==null||j.$__==null||_(O,A)||j.markModified(q.call(this))}},{key:"clear",value:function(){w(m(R.prototype),"clear",this).call(this);var U=this.$__parent;U!=null&&U.markModified(this.$__path)}},{key:"delete",value:function(U){return T(U,"ObjectId")&&(U=U.toString()),this.set(U,void 0),w(m(R.prototype),"delete",this).call(this,U)}},{key:"toBSON",value:function(){return new Map(this)}},{key:"toObject",value:function(U){if(U&&U.flattenMaps){var O,I={},j=u(this.keys());try{for(j.s();!(O=j.n()).done;){var P=O.value;I[P]=v(this.get(P),U)}}catch(A){j.e(A)}finally{j.f()}return I}return new Map(this)}},{key:"$toObject",value:function(){return this.constructor.prototype.toObject.apply(this,arguments)}},{key:"toJSON",value:function(U){if(typeof(U&&U.flattenMaps)!="boolean"||U.flattenMaps){var O,I={},j=u(this.keys());try{for(j.s();!(O=j.n()).done;){var P=O.value;I[P]=v(this.get(P),U)}}catch(A){j.e(A)}finally{j.f()}return I}return new Map(this)}},{key:"inspect",value:function(){return new Map(this)}},{key:"$__runDeferred",value:function(){if(this.$__deferred){var U,O=u(this.$__deferred);try{for(O.s();!(U=O.n()).done;){var I=U.value;this.set(I.key,I.value)}}catch(j){O.e(j)}finally{O.f()}this.$__deferred=null}}}],z&&h(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),D;var D,z}(p(Map));function N(L){var R=l(L);if(R!=="string")throw new TypeError("Mongoose maps only support string keys, got ".concat(R));if(L.startsWith("$"))throw new Error('Mongoose maps do not support keys that start with "$", got "'.concat(L,'"'));if(L.includes("."))throw new Error('Mongoose maps do not support keys that contain ".", got "'.concat(L,'"'));if(k.has(L))throw new Error('Mongoose maps do not support reserved key name "'.concat(L,'"'))}x.inspect.custom&&Object.defineProperty(M.prototype,x.inspect.custom,{enumerable:!1,writable:!1,configurable:!1,value:M.prototype.inspect}),Object.defineProperty(M.prototype,"$__set",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(M.prototype,"$__parent",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(M.prototype,"$__path",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(M.prototype,"$__schemaType",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(M.prototype,"$isMongooseMap",{enumerable:!1,writable:!1,configurable:!1,value:!0}),Object.defineProperty(M.prototype,"$__deferredCalls",{enumerable:!1,writable:!1,configurable:!1,value:!0}),o.exports=M},6079:(o,s,i)=>{var l=i(4029).ObjectId,u=i(8770).objectIdSymbol;Object.defineProperty(l.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}}),l.prototype.hasOwnProperty("valueOf")||(l.prototype.valueOf=function(){return this.toString()}),l.prototype[u]=!0,o.exports=l},2591:(o,s,i)=>{function l(){l=function(){return c};var m,c={},f=Object.prototype,v=f.hasOwnProperty,_=Object.defineProperty||function(le,V,G){le[V]=G.value},S=typeof Symbol=="function"?Symbol:{},E=S.iterator||"@@iterator",x=S.asyncIterator||"@@asyncIterator",k=S.toStringTag||"@@toStringTag";function T(le,V,G){return Object.defineProperty(le,V,{value:G,enumerable:!0,configurable:!0,writable:!0}),le[V]}try{T({},"")}catch{T=function(V,G,K){return V[G]=K}}function C(le,V,G,K){var ne=V&&V.prototype instanceof U?V:U,W=Object.create(ne.prototype),H=new ee(K||[]);return _(W,"_invoke",{value:te(le,G,H)}),W}function M(le,V,G){try{return{type:"normal",arg:le.call(V,G)}}catch(K){return{type:"throw",arg:K}}}c.wrap=C;var N="suspendedStart",L="suspendedYield",R="executing",D="completed",z={};function U(){}function O(){}function I(){}var j={};T(j,E,function(){return this});var P=Object.getPrototypeOf,A=P&&P(P(de([])));A&&A!==f&&v.call(A,E)&&(j=A);var $=I.prototype=U.prototype=Object.create(j);function q(le){["next","throw","return"].forEach(function(V){T(le,V,function(G){return this._invoke(V,G)})})}function X(le,V){function G(ne,W,H,se){var ce=M(le[ne],le,W);if(ce.type!=="throw"){var ue=ce.arg,be=ue.value;return be&&g(be)=="object"&&v.call(be,"__await")?V.resolve(be.__await).then(function(Se){G("next",Se,H,se)},function(Se){G("throw",Se,H,se)}):V.resolve(be).then(function(Se){ue.value=Se,H(ue)},function(Se){return G("throw",Se,H,se)})}se(ce.arg)}var K;_(this,"_invoke",{value:function(ne,W){function H(){return new V(function(se,ce){G(ne,W,se,ce)})}return K=K?K.then(H,H):H()}})}function te(le,V,G){var K=N;return function(ne,W){if(K===R)throw Error("Generator is already running");if(K===D){if(ne==="throw")throw W;return{value:m,done:!0}}for(G.method=ne,G.arg=W;;){var H=G.delegate;if(H){var se=re(H,G);if(se){if(se===z)continue;return se}}if(G.method==="next")G.sent=G._sent=G.arg;else if(G.method==="throw"){if(K===N)throw K=D,G.arg;G.dispatchException(G.arg)}else G.method==="return"&&G.abrupt("return",G.arg);K=R;var ce=M(le,V,G);if(ce.type==="normal"){if(K=G.done?D:L,ce.arg===z)continue;return{value:ce.arg,done:G.done}}ce.type==="throw"&&(K=D,G.method="throw",G.arg=ce.arg)}}}function re(le,V){var G=V.method,K=le.iterator[G];if(K===m)return V.delegate=null,G==="throw"&&le.iterator.return&&(V.method="return",V.arg=m,re(le,V),V.method==="throw")||G!=="return"&&(V.method="throw",V.arg=new TypeError("The iterator does not provide a '"+G+"' method")),z;var ne=M(K,le.iterator,V.arg);if(ne.type==="throw")return V.method="throw",V.arg=ne.arg,V.delegate=null,z;var W=ne.arg;return W?W.done?(V[le.resultName]=W.value,V.next=le.nextLoc,V.method!=="return"&&(V.method="next",V.arg=m),V.delegate=null,z):W:(V.method="throw",V.arg=new TypeError("iterator result is not an object"),V.delegate=null,z)}function ie(le){var V={tryLoc:le[0]};1 in le&&(V.catchLoc=le[1]),2 in le&&(V.finallyLoc=le[2],V.afterLoc=le[3]),this.tryEntries.push(V)}function Z(le){var V=le.completion||{};V.type="normal",delete V.arg,le.completion=V}function ee(le){this.tryEntries=[{tryLoc:"root"}],le.forEach(ie,this),this.reset(!0)}function de(le){if(le||le===""){var V=le[E];if(V)return V.call(le);if(typeof le.next=="function")return le;if(!isNaN(le.length)){var G=-1,K=function ne(){for(;++G<le.length;)if(v.call(le,G))return ne.value=le[G],ne.done=!1,ne;return ne.value=m,ne.done=!0,ne};return K.next=K}}throw new TypeError(g(le)+" is not iterable")}return O.prototype=I,_($,"constructor",{value:I,configurable:!0}),_(I,"constructor",{value:O,configurable:!0}),O.displayName=T(I,k,"GeneratorFunction"),c.isGeneratorFunction=function(le){var V=typeof le=="function"&&le.constructor;return!!V&&(V===O||(V.displayName||V.name)==="GeneratorFunction")},c.mark=function(le){return Object.setPrototypeOf?Object.setPrototypeOf(le,I):(le.__proto__=I,T(le,k,"GeneratorFunction")),le.prototype=Object.create($),le},c.awrap=function(le){return{__await:le}},q(X.prototype),T(X.prototype,x,function(){return this}),c.AsyncIterator=X,c.async=function(le,V,G,K,ne){ne===void 0&&(ne=Promise);var W=new X(C(le,V,G,K),ne);return c.isGeneratorFunction(V)?W:W.next().then(function(H){return H.done?H.value:W.next()})},q($),T($,k,"Generator"),T($,E,function(){return this}),T($,"toString",function(){return"[object Generator]"}),c.keys=function(le){var V=Object(le),G=[];for(var K in V)G.push(K);return G.reverse(),function ne(){for(;G.length;){var W=G.pop();if(W in V)return ne.value=W,ne.done=!1,ne}return ne.done=!0,ne}},c.values=de,ee.prototype={constructor:ee,reset:function(le){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(Z),!le)for(var V in this)V.charAt(0)==="t"&&v.call(this,V)&&!isNaN(+V.slice(1))&&(this[V]=m)},stop:function(){this.done=!0;var le=this.tryEntries[0].completion;if(le.type==="throw")throw le.arg;return this.rval},dispatchException:function(le){if(this.done)throw le;var V=this;function G(ce,ue){return W.type="throw",W.arg=le,V.next=ce,ue&&(V.method="next",V.arg=m),!!ue}for(var K=this.tryEntries.length-1;K>=0;--K){var ne=this.tryEntries[K],W=ne.completion;if(ne.tryLoc==="root")return G("end");if(ne.tryLoc<=this.prev){var H=v.call(ne,"catchLoc"),se=v.call(ne,"finallyLoc");if(H&&se){if(this.prev<ne.catchLoc)return G(ne.catchLoc,!0);if(this.prev<ne.finallyLoc)return G(ne.finallyLoc)}else if(H){if(this.prev<ne.catchLoc)return G(ne.catchLoc,!0)}else{if(!se)throw Error("try statement without catch or finally");if(this.prev<ne.finallyLoc)return G(ne.finallyLoc)}}}},abrupt:function(le,V){for(var G=this.tryEntries.length-1;G>=0;--G){var K=this.tryEntries[G];if(K.tryLoc<=this.prev&&v.call(K,"finallyLoc")&&this.prev<K.finallyLoc){var ne=K;break}}ne&&(le==="break"||le==="continue")&&ne.tryLoc<=V&&V<=ne.finallyLoc&&(ne=null);var W=ne?ne.completion:{};return W.type=le,W.arg=V,ne?(this.method="next",this.next=ne.finallyLoc,z):this.complete(W)},complete:function(le,V){if(le.type==="throw")throw le.arg;return le.type==="break"||le.type==="continue"?this.next=le.arg:le.type==="return"?(this.rval=this.arg=le.arg,this.method="return",this.next="end"):le.type==="normal"&&V&&(this.next=V),z},finish:function(le){for(var V=this.tryEntries.length-1;V>=0;--V){var G=this.tryEntries[V];if(G.finallyLoc===le)return this.complete(G.completion,G.afterLoc),Z(G),z}},catch:function(le){for(var V=this.tryEntries.length-1;V>=0;--V){var G=this.tryEntries[V];if(G.tryLoc===le){var K=G.completion;if(K.type==="throw"){var ne=K.arg;Z(G)}return ne}}throw Error("illegal catch attempt")},delegateYield:function(le,V,G){return this.delegate={iterator:de(le),resultName:V,nextLoc:G},this.method==="next"&&(this.arg=m),z}},c}function u(m,c,f,v,_,S,E){try{var x=m[S](E),k=x.value}catch(T){return void f(T)}x.done?c(k):Promise.resolve(k).then(v,_)}function g(m){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},g(m)}var h=i(8727),b=i(1490),w=i(4962).h,p=i(8751),d=i(6872);function y(m,c,f,v,_){if(g(v)==="object"&&v!=null&&_==null&&(_=v,v=void 0),f!=null){var S={isNew:f.isNew};"defaults"in f.$__&&(S.defaults=f.$__.defaults),_=Object.assign(S,_)}_!=null&&_.path!=null&&(this.$basePath=_.path),h.call(this,m,c,v,_),delete this.$__.priorDoc}o.exports=y,y.prototype=Object.create(h.prototype),Object.defineProperty(y.prototype,"$isSubdocument",{configurable:!1,writable:!1,value:!0}),Object.defineProperty(y.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!0}),y.prototype.toBSON=function(){return this.toObject(w)},y.prototype.save=function(){var m,c=(m=l().mark(function f(v){var _=this;return l().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return(v=v||{}).suppressWarning||d.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you're sure this behavior is right for your app."),S.abrupt("return",new Promise(function(E,x){_.$__save(function(k){if(k!=null)return x(k);E(_)})}));case 3:case"end":return S.stop()}},f)}),function(){var f=this,v=arguments;return new Promise(function(_,S){var E=m.apply(f,v);function x(T){u(E,_,S,x,k,"next",T)}function k(T){u(E,_,S,x,k,"throw",T)}x(void 0)})});return function(f){return c.apply(this,arguments)}}(),y.prototype.$__fullPath=function(m){return this.$__.fullPath||this.ownerDocument(),m?this.$__.fullPath+"."+m:this.$__.fullPath},y.prototype.$__pathRelativeToParent=function(m){return m==null?this.$basePath:[this.$basePath,m].join(".")},y.prototype.$__save=function(m){var c=this;return b(function(){return m(null,c)})},y.prototype.$isValid=function(m){var c=this.$parent(),f=this.$__pathRelativeToParent(m);return c!=null&&f!=null?c.$isValid(f):h.prototype.$isValid.call(this,m)},y.prototype.markModified=function(m){h.prototype.markModified.call(this,m);var c=this.$parent(),f=this.$__pathRelativeToParent(m);if(c!=null&&f!=null){var v=this.$__pathRelativeToParent().replace(/\.$/,"");c.isDirectModified(v)||this.isNew||this.$__parent.markModified(f,this)}},y.prototype.isModified=function(m,c,f){var v=this,_=this.$parent();return _!=null?(Array.isArray(m)||typeof m=="string"?m=(m=Array.isArray(m)?m:m.split(" ")).map(function(S){return v.$__pathRelativeToParent(S)}).filter(function(S){return S!=null}):m||(m=this.$__pathRelativeToParent()),_.$isModified(m,c,f)):h.prototype.isModified.call(this,m,c,f)},y.prototype.$markValid=function(m){h.prototype.$markValid.call(this,m);var c=this.$parent(),f=this.$__pathRelativeToParent(m);c!=null&&f!=null&&c.$markValid(f)},y.prototype.invalidate=function(m,c,f){h.prototype.invalidate.call(this,m,c,f);var v=this.$parent(),_=this.$__pathRelativeToParent(m);if(v!=null&&_!=null)v.invalidate(_,c,f);else if(c.kind==="cast"||c.name==="CastError"||_==null)throw c;return this.ownerDocument().$__.validationError},y.prototype.$ignore=function(m){h.prototype.$ignore.call(this,m);var c=this.$parent(),f=this.$__pathRelativeToParent(m);c!=null&&f!=null&&c.$ignore(f)},y.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;for(var m=this,c=[],f=new Set([m]);typeof m.$__pathRelativeToParent=="function";){c.unshift(m.$__pathRelativeToParent(void 0,!0));var v=m.$parent();if(v==null)break;if(m=v,f.has(m))throw new Error("Infinite subdocument loop: subdoc with _id "+m._id+" is a parent of itself");f.add(m)}return this.$__.fullPath=c.join("."),this.$__.ownerDocument=m,this.$__.ownerDocument},y.prototype.$__fullPathWithIndexes=function(){for(var m=this,c=[],f=new Set([m]);typeof m.$__pathRelativeToParent=="function";){c.unshift(m.$__pathRelativeToParent(void 0,!1));var v=m.$parent();if(v==null)break;if(m=v,f.has(m))throw new Error("Infinite subdocument loop: subdoc with _id "+m._id+" is a parent of itself");f.add(m)}return c.join(".")},y.prototype.parent=function(){return this.$__parent},y.prototype.$parent=y.prototype.parent,y.prototype.$__deleteOne=function(m){if(m!=null)return m(null,this)},y.prototype.$__removeFromParent=function(){this.$__parent.set(this.$basePath,null)},y.prototype.deleteOne=function(m,c){return typeof m=="function"&&(c=m,m=null),function(f){var v=f.ownerDocument();function _(){v.$removeListener("save",_),v.$removeListener("deleteOne",_),f.emit("deleteOne",f),f.constructor.emit("deleteOne",f),v=f=null}v.$on("save",_),v.$on("deleteOne",_)}(this),m&&m.noop||this.$__removeFromParent(),this.$__deleteOne(c)},y.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate("path")`, use `doc.populate("nested.path")`')},y.prototype.inspect=function(){return this.toObject({transform:!1,virtuals:!1,flattenDecimals:!1})},p.inspect.custom&&(y.prototype[p.inspect.custom]=y.prototype.inspect)},8369:(o,s,i)=>{o.exports=i(4029).UUID},6872:(o,s,i)=>{var l=i(365).Buffer;function u(j,P){var A=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(!A){if(Array.isArray(j)||(A=function(ie,Z){if(ie){if(typeof ie=="string")return g(ie,Z);var ee={}.toString.call(ie).slice(8,-1);return ee==="Object"&&ie.constructor&&(ee=ie.constructor.name),ee==="Map"||ee==="Set"?Array.from(ie):ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee)?g(ie,Z):void 0}}(j))||P&&j&&typeof j.length=="number"){A&&(j=A);var $=0,q=function(){};return{s:q,n:function(){return $>=j.length?{done:!0}:{done:!1,value:j[$++]}},e:function(ie){throw ie},f:q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X,te=!0,re=!1;return{s:function(){A=A.call(j)},n:function(){var ie=A.next();return te=ie.done,ie},e:function(ie){re=!0,X=ie},f:function(){try{te||A.return==null||A.return()}finally{if(re)throw X}}}}function g(j,P){(P==null||P>j.length)&&(P=j.length);for(var A=0,$=Array(P);A<P;A++)$[A]=j[A];return $}function h(j){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},h(j)}var b,w=i(4029).UUID,p=i(2068),d=i(3564),y=i(6079),m=i(4034),c=i(1973),f=i(1490),v=i(5721),_=i(7339),S=i(1255),E=i(1563),x=i(6749),k=i(6584),T=i(8486),C=i(4913),M=i(2862),N=i(3636).trustedSymbol;s.specialProperties=M,s.isMongooseArray=_.isMongooseArray,s.isMongooseDocumentArray=S.isMongooseDocumentArray,s.registerMongooseArray=_.registerMongooseArray,s.registerMongooseDocumentArray=S.registerMongooseDocumentArray;var L=/\s/,R=/\s+/;s.toCollectionName=function(j,P){return j==="system.profile"||j==="system.indexes"?j:typeof P=="function"?P(j):j},s.deepEqual=function j(P,A){if(P===A)return!0;if(h(P)!=="object"||h(A)!=="object")return P===A;if(P instanceof Date&&A instanceof Date)return P.getTime()===A.getTime();if(E(P,"ObjectId")&&E(A,"ObjectId")||E(P,"Decimal128")&&E(A,"Decimal128"))return P.toString()===A.toString();if(P instanceof RegExp&&A instanceof RegExp)return P.source===A.source&&P.ignoreCase===A.ignoreCase&&P.multiline===A.multiline&&P.global===A.global&&P.dotAll===A.dotAll&&P.unicode===A.unicode&&P.sticky===A.sticky&&P.hasIndices===A.hasIndices;if(P==null||A==null||P.prototype!==A.prototype)return!1;if(P instanceof Map||A instanceof Map)return P instanceof Map&&A instanceof Map&&j(Array.from(P.keys()),Array.from(A.keys()))&&j(Array.from(P.values()),Array.from(A.values()));if(P instanceof Number&&A instanceof Number)return P.valueOf()===A.valueOf();if(l.isBuffer(P))return s.buffer.areEqual(P,A);if(Array.isArray(P)||Array.isArray(A)){if(!Array.isArray(P)||!Array.isArray(A))return!1;var $=P.length;if($!==A.length)return!1;for(var q=0;q<$;++q)if(!j(P[q],A[q]))return!1;return!0}P.$__!=null?P=P._doc:k(P)&&(P=P.toObject()),A.$__!=null?A=A._doc:k(A)&&(A=A.toObject());var X=Object.keys(P),te=Object.keys(A),re=X.length;if(re!==te.length)return!1;for(var ie=re-1;ie>=0;ie--)if(X[ie]!==te[ie])return!1;for(var Z=0,ee=X;Z<ee.length;Z++){var de=ee[Z];if(!j(P[de],A[de]))return!1}return!0},s.last=function(j){if(j.length>0)return j[j.length-1]},s.promiseOrCallback=T,s.cloneArrays=function(j){return Array.isArray(j)?j.map(function(P){return s.cloneArrays(P)}):j},s.omit=function(j,P){if(P==null)return Object.assign({},j);Array.isArray(P)||(P=[P]);var A,$=Object.assign({},j),q=u(P);try{for(q.s();!(A=q.n()).done;)delete $[A.value]}catch(X){q.e(X)}finally{q.f()}return $},s.merge=function j(P,A,$,q){$=$||{};var X,te=Object.keys(A),re=0,ie=te.length;A[N]&&(P[N]=A[N]),q=q||"";for(var Z=$.omitNested||{};re<ie;)if(X=te[re++],!($.omit&&$.omit[X]||Z[q]||M.has(X)))if(P[X]==null)P[X]=A[X];else if(s.isObject(A[X])){if(s.isObject(P[X])||(P[X]={}),A[X]!=null){if($.isDiscriminatorSchemaMerge&&A[X].$isSingleNested&&P[X].$isMongooseDocumentArray||A[X].$isMongooseDocumentArray&&P[X].$isSingleNested)continue;if(A[X].instanceOfSchema){P[X].instanceOfSchema?C(P[X],A[X].clone(),$.isDiscriminatorSchemaMerge):P[X]=A[X].clone();continue}if(E(A[X],"ObjectId")){P[X]=new y(A[X]);continue}}j(P[X],A[X],$,q?q+"."+X:X)}else $.overwrite&&(P[X]=A[X]);return P},s.toObject=function j(P){var A;if(b||(b=i(8727)),P==null)return P;if(P instanceof b)return P.toObject();if(Array.isArray(P)){A=[];var $,q=u(P);try{for(q.s();!($=q.n()).done;){var X=$.value;A.push(j(X))}}catch(Z){q.e(Z)}finally{q.f()}return A}if(s.isPOJO(P)){A={},P[N]&&(A[N]=P[N]);for(var te=0,re=Object.keys(P);te<re.length;te++){var ie=re[te];M.has(ie)||(A[ie]=j(P[ie]))}return A}return P},s.isObject=v,s.isPOJO=i(4673),s.isNonBuiltinObject=function(j){return!(h(j)!=="object"||s.isNativeObject(j)||s.isMongooseType(j)||j instanceof w||j==null)},s.isNativeObject=function(j){return Array.isArray(j)||j instanceof Date||j instanceof Boolean||j instanceof Number||j instanceof String},s.isEmptyObject=function(j){return j!=null&&h(j)==="object"&&Object.keys(j).length===0},s.hasKey=function(j,P){for(var A=0,$=Object.keys(j);A<$.length;A++){var q=$[A];if(q===P||s.isPOJO(j[q])&&s.hasKey(j[q],P))return!0}return!1},s.tick=function(j){if(typeof j=="function")return function(){try{j.apply(this,arguments)}catch(P){f(function(){throw P})}}},s.isMongooseType=function(j){return E(j,"ObjectId")||E(j,"Decimal128")||j instanceof l},s.isMongooseObject=k,s.expires=function(j){j&&j.constructor.name==="Object"&&"expires"in j&&(j.expireAfterSeconds=typeof j.expires!="string"?j.expires:Math.round(p(j.expires)/1e3),delete j.expires)},s.populate=function(j,P,A,$,q,X,te,re){var ie,Z=null;if(arguments.length===1){if(j instanceof m)return j._docs=[],j._childDocs=[],[j];if(Array.isArray(j)){var ee=(ie=[],j.forEach(function(de){L.test(de.path)?de.path.split(R).forEach(function(le){var V=Object.assign({},de);V.path=le,ie.push(V)}):ie.push(de)}),ie);return ee.map(function(de){return s.populate(de)[0]})}Z=s.isObject(j)?Object.assign({},j):{path:j}}else Z=h(A)==="object"?{path:j,select:P,match:A,options:$}:{path:j,select:P,model:A,match:$,options:q,populate:X,justOne:te,count:re};if(typeof Z.path!="string")throw new TypeError("utils.populate: invalid path. Expected string. Got typeof `"+h(j)+"`");return function(de){if(Array.isArray(de.populate)){var le=[];de.populate.forEach(function(H){if(L.test(H.path)){var se=Object.assign({},H);se.path.split(R).forEach(function(ce){se.path=ce,le.push(s.populate(se)[0])})}else le.push(s.populate(H)[0])}),de.populate=s.populate(le)}else de.populate!=null&&h(de.populate)==="object"&&(de.populate=s.populate(de.populate));var V=[],G=L.test(de.path)?de.path.split(R):[de.path];de.options!=null&&(de.options=c(de.options));var K,ne=u(G);try{for(ne.s();!(K=ne.n()).done;){var W=K.value;V.push(new m(Object.assign({},de,{path:W})))}}catch(H){ne.e(H)}finally{ne.f()}return V}(Z)},s.getValue=function(j,P,A){return d.get(j,P,z,A)};var D=Object.freeze({getters:!1});function z(j,P){var A=(j==null?void 0:j._doc)||j;return A!=null&&A.isMongooseArrayProxy&&(A=A.__array),A instanceof Map?A.get(P,D):A[P]}s.setValue=function(j,P,A,$,q){d.set(j,P,A,"_doc",$,q)},s.object={},s.object.vals=function(j){for(var P=Object.keys(j),A=P.length,$=[];A--;)$.push(j[P[A]]);return $};var U=Object.prototype.hasOwnProperty;s.object.hasOwnProperty=function(j,P){return U.call(j,P)},s.isNullOrUndefined=function(j){return j==null},s.array={},s.array.flatten=function j(P,A,$){return $||($=[]),P.forEach(function(q){Array.isArray(q)?j(q,A,$):A&&!A(q)||$.push(q)}),$};var O=Object.prototype.hasOwnProperty;s.hasUserDefinedProperty=function(j,P){if(j==null)return!1;if(Array.isArray(P)){var A,$=u(P);try{for($.s();!(A=$.n()).done;){var q=A.value;if(s.hasUserDefinedProperty(j,q))return!0}}catch(te){$.e(te)}finally{$.f()}return!1}if(O.call(j,P))return!0;if(h(j)==="object"&&P in j){var X=j[P];return X!==Object.prototype[P]&&X!==Array.prototype[P]}return!1};var I=Math.pow(2,32)-1;s.isArrayIndex=function(j){return typeof j=="number"?j>=0&&j<=I:typeof j=="string"&&!!/^\d+$/.test(j)&&(j=+j)>=0&&j<=I},s.array.unique=function(j){var P,A=new Set,$=new Set,q=[],X=u(j);try{for(X.s();!(P=X.n()).done;){var te=P.value;if(typeof te=="number"||typeof te=="string"||te==null){if(A.has(te))continue;q.push(te),A.add(te)}else if(E(te,"ObjectId")){if($.has(te.toString()))continue;q.push(te),$.add(te.toString())}else q.push(te)}}catch(re){X.e(re)}finally{X.f()}return q},s.buffer={},s.buffer.areEqual=function(j,P){if(!l.isBuffer(j)||!l.isBuffer(P)||j.length!==P.length)return!1;for(var A=0,$=j.length;A<$;++A)if(j[A]!==P[A])return!1;return!0},s.getFunctionName=x,s.decorate=function(j,P){for(var A in P)M.has(A)||(j[A]=P[A])},s.mergeClone=function(j,P){k(P)&&(P=P.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1}));for(var A,$=Object.keys(P),q=$.length,X=0;X<q;)if(A=$[X++],!M.has(A))if(j[A]===void 0)j[A]=c(P[A],{transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});else{var te=P[A];if(te==null||!te.valueOf||te instanceof Date||(te=te.valueOf()),s.isObject(te)){var re=te;k(te)&&!te.isMongooseBuffer&&(re=re.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1})),te.isMongooseBuffer&&(re=l.from(re)),s.mergeClone(j[A],re)}else j[A]=c(te,{flattenDecimals:!1})}},s.each=function(j,P){var A,$=u(j);try{for($.s();!(A=$.n()).done;)P(A.value)}catch(q){$.e(q)}finally{$.f()}},s.getOption=function(j){var P,A=u(Array.prototype.slice.call(arguments,1));try{for(A.s();!(P=A.n()).done;){var $=P.value;if($!=null&&$[j]!=null)return $[j]}}catch(q){A.e(q)}finally{A.f()}return null},s.noop=function(){},s.errorToPOJO=function(j){if(!(j instanceof Error))throw new Error("`error` must be `instanceof Error`.");var P,A={},$=u(Object.getOwnPropertyNames(j));try{for($.s();!(P=$.n()).done;){var q=P.value;A[q]=j[q]}}catch(X){$.e(X)}finally{$.f()}return A},s.warn=function(j){return{env:{}}.emitWarning(j,{code:"MONGOOSE"})},s.injectTimestampsOption=function(j,P){P!=null&&(j.timestamps=P)}},459:(o,s,i)=>{function l(b,w){var p=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!p){if(Array.isArray(b)||(p=function(v,_){if(v){if(typeof v=="string")return u(v,_);var S={}.toString.call(v).slice(8,-1);return S==="Object"&&v.constructor&&(S=v.constructor.name),S==="Map"||S==="Set"?Array.from(v):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?u(v,_):void 0}}(b))||w&&b&&typeof b.length=="number"){p&&(b=p);var d=0,y=function(){};return{s:y,n:function(){return d>=b.length?{done:!0}:{done:!1,value:b[d++]}},e:function(v){throw v},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,c=!0,f=!1;return{s:function(){p=p.call(b)},n:function(){var v=p.next();return c=v.done,v},e:function(v){f=!0,m=v},f:function(){try{c||p.return==null||p.return()}finally{if(f)throw m}}}}function u(b,w){(w==null||w>b.length)&&(w=b.length);for(var p=0,d=Array(w);p<w;p++)d[p]=b[p];return d}var g=i(6872);function h(b,w){this.path=w,this.getters=[],this.setters=[],this.options=Object.assign({},b)}h.prototype._applyDefaultGetters=function(){if(!(this.getters.length>0||this.setters.length>0)){var b="$"+this.path;this.getters.push(function(){return this.$locals[b]}),this.setters.push(function(w){this.$locals[b]=w})}},h.prototype.clone=function(){var b=new h(this.options,this.path);return b.getters=[].concat(this.getters),b.setters=[].concat(this.setters),b},h.prototype.get=function(b){return this.getters.push(b),this},h.prototype.set=function(b){return this.setters.push(b),this},h.prototype.applyGetters=function(b,w){g.hasUserDefinedProperty(this.options,["ref","refPath"])&&w.$$populatedVirtuals&&w.$$populatedVirtuals.hasOwnProperty(this.path)&&(b=w.$$populatedVirtuals[this.path]);var p,d=b,y=l(this.getters);try{for(y.s();!(p=y.n()).done;)d=p.value.call(w,d,this,w)}catch(m){y.e(m)}finally{y.f()}return d},h.prototype.applySetters=function(b,w){var p,d=b,y=l(this.setters);try{for(y.s();!(p=y.n()).done;)d=p.value.call(w,d,this,w)}catch(m){y.e(m)}finally{y.f()}return d},o.exports=h},7406:(o,s,i)=>{var l=s;l.bignum=i(815),l.define=i(8721).define,l.base=i(6002),l.constants=i(4319),l.decoders=i(4049),l.encoders=i(6860)},8721:(o,s,i)=>{var l=i(7406),u=i(376);function g(h,b){this.name=h,this.body=b,this.decoders={},this.encoders={}}s.define=function(h,b){return new g(h,b)},g.prototype._createNamed=function(h){var b;try{b=Object(function(){var w=new Error("Cannot find module 'vm'");throw w.code="MODULE_NOT_FOUND",w}())("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{b=function(p){this._initNamed(p)}}return u(b,h),b.prototype._initNamed=function(w){h.call(this,w)},new b(this)},g.prototype._getDecoder=function(h){return h=h||"der",this.decoders.hasOwnProperty(h)||(this.decoders[h]=this._createNamed(l.decoders[h])),this.decoders[h]},g.prototype.decode=function(h,b,w){return this._getDecoder(b).decode(h,w)},g.prototype._getEncoder=function(h){return h=h||"der",this.encoders.hasOwnProperty(h)||(this.encoders[h]=this._createNamed(l.encoders[h])),this.encoders[h]},g.prototype.encode=function(h,b,w){return this._getEncoder(b).encode(h,w)}},4989:(o,s,i)=>{function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(p)}var u=i(376),g=i(6002).Reporter,h=i(365).Buffer;function b(p,d){g.call(this,d),h.isBuffer(p)?(this.base=p,this.offset=0,this.length=p.length):this.error("Input not Buffer")}function w(p,d){if(Array.isArray(p))this.length=0,this.value=p.map(function(y){return y instanceof w||(y=new w(y,d)),this.length+=y.length,y},this);else if(typeof p=="number"){if(!(0<=p&&p<=255))return d.error("non-byte EncoderBuffer value");this.value=p,this.length=1}else if(typeof p=="string")this.value=p,this.length=h.byteLength(p);else{if(!h.isBuffer(p))return d.error("Unsupported type: "+l(p));this.value=p,this.length=p.length}}u(b,g),s.C=b,b.prototype.save=function(){return{offset:this.offset,reporter:g.prototype.save.call(this)}},b.prototype.restore=function(p){var d=new b(this.base);return d.offset=p.offset,d.length=this.offset,this.offset=p.offset,g.prototype.restore.call(this,p.reporter),d},b.prototype.isEmpty=function(){return this.offset===this.length},b.prototype.readUInt8=function(p){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(p||"DecoderBuffer overrun")},b.prototype.skip=function(p,d){if(!(this.offset+p<=this.length))return this.error(d||"DecoderBuffer overrun");var y=new b(this.base);return y._reporterState=this._reporterState,y.offset=this.offset,y.length=this.offset+p,this.offset+=p,y},b.prototype.raw=function(p){return this.base.slice(p?p.offset:this.offset,this.length)},s.R=w,w.prototype.join=function(p,d){return p||(p=new h(this.length)),d||(d=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(y){y.join(p,d),d+=y.length}):(typeof this.value=="number"?p[d]=this.value:typeof this.value=="string"?p.write(this.value,d):h.isBuffer(this.value)&&this.value.copy(p,d),d+=this.length)),p}},6002:(o,s,i)=>{var l=s;l.Reporter=i(1269).b,l.DecoderBuffer=i(4989).C,l.EncoderBuffer=i(4989).R,l.Node=i(3304)},3304:(o,s,i)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},l(m)}var u=i(6002).Reporter,g=i(6002).EncoderBuffer,h=i(6002).DecoderBuffer,b=i(1130),w=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],p=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(w);function d(m,c){var f={};this._baseState=f,f.enc=m,f.parent=c||null,f.children=null,f.tag=null,f.args=null,f.reverseArgs=null,f.choice=null,f.optional=!1,f.any=!1,f.obj=!1,f.use=null,f.useDecoder=null,f.key=null,f.default=null,f.explicit=null,f.implicit=null,f.contains=null,f.parent||(f.children=[],this._wrap())}o.exports=d;var y=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];d.prototype.clone=function(){var m=this._baseState,c={};y.forEach(function(v){c[v]=m[v]});var f=new this.constructor(c.parent);return f._baseState=c,f},d.prototype._wrap=function(){var m=this._baseState;p.forEach(function(c){this[c]=function(){var f=new this.constructor(this);return m.children.push(f),f[c].apply(f,arguments)}},this)},d.prototype._init=function(m){var c=this._baseState;b(c.parent===null),m.call(this),c.children=c.children.filter(function(f){return f._baseState.parent===this},this),b.equal(c.children.length,1,"Root node can have only one child")},d.prototype._useArgs=function(m){var c=this._baseState,f=m.filter(function(v){return v instanceof this.constructor},this);m=m.filter(function(v){return!(v instanceof this.constructor)},this),f.length!==0&&(b(c.children===null),c.children=f,f.forEach(function(v){v._baseState.parent=this},this)),m.length!==0&&(b(c.args===null),c.args=m,c.reverseArgs=m.map(function(v){if(l(v)!=="object"||v.constructor!==Object)return v;var _={};return Object.keys(v).forEach(function(S){S==(0|S)&&(S|=0);var E=v[S];_[E]=S}),_}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(m){d.prototype[m]=function(){var c=this._baseState;throw new Error(m+" not implemented for encoding: "+c.enc)}}),w.forEach(function(m){d.prototype[m]=function(){var c=this._baseState,f=Array.prototype.slice.call(arguments);return b(c.tag===null),c.tag=m,this._useArgs(f),this}}),d.prototype.use=function(m){b(m);var c=this._baseState;return b(c.use===null),c.use=m,this},d.prototype.optional=function(){return this._baseState.optional=!0,this},d.prototype.def=function(m){var c=this._baseState;return b(c.default===null),c.default=m,c.optional=!0,this},d.prototype.explicit=function(m){var c=this._baseState;return b(c.explicit===null&&c.implicit===null),c.explicit=m,this},d.prototype.implicit=function(m){var c=this._baseState;return b(c.explicit===null&&c.implicit===null),c.implicit=m,this},d.prototype.obj=function(){var m=this._baseState,c=Array.prototype.slice.call(arguments);return m.obj=!0,c.length!==0&&this._useArgs(c),this},d.prototype.key=function(m){var c=this._baseState;return b(c.key===null),c.key=m,this},d.prototype.any=function(){return this._baseState.any=!0,this},d.prototype.choice=function(m){var c=this._baseState;return b(c.choice===null),c.choice=m,this._useArgs(Object.keys(m).map(function(f){return m[f]})),this},d.prototype.contains=function(m){var c=this._baseState;return b(c.use===null),c.contains=m,this},d.prototype._decode=function(m,c){var f=this._baseState;if(f.parent===null)return m.wrapResult(f.children[0]._decode(m,c));var v,_=f.default,S=!0,E=null;if(f.key!==null&&(E=m.enterKey(f.key)),f.optional){var x=null;if(f.explicit!==null?x=f.explicit:f.implicit!==null?x=f.implicit:f.tag!==null&&(x=f.tag),x!==null||f.any){if(S=this._peekTag(m,x,f.any),m.isError(S))return S}else{var k=m.save();try{f.choice===null?this._decodeGeneric(f.tag,m,c):this._decodeChoice(m,c),S=!0}catch{S=!1}m.restore(k)}}if(f.obj&&S&&(v=m.enterObject()),S){if(f.explicit!==null){var T=this._decodeTag(m,f.explicit);if(m.isError(T))return T;m=T}var C=m.offset;if(f.use===null&&f.choice===null){f.any&&(k=m.save());var M=this._decodeTag(m,f.implicit!==null?f.implicit:f.tag,f.any);if(m.isError(M))return M;f.any?_=m.raw(k):m=M}if(c&&c.track&&f.tag!==null&&c.track(m.path(),C,m.length,"tagged"),c&&c.track&&f.tag!==null&&c.track(m.path(),m.offset,m.length,"content"),f.any||(_=f.choice===null?this._decodeGeneric(f.tag,m,c):this._decodeChoice(m,c)),m.isError(_))return _;if(f.any||f.choice!==null||f.children===null||f.children.forEach(function(L){L._decode(m,c)}),f.contains&&(f.tag==="octstr"||f.tag==="bitstr")){var N=new h(_);_=this._getUse(f.contains,m._reporterState.obj)._decode(N,c)}}return f.obj&&S&&(_=m.leaveObject(v)),f.key===null||_===null&&S!==!0?E!==null&&m.exitKey(E):m.leaveKey(E,f.key,_),_},d.prototype._decodeGeneric=function(m,c,f){var v=this._baseState;return m==="seq"||m==="set"?null:m==="seqof"||m==="setof"?this._decodeList(c,m,v.args[0],f):/str$/.test(m)?this._decodeStr(c,m,f):m==="objid"&&v.args?this._decodeObjid(c,v.args[0],v.args[1],f):m==="objid"?this._decodeObjid(c,null,null,f):m==="gentime"||m==="utctime"?this._decodeTime(c,m,f):m==="null_"?this._decodeNull(c,f):m==="bool"?this._decodeBool(c,f):m==="objDesc"?this._decodeStr(c,m,f):m==="int"||m==="enum"?this._decodeInt(c,v.args&&v.args[0],f):v.use!==null?this._getUse(v.use,c._reporterState.obj)._decode(c,f):c.error("unknown tag: "+m)},d.prototype._getUse=function(m,c){var f=this._baseState;return f.useDecoder=this._use(m,c),b(f.useDecoder._baseState.parent===null),f.useDecoder=f.useDecoder._baseState.children[0],f.implicit!==f.useDecoder._baseState.implicit&&(f.useDecoder=f.useDecoder.clone(),f.useDecoder._baseState.implicit=f.implicit),f.useDecoder},d.prototype._decodeChoice=function(m,c){var f=this._baseState,v=null,_=!1;return Object.keys(f.choice).some(function(S){var E=m.save(),x=f.choice[S];try{var k=x._decode(m,c);if(m.isError(k))return!1;v={type:S,value:k},_=!0}catch{return m.restore(E),!1}return!0},this),_?v:m.error("Choice not matched")},d.prototype._createEncoderBuffer=function(m){return new g(m,this.reporter)},d.prototype._encode=function(m,c,f){var v=this._baseState;if(v.default===null||v.default!==m){var _=this._encodeValue(m,c,f);if(_!==void 0&&!this._skipDefault(_,c,f))return _}},d.prototype._encodeValue=function(m,c,f){var v=this._baseState;if(v.parent===null)return v.children[0]._encode(m,c||new u);var _=null;if(this.reporter=c,v.optional&&m===void 0){if(v.default===null)return;m=v.default}var S=null,E=!1;if(v.any)_=this._createEncoderBuffer(m);else if(v.choice)_=this._encodeChoice(m,c);else if(v.contains)S=this._getUse(v.contains,f)._encode(m,c),E=!0;else if(v.children)S=v.children.map(function(C){if(C._baseState.tag==="null_")return C._encode(null,c,m);if(C._baseState.key===null)return c.error("Child should have a key");var M=c.enterKey(C._baseState.key);if(l(m)!=="object")return c.error("Child expected, but input is not object");var N=C._encode(m[C._baseState.key],c,m);return c.leaveKey(M),N},this).filter(function(C){return C}),S=this._createEncoderBuffer(S);else if(v.tag==="seqof"||v.tag==="setof"){if(!v.args||v.args.length!==1)return c.error("Too many args for : "+v.tag);if(!Array.isArray(m))return c.error("seqof/setof, but data is not Array");var x=this.clone();x._baseState.implicit=null,S=this._createEncoderBuffer(m.map(function(C){var M=this._baseState;return this._getUse(M.args[0],m)._encode(C,c)},x))}else v.use!==null?_=this._getUse(v.use,f)._encode(m,c):(S=this._encodePrimitive(v.tag,m),E=!0);if(!v.any&&v.choice===null){var k=v.implicit!==null?v.implicit:v.tag,T=v.implicit===null?"universal":"context";k===null?v.use===null&&c.error("Tag could be omitted only for .use()"):v.use===null&&(_=this._encodeComposite(k,E,T,S))}return v.explicit!==null&&(_=this._encodeComposite(v.explicit,!1,"context",_)),_},d.prototype._encodeChoice=function(m,c){var f=this._baseState,v=f.choice[m.type];return v||b(!1,m.type+" not found in "+JSON.stringify(Object.keys(f.choice))),v._encode(m.value,c)},d.prototype._encodePrimitive=function(m,c){var f=this._baseState;if(/str$/.test(m))return this._encodeStr(c,m);if(m==="objid"&&f.args)return this._encodeObjid(c,f.reverseArgs[0],f.args[1]);if(m==="objid")return this._encodeObjid(c,null,null);if(m==="gentime"||m==="utctime")return this._encodeTime(c,m);if(m==="null_")return this._encodeNull();if(m==="int"||m==="enum")return this._encodeInt(c,f.args&&f.reverseArgs[0]);if(m==="bool")return this._encodeBool(c);if(m==="objDesc")return this._encodeStr(c,m);throw new Error("Unsupported tag: "+m)},d.prototype._isNumstr=function(m){return/^[0-9 ]*$/.test(m)},d.prototype._isPrintstr=function(m){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(m)}},1269:(o,s,i)=>{var l=i(376);function u(h){this._reporterState={obj:null,path:[],options:h||{},errors:[]}}function g(h,b){this.path=h,this.rethrow(b)}s.b=u,u.prototype.isError=function(h){return h instanceof g},u.prototype.save=function(){var h=this._reporterState;return{obj:h.obj,pathLen:h.path.length}},u.prototype.restore=function(h){var b=this._reporterState;b.obj=h.obj,b.path=b.path.slice(0,h.pathLen)},u.prototype.enterKey=function(h){return this._reporterState.path.push(h)},u.prototype.exitKey=function(h){var b=this._reporterState;b.path=b.path.slice(0,h-1)},u.prototype.leaveKey=function(h,b,w){var p=this._reporterState;this.exitKey(h),p.obj!==null&&(p.obj[b]=w)},u.prototype.path=function(){return this._reporterState.path.join("/")},u.prototype.enterObject=function(){var h=this._reporterState,b=h.obj;return h.obj={},b},u.prototype.leaveObject=function(h){var b=this._reporterState,w=b.obj;return b.obj=h,w},u.prototype.error=function(h){var b,w=this._reporterState,p=h instanceof g;if(b=p?h:new g(w.path.map(function(d){return"["+JSON.stringify(d)+"]"}).join(""),h.message||h,h.stack),!w.options.partial)throw b;return p||w.errors.push(b),b},u.prototype.wrapResult=function(h){var b=this._reporterState;return b.options.partial?{result:this.isError(h)?null:h,errors:b.errors}:h},l(g,Error),g.prototype.rethrow=function(h){if(this.message=h+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,g),!this.stack)try{throw new Error(this.message)}catch(b){this.stack=b.stack}return this}},2007:(o,s,i)=>{var l=i(4319);s.tagClass={0:"universal",1:"application",2:"context",3:"private"},s.tagClassByName=l._reverse(s.tagClass),s.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},s.tagByName=l._reverse(s.tag)},4319:(o,s,i)=>{var l=s;l._reverse=function(u){var g={};return Object.keys(u).forEach(function(h){(0|h)==h&&(h|=0);var b=u[h];g[b]=h}),g},l.der=i(2007)},4201:(o,s,i)=>{var l=i(376),u=i(7406),g=u.base,h=u.bignum,b=u.constants.der;function w(m){this.enc="der",this.name=m.name,this.entity=m,this.tree=new p,this.tree._init(m.body)}function p(m){g.Node.call(this,"der",m)}function d(m,c){var f=m.readUInt8(c);if(m.isError(f))return f;var v=b.tagClass[f>>6],_=!(32&f);if(31&~f)f&=31;else{var S=f;for(f=0;!(128&~S);){if(S=m.readUInt8(c),m.isError(S))return S;f<<=7,f|=127&S}}return{cls:v,primitive:_,tag:f,tagStr:b.tag[f]}}function y(m,c,f){var v=m.readUInt8(f);if(m.isError(v))return v;if(!c&&v===128)return null;if(!(128&v))return v;var _=127&v;if(_>4)return m.error("length octect is too long");v=0;for(var S=0;S<_;S++){v<<=8;var E=m.readUInt8(f);if(m.isError(E))return E;v|=E}return v}o.exports=w,w.prototype.decode=function(m,c){return m instanceof g.DecoderBuffer||(m=new g.DecoderBuffer(m,c)),this.tree._decode(m,c)},l(p,g.Node),p.prototype._peekTag=function(m,c,f){if(m.isEmpty())return!1;var v=m.save(),_=d(m,'Failed to peek tag: "'+c+'"');return m.isError(_)?_:(m.restore(v),_.tag===c||_.tagStr===c||_.tagStr+"of"===c||f)},p.prototype._decodeTag=function(m,c,f){var v=d(m,'Failed to decode tag of "'+c+'"');if(m.isError(v))return v;var _=y(m,v.primitive,'Failed to get length of "'+c+'"');if(m.isError(_))return _;if(!f&&v.tag!==c&&v.tagStr!==c&&v.tagStr+"of"!==c)return m.error('Failed to match tag: "'+c+'"');if(v.primitive||_!==null)return m.skip(_,'Failed to match body of: "'+c+'"');var S=m.save(),E=this._skipUntilEnd(m,'Failed to skip indefinite length body: "'+this.tag+'"');return m.isError(E)?E:(_=m.offset-S.offset,m.restore(S),m.skip(_,'Failed to match body of: "'+c+'"'))},p.prototype._skipUntilEnd=function(m,c){for(;;){var f=d(m,c);if(m.isError(f))return f;var v,_=y(m,f.primitive,c);if(m.isError(_))return _;if(v=f.primitive||_!==null?m.skip(_):this._skipUntilEnd(m,c),m.isError(v))return v;if(f.tagStr==="end")break}},p.prototype._decodeList=function(m,c,f,v){for(var _=[];!m.isEmpty();){var S=this._peekTag(m,"end");if(m.isError(S))return S;var E=f.decode(m,"der",v);if(m.isError(E)&&S)break;_.push(E)}return _},p.prototype._decodeStr=function(m,c){if(c==="bitstr"){var f=m.readUInt8();return m.isError(f)?f:{unused:f,data:m.raw()}}if(c==="bmpstr"){var v=m.raw();if(v.length%2==1)return m.error("Decoding of string type: bmpstr length mismatch");for(var _="",S=0;S<v.length/2;S++)_+=String.fromCharCode(v.readUInt16BE(2*S));return _}if(c==="numstr"){var E=m.raw().toString("ascii");return this._isNumstr(E)?E:m.error("Decoding of string type: numstr unsupported characters")}if(c==="octstr"||c==="objDesc")return m.raw();if(c==="printstr"){var x=m.raw().toString("ascii");return this._isPrintstr(x)?x:m.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(c)?m.raw().toString():m.error("Decoding of string type: "+c+" unsupported")},p.prototype._decodeObjid=function(m,c,f){for(var v,_=[],S=0;!m.isEmpty();){var E=m.readUInt8();S<<=7,S|=127&E,128&E||(_.push(S),S=0)}128&E&&_.push(S);var x=_[0]/40|0,k=_[0]%40;if(v=f?_:[x,k].concat(_.slice(1)),c){var T=c[v.join(" ")];T===void 0&&(T=c[v.join(".")]),T!==void 0&&(v=T)}return v},p.prototype._decodeTime=function(m,c){var f=m.raw().toString();if(c==="gentime")var v=0|f.slice(0,4),_=0|f.slice(4,6),S=0|f.slice(6,8),E=0|f.slice(8,10),x=0|f.slice(10,12),k=0|f.slice(12,14);else{if(c!=="utctime")return m.error("Decoding "+c+" time is not supported yet");v=0|f.slice(0,2),_=0|f.slice(2,4),S=0|f.slice(4,6),E=0|f.slice(6,8),x=0|f.slice(8,10),k=0|f.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,_-1,S,E,x,k,0)},p.prototype._decodeNull=function(m){return null},p.prototype._decodeBool=function(m){var c=m.readUInt8();return m.isError(c)?c:c!==0},p.prototype._decodeInt=function(m,c){var f=m.raw(),v=new h(f);return c&&(v=c[v.toString(10)]||v),v},p.prototype._use=function(m,c){return typeof m=="function"&&(m=m(c)),m._getDecoder("der").tree}},4049:(o,s,i)=>{var l=s;l.der=i(4201),l.pem=i(618)},618:(o,s,i)=>{var l=i(376),u=i(365).Buffer,g=i(4201);function h(b){g.call(this,b),this.enc="pem"}l(h,g),o.exports=h,h.prototype.decode=function(b,w){for(var p=b.toString().split(/[\r\n]+/g),d=w.label.toUpperCase(),y=/^-----(BEGIN|END) ([^-]+)-----$/,m=-1,c=-1,f=0;f<p.length;f++){var v=p[f].match(y);if(v!==null&&v[2]===d){if(m!==-1){if(v[1]!=="END")break;c=f;break}if(v[1]!=="BEGIN")break;m=f}}if(m===-1||c===-1)throw new Error("PEM section not found for: "+d);var _=p.slice(m+1,c).join("");_.replace(/[^a-z0-9\+\/=]+/gi,"");var S=new u(_,"base64");return g.prototype.decode.call(this,S,w)}},1889:(o,s,i)=>{var l=i(376),u=i(365).Buffer,g=i(7406),h=g.base,b=g.constants.der;function w(y){this.enc="der",this.name=y.name,this.entity=y,this.tree=new p,this.tree._init(y.body)}function p(y){h.Node.call(this,"der",y)}function d(y){return y<10?"0"+y:y}o.exports=w,w.prototype.encode=function(y,m){return this.tree._encode(y,m).join()},l(p,h.Node),p.prototype._encodeComposite=function(y,m,c,f){var v,_=function(k,T,C,M){var N;if(k==="seqof"?k="seq":k==="setof"&&(k="set"),b.tagByName.hasOwnProperty(k))N=b.tagByName[k];else{if(typeof k!="number"||(0|k)!==k)return M.error("Unknown tag: "+k);N=k}return N>=31?M.error("Multi-octet tag encoding unsupported"):(T||(N|=32),N|=b.tagClassByName[C||"universal"]<<6)}(y,m,c,this.reporter);if(f.length<128)return(v=new u(2))[0]=_,v[1]=f.length,this._createEncoderBuffer([v,f]);for(var S=1,E=f.length;E>=256;E>>=8)S++;(v=new u(2+S))[0]=_,v[1]=128|S,E=1+S;for(var x=f.length;x>0;E--,x>>=8)v[E]=255&x;return this._createEncoderBuffer([v,f])},p.prototype._encodeStr=function(y,m){if(m==="bitstr")return this._createEncoderBuffer([0|y.unused,y.data]);if(m==="bmpstr"){for(var c=new u(2*y.length),f=0;f<y.length;f++)c.writeUInt16BE(y.charCodeAt(f),2*f);return this._createEncoderBuffer(c)}return m==="numstr"?this._isNumstr(y)?this._createEncoderBuffer(y):this.reporter.error("Encoding of string type: numstr supports only digits and space"):m==="printstr"?this._isPrintstr(y)?this._createEncoderBuffer(y):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(m)||m==="objDesc"?this._createEncoderBuffer(y):this.reporter.error("Encoding of string type: "+m+" unsupported")},p.prototype._encodeObjid=function(y,m,c){if(typeof y=="string"){if(!m)return this.reporter.error("string objid given, but no values map found");if(!m.hasOwnProperty(y))return this.reporter.error("objid not found in values map");y=m[y].split(/[\s\.]+/g);for(var f=0;f<y.length;f++)y[f]|=0}else if(Array.isArray(y))for(y=y.slice(),f=0;f<y.length;f++)y[f]|=0;if(!Array.isArray(y))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(y));if(!c){if(y[1]>=40)return this.reporter.error("Second objid identifier OOB");y.splice(0,2,40*y[0]+y[1])}var v=0;for(f=0;f<y.length;f++){var _=y[f];for(v++;_>=128;_>>=7)v++}var S=new u(v),E=S.length-1;for(f=y.length-1;f>=0;f--)for(_=y[f],S[E--]=127&_;(_>>=7)>0;)S[E--]=128|127&_;return this._createEncoderBuffer(S)},p.prototype._encodeTime=function(y,m){var c,f=new Date(y);return m==="gentime"?c=[d(f.getFullYear()),d(f.getUTCMonth()+1),d(f.getUTCDate()),d(f.getUTCHours()),d(f.getUTCMinutes()),d(f.getUTCSeconds()),"Z"].join(""):m==="utctime"?c=[d(f.getFullYear()%100),d(f.getUTCMonth()+1),d(f.getUTCDate()),d(f.getUTCHours()),d(f.getUTCMinutes()),d(f.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+m+" time is not supported yet"),this._encodeStr(c,"octstr")},p.prototype._encodeNull=function(){return this._createEncoderBuffer("")},p.prototype._encodeInt=function(y,m){if(typeof y=="string"){if(!m)return this.reporter.error("String int or enum given, but no values map");if(!m.hasOwnProperty(y))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(y));y=m[y]}if(typeof y!="number"&&!u.isBuffer(y)){var c=y.toArray();!y.sign&&128&c[0]&&c.unshift(0),y=new u(c)}if(u.isBuffer(y)){var f=y.length;y.length===0&&f++;var v=new u(f);return y.copy(v),y.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(y<128)return this._createEncoderBuffer(y);if(y<256)return this._createEncoderBuffer([0,y]);f=1;for(var _=y;_>=256;_>>=8)f++;for(_=(v=new Array(f)).length-1;_>=0;_--)v[_]=255&y,y>>=8;return 128&v[0]&&v.unshift(0),this._createEncoderBuffer(new u(v))},p.prototype._encodeBool=function(y){return this._createEncoderBuffer(y?255:0)},p.prototype._use=function(y,m){return typeof y=="function"&&(y=y(m)),y._getEncoder("der").tree},p.prototype._skipDefault=function(y,m,c){var f,v=this._baseState;if(v.default===null)return!1;var _=y.join();if(v.defaultBuffer===void 0&&(v.defaultBuffer=this._encodeValue(v.default,m,c).join()),_.length!==v.defaultBuffer.length)return!1;for(f=0;f<_.length;f++)if(_[f]!==v.defaultBuffer[f])return!1;return!0}},6860:(o,s,i)=>{var l=s;l.der=i(1889),l.pem=i(1610)},1610:(o,s,i)=>{var l=i(376),u=i(1889);function g(h){u.call(this,h),this.enc="pem"}l(g,u),o.exports=g,g.prototype.encode=function(h,b){for(var w=u.prototype.encode.call(this,h).toString("base64"),p=["-----BEGIN "+b.label+"-----"],d=0;d<w.length;d+=64)p.push(w.slice(d,d+64));return p.push("-----END "+b.label+"-----"),p.join(`
`)}},9373:(o,s,i)=>{function l($){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},l($)}function u($){return u=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(q){return l(q)}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":l(q)},u($)}var g,h,b=i(9978).codes,w=b.ERR_AMBIGUOUS_ARGUMENT,p=b.ERR_INVALID_ARG_TYPE,d=b.ERR_INVALID_ARG_VALUE,y=b.ERR_INVALID_RETURN_VALUE,m=b.ERR_MISSING_ARGS,c=i(1935),f=i(8751).inspect,v=i(8751).types,_=v.isPromise,S=v.isRegExp,E=Object.assign?Object.assign:i(8028).assign,x=Object.is?Object.is:i(4710);function k(){var $=i(9015);g=$.isDeepEqual,h=$.isDeepStrictEqual}var T=!1,C=o.exports=R,M={};function N($){throw $.message instanceof Error?$.message:new c($)}function L($,q,X,te){if(!X){var re=!1;if(q===0)re=!0,te="No value argument passed to `assert.ok()`";else if(te instanceof Error)throw te;var ie=new c({actual:X,expected:!0,message:te,operator:"==",stackStartFn:$});throw ie.generatedMessage=re,ie}}function R(){for(var $=arguments.length,q=new Array($),X=0;X<$;X++)q[X]=arguments[X];L.apply(void 0,[R,q.length].concat(q))}C.fail=function $(q,X,te,re,ie){var Z,ee=arguments.length;if(ee===0?Z="Failed":ee===1?(te=q,q=void 0):(T===!1&&(T=!0,({env:{}}.emitWarning?{env:{}}.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),ee===2&&(re="!=")),te instanceof Error)throw te;var de={actual:q,expected:X,operator:re===void 0?"fail":re,stackStartFn:ie||$};te!==void 0&&(de.message=te);var le=new c(de);throw Z&&(le.message=Z,le.generatedMessage=!0),le},C.AssertionError=c,C.ok=R,C.equal=function $(q,X,te){if(arguments.length<2)throw new m("actual","expected");q!=X&&N({actual:q,expected:X,message:te,operator:"==",stackStartFn:$})},C.notEqual=function $(q,X,te){if(arguments.length<2)throw new m("actual","expected");q==X&&N({actual:q,expected:X,message:te,operator:"!=",stackStartFn:$})},C.deepEqual=function $(q,X,te){if(arguments.length<2)throw new m("actual","expected");g===void 0&&k(),g(q,X)||N({actual:q,expected:X,message:te,operator:"deepEqual",stackStartFn:$})},C.notDeepEqual=function $(q,X,te){if(arguments.length<2)throw new m("actual","expected");g===void 0&&k(),g(q,X)&&N({actual:q,expected:X,message:te,operator:"notDeepEqual",stackStartFn:$})},C.deepStrictEqual=function $(q,X,te){if(arguments.length<2)throw new m("actual","expected");g===void 0&&k(),h(q,X)||N({actual:q,expected:X,message:te,operator:"deepStrictEqual",stackStartFn:$})},C.notDeepStrictEqual=function $(q,X,te){if(arguments.length<2)throw new m("actual","expected");g===void 0&&k(),h(q,X)&&N({actual:q,expected:X,message:te,operator:"notDeepStrictEqual",stackStartFn:$})},C.strictEqual=function $(q,X,te){if(arguments.length<2)throw new m("actual","expected");x(q,X)||N({actual:q,expected:X,message:te,operator:"strictEqual",stackStartFn:$})},C.notStrictEqual=function $(q,X,te){if(arguments.length<2)throw new m("actual","expected");x(q,X)&&N({actual:q,expected:X,message:te,operator:"notStrictEqual",stackStartFn:$})};var D=function $(q,X,te){var re=this;(function(ie,Z){if(!(ie instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,$),X.forEach(function(ie){ie in q&&(te!==void 0&&typeof te[ie]=="string"&&S(q[ie])&&q[ie].test(te[ie])?re[ie]=te[ie]:re[ie]=q[ie])})};function z($,q,X,te){if(typeof q!="function"){if(S(q))return q.test($);if(arguments.length===2)throw new p("expected",["Function","RegExp"],q);if(u($)!=="object"||$===null){var re=new c({actual:$,expected:q,message:X,operator:"deepStrictEqual",stackStartFn:te});throw re.operator=te.name,re}var ie=Object.keys(q);if(q instanceof Error)ie.push("name","message");else if(ie.length===0)throw new d("error",q,"may not be an empty object");return g===void 0&&k(),ie.forEach(function(Z){typeof $[Z]=="string"&&S(q[Z])&&q[Z].test($[Z])||function(ee,de,le,V,G,K){if(!(le in ee)||!h(ee[le],de[le])){if(!V){var ne=new D(ee,G),W=new D(de,G,ee),H=new c({actual:ne,expected:W,operator:"deepStrictEqual",stackStartFn:K});throw H.actual=ee,H.expected=de,H.operator=K.name,H}N({actual:ee,expected:de,message:V,operator:K.name,stackStartFn:K})}}($,q,Z,X,ie,te)}),!0}return q.prototype!==void 0&&$ instanceof q||!Error.isPrototypeOf(q)&&q.call({},$)===!0}function U($){if(typeof $!="function")throw new p("fn","Function",$);try{$()}catch(q){return q}return M}function O($){return _($)||$!==null&&u($)==="object"&&typeof $.then=="function"&&typeof $.catch=="function"}function I($){return Promise.resolve().then(function(){var q;if(typeof $=="function"){if(!O(q=$()))throw new y("instance of Promise","promiseFn",q)}else{if(!O($))throw new p("promiseFn",["Function","Promise"],$);q=$}return Promise.resolve().then(function(){return q}).then(function(){return M}).catch(function(X){return X})})}function j($,q,X,te){if(typeof X=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],X);if(u(q)==="object"&&q!==null){if(q.message===X)throw new w("error/message",'The error message "'.concat(q.message,'" is identical to the message.'))}else if(q===X)throw new w("error/message",'The error "'.concat(q,'" is identical to the message.'));te=X,X=void 0}else if(X!=null&&u(X)!=="object"&&typeof X!="function")throw new p("error",["Object","Error","Function","RegExp"],X);if(q===M){var re="";X&&X.name&&(re+=" (".concat(X.name,")")),re+=te?": ".concat(te):".";var ie=$.name==="rejects"?"rejection":"exception";N({actual:void 0,expected:X,operator:$.name,message:"Missing expected ".concat(ie).concat(re),stackStartFn:$})}if(X&&!z(q,X,te,$))throw q}function P($,q,X,te){if(q!==M){if(typeof X=="string"&&(te=X,X=void 0),!X||z(q,X)){var re=te?": ".concat(te):".",ie=$.name==="doesNotReject"?"rejection":"exception";N({actual:q,expected:X,operator:$.name,message:"Got unwanted ".concat(ie).concat(re,`
`)+'Actual message: "'.concat(q&&q.message,'"'),stackStartFn:$})}throw q}}function A(){for(var $=arguments.length,q=new Array($),X=0;X<$;X++)q[X]=arguments[X];L.apply(void 0,[A,q.length].concat(q))}C.throws=function $(q){for(var X=arguments.length,te=new Array(X>1?X-1:0),re=1;re<X;re++)te[re-1]=arguments[re];j.apply(void 0,[$,U(q)].concat(te))},C.rejects=function $(q){for(var X=arguments.length,te=new Array(X>1?X-1:0),re=1;re<X;re++)te[re-1]=arguments[re];return I(q).then(function(ie){return j.apply(void 0,[$,ie].concat(te))})},C.doesNotThrow=function $(q){for(var X=arguments.length,te=new Array(X>1?X-1:0),re=1;re<X;re++)te[re-1]=arguments[re];P.apply(void 0,[$,U(q)].concat(te))},C.doesNotReject=function $(q){for(var X=arguments.length,te=new Array(X>1?X-1:0),re=1;re<X;re++)te[re-1]=arguments[re];return I(q).then(function(ie){return P.apply(void 0,[$,ie].concat(te))})},C.ifError=function $(q){if(q!=null){var X="ifError got unwanted exception: ";u(q)==="object"&&typeof q.message=="string"?q.message.length===0&&q.constructor?X+=q.constructor.name:X+=q.message:X+=f(q);var te=new c({actual:q,expected:null,operator:"ifError",message:X,stackStartFn:$}),re=q.stack;if(typeof re=="string"){var ie=re.split(`
`);ie.shift();for(var Z=te.stack.split(`
`),ee=0;ee<ie.length;ee++){var de=Z.indexOf(ie[ee]);if(de!==-1){Z=Z.slice(0,de);break}}te.stack="".concat(Z.join(`
`),`
`).concat(ie.join(`
`))}throw te}},C.strict=E(A,C,{equal:C.strictEqual,deepEqual:C.deepStrictEqual,notEqual:C.notStrictEqual,notDeepEqual:C.notDeepStrictEqual}),C.strict.strict=C.strict},1935:(o,s,i)=>{function l(N){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},l(N)}function u(N,L,R){return L in N?Object.defineProperty(N,L,{value:R,enumerable:!0,configurable:!0,writable:!0}):N[L]=R,N}function g(N,L){for(var R=0;R<L.length;R++){var D=L[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}}function h(N,L){return!L||m(L)!=="object"&&typeof L!="function"?b(N):L}function b(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function w(N){var L=typeof Map=="function"?new Map:void 0;return w=function(R){if(R===null||(D=R,Function.toString.call(D).indexOf("[native code]")===-1))return R;var D;if(typeof R!="function")throw new TypeError("Super expression must either be null or a function");if(L!==void 0){if(L.has(R))return L.get(R);L.set(R,z)}function z(){return p(R,arguments,y(this).constructor)}return z.prototype=Object.create(R.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),d(z,R)},w(N)}function p(N,L,R){return p=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(D,z,U){var O=[null];O.push.apply(O,z);var I=new(Function.bind.apply(D,O));return U&&d(I,U.prototype),I},p.apply(null,arguments)}function d(N,L){return d=Object.setPrototypeOf||function(R,D){return R.__proto__=D,R},d(N,L)}function y(N){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)},y(N)}function m(N){return m=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(L){return l(L)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":l(L)},m(N)}var c=i(8751).inspect,f=i(9978).codes.ERR_INVALID_ARG_TYPE;function v(N,L,R){return(R===void 0||R>N.length)&&(R=N.length),N.substring(R-L.length,R)===L}var _="",S="",E="",x="",k={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function T(N){var L=Object.keys(N),R=Object.create(Object.getPrototypeOf(N));return L.forEach(function(D){R[D]=N[D]}),Object.defineProperty(R,"message",{value:N.message}),R}function C(N){return c(N,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var M=function(N){function L(z){var U;if(function(Z,ee){if(!(Z instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,L),m(z)!=="object"||z===null)throw new f("options","Object",z);var O=z.message,I=z.operator,j=z.stackStartFn,P=z.actual,A=z.expected,$=Error.stackTraceLimit;if(Error.stackTraceLimit=0,O!=null)U=h(this,y(L).call(this,String(O)));else if({env:{}}.stderr&&{env:{}}.stderr.isTTY&&({env:{}}.stderr&&{env:{}}.stderr.getColorDepth&&{env:{}}.stderr.getColorDepth()!==1?(_="\x1B[34m",S="\x1B[32m",x="\x1B[39m",E="\x1B[31m"):(_="",S="",x="",E="")),m(P)==="object"&&P!==null&&m(A)==="object"&&A!==null&&"stack"in P&&P instanceof Error&&"stack"in A&&A instanceof Error&&(P=T(P),A=T(A)),I==="deepStrictEqual"||I==="strictEqual")U=h(this,y(L).call(this,function(Z,ee,de){var le="",V="",G=0,K="",ne=!1,W=C(Z),H=W.split(`
`),se=C(ee).split(`
`),ce=0,ue="";if(de==="strictEqual"&&m(Z)==="object"&&m(ee)==="object"&&Z!==null&&ee!==null&&(de="strictEqualObject"),H.length===1&&se.length===1&&H[0]!==se[0]){var be=H[0].length+se[0].length;if(be<=10){if(!(m(Z)==="object"&&Z!==null||m(ee)==="object"&&ee!==null||Z===0&&ee===0))return"".concat(k[de],`

`)+"".concat(H[0]," !== ").concat(se[0],`
`)}else if(de!=="strictEqualObject"&&be<({env:{}}.stderr&&{env:{}}.stderr.isTTY?{env:{}}.stderr.columns:80)){for(;H[0][ce]===se[0][ce];)ce++;ce>2&&(ue=`
  `.concat(function(ht,ge){if(ge=Math.floor(ge),ht.length==0||ge==0)return"";var At=ht.length*ge;for(ge=Math.floor(Math.log(ge)/Math.log(2));ge;)ht+=ht,ge--;return ht+ht.substring(0,At-ht.length)}(" ",ce),"^"),ce=0)}}for(var Se=H[H.length-1],Ae=se[se.length-1];Se===Ae&&(ce++<2?K=`
  `.concat(Se).concat(K):le=Se,H.pop(),se.pop(),H.length!==0&&se.length!==0);)Se=H[H.length-1],Ae=se[se.length-1];var we=Math.max(H.length,se.length);if(we===0){var Ue=W.split(`
`);if(Ue.length>30)for(Ue[26]="".concat(_,"...").concat(x);Ue.length>27;)Ue.pop();return"".concat(k.notIdentical,`

`).concat(Ue.join(`
`),`
`)}ce>3&&(K=`
`.concat(_,"...").concat(x).concat(K),ne=!0),le!==""&&(K=`
  `.concat(le).concat(K),le="");var $e=0,Ce=k[de]+`
`.concat(S,"+ actual").concat(x," ").concat(E,"- expected").concat(x),nt=" ".concat(_,"...").concat(x," Lines skipped");for(ce=0;ce<we;ce++){var Fe=ce-G;if(H.length<ce+1)Fe>1&&ce>2&&(Fe>4?(V+=`
`.concat(_,"...").concat(x),ne=!0):Fe>3&&(V+=`
  `.concat(se[ce-2]),$e++),V+=`
  `.concat(se[ce-1]),$e++),G=ce,le+=`
`.concat(E,"-").concat(x," ").concat(se[ce]),$e++;else if(se.length<ce+1)Fe>1&&ce>2&&(Fe>4?(V+=`
`.concat(_,"...").concat(x),ne=!0):Fe>3&&(V+=`
  `.concat(H[ce-2]),$e++),V+=`
  `.concat(H[ce-1]),$e++),G=ce,V+=`
`.concat(S,"+").concat(x," ").concat(H[ce]),$e++;else{var ut=se[ce],_e=H[ce],wt=_e!==ut&&(!v(_e,",")||_e.slice(0,-1)!==ut);wt&&v(ut,",")&&ut.slice(0,-1)===_e&&(wt=!1,_e+=","),wt?(Fe>1&&ce>2&&(Fe>4?(V+=`
`.concat(_,"...").concat(x),ne=!0):Fe>3&&(V+=`
  `.concat(H[ce-2]),$e++),V+=`
  `.concat(H[ce-1]),$e++),G=ce,V+=`
`.concat(S,"+").concat(x," ").concat(_e),le+=`
`.concat(E,"-").concat(x," ").concat(ut),$e+=2):(V+=le,le="",Fe!==1&&ce!==0||(V+=`
  `.concat(_e),$e++))}if($e>20&&ce<we-2)return"".concat(Ce).concat(nt,`
`).concat(V,`
`).concat(_,"...").concat(x).concat(le,`
`)+"".concat(_,"...").concat(x)}return"".concat(Ce).concat(ne?nt:"",`
`).concat(V).concat(le).concat(K).concat(ue)}(P,A,I)));else if(I==="notDeepStrictEqual"||I==="notStrictEqual"){var q=k[I],X=C(P).split(`
`);if(I==="notStrictEqual"&&m(P)==="object"&&P!==null&&(q=k.notStrictEqualObject),X.length>30)for(X[26]="".concat(_,"...").concat(x);X.length>27;)X.pop();U=X.length===1?h(this,y(L).call(this,"".concat(q," ").concat(X[0]))):h(this,y(L).call(this,"".concat(q,`

`).concat(X.join(`
`),`
`)))}else{var te=C(P),re="",ie=k[I];I==="notDeepEqual"||I==="notEqual"?(te="".concat(k[I],`

`).concat(te)).length>1024&&(te="".concat(te.slice(0,1021),"...")):(re="".concat(C(A)),te.length>512&&(te="".concat(te.slice(0,509),"...")),re.length>512&&(re="".concat(re.slice(0,509),"...")),I==="deepEqual"||I==="equal"?te="".concat(ie,`

`).concat(te,`

should equal

`):re=" ".concat(I," ").concat(re)),U=h(this,y(L).call(this,"".concat(te).concat(re)))}return Error.stackTraceLimit=$,U.generatedMessage=!O,Object.defineProperty(b(U),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),U.code="ERR_ASSERTION",U.actual=P,U.expected=A,U.operator=I,Error.captureStackTrace&&Error.captureStackTrace(b(U),j),U.stack,U.name="AssertionError",h(U)}var R,D;return function(z,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(U&&U.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),U&&d(z,U)}(L,N),R=L,D=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:c.custom,value:function(z,U){return c(this,function(O){for(var I=1;I<arguments.length;I++){var j=arguments[I]!=null?arguments[I]:{},P=Object.keys(j);typeof Object.getOwnPropertySymbols=="function"&&(P=P.concat(Object.getOwnPropertySymbols(j).filter(function(A){return Object.getOwnPropertyDescriptor(j,A).enumerable}))),P.forEach(function(A){u(O,A,j[A])})}return O}({},U,{customInspect:!1,depth:0}))}}],D&&g(R.prototype,D),L}(w(Error));o.exports=M},9978:(o,s,i)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},l(m)}function u(m){return u=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(c){return l(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":l(c)},u(m)}function g(m){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},g(m)}function h(m,c){return h=Object.setPrototypeOf||function(f,v){return f.__proto__=v,f},h(m,c)}var b,w,p={};function d(m,c,f){f||(f=Error);var v=function(_){function S(E,x,k){var T;return function(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}(this,S),T=function(C,M){return!M||u(M)!=="object"&&typeof M!="function"?function(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}(C):M}(this,g(S).call(this,function(C,M,N){return typeof c=="string"?c:c(C,M,N)}(E,x,k))),T.code=m,T}return function(E,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(x&&x.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),x&&h(E,x)}(S,_),S}(f);p[m]=v}function y(m,c){if(Array.isArray(m)){var f=m.length;return m=m.map(function(v){return String(v)}),f>2?"one of ".concat(c," ").concat(m.slice(0,f-1).join(", "),", or ")+m[f-1]:f===2?"one of ".concat(c," ").concat(m[0]," or ").concat(m[1]):"of ".concat(c," ").concat(m[0])}return"of ".concat(c," ").concat(String(m))}d("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),d("ERR_INVALID_ARG_TYPE",function(m,c,f){var v,_,S,E,x;if(b===void 0&&(b=i(9373)),b(typeof m=="string","'name' must be a string"),typeof c=="string"&&(_="not ",c.substr(0,4)===_)?(v="must not be",c=c.replace(/^not /,"")):v="must be",function(T,C,M){return(M===void 0||M>T.length)&&(M=T.length),T.substring(M-9,M)===C}(m," argument"))S="The ".concat(m," ").concat(v," ").concat(y(c,"type"));else{var k=(typeof x!="number"&&(x=0),x+1>(E=m).length||E.indexOf(".",x)===-1?"argument":"property");S='The "'.concat(m,'" ').concat(k," ").concat(v," ").concat(y(c,"type"))}return S+". Received type ".concat(u(f))},TypeError),d("ERR_INVALID_ARG_VALUE",function(m,c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";w===void 0&&(w=i(8751));var v=w.inspect(c);return v.length>128&&(v="".concat(v.slice(0,128),"...")),"The argument '".concat(m,"' ").concat(f,". Received ").concat(v)},TypeError),d("ERR_INVALID_RETURN_VALUE",function(m,c,f){var v;return v=f&&f.constructor&&f.constructor.name?"instance of ".concat(f.constructor.name):"type ".concat(u(f)),"Expected ".concat(m,' to be returned from the "').concat(c,'"')+" function but got ".concat(v,".")},TypeError),d("ERR_MISSING_ARGS",function(){for(var m=arguments.length,c=new Array(m),f=0;f<m;f++)c[f]=arguments[f];b===void 0&&(b=i(9373)),b(c.length>0,"At least one arg needs to be specified");var v="The ",_=c.length;switch(c=c.map(function(S){return'"'.concat(S,'"')}),_){case 1:v+="".concat(c[0]," argument");break;case 2:v+="".concat(c[0]," and ").concat(c[1]," arguments");break;default:v+=c.slice(0,_-1).join(", "),v+=", and ".concat(c[_-1]," arguments")}return"".concat(v," must be specified")},TypeError),o.exports.codes=p},9015:(o,s,i)=>{function l(K){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},l(K)}function u(K,ne){return function(W){if(Array.isArray(W))return W}(K)||function(W,H){var se=[],ce=!0,ue=!1,be=void 0;try{for(var Se,Ae=W[Symbol.iterator]();!(ce=(Se=Ae.next()).done)&&(se.push(Se.value),!H||se.length!==H);ce=!0);}catch(we){ue=!0,be=we}finally{try{ce||Ae.return==null||Ae.return()}finally{if(ue)throw be}}return se}(K,ne)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(K){return g=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(ne){return l(ne)}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":l(ne)},g(K)}var h=/a/g.flags!==void 0,b=function(K){var ne=[];return K.forEach(function(W){return ne.push(W)}),ne},w=function(K){var ne=[];return K.forEach(function(W,H){return ne.push([H,W])}),ne},p=Object.is?Object.is:i(4710),d=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},y=Number.isNaN?Number.isNaN:i(2191);function m(K){return K.call.bind(K)}var c=m(Object.prototype.hasOwnProperty),f=m(Object.prototype.propertyIsEnumerable),v=m(Object.prototype.toString),_=i(8751).types,S=_.isAnyArrayBuffer,E=_.isArrayBufferView,x=_.isDate,k=_.isMap,T=_.isRegExp,C=_.isSet,M=_.isNativeError,N=_.isBoxedPrimitive,L=_.isNumberObject,R=_.isStringObject,D=_.isBooleanObject,z=_.isBigIntObject,U=_.isSymbolObject,O=_.isFloat32Array,I=_.isFloat64Array;function j(K){if(K.length===0||K.length>10)return!0;for(var ne=0;ne<K.length;ne++){var W=K.charCodeAt(ne);if(W<48||W>57)return!0}return K.length===10&&K>=Math.pow(2,32)}function P(K){return Object.keys(K).filter(j).concat(d(K).filter(Object.prototype.propertyIsEnumerable.bind(K)))}function A(K,ne){if(K===ne)return 0;for(var W=K.length,H=ne.length,se=0,ce=Math.min(W,H);se<ce;++se)if(K[se]!==ne[se]){W=K[se],H=ne[se];break}return W<H?-1:H<W?1:0}var $=0,q=1,X=2,te=3;function re(K,ne,W,H){if(K===ne)return K!==0||!W||p(K,ne);if(W){if(g(K)!=="object")return typeof K=="number"&&y(K)&&y(ne);if(g(ne)!=="object"||K===null||ne===null||Object.getPrototypeOf(K)!==Object.getPrototypeOf(ne))return!1}else{if(K===null||g(K)!=="object")return(ne===null||g(ne)!=="object")&&K==ne;if(ne===null||g(ne)!=="object")return!1}var se,ce,ue,be,Se=v(K);if(Se!==v(ne))return!1;if(Array.isArray(K)){if(K.length!==ne.length)return!1;var Ae=P(K),we=P(ne);return Ae.length===we.length&&Z(K,ne,W,H,q,Ae)}if(Se==="[object Object]"&&(!k(K)&&k(ne)||!C(K)&&C(ne)))return!1;if(x(K)){if(!x(ne)||Date.prototype.getTime.call(K)!==Date.prototype.getTime.call(ne))return!1}else if(T(K)){if(!T(ne)||(ue=K,be=ne,!(h?ue.source===be.source&&ue.flags===be.flags:RegExp.prototype.toString.call(ue)===RegExp.prototype.toString.call(be))))return!1}else if(M(K)||K instanceof Error){if(K.message!==ne.message||K.name!==ne.name)return!1}else{if(E(K)){if(W||!O(K)&&!I(K)){if(!function(Ce,nt){return Ce.byteLength===nt.byteLength&&A(new Uint8Array(Ce.buffer,Ce.byteOffset,Ce.byteLength),new Uint8Array(nt.buffer,nt.byteOffset,nt.byteLength))===0}(K,ne))return!1}else if(!function(Ce,nt){if(Ce.byteLength!==nt.byteLength)return!1;for(var Fe=0;Fe<Ce.byteLength;Fe++)if(Ce[Fe]!==nt[Fe])return!1;return!0}(K,ne))return!1;var Ue=P(K),$e=P(ne);return Ue.length===$e.length&&Z(K,ne,W,H,$,Ue)}if(C(K))return!(!C(ne)||K.size!==ne.size)&&Z(K,ne,W,H,X);if(k(K))return!(!k(ne)||K.size!==ne.size)&&Z(K,ne,W,H,te);if(S(K)){if(ce=ne,(se=K).byteLength!==ce.byteLength||A(new Uint8Array(se),new Uint8Array(ce))!==0)return!1}else if(N(K)&&!function(Ce,nt){return L(Ce)?L(nt)&&p(Number.prototype.valueOf.call(Ce),Number.prototype.valueOf.call(nt)):R(Ce)?R(nt)&&String.prototype.valueOf.call(Ce)===String.prototype.valueOf.call(nt):D(Ce)?D(nt)&&Boolean.prototype.valueOf.call(Ce)===Boolean.prototype.valueOf.call(nt):z(Ce)?z(nt)&&BigInt.prototype.valueOf.call(Ce)===BigInt.prototype.valueOf.call(nt):U(nt)&&Symbol.prototype.valueOf.call(Ce)===Symbol.prototype.valueOf.call(nt)}(K,ne))return!1}return Z(K,ne,W,H,$)}function ie(K,ne){return ne.filter(function(W){return f(K,W)})}function Z(K,ne,W,H,se,ce){if(arguments.length===5){ce=Object.keys(K);var ue=Object.keys(ne);if(ce.length!==ue.length)return!1}for(var be=0;be<ce.length;be++)if(!c(ne,ce[be]))return!1;if(W&&arguments.length===5){var Se=d(K);if(Se.length!==0){var Ae=0;for(be=0;be<Se.length;be++){var we=Se[be];if(f(K,we)){if(!f(ne,we))return!1;ce.push(we),Ae++}else if(f(ne,we))return!1}var Ue=d(ne);if(Se.length!==Ue.length&&ie(ne,Ue).length!==Ae)return!1}else{var $e=d(ne);if($e.length!==0&&ie(ne,$e).length!==0)return!1}}if(ce.length===0&&(se===$||se===q&&K.length===0||K.size===0))return!0;if(H===void 0)H={val1:new Map,val2:new Map,position:0};else{var Ce=H.val1.get(K);if(Ce!==void 0){var nt=H.val2.get(ne);if(nt!==void 0)return Ce===nt}H.position++}H.val1.set(K,H.position),H.val2.set(ne,H.position);var Fe=function(ut,_e,wt,ht,ge,At){var vt=0;if(At===X){if(!function(Y,ae,fe,me){for(var pe=null,ve=b(Y),xe=0;xe<ve.length;xe++){var ye=ve[xe];if(g(ye)==="object"&&ye!==null)pe===null&&(pe=new Set),pe.add(ye);else if(!ae.has(ye)){if(fe||!le(Y,ae,ye))return!1;pe===null&&(pe=new Set),pe.add(ye)}}if(pe!==null){for(var ke=b(ae),je=0;je<ke.length;je++){var Pe=ke[je];if(g(Pe)==="object"&&Pe!==null){if(!ee(pe,Pe,fe,me))return!1}else if(!fe&&!Y.has(Pe)&&!ee(pe,Pe,fe,me))return!1}return pe.size===0}return!0}(ut,_e,wt,ge))return!1}else if(At===te){if(!function(Y,ae,fe,me){for(var pe=null,ve=w(Y),xe=0;xe<ve.length;xe++){var ye=u(ve[xe],2),ke=ye[0],je=ye[1];if(g(ke)==="object"&&ke!==null)pe===null&&(pe=new Set),pe.add(ke);else{var Pe=ae.get(ke);if(Pe===void 0&&!ae.has(ke)||!re(je,Pe,fe,me)){if(fe||!V(Y,ae,ke,je,me))return!1;pe===null&&(pe=new Set),pe.add(ke)}}}if(pe!==null){for(var De=w(ae),Re=0;Re<De.length;Re++){var Be=u(De[Re],2),Le=(ke=Be[0],Be[1]);if(g(ke)==="object"&&ke!==null){if(!G(pe,Y,ke,Le,fe,me))return!1}else if(!(fe||Y.has(ke)&&re(Y.get(ke),Le,!1,me)||G(pe,Y,ke,Le,!1,me)))return!1}return pe.size===0}return!0}(ut,_e,wt,ge))return!1}else if(At===q)for(;vt<ut.length;vt++){if(!c(ut,vt)){if(c(_e,vt))return!1;for(var In=Object.keys(ut);vt<In.length;vt++){var Mt=In[vt];if(!c(_e,Mt)||!re(ut[Mt],_e[Mt],wt,ge))return!1}return In.length===Object.keys(_e).length}if(!c(_e,vt)||!re(ut[vt],_e[vt],wt,ge))return!1}for(vt=0;vt<ht.length;vt++){var Nt=ht[vt];if(!re(ut[Nt],_e[Nt],wt,ge))return!1}return!0}(K,ne,W,ce,H,se);return H.val1.delete(K),H.val2.delete(ne),Fe}function ee(K,ne,W,H){for(var se=b(K),ce=0;ce<se.length;ce++){var ue=se[ce];if(re(ne,ue,W,H))return K.delete(ue),!0}return!1}function de(K){switch(g(K)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":K=+K;case"number":if(y(K))return!1}return!0}function le(K,ne,W){var H=de(W);return H??(ne.has(H)&&!K.has(H))}function V(K,ne,W,H,se){var ce=de(W);if(ce!=null)return ce;var ue=ne.get(ce);return!(ue===void 0&&!ne.has(ce)||!re(H,ue,!1,se))&&!K.has(ce)&&re(H,ue,!1,se)}function G(K,ne,W,H,se,ce){for(var ue=b(K),be=0;be<ue.length;be++){var Se=ue[be];if(re(W,Se,se,ce)&&re(H,ne.get(Se),se,ce))return K.delete(Se),!0}return!1}o.exports={isDeepEqual:function(K,ne){return re(K,ne,!1)},isDeepStrictEqual:function(K,ne){return re(K,ne,!0)}}},7943:(o,s)=>{s.byteLength=function(p){var d=b(p),y=d[0],m=d[1];return 3*(y+m)/4-m},s.toByteArray=function(p){var d,y,m=b(p),c=m[0],f=m[1],v=new u(function(E,x,k){return 3*(x+k)/4-k}(0,c,f)),_=0,S=f>0?c-4:c;for(y=0;y<S;y+=4)d=l[p.charCodeAt(y)]<<18|l[p.charCodeAt(y+1)]<<12|l[p.charCodeAt(y+2)]<<6|l[p.charCodeAt(y+3)],v[_++]=d>>16&255,v[_++]=d>>8&255,v[_++]=255&d;return f===2&&(d=l[p.charCodeAt(y)]<<2|l[p.charCodeAt(y+1)]>>4,v[_++]=255&d),f===1&&(d=l[p.charCodeAt(y)]<<10|l[p.charCodeAt(y+1)]<<4|l[p.charCodeAt(y+2)]>>2,v[_++]=d>>8&255,v[_++]=255&d),v},s.fromByteArray=function(p){for(var d,y=p.length,m=y%3,c=[],f=16383,v=0,_=y-m;v<_;v+=f)c.push(w(p,v,v+f>_?_:v+f));return m===1?(d=p[y-1],c.push(i[d>>2]+i[d<<4&63]+"==")):m===2&&(d=(p[y-2]<<8)+p[y-1],c.push(i[d>>10]+i[d>>4&63]+i[d<<2&63]+"=")),c.join("")};for(var i=[],l=[],u=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0;h<64;++h)i[h]=g[h],l[g.charCodeAt(h)]=h;function b(p){var d=p.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=p.indexOf("=");return y===-1&&(y=d),[y,y===d?0:4-y%4]}function w(p,d,y){for(var m,c,f=[],v=d;v<y;v+=3)m=(p[v]<<16&16711680)+(p[v+1]<<8&65280)+(255&p[v+2]),f.push(i[(c=m)>>18&63]+i[c>>12&63]+i[c>>6&63]+i[63&c]);return f.join("")}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},815:function(o,s,i){function l(u){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},l(u)}(function(u,g){function h(O,I){if(!O)throw new Error(I||"Assertion failed")}function b(O,I){O.super_=I;var j=function(){};j.prototype=I.prototype,O.prototype=new j,O.prototype.constructor=O}function w(O,I,j){if(w.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&(I!=="le"&&I!=="be"||(j=I,I=10),this._init(O||0,I||10,j||"be"))}var p;l(u)==="object"?u.exports=w:g.BN=w,w.BN=w,w.wordSize=26;try{p=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:i(6601).Buffer}catch{}function d(O,I){var j=O.charCodeAt(I);return j>=48&&j<=57?j-48:j>=65&&j<=70?j-55:j>=97&&j<=102?j-87:void h(!1,"Invalid character in "+O)}function y(O,I,j){var P=d(O,j);return j-1>=I&&(P|=d(O,j-1)<<4),P}function m(O,I,j,P){for(var A=0,$=0,q=Math.min(O.length,j),X=I;X<q;X++){var te=O.charCodeAt(X)-48;A*=P,$=te>=49?te-49+10:te>=17?te-17+10:te,h(te>=0&&$<P,"Invalid character"),A+=$}return A}function c(O,I){O.words=I.words,O.length=I.length,O.negative=I.negative,O.red=I.red}if(w.isBN=function(O){return O instanceof w||O!==null&&l(O)==="object"&&O.constructor.wordSize===w.wordSize&&Array.isArray(O.words)},w.max=function(O,I){return O.cmp(I)>0?O:I},w.min=function(O,I){return O.cmp(I)<0?O:I},w.prototype._init=function(O,I,j){if(typeof O=="number")return this._initNumber(O,I,j);if(l(O)==="object")return this._initArray(O,I,j);I==="hex"&&(I=16),h(I===(0|I)&&I>=2&&I<=36);var P=0;(O=O.toString().replace(/\s+/g,""))[0]==="-"&&(P++,this.negative=1),P<O.length&&(I===16?this._parseHex(O,P,j):(this._parseBase(O,I,P),j==="le"&&this._initArray(this.toArray(),I,j)))},w.prototype._initNumber=function(O,I,j){O<0&&(this.negative=1,O=-O),O<67108864?(this.words=[67108863&O],this.length=1):O<4503599627370496?(this.words=[67108863&O,O/67108864&67108863],this.length=2):(h(O<9007199254740992),this.words=[67108863&O,O/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),I,j)},w.prototype._initArray=function(O,I,j){if(h(typeof O.length=="number"),O.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(O.length/3),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var A,$,q=0;if(j==="be")for(P=O.length-1,A=0;P>=0;P-=3)$=O[P]|O[P-1]<<8|O[P-2]<<16,this.words[A]|=$<<q&67108863,this.words[A+1]=$>>>26-q&67108863,(q+=24)>=26&&(q-=26,A++);else if(j==="le")for(P=0,A=0;P<O.length;P+=3)$=O[P]|O[P+1]<<8|O[P+2]<<16,this.words[A]|=$<<q&67108863,this.words[A+1]=$>>>26-q&67108863,(q+=24)>=26&&(q-=26,A++);return this._strip()},w.prototype._parseHex=function(O,I,j){this.length=Math.ceil((O.length-I)/6),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var A,$=0,q=0;if(j==="be")for(P=O.length-1;P>=I;P-=2)A=y(O,I,P)<<$,this.words[q]|=67108863&A,$>=18?($-=18,q+=1,this.words[q]|=A>>>26):$+=8;else for(P=(O.length-I)%2==0?I+1:I;P<O.length;P+=2)A=y(O,I,P)<<$,this.words[q]|=67108863&A,$>=18?($-=18,q+=1,this.words[q]|=A>>>26):$+=8;this._strip()},w.prototype._parseBase=function(O,I,j){this.words=[0],this.length=1;for(var P=0,A=1;A<=67108863;A*=I)P++;P--,A=A/I|0;for(var $=O.length-j,q=$%P,X=Math.min($,$-q)+j,te=0,re=j;re<X;re+=P)te=m(O,re,re+P,I),this.imuln(A),this.words[0]+te<67108864?this.words[0]+=te:this._iaddn(te);if(q!==0){var ie=1;for(te=m(O,re,O.length,I),re=0;re<q;re++)ie*=I;this.imuln(ie),this.words[0]+te<67108864?this.words[0]+=te:this._iaddn(te)}this._strip()},w.prototype.copy=function(O){O.words=new Array(this.length);for(var I=0;I<this.length;I++)O.words[I]=this.words[I];O.length=this.length,O.negative=this.negative,O.red=this.red},w.prototype._move=function(O){c(O,this)},w.prototype.clone=function(){var O=new w(null);return this.copy(O),O},w.prototype._expand=function(O){for(;this.length<O;)this.words[this.length++]=0;return this},w.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},w.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{w.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{w.prototype.inspect=f}else w.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function E(O,I,j){j.negative=I.negative^O.negative;var P=O.length+I.length|0;j.length=P,P=P-1|0;var A=0|O.words[0],$=0|I.words[0],q=A*$,X=67108863&q,te=q/67108864|0;j.words[0]=X;for(var re=1;re<P;re++){for(var ie=te>>>26,Z=67108863&te,ee=Math.min(re,I.length-1),de=Math.max(0,re-O.length+1);de<=ee;de++){var le=re-de|0;ie+=(q=(A=0|O.words[le])*($=0|I.words[de])+Z)/67108864|0,Z=67108863&q}j.words[re]=0|Z,te=0|ie}return te!==0?j.words[re]=0|te:j.length--,j._strip()}w.prototype.toString=function(O,I){var j;if(I=0|I||1,(O=O||10)===16||O==="hex"){j="";for(var P=0,A=0,$=0;$<this.length;$++){var q=this.words[$],X=(16777215&(q<<P|A)).toString(16);A=q>>>24-P&16777215,(P+=2)>=26&&(P-=26,$--),j=A!==0||$!==this.length-1?v[6-X.length]+X+j:X+j}for(A!==0&&(j=A.toString(16)+j);j.length%I!=0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(O===(0|O)&&O>=2&&O<=36){var te=_[O],re=S[O];j="";var ie=this.clone();for(ie.negative=0;!ie.isZero();){var Z=ie.modrn(re).toString(O);j=(ie=ie.idivn(re)).isZero()?Z+j:v[te-Z.length]+Z+j}for(this.isZero()&&(j="0"+j);j.length%I!=0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}h(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var O=this.words[0];return this.length===2?O+=67108864*this.words[1]:this.length===3&&this.words[2]===1?O+=4503599627370496+67108864*this.words[1]:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-O:O},w.prototype.toJSON=function(){return this.toString(16,2)},p&&(w.prototype.toBuffer=function(O,I){return this.toArrayLike(p,O,I)}),w.prototype.toArray=function(O,I){return this.toArrayLike(Array,O,I)},w.prototype.toArrayLike=function(O,I,j){this._strip();var P=this.byteLength(),A=j||Math.max(1,P);h(P<=A,"byte array longer than desired length"),h(A>0,"Requested array length <= 0");var $=function(q,X){return q.allocUnsafe?q.allocUnsafe(X):new q(X)}(O,A);return this["_toArrayLike"+(I==="le"?"LE":"BE")]($,P),$},w.prototype._toArrayLikeLE=function(O,I){for(var j=0,P=0,A=0,$=0;A<this.length;A++){var q=this.words[A]<<$|P;O[j++]=255&q,j<O.length&&(O[j++]=q>>8&255),j<O.length&&(O[j++]=q>>16&255),$===6?(j<O.length&&(O[j++]=q>>24&255),P=0,$=0):(P=q>>>24,$+=2)}if(j<O.length)for(O[j++]=P;j<O.length;)O[j++]=0},w.prototype._toArrayLikeBE=function(O,I){for(var j=O.length-1,P=0,A=0,$=0;A<this.length;A++){var q=this.words[A]<<$|P;O[j--]=255&q,j>=0&&(O[j--]=q>>8&255),j>=0&&(O[j--]=q>>16&255),$===6?(j>=0&&(O[j--]=q>>24&255),P=0,$=0):(P=q>>>24,$+=2)}if(j>=0)for(O[j--]=P;j>=0;)O[j--]=0},Math.clz32?w.prototype._countBits=function(O){return 32-Math.clz32(O)}:w.prototype._countBits=function(O){var I=O,j=0;return I>=4096&&(j+=13,I>>>=13),I>=64&&(j+=7,I>>>=7),I>=8&&(j+=4,I>>>=4),I>=2&&(j+=2,I>>>=2),j+I},w.prototype._zeroBits=function(O){if(O===0)return 26;var I=O,j=0;return 8191&I||(j+=13,I>>>=13),127&I||(j+=7,I>>>=7),15&I||(j+=4,I>>>=4),3&I||(j+=2,I>>>=2),1&I||j++,j},w.prototype.bitLength=function(){var O=this.words[this.length-1],I=this._countBits(O);return 26*(this.length-1)+I},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var O=0,I=0;I<this.length;I++){var j=this._zeroBits(this.words[I]);if(O+=j,j!==26)break}return O},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(O){return this.negative!==0?this.abs().inotn(O).iaddn(1):this.clone()},w.prototype.fromTwos=function(O){return this.testn(O-1)?this.notn(O).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return this.negative!==0},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(O){for(;this.length<O.length;)this.words[this.length++]=0;for(var I=0;I<O.length;I++)this.words[I]=this.words[I]|O.words[I];return this._strip()},w.prototype.ior=function(O){return h(!(this.negative|O.negative)),this.iuor(O)},w.prototype.or=function(O){return this.length>O.length?this.clone().ior(O):O.clone().ior(this)},w.prototype.uor=function(O){return this.length>O.length?this.clone().iuor(O):O.clone().iuor(this)},w.prototype.iuand=function(O){var I;I=this.length>O.length?O:this;for(var j=0;j<I.length;j++)this.words[j]=this.words[j]&O.words[j];return this.length=I.length,this._strip()},w.prototype.iand=function(O){return h(!(this.negative|O.negative)),this.iuand(O)},w.prototype.and=function(O){return this.length>O.length?this.clone().iand(O):O.clone().iand(this)},w.prototype.uand=function(O){return this.length>O.length?this.clone().iuand(O):O.clone().iuand(this)},w.prototype.iuxor=function(O){var I,j;this.length>O.length?(I=this,j=O):(I=O,j=this);for(var P=0;P<j.length;P++)this.words[P]=I.words[P]^j.words[P];if(this!==I)for(;P<I.length;P++)this.words[P]=I.words[P];return this.length=I.length,this._strip()},w.prototype.ixor=function(O){return h(!(this.negative|O.negative)),this.iuxor(O)},w.prototype.xor=function(O){return this.length>O.length?this.clone().ixor(O):O.clone().ixor(this)},w.prototype.uxor=function(O){return this.length>O.length?this.clone().iuxor(O):O.clone().iuxor(this)},w.prototype.inotn=function(O){h(typeof O=="number"&&O>=0);var I=0|Math.ceil(O/26),j=O%26;this._expand(I),j>0&&I--;for(var P=0;P<I;P++)this.words[P]=67108863&~this.words[P];return j>0&&(this.words[P]=~this.words[P]&67108863>>26-j),this._strip()},w.prototype.notn=function(O){return this.clone().inotn(O)},w.prototype.setn=function(O,I){h(typeof O=="number"&&O>=0);var j=O/26|0,P=O%26;return this._expand(j+1),this.words[j]=I?this.words[j]|1<<P:this.words[j]&~(1<<P),this._strip()},w.prototype.iadd=function(O){var I,j,P;if(this.negative!==0&&O.negative===0)return this.negative=0,I=this.isub(O),this.negative^=1,this._normSign();if(this.negative===0&&O.negative!==0)return O.negative=0,I=this.isub(O),O.negative=1,I._normSign();this.length>O.length?(j=this,P=O):(j=O,P=this);for(var A=0,$=0;$<P.length;$++)I=(0|j.words[$])+(0|P.words[$])+A,this.words[$]=67108863&I,A=I>>>26;for(;A!==0&&$<j.length;$++)I=(0|j.words[$])+A,this.words[$]=67108863&I,A=I>>>26;if(this.length=j.length,A!==0)this.words[this.length]=A,this.length++;else if(j!==this)for(;$<j.length;$++)this.words[$]=j.words[$];return this},w.prototype.add=function(O){var I;return O.negative!==0&&this.negative===0?(O.negative=0,I=this.sub(O),O.negative^=1,I):O.negative===0&&this.negative!==0?(this.negative=0,I=O.sub(this),this.negative=1,I):this.length>O.length?this.clone().iadd(O):O.clone().iadd(this)},w.prototype.isub=function(O){if(O.negative!==0){O.negative=0;var I=this.iadd(O);return O.negative=1,I._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(O),this.negative=1,this._normSign();var j,P,A=this.cmp(O);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;A>0?(j=this,P=O):(j=O,P=this);for(var $=0,q=0;q<P.length;q++)$=(I=(0|j.words[q])-(0|P.words[q])+$)>>26,this.words[q]=67108863&I;for(;$!==0&&q<j.length;q++)$=(I=(0|j.words[q])+$)>>26,this.words[q]=67108863&I;if($===0&&q<j.length&&j!==this)for(;q<j.length;q++)this.words[q]=j.words[q];return this.length=Math.max(this.length,q),j!==this&&(this.negative=1),this._strip()},w.prototype.sub=function(O){return this.clone().isub(O)};var x=function(O,I,j){var P,A,$,q=O.words,X=I.words,te=j.words,re=0,ie=0|q[0],Z=8191&ie,ee=ie>>>13,de=0|q[1],le=8191&de,V=de>>>13,G=0|q[2],K=8191&G,ne=G>>>13,W=0|q[3],H=8191&W,se=W>>>13,ce=0|q[4],ue=8191&ce,be=ce>>>13,Se=0|q[5],Ae=8191&Se,we=Se>>>13,Ue=0|q[6],$e=8191&Ue,Ce=Ue>>>13,nt=0|q[7],Fe=8191&nt,ut=nt>>>13,_e=0|q[8],wt=8191&_e,ht=_e>>>13,ge=0|q[9],At=8191&ge,vt=ge>>>13,In=0|X[0],Mt=8191&In,Nt=In>>>13,Y=0|X[1],ae=8191&Y,fe=Y>>>13,me=0|X[2],pe=8191&me,ve=me>>>13,xe=0|X[3],ye=8191&xe,ke=xe>>>13,je=0|X[4],Pe=8191&je,De=je>>>13,Re=0|X[5],Be=8191&Re,Le=Re>>>13,Xe=0|X[6],Je=8191&Xe,Qe=Xe>>>13,Ye=0|X[7],tt=8191&Ye,ot=Ye>>>13,ft=0|X[8],st=8191&ft,yt=ft>>>13,Ft=0|X[9],Dt=8191&Ft,It=Ft>>>13;j.negative=O.negative^I.negative,j.length=19;var Tt=(re+(P=Math.imul(Z,Mt))|0)+((8191&(A=(A=Math.imul(Z,Nt))+Math.imul(ee,Mt)|0))<<13)|0;re=(($=Math.imul(ee,Nt))+(A>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,P=Math.imul(le,Mt),A=(A=Math.imul(le,Nt))+Math.imul(V,Mt)|0,$=Math.imul(V,Nt);var Vt=(re+(P=P+Math.imul(Z,ae)|0)|0)+((8191&(A=(A=A+Math.imul(Z,fe)|0)+Math.imul(ee,ae)|0))<<13)|0;re=(($=$+Math.imul(ee,fe)|0)+(A>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,P=Math.imul(K,Mt),A=(A=Math.imul(K,Nt))+Math.imul(ne,Mt)|0,$=Math.imul(ne,Nt),P=P+Math.imul(le,ae)|0,A=(A=A+Math.imul(le,fe)|0)+Math.imul(V,ae)|0,$=$+Math.imul(V,fe)|0;var it=(re+(P=P+Math.imul(Z,pe)|0)|0)+((8191&(A=(A=A+Math.imul(Z,ve)|0)+Math.imul(ee,pe)|0))<<13)|0;re=(($=$+Math.imul(ee,ve)|0)+(A>>>13)|0)+(it>>>26)|0,it&=67108863,P=Math.imul(H,Mt),A=(A=Math.imul(H,Nt))+Math.imul(se,Mt)|0,$=Math.imul(se,Nt),P=P+Math.imul(K,ae)|0,A=(A=A+Math.imul(K,fe)|0)+Math.imul(ne,ae)|0,$=$+Math.imul(ne,fe)|0,P=P+Math.imul(le,pe)|0,A=(A=A+Math.imul(le,ve)|0)+Math.imul(V,pe)|0,$=$+Math.imul(V,ve)|0;var Zt=(re+(P=P+Math.imul(Z,ye)|0)|0)+((8191&(A=(A=A+Math.imul(Z,ke)|0)+Math.imul(ee,ye)|0))<<13)|0;re=(($=$+Math.imul(ee,ke)|0)+(A>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,P=Math.imul(ue,Mt),A=(A=Math.imul(ue,Nt))+Math.imul(be,Mt)|0,$=Math.imul(be,Nt),P=P+Math.imul(H,ae)|0,A=(A=A+Math.imul(H,fe)|0)+Math.imul(se,ae)|0,$=$+Math.imul(se,fe)|0,P=P+Math.imul(K,pe)|0,A=(A=A+Math.imul(K,ve)|0)+Math.imul(ne,pe)|0,$=$+Math.imul(ne,ve)|0,P=P+Math.imul(le,ye)|0,A=(A=A+Math.imul(le,ke)|0)+Math.imul(V,ye)|0,$=$+Math.imul(V,ke)|0;var Gn=(re+(P=P+Math.imul(Z,Pe)|0)|0)+((8191&(A=(A=A+Math.imul(Z,De)|0)+Math.imul(ee,Pe)|0))<<13)|0;re=(($=$+Math.imul(ee,De)|0)+(A>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,P=Math.imul(Ae,Mt),A=(A=Math.imul(Ae,Nt))+Math.imul(we,Mt)|0,$=Math.imul(we,Nt),P=P+Math.imul(ue,ae)|0,A=(A=A+Math.imul(ue,fe)|0)+Math.imul(be,ae)|0,$=$+Math.imul(be,fe)|0,P=P+Math.imul(H,pe)|0,A=(A=A+Math.imul(H,ve)|0)+Math.imul(se,pe)|0,$=$+Math.imul(se,ve)|0,P=P+Math.imul(K,ye)|0,A=(A=A+Math.imul(K,ke)|0)+Math.imul(ne,ye)|0,$=$+Math.imul(ne,ke)|0,P=P+Math.imul(le,Pe)|0,A=(A=A+Math.imul(le,De)|0)+Math.imul(V,Pe)|0,$=$+Math.imul(V,De)|0;var Ve=(re+(P=P+Math.imul(Z,Be)|0)|0)+((8191&(A=(A=A+Math.imul(Z,Le)|0)+Math.imul(ee,Be)|0))<<13)|0;re=(($=$+Math.imul(ee,Le)|0)+(A>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,P=Math.imul($e,Mt),A=(A=Math.imul($e,Nt))+Math.imul(Ce,Mt)|0,$=Math.imul(Ce,Nt),P=P+Math.imul(Ae,ae)|0,A=(A=A+Math.imul(Ae,fe)|0)+Math.imul(we,ae)|0,$=$+Math.imul(we,fe)|0,P=P+Math.imul(ue,pe)|0,A=(A=A+Math.imul(ue,ve)|0)+Math.imul(be,pe)|0,$=$+Math.imul(be,ve)|0,P=P+Math.imul(H,ye)|0,A=(A=A+Math.imul(H,ke)|0)+Math.imul(se,ye)|0,$=$+Math.imul(se,ke)|0,P=P+Math.imul(K,Pe)|0,A=(A=A+Math.imul(K,De)|0)+Math.imul(ne,Pe)|0,$=$+Math.imul(ne,De)|0,P=P+Math.imul(le,Be)|0,A=(A=A+Math.imul(le,Le)|0)+Math.imul(V,Be)|0,$=$+Math.imul(V,Le)|0;var He=(re+(P=P+Math.imul(Z,Je)|0)|0)+((8191&(A=(A=A+Math.imul(Z,Qe)|0)+Math.imul(ee,Je)|0))<<13)|0;re=(($=$+Math.imul(ee,Qe)|0)+(A>>>13)|0)+(He>>>26)|0,He&=67108863,P=Math.imul(Fe,Mt),A=(A=Math.imul(Fe,Nt))+Math.imul(ut,Mt)|0,$=Math.imul(ut,Nt),P=P+Math.imul($e,ae)|0,A=(A=A+Math.imul($e,fe)|0)+Math.imul(Ce,ae)|0,$=$+Math.imul(Ce,fe)|0,P=P+Math.imul(Ae,pe)|0,A=(A=A+Math.imul(Ae,ve)|0)+Math.imul(we,pe)|0,$=$+Math.imul(we,ve)|0,P=P+Math.imul(ue,ye)|0,A=(A=A+Math.imul(ue,ke)|0)+Math.imul(be,ye)|0,$=$+Math.imul(be,ke)|0,P=P+Math.imul(H,Pe)|0,A=(A=A+Math.imul(H,De)|0)+Math.imul(se,Pe)|0,$=$+Math.imul(se,De)|0,P=P+Math.imul(K,Be)|0,A=(A=A+Math.imul(K,Le)|0)+Math.imul(ne,Be)|0,$=$+Math.imul(ne,Le)|0,P=P+Math.imul(le,Je)|0,A=(A=A+Math.imul(le,Qe)|0)+Math.imul(V,Je)|0,$=$+Math.imul(V,Qe)|0;var Ze=(re+(P=P+Math.imul(Z,tt)|0)|0)+((8191&(A=(A=A+Math.imul(Z,ot)|0)+Math.imul(ee,tt)|0))<<13)|0;re=(($=$+Math.imul(ee,ot)|0)+(A>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,P=Math.imul(wt,Mt),A=(A=Math.imul(wt,Nt))+Math.imul(ht,Mt)|0,$=Math.imul(ht,Nt),P=P+Math.imul(Fe,ae)|0,A=(A=A+Math.imul(Fe,fe)|0)+Math.imul(ut,ae)|0,$=$+Math.imul(ut,fe)|0,P=P+Math.imul($e,pe)|0,A=(A=A+Math.imul($e,ve)|0)+Math.imul(Ce,pe)|0,$=$+Math.imul(Ce,ve)|0,P=P+Math.imul(Ae,ye)|0,A=(A=A+Math.imul(Ae,ke)|0)+Math.imul(we,ye)|0,$=$+Math.imul(we,ke)|0,P=P+Math.imul(ue,Pe)|0,A=(A=A+Math.imul(ue,De)|0)+Math.imul(be,Pe)|0,$=$+Math.imul(be,De)|0,P=P+Math.imul(H,Be)|0,A=(A=A+Math.imul(H,Le)|0)+Math.imul(se,Be)|0,$=$+Math.imul(se,Le)|0,P=P+Math.imul(K,Je)|0,A=(A=A+Math.imul(K,Qe)|0)+Math.imul(ne,Je)|0,$=$+Math.imul(ne,Qe)|0,P=P+Math.imul(le,tt)|0,A=(A=A+Math.imul(le,ot)|0)+Math.imul(V,tt)|0,$=$+Math.imul(V,ot)|0;var xt=(re+(P=P+Math.imul(Z,st)|0)|0)+((8191&(A=(A=A+Math.imul(Z,yt)|0)+Math.imul(ee,st)|0))<<13)|0;re=(($=$+Math.imul(ee,yt)|0)+(A>>>13)|0)+(xt>>>26)|0,xt&=67108863,P=Math.imul(At,Mt),A=(A=Math.imul(At,Nt))+Math.imul(vt,Mt)|0,$=Math.imul(vt,Nt),P=P+Math.imul(wt,ae)|0,A=(A=A+Math.imul(wt,fe)|0)+Math.imul(ht,ae)|0,$=$+Math.imul(ht,fe)|0,P=P+Math.imul(Fe,pe)|0,A=(A=A+Math.imul(Fe,ve)|0)+Math.imul(ut,pe)|0,$=$+Math.imul(ut,ve)|0,P=P+Math.imul($e,ye)|0,A=(A=A+Math.imul($e,ke)|0)+Math.imul(Ce,ye)|0,$=$+Math.imul(Ce,ke)|0,P=P+Math.imul(Ae,Pe)|0,A=(A=A+Math.imul(Ae,De)|0)+Math.imul(we,Pe)|0,$=$+Math.imul(we,De)|0,P=P+Math.imul(ue,Be)|0,A=(A=A+Math.imul(ue,Le)|0)+Math.imul(be,Be)|0,$=$+Math.imul(be,Le)|0,P=P+Math.imul(H,Je)|0,A=(A=A+Math.imul(H,Qe)|0)+Math.imul(se,Je)|0,$=$+Math.imul(se,Qe)|0,P=P+Math.imul(K,tt)|0,A=(A=A+Math.imul(K,ot)|0)+Math.imul(ne,tt)|0,$=$+Math.imul(ne,ot)|0,P=P+Math.imul(le,st)|0,A=(A=A+Math.imul(le,yt)|0)+Math.imul(V,st)|0,$=$+Math.imul(V,yt)|0;var rt=(re+(P=P+Math.imul(Z,Dt)|0)|0)+((8191&(A=(A=A+Math.imul(Z,It)|0)+Math.imul(ee,Dt)|0))<<13)|0;re=(($=$+Math.imul(ee,It)|0)+(A>>>13)|0)+(rt>>>26)|0,rt&=67108863,P=Math.imul(At,ae),A=(A=Math.imul(At,fe))+Math.imul(vt,ae)|0,$=Math.imul(vt,fe),P=P+Math.imul(wt,pe)|0,A=(A=A+Math.imul(wt,ve)|0)+Math.imul(ht,pe)|0,$=$+Math.imul(ht,ve)|0,P=P+Math.imul(Fe,ye)|0,A=(A=A+Math.imul(Fe,ke)|0)+Math.imul(ut,ye)|0,$=$+Math.imul(ut,ke)|0,P=P+Math.imul($e,Pe)|0,A=(A=A+Math.imul($e,De)|0)+Math.imul(Ce,Pe)|0,$=$+Math.imul(Ce,De)|0,P=P+Math.imul(Ae,Be)|0,A=(A=A+Math.imul(Ae,Le)|0)+Math.imul(we,Be)|0,$=$+Math.imul(we,Le)|0,P=P+Math.imul(ue,Je)|0,A=(A=A+Math.imul(ue,Qe)|0)+Math.imul(be,Je)|0,$=$+Math.imul(be,Qe)|0,P=P+Math.imul(H,tt)|0,A=(A=A+Math.imul(H,ot)|0)+Math.imul(se,tt)|0,$=$+Math.imul(se,ot)|0,P=P+Math.imul(K,st)|0,A=(A=A+Math.imul(K,yt)|0)+Math.imul(ne,st)|0,$=$+Math.imul(ne,yt)|0;var jt=(re+(P=P+Math.imul(le,Dt)|0)|0)+((8191&(A=(A=A+Math.imul(le,It)|0)+Math.imul(V,Dt)|0))<<13)|0;re=(($=$+Math.imul(V,It)|0)+(A>>>13)|0)+(jt>>>26)|0,jt&=67108863,P=Math.imul(At,pe),A=(A=Math.imul(At,ve))+Math.imul(vt,pe)|0,$=Math.imul(vt,ve),P=P+Math.imul(wt,ye)|0,A=(A=A+Math.imul(wt,ke)|0)+Math.imul(ht,ye)|0,$=$+Math.imul(ht,ke)|0,P=P+Math.imul(Fe,Pe)|0,A=(A=A+Math.imul(Fe,De)|0)+Math.imul(ut,Pe)|0,$=$+Math.imul(ut,De)|0,P=P+Math.imul($e,Be)|0,A=(A=A+Math.imul($e,Le)|0)+Math.imul(Ce,Be)|0,$=$+Math.imul(Ce,Le)|0,P=P+Math.imul(Ae,Je)|0,A=(A=A+Math.imul(Ae,Qe)|0)+Math.imul(we,Je)|0,$=$+Math.imul(we,Qe)|0,P=P+Math.imul(ue,tt)|0,A=(A=A+Math.imul(ue,ot)|0)+Math.imul(be,tt)|0,$=$+Math.imul(be,ot)|0,P=P+Math.imul(H,st)|0,A=(A=A+Math.imul(H,yt)|0)+Math.imul(se,st)|0,$=$+Math.imul(se,yt)|0;var qt=(re+(P=P+Math.imul(K,Dt)|0)|0)+((8191&(A=(A=A+Math.imul(K,It)|0)+Math.imul(ne,Dt)|0))<<13)|0;re=(($=$+Math.imul(ne,It)|0)+(A>>>13)|0)+(qt>>>26)|0,qt&=67108863,P=Math.imul(At,ye),A=(A=Math.imul(At,ke))+Math.imul(vt,ye)|0,$=Math.imul(vt,ke),P=P+Math.imul(wt,Pe)|0,A=(A=A+Math.imul(wt,De)|0)+Math.imul(ht,Pe)|0,$=$+Math.imul(ht,De)|0,P=P+Math.imul(Fe,Be)|0,A=(A=A+Math.imul(Fe,Le)|0)+Math.imul(ut,Be)|0,$=$+Math.imul(ut,Le)|0,P=P+Math.imul($e,Je)|0,A=(A=A+Math.imul($e,Qe)|0)+Math.imul(Ce,Je)|0,$=$+Math.imul(Ce,Qe)|0,P=P+Math.imul(Ae,tt)|0,A=(A=A+Math.imul(Ae,ot)|0)+Math.imul(we,tt)|0,$=$+Math.imul(we,ot)|0,P=P+Math.imul(ue,st)|0,A=(A=A+Math.imul(ue,yt)|0)+Math.imul(be,st)|0,$=$+Math.imul(be,yt)|0;var Jt=(re+(P=P+Math.imul(H,Dt)|0)|0)+((8191&(A=(A=A+Math.imul(H,It)|0)+Math.imul(se,Dt)|0))<<13)|0;re=(($=$+Math.imul(se,It)|0)+(A>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,P=Math.imul(At,Pe),A=(A=Math.imul(At,De))+Math.imul(vt,Pe)|0,$=Math.imul(vt,De),P=P+Math.imul(wt,Be)|0,A=(A=A+Math.imul(wt,Le)|0)+Math.imul(ht,Be)|0,$=$+Math.imul(ht,Le)|0,P=P+Math.imul(Fe,Je)|0,A=(A=A+Math.imul(Fe,Qe)|0)+Math.imul(ut,Je)|0,$=$+Math.imul(ut,Qe)|0,P=P+Math.imul($e,tt)|0,A=(A=A+Math.imul($e,ot)|0)+Math.imul(Ce,tt)|0,$=$+Math.imul(Ce,ot)|0,P=P+Math.imul(Ae,st)|0,A=(A=A+Math.imul(Ae,yt)|0)+Math.imul(we,st)|0,$=$+Math.imul(we,yt)|0;var en=(re+(P=P+Math.imul(ue,Dt)|0)|0)+((8191&(A=(A=A+Math.imul(ue,It)|0)+Math.imul(be,Dt)|0))<<13)|0;re=(($=$+Math.imul(be,It)|0)+(A>>>13)|0)+(en>>>26)|0,en&=67108863,P=Math.imul(At,Be),A=(A=Math.imul(At,Le))+Math.imul(vt,Be)|0,$=Math.imul(vt,Le),P=P+Math.imul(wt,Je)|0,A=(A=A+Math.imul(wt,Qe)|0)+Math.imul(ht,Je)|0,$=$+Math.imul(ht,Qe)|0,P=P+Math.imul(Fe,tt)|0,A=(A=A+Math.imul(Fe,ot)|0)+Math.imul(ut,tt)|0,$=$+Math.imul(ut,ot)|0,P=P+Math.imul($e,st)|0,A=(A=A+Math.imul($e,yt)|0)+Math.imul(Ce,st)|0,$=$+Math.imul(Ce,yt)|0;var dn=(re+(P=P+Math.imul(Ae,Dt)|0)|0)+((8191&(A=(A=A+Math.imul(Ae,It)|0)+Math.imul(we,Dt)|0))<<13)|0;re=(($=$+Math.imul(we,It)|0)+(A>>>13)|0)+(dn>>>26)|0,dn&=67108863,P=Math.imul(At,Je),A=(A=Math.imul(At,Qe))+Math.imul(vt,Je)|0,$=Math.imul(vt,Qe),P=P+Math.imul(wt,tt)|0,A=(A=A+Math.imul(wt,ot)|0)+Math.imul(ht,tt)|0,$=$+Math.imul(ht,ot)|0,P=P+Math.imul(Fe,st)|0,A=(A=A+Math.imul(Fe,yt)|0)+Math.imul(ut,st)|0,$=$+Math.imul(ut,yt)|0;var Bn=(re+(P=P+Math.imul($e,Dt)|0)|0)+((8191&(A=(A=A+Math.imul($e,It)|0)+Math.imul(Ce,Dt)|0))<<13)|0;re=(($=$+Math.imul(Ce,It)|0)+(A>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,P=Math.imul(At,tt),A=(A=Math.imul(At,ot))+Math.imul(vt,tt)|0,$=Math.imul(vt,ot),P=P+Math.imul(wt,st)|0,A=(A=A+Math.imul(wt,yt)|0)+Math.imul(ht,st)|0,$=$+Math.imul(ht,yt)|0;var an=(re+(P=P+Math.imul(Fe,Dt)|0)|0)+((8191&(A=(A=A+Math.imul(Fe,It)|0)+Math.imul(ut,Dt)|0))<<13)|0;re=(($=$+Math.imul(ut,It)|0)+(A>>>13)|0)+(an>>>26)|0,an&=67108863,P=Math.imul(At,st),A=(A=Math.imul(At,yt))+Math.imul(vt,st)|0,$=Math.imul(vt,yt);var gt=(re+(P=P+Math.imul(wt,Dt)|0)|0)+((8191&(A=(A=A+Math.imul(wt,It)|0)+Math.imul(ht,Dt)|0))<<13)|0;re=(($=$+Math.imul(ht,It)|0)+(A>>>13)|0)+(gt>>>26)|0,gt&=67108863;var tn=(re+(P=Math.imul(At,Dt))|0)+((8191&(A=(A=Math.imul(At,It))+Math.imul(vt,Dt)|0))<<13)|0;return re=(($=Math.imul(vt,It))+(A>>>13)|0)+(tn>>>26)|0,tn&=67108863,te[0]=Tt,te[1]=Vt,te[2]=it,te[3]=Zt,te[4]=Gn,te[5]=Ve,te[6]=He,te[7]=Ze,te[8]=xt,te[9]=rt,te[10]=jt,te[11]=qt,te[12]=Jt,te[13]=en,te[14]=dn,te[15]=Bn,te[16]=an,te[17]=gt,te[18]=tn,re!==0&&(te[19]=re,j.length++),j};function k(O,I,j){j.negative=I.negative^O.negative,j.length=O.length+I.length;for(var P=0,A=0,$=0;$<j.length-1;$++){var q=A;A=0;for(var X=67108863&P,te=Math.min($,I.length-1),re=Math.max(0,$-O.length+1);re<=te;re++){var ie=$-re,Z=(0|O.words[ie])*(0|I.words[re]),ee=67108863&Z;X=67108863&(ee=ee+X|0),A+=(q=(q=q+(Z/67108864|0)|0)+(ee>>>26)|0)>>>26,q&=67108863}j.words[$]=X,P=q,q=A}return P!==0?j.words[$]=P:j.length--,j._strip()}function T(O,I,j){return k(O,I,j)}Math.imul||(x=E),w.prototype.mulTo=function(O,I){var j=this.length+O.length;return this.length===10&&O.length===10?x(this,O,I):j<63?E(this,O,I):j<1024?k(this,O,I):T(this,O,I)},w.prototype.mul=function(O){var I=new w(null);return I.words=new Array(this.length+O.length),this.mulTo(O,I)},w.prototype.mulf=function(O){var I=new w(null);return I.words=new Array(this.length+O.length),T(this,O,I)},w.prototype.imul=function(O){return this.clone().mulTo(O,this)},w.prototype.imuln=function(O){var I=O<0;I&&(O=-O),h(typeof O=="number"),h(O<67108864);for(var j=0,P=0;P<this.length;P++){var A=(0|this.words[P])*O,$=(67108863&A)+(67108863&j);j>>=26,j+=A/67108864|0,j+=$>>>26,this.words[P]=67108863&$}return j!==0&&(this.words[P]=j,this.length++),I?this.ineg():this},w.prototype.muln=function(O){return this.clone().imuln(O)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(O){var I=function($){for(var q=new Array($.bitLength()),X=0;X<q.length;X++){var te=X/26|0,re=X%26;q[X]=$.words[te]>>>re&1}return q}(O);if(I.length===0)return new w(1);for(var j=this,P=0;P<I.length&&I[P]===0;P++,j=j.sqr());if(++P<I.length)for(var A=j.sqr();P<I.length;P++,A=A.sqr())I[P]!==0&&(j=j.mul(A));return j},w.prototype.iushln=function(O){h(typeof O=="number"&&O>=0);var I,j=O%26,P=(O-j)/26,A=67108863>>>26-j<<26-j;if(j!==0){var $=0;for(I=0;I<this.length;I++){var q=this.words[I]&A,X=(0|this.words[I])-q<<j;this.words[I]=X|$,$=q>>>26-j}$&&(this.words[I]=$,this.length++)}if(P!==0){for(I=this.length-1;I>=0;I--)this.words[I+P]=this.words[I];for(I=0;I<P;I++)this.words[I]=0;this.length+=P}return this._strip()},w.prototype.ishln=function(O){return h(this.negative===0),this.iushln(O)},w.prototype.iushrn=function(O,I,j){var P;h(typeof O=="number"&&O>=0),P=I?(I-I%26)/26:0;var A=O%26,$=Math.min((O-A)/26,this.length),q=67108863^67108863>>>A<<A,X=j;if(P-=$,P=Math.max(0,P),X){for(var te=0;te<$;te++)X.words[te]=this.words[te];X.length=$}if($!==0)if(this.length>$)for(this.length-=$,te=0;te<this.length;te++)this.words[te]=this.words[te+$];else this.words[0]=0,this.length=1;var re=0;for(te=this.length-1;te>=0&&(re!==0||te>=P);te--){var ie=0|this.words[te];this.words[te]=re<<26-A|ie>>>A,re=ie&q}return X&&re!==0&&(X.words[X.length++]=re),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},w.prototype.ishrn=function(O,I,j){return h(this.negative===0),this.iushrn(O,I,j)},w.prototype.shln=function(O){return this.clone().ishln(O)},w.prototype.ushln=function(O){return this.clone().iushln(O)},w.prototype.shrn=function(O){return this.clone().ishrn(O)},w.prototype.ushrn=function(O){return this.clone().iushrn(O)},w.prototype.testn=function(O){h(typeof O=="number"&&O>=0);var I=O%26,j=(O-I)/26,P=1<<I;return!(this.length<=j||!(this.words[j]&P))},w.prototype.imaskn=function(O){h(typeof O=="number"&&O>=0);var I=O%26,j=(O-I)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(I!==0&&j++,this.length=Math.min(j,this.length),I!==0){var P=67108863^67108863>>>I<<I;this.words[this.length-1]&=P}return this._strip()},w.prototype.maskn=function(O){return this.clone().imaskn(O)},w.prototype.iaddn=function(O){return h(typeof O=="number"),h(O<67108864),O<0?this.isubn(-O):this.negative!==0?this.length===1&&(0|this.words[0])<=O?(this.words[0]=O-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(O),this.negative=1,this):this._iaddn(O)},w.prototype._iaddn=function(O){this.words[0]+=O;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},w.prototype.isubn=function(O){if(h(typeof O=="number"),h(O<67108864),O<0)return this.iaddn(-O);if(this.negative!==0)return this.negative=0,this.iaddn(O),this.negative=1,this;if(this.words[0]-=O,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this._strip()},w.prototype.addn=function(O){return this.clone().iaddn(O)},w.prototype.subn=function(O){return this.clone().isubn(O)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(O,I,j){var P,A,$=O.length+j;this._expand($);var q=0;for(P=0;P<O.length;P++){A=(0|this.words[P+j])+q;var X=(0|O.words[P])*I;q=((A-=67108863&X)>>26)-(X/67108864|0),this.words[P+j]=67108863&A}for(;P<this.length-j;P++)q=(A=(0|this.words[P+j])+q)>>26,this.words[P+j]=67108863&A;if(q===0)return this._strip();for(h(q===-1),q=0,P=0;P<this.length;P++)q=(A=-(0|this.words[P])+q)>>26,this.words[P]=67108863&A;return this.negative=1,this._strip()},w.prototype._wordDiv=function(O,I){var j=(this.length,O.length),P=this.clone(),A=O,$=0|A.words[A.length-1];(j=26-this._countBits($))!=0&&(A=A.ushln(j),P.iushln(j),$=0|A.words[A.length-1]);var q,X=P.length-A.length;if(I!=="mod"){(q=new w(null)).length=X+1,q.words=new Array(q.length);for(var te=0;te<q.length;te++)q.words[te]=0}var re=P.clone()._ishlnsubmul(A,1,X);re.negative===0&&(P=re,q&&(q.words[X]=1));for(var ie=X-1;ie>=0;ie--){var Z=67108864*(0|P.words[A.length+ie])+(0|P.words[A.length+ie-1]);for(Z=Math.min(Z/$|0,67108863),P._ishlnsubmul(A,Z,ie);P.negative!==0;)Z--,P.negative=0,P._ishlnsubmul(A,1,ie),P.isZero()||(P.negative^=1);q&&(q.words[ie]=Z)}return q&&q._strip(),P._strip(),I!=="div"&&j!==0&&P.iushrn(j),{div:q||null,mod:P}},w.prototype.divmod=function(O,I,j){return h(!O.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:this.negative!==0&&O.negative===0?($=this.neg().divmod(O,I),I!=="mod"&&(P=$.div.neg()),I!=="div"&&(A=$.mod.neg(),j&&A.negative!==0&&A.iadd(O)),{div:P,mod:A}):this.negative===0&&O.negative!==0?($=this.divmod(O.neg(),I),I!=="mod"&&(P=$.div.neg()),{div:P,mod:$.mod}):this.negative&O.negative?($=this.neg().divmod(O.neg(),I),I!=="div"&&(A=$.mod.neg(),j&&A.negative!==0&&A.isub(O)),{div:$.div,mod:A}):O.length>this.length||this.cmp(O)<0?{div:new w(0),mod:this}:O.length===1?I==="div"?{div:this.divn(O.words[0]),mod:null}:I==="mod"?{div:null,mod:new w(this.modrn(O.words[0]))}:{div:this.divn(O.words[0]),mod:new w(this.modrn(O.words[0]))}:this._wordDiv(O,I);var P,A,$},w.prototype.div=function(O){return this.divmod(O,"div",!1).div},w.prototype.mod=function(O){return this.divmod(O,"mod",!1).mod},w.prototype.umod=function(O){return this.divmod(O,"mod",!0).mod},w.prototype.divRound=function(O){var I=this.divmod(O);if(I.mod.isZero())return I.div;var j=I.div.negative!==0?I.mod.isub(O):I.mod,P=O.ushrn(1),A=O.andln(1),$=j.cmp(P);return $<0||A===1&&$===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},w.prototype.modrn=function(O){var I=O<0;I&&(O=-O),h(O<=67108863);for(var j=67108864%O,P=0,A=this.length-1;A>=0;A--)P=(j*P+(0|this.words[A]))%O;return I?-P:P},w.prototype.modn=function(O){return this.modrn(O)},w.prototype.idivn=function(O){var I=O<0;I&&(O=-O),h(O<=67108863);for(var j=0,P=this.length-1;P>=0;P--){var A=(0|this.words[P])+67108864*j;this.words[P]=A/O|0,j=A%O}return this._strip(),I?this.ineg():this},w.prototype.divn=function(O){return this.clone().idivn(O)},w.prototype.egcd=function(O){h(O.negative===0),h(!O.isZero());var I=this,j=O.clone();I=I.negative!==0?I.umod(O):I.clone();for(var P=new w(1),A=new w(0),$=new w(0),q=new w(1),X=0;I.isEven()&&j.isEven();)I.iushrn(1),j.iushrn(1),++X;for(var te=j.clone(),re=I.clone();!I.isZero();){for(var ie=0,Z=1;!(I.words[0]&Z)&&ie<26;++ie,Z<<=1);if(ie>0)for(I.iushrn(ie);ie-- >0;)(P.isOdd()||A.isOdd())&&(P.iadd(te),A.isub(re)),P.iushrn(1),A.iushrn(1);for(var ee=0,de=1;!(j.words[0]&de)&&ee<26;++ee,de<<=1);if(ee>0)for(j.iushrn(ee);ee-- >0;)($.isOdd()||q.isOdd())&&($.iadd(te),q.isub(re)),$.iushrn(1),q.iushrn(1);I.cmp(j)>=0?(I.isub(j),P.isub($),A.isub(q)):(j.isub(I),$.isub(P),q.isub(A))}return{a:$,b:q,gcd:j.iushln(X)}},w.prototype._invmp=function(O){h(O.negative===0),h(!O.isZero());var I=this,j=O.clone();I=I.negative!==0?I.umod(O):I.clone();for(var P,A=new w(1),$=new w(0),q=j.clone();I.cmpn(1)>0&&j.cmpn(1)>0;){for(var X=0,te=1;!(I.words[0]&te)&&X<26;++X,te<<=1);if(X>0)for(I.iushrn(X);X-- >0;)A.isOdd()&&A.iadd(q),A.iushrn(1);for(var re=0,ie=1;!(j.words[0]&ie)&&re<26;++re,ie<<=1);if(re>0)for(j.iushrn(re);re-- >0;)$.isOdd()&&$.iadd(q),$.iushrn(1);I.cmp(j)>=0?(I.isub(j),A.isub($)):(j.isub(I),$.isub(A))}return(P=I.cmpn(1)===0?A:$).cmpn(0)<0&&P.iadd(O),P},w.prototype.gcd=function(O){if(this.isZero())return O.abs();if(O.isZero())return this.abs();var I=this.clone(),j=O.clone();I.negative=0,j.negative=0;for(var P=0;I.isEven()&&j.isEven();P++)I.iushrn(1),j.iushrn(1);for(;;){for(;I.isEven();)I.iushrn(1);for(;j.isEven();)j.iushrn(1);var A=I.cmp(j);if(A<0){var $=I;I=j,j=$}else if(A===0||j.cmpn(1)===0)break;I.isub(j)}return j.iushln(P)},w.prototype.invm=function(O){return this.egcd(O).a.umod(O)},w.prototype.isEven=function(){return!(1&this.words[0])},w.prototype.isOdd=function(){return!(1&~this.words[0])},w.prototype.andln=function(O){return this.words[0]&O},w.prototype.bincn=function(O){h(typeof O=="number");var I=O%26,j=(O-I)/26,P=1<<I;if(this.length<=j)return this._expand(j+1),this.words[j]|=P,this;for(var A=P,$=j;A!==0&&$<this.length;$++){var q=0|this.words[$];A=(q+=A)>>>26,q&=67108863,this.words[$]=q}return A!==0&&(this.words[$]=A,this.length++),this},w.prototype.isZero=function(){return this.length===1&&this.words[0]===0},w.prototype.cmpn=function(O){var I,j=O<0;if(this.negative!==0&&!j)return-1;if(this.negative===0&&j)return 1;if(this._strip(),this.length>1)I=1;else{j&&(O=-O),h(O<=67108863,"Number is too big");var P=0|this.words[0];I=P===O?0:P<O?-1:1}return this.negative!==0?0|-I:I},w.prototype.cmp=function(O){if(this.negative!==0&&O.negative===0)return-1;if(this.negative===0&&O.negative!==0)return 1;var I=this.ucmp(O);return this.negative!==0?0|-I:I},w.prototype.ucmp=function(O){if(this.length>O.length)return 1;if(this.length<O.length)return-1;for(var I=0,j=this.length-1;j>=0;j--){var P=0|this.words[j],A=0|O.words[j];if(P!==A){P<A?I=-1:P>A&&(I=1);break}}return I},w.prototype.gtn=function(O){return this.cmpn(O)===1},w.prototype.gt=function(O){return this.cmp(O)===1},w.prototype.gten=function(O){return this.cmpn(O)>=0},w.prototype.gte=function(O){return this.cmp(O)>=0},w.prototype.ltn=function(O){return this.cmpn(O)===-1},w.prototype.lt=function(O){return this.cmp(O)===-1},w.prototype.lten=function(O){return this.cmpn(O)<=0},w.prototype.lte=function(O){return this.cmp(O)<=0},w.prototype.eqn=function(O){return this.cmpn(O)===0},w.prototype.eq=function(O){return this.cmp(O)===0},w.red=function(O){return new z(O)},w.prototype.toRed=function(O){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),O.convertTo(this)._forceRed(O)},w.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(O){return this.red=O,this},w.prototype.forceRed=function(O){return h(!this.red,"Already a number in reduction context"),this._forceRed(O)},w.prototype.redAdd=function(O){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,O)},w.prototype.redIAdd=function(O){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,O)},w.prototype.redSub=function(O){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,O)},w.prototype.redISub=function(O){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,O)},w.prototype.redShl=function(O){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,O)},w.prototype.redMul=function(O){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.mul(this,O)},w.prototype.redIMul=function(O){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.imul(this,O)},w.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(O){return h(this.red&&!O.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,O)};var C={k256:null,p224:null,p192:null,p25519:null};function M(O,I){this.name=O,this.p=new w(I,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function N(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function L(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function R(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function D(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function z(O){if(typeof O=="string"){var I=w._prime(O);this.m=I.p,this.prime=I}else h(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}function U(O){z.call(this,O),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}M.prototype._tmp=function(){var O=new w(null);return O.words=new Array(Math.ceil(this.n/13)),O},M.prototype.ireduce=function(O){var I,j=O;do this.split(j,this.tmp),I=(j=(j=this.imulK(j)).iadd(this.tmp)).bitLength();while(I>this.n);var P=I<this.n?-1:j.ucmp(this.p);return P===0?(j.words[0]=0,j.length=1):P>0?j.isub(this.p):j.strip!==void 0?j.strip():j._strip(),j},M.prototype.split=function(O,I){O.iushrn(this.n,0,I)},M.prototype.imulK=function(O){return O.imul(this.k)},b(N,M),N.prototype.split=function(O,I){for(var j=4194303,P=Math.min(O.length,9),A=0;A<P;A++)I.words[A]=O.words[A];if(I.length=P,O.length<=9)return O.words[0]=0,void(O.length=1);var $=O.words[9];for(I.words[I.length++]=$&j,A=10;A<O.length;A++){var q=0|O.words[A];O.words[A-10]=(q&j)<<4|$>>>22,$=q}$>>>=22,O.words[A-10]=$,$===0&&O.length>10?O.length-=10:O.length-=9},N.prototype.imulK=function(O){O.words[O.length]=0,O.words[O.length+1]=0,O.length+=2;for(var I=0,j=0;j<O.length;j++){var P=0|O.words[j];I+=977*P,O.words[j]=67108863&I,I=64*P+(I/67108864|0)}return O.words[O.length-1]===0&&(O.length--,O.words[O.length-1]===0&&O.length--),O},b(L,M),b(R,M),b(D,M),D.prototype.imulK=function(O){for(var I=0,j=0;j<O.length;j++){var P=19*(0|O.words[j])+I,A=67108863&P;P>>>=26,O.words[j]=A,I=P}return I!==0&&(O.words[O.length++]=I),O},w._prime=function(O){if(C[O])return C[O];var I;if(O==="k256")I=new N;else if(O==="p224")I=new L;else if(O==="p192")I=new R;else{if(O!=="p25519")throw new Error("Unknown prime "+O);I=new D}return C[O]=I,I},z.prototype._verify1=function(O){h(O.negative===0,"red works only with positives"),h(O.red,"red works only with red numbers")},z.prototype._verify2=function(O,I){h(!(O.negative|I.negative),"red works only with positives"),h(O.red&&O.red===I.red,"red works only with red numbers")},z.prototype.imod=function(O){return this.prime?this.prime.ireduce(O)._forceRed(this):(c(O,O.umod(this.m)._forceRed(this)),O)},z.prototype.neg=function(O){return O.isZero()?O.clone():this.m.sub(O)._forceRed(this)},z.prototype.add=function(O,I){this._verify2(O,I);var j=O.add(I);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},z.prototype.iadd=function(O,I){this._verify2(O,I);var j=O.iadd(I);return j.cmp(this.m)>=0&&j.isub(this.m),j},z.prototype.sub=function(O,I){this._verify2(O,I);var j=O.sub(I);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},z.prototype.isub=function(O,I){this._verify2(O,I);var j=O.isub(I);return j.cmpn(0)<0&&j.iadd(this.m),j},z.prototype.shl=function(O,I){return this._verify1(O),this.imod(O.ushln(I))},z.prototype.imul=function(O,I){return this._verify2(O,I),this.imod(O.imul(I))},z.prototype.mul=function(O,I){return this._verify2(O,I),this.imod(O.mul(I))},z.prototype.isqr=function(O){return this.imul(O,O.clone())},z.prototype.sqr=function(O){return this.mul(O,O)},z.prototype.sqrt=function(O){if(O.isZero())return O.clone();var I=this.m.andln(3);if(h(I%2==1),I===3){var j=this.m.add(new w(1)).iushrn(2);return this.pow(O,j)}for(var P=this.m.subn(1),A=0;!P.isZero()&&P.andln(1)===0;)A++,P.iushrn(1);h(!P.isZero());var $=new w(1).toRed(this),q=$.redNeg(),X=this.m.subn(1).iushrn(1),te=this.m.bitLength();for(te=new w(2*te*te).toRed(this);this.pow(te,X).cmp(q)!==0;)te.redIAdd(q);for(var re=this.pow(te,P),ie=this.pow(O,P.addn(1).iushrn(1)),Z=this.pow(O,P),ee=A;Z.cmp($)!==0;){for(var de=Z,le=0;de.cmp($)!==0;le++)de=de.redSqr();h(le<ee);var V=this.pow(re,new w(1).iushln(ee-le-1));ie=ie.redMul(V),re=V.redSqr(),Z=Z.redMul(re),ee=le}return ie},z.prototype.invm=function(O){var I=O._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},z.prototype.pow=function(O,I){if(I.isZero())return new w(1).toRed(this);if(I.cmpn(1)===0)return O.clone();var j=new Array(16);j[0]=new w(1).toRed(this),j[1]=O;for(var P=2;P<j.length;P++)j[P]=this.mul(j[P-1],O);var A=j[0],$=0,q=0,X=I.bitLength()%26;for(X===0&&(X=26),P=I.length-1;P>=0;P--){for(var te=I.words[P],re=X-1;re>=0;re--){var ie=te>>re&1;A!==j[0]&&(A=this.sqr(A)),ie!==0||$!==0?($<<=1,$|=ie,(++q==4||P===0&&re===0)&&(A=this.mul(A,j[$]),q=0,$=0)):q=0}X=26}return A},z.prototype.convertTo=function(O){var I=O.umod(this.m);return I===O?I.clone():I},z.prototype.convertFrom=function(O){var I=O.clone();return I.red=null,I},w.mont=function(O){return new U(O)},b(U,z),U.prototype.convertTo=function(O){return this.imod(O.ushln(this.shift))},U.prototype.convertFrom=function(O){var I=this.imod(O.mul(this.rinv));return I.red=null,I},U.prototype.imul=function(O,I){if(O.isZero()||I.isZero())return O.words[0]=0,O.length=1,O;var j=O.imul(I),P=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=j.isub(P).iushrn(this.shift),$=A;return A.cmp(this.m)>=0?$=A.isub(this.m):A.cmpn(0)<0&&($=A.iadd(this.m)),$._forceRed(this)},U.prototype.mul=function(O,I){if(O.isZero()||I.isZero())return new w(0)._forceRed(this);var j=O.mul(I),P=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=j.isub(P).iushrn(this.shift),$=A;return A.cmp(this.m)>=0?$=A.isub(this.m):A.cmpn(0)<0&&($=A.iadd(this.m)),$._forceRed(this)},U.prototype.invm=function(O){return this.imod(O._invmp(this.m).mul(this.r2))._forceRed(this)}})(o=i.nmd(o),this)},7179:(o,s,i)=>{function l(b){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},l(b)}var u;function g(b){this.rand=b}if(o.exports=function(b){return u||(u=new g(null)),u.generate(b)},o.exports.Rand=g,g.prototype.generate=function(b){return this._rand(b)},g.prototype._rand=function(b){if(this.rand.getBytes)return this.rand.getBytes(b);for(var w=new Uint8Array(b),p=0;p<w.length;p++)w[p]=this.rand.getByte();return w},(typeof self>"u"?"undefined":l(self))==="object")self.crypto&&self.crypto.getRandomValues?g.prototype._rand=function(b){var w=new Uint8Array(b);return self.crypto.getRandomValues(w),w}:self.msCrypto&&self.msCrypto.getRandomValues?g.prototype._rand=function(b){var w=new Uint8Array(b);return self.msCrypto.getRandomValues(w),w}:(typeof window>"u"?"undefined":l(window))==="object"&&(g.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var h=i(9214);if(typeof h.randomBytes!="function")throw new Error("Not supported");g.prototype._rand=function(b){return h.randomBytes(b)}}catch{}},7463:(o,s,i)=>{var l=i(9047).Buffer;function u(d){l.isBuffer(d)||(d=l.from(d));for(var y=d.length/4|0,m=new Array(y),c=0;c<y;c++)m[c]=d.readUInt32BE(4*c);return m}function g(d){for(;0<d.length;d++)d[0]=0}function h(d,y,m,c,f){for(var v,_,S,E,x=m[0],k=m[1],T=m[2],C=m[3],M=d[0]^y[0],N=d[1]^y[1],L=d[2]^y[2],R=d[3]^y[3],D=4,z=1;z<f;z++)v=x[M>>>24]^k[N>>>16&255]^T[L>>>8&255]^C[255&R]^y[D++],_=x[N>>>24]^k[L>>>16&255]^T[R>>>8&255]^C[255&M]^y[D++],S=x[L>>>24]^k[R>>>16&255]^T[M>>>8&255]^C[255&N]^y[D++],E=x[R>>>24]^k[M>>>16&255]^T[N>>>8&255]^C[255&L]^y[D++],M=v,N=_,L=S,R=E;return v=(c[M>>>24]<<24|c[N>>>16&255]<<16|c[L>>>8&255]<<8|c[255&R])^y[D++],_=(c[N>>>24]<<24|c[L>>>16&255]<<16|c[R>>>8&255]<<8|c[255&M])^y[D++],S=(c[L>>>24]<<24|c[R>>>16&255]<<16|c[M>>>8&255]<<8|c[255&N])^y[D++],E=(c[R>>>24]<<24|c[M>>>16&255]<<16|c[N>>>8&255]<<8|c[255&L])^y[D++],[v>>>=0,_>>>=0,S>>>=0,E>>>=0]}var b=[0,1,2,4,8,16,32,64,128,27,54],w=function(){for(var d=new Array(256),y=0;y<256;y++)d[y]=y<128?y<<1:y<<1^283;for(var m=[],c=[],f=[[],[],[],[]],v=[[],[],[],[]],_=0,S=0,E=0;E<256;++E){var x=S^S<<1^S<<2^S<<3^S<<4;x=x>>>8^255&x^99,m[_]=x,c[x]=_;var k=d[_],T=d[k],C=d[T],M=257*d[x]^16843008*x;f[0][_]=M<<24|M>>>8,f[1][_]=M<<16|M>>>16,f[2][_]=M<<8|M>>>24,f[3][_]=M,M=16843009*C^65537*T^257*k^16843008*_,v[0][x]=M<<24|M>>>8,v[1][x]=M<<16|M>>>16,v[2][x]=M<<8|M>>>24,v[3][x]=M,_===0?_=S=1:(_=k^d[d[d[C^k]]],S^=d[d[S]])}return{SBOX:m,INV_SBOX:c,SUB_MIX:f,INV_SUB_MIX:v}}();function p(d){this._key=u(d),this._reset()}p.blockSize=16,p.keySize=32,p.prototype.blockSize=p.blockSize,p.prototype.keySize=p.keySize,p.prototype._reset=function(){for(var d=this._key,y=d.length,m=y+6,c=4*(m+1),f=[],v=0;v<y;v++)f[v]=d[v];for(v=y;v<c;v++){var _=f[v-1];v%y==0?(_=_<<8|_>>>24,_=w.SBOX[_>>>24]<<24|w.SBOX[_>>>16&255]<<16|w.SBOX[_>>>8&255]<<8|w.SBOX[255&_],_^=b[v/y|0]<<24):y>6&&v%y==4&&(_=w.SBOX[_>>>24]<<24|w.SBOX[_>>>16&255]<<16|w.SBOX[_>>>8&255]<<8|w.SBOX[255&_]),f[v]=f[v-y]^_}for(var S=[],E=0;E<c;E++){var x=c-E,k=f[x-(E%4?0:4)];S[E]=E<4||x<=4?k:w.INV_SUB_MIX[0][w.SBOX[k>>>24]]^w.INV_SUB_MIX[1][w.SBOX[k>>>16&255]]^w.INV_SUB_MIX[2][w.SBOX[k>>>8&255]]^w.INV_SUB_MIX[3][w.SBOX[255&k]]}this._nRounds=m,this._keySchedule=f,this._invKeySchedule=S},p.prototype.encryptBlockRaw=function(d){return h(d=u(d),this._keySchedule,w.SUB_MIX,w.SBOX,this._nRounds)},p.prototype.encryptBlock=function(d){var y=this.encryptBlockRaw(d),m=l.allocUnsafe(16);return m.writeUInt32BE(y[0],0),m.writeUInt32BE(y[1],4),m.writeUInt32BE(y[2],8),m.writeUInt32BE(y[3],12),m},p.prototype.decryptBlock=function(d){var y=(d=u(d))[1];d[1]=d[3],d[3]=y;var m=h(d,this._invKeySchedule,w.INV_SUB_MIX,w.INV_SBOX,this._nRounds),c=l.allocUnsafe(16);return c.writeUInt32BE(m[0],0),c.writeUInt32BE(m[3],4),c.writeUInt32BE(m[2],8),c.writeUInt32BE(m[1],12),c},p.prototype.scrub=function(){g(this._keySchedule),g(this._invKeySchedule),g(this._key)},o.exports.AES=p},3499:(o,s,i)=>{var l=i(7463),u=i(9047).Buffer,g=i(8842),h=i(376),b=i(1225),w=i(5176),p=i(4001);function d(y,m,c,f){g.call(this);var v=u.alloc(4,0);this._cipher=new l.AES(m);var _=this._cipher.encryptBlock(v);this._ghash=new b(_),c=function(S,E,x){if(E.length===12)return S._finID=u.concat([E,u.from([0,0,0,1])]),u.concat([E,u.from([0,0,0,2])]);var k=new b(x),T=E.length,C=T%16;k.update(E),C&&(C=16-C,k.update(u.alloc(C,0))),k.update(u.alloc(8,0));var M=8*T,N=u.alloc(8);N.writeUIntBE(M,0,8),k.update(N),S._finID=k.state;var L=u.from(S._finID);return p(L),L}(this,c,_),this._prev=u.from(c),this._cache=u.allocUnsafe(0),this._secCache=u.allocUnsafe(0),this._decrypt=f,this._alen=0,this._len=0,this._mode=y,this._authTag=null,this._called=!1}h(d,g),d.prototype._update=function(y){if(!this._called&&this._alen){var m=16-this._alen%16;m<16&&(m=u.alloc(m,0),this._ghash.update(m))}this._called=!0;var c=this._mode.encrypt(this,y);return this._decrypt?this._ghash.update(y):this._ghash.update(c),this._len+=y.length,c},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var y=w(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(m,c){var f=0;m.length!==c.length&&f++;for(var v=Math.min(m.length,c.length),_=0;_<v;++_)f+=m[_]^c[_];return f}(y,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=y,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!u.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(y){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=y},d.prototype.setAAD=function(y){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(y),this._alen+=y.length},o.exports=d},4881:(o,s,i)=>{var l=i(8613),u=i(7909),g=i(4946);s.createCipher=s.Cipher=l.createCipher,s.createCipheriv=s.Cipheriv=l.createCipheriv,s.createDecipher=s.Decipher=u.createDecipher,s.createDecipheriv=s.Decipheriv=u.createDecipheriv,s.listCiphers=s.getCiphers=function(){return Object.keys(g)}},7909:(o,s,i)=>{var l=i(3499),u=i(9047).Buffer,g=i(6572),h=i(7188),b=i(8842),w=i(7463),p=i(1248);function d(c,f,v){b.call(this),this._cache=new y,this._last=void 0,this._cipher=new w.AES(f),this._prev=u.from(v),this._mode=c,this._autopadding=!0}function y(){this.cache=u.allocUnsafe(0)}function m(c,f,v){var _=g[c.toLowerCase()];if(!_)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=u.from(v)),_.mode!=="GCM"&&v.length!==_.iv)throw new TypeError("invalid iv length "+v.length);if(typeof f=="string"&&(f=u.from(f)),f.length!==_.key/8)throw new TypeError("invalid key length "+f.length);return _.type==="stream"?new h(_.module,f,v,!0):_.type==="auth"?new l(_.module,f,v,!0):new d(_.module,f,v)}i(376)(d,b),d.prototype._update=function(c){var f,v;this._cache.add(c);for(var _=[];f=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,f),_.push(v);return u.concat(_)},d.prototype._final=function(){var c=this._cache.flush();if(this._autopadding)return function(f){var v=f[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var _=-1;++_<v;)if(f[_+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return f.slice(0,16-v)}(this._mode.decrypt(this,c));if(c)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(c){return this._autopadding=!!c,this},y.prototype.add=function(c){this.cache=u.concat([this.cache,c])},y.prototype.get=function(c){var f;if(c){if(this.cache.length>16)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f}else if(this.cache.length>=16)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f;return null},y.prototype.flush=function(){if(this.cache.length)return this.cache},s.createDecipher=function(c,f){var v=g[c.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var _=p(f,!1,v.key,v.iv);return m(c,_.key,_.iv)},s.createDecipheriv=m},8613:(o,s,i)=>{var l=i(6572),u=i(3499),g=i(9047).Buffer,h=i(7188),b=i(8842),w=i(7463),p=i(1248);function d(f,v,_){b.call(this),this._cache=new m,this._cipher=new w.AES(v),this._prev=g.from(_),this._mode=f,this._autopadding=!0}i(376)(d,b),d.prototype._update=function(f){var v,_;this._cache.add(f);for(var S=[];v=this._cache.get();)_=this._mode.encrypt(this,v),S.push(_);return g.concat(S)};var y=g.alloc(16,16);function m(){this.cache=g.allocUnsafe(0)}function c(f,v,_){var S=l[f.toLowerCase()];if(!S)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=g.from(v)),v.length!==S.key/8)throw new TypeError("invalid key length "+v.length);if(typeof _=="string"&&(_=g.from(_)),S.mode!=="GCM"&&_.length!==S.iv)throw new TypeError("invalid iv length "+_.length);return S.type==="stream"?new h(S.module,v,_):S.type==="auth"?new u(S.module,v,_):new d(S.module,v,_)}d.prototype._final=function(){var f=this._cache.flush();if(this._autopadding)return f=this._mode.encrypt(this,f),this._cipher.scrub(),f;if(!f.equals(y))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(f){return this._autopadding=!!f,this},m.prototype.add=function(f){this.cache=g.concat([this.cache,f])},m.prototype.get=function(){if(this.cache.length>15){var f=this.cache.slice(0,16);return this.cache=this.cache.slice(16),f}return null},m.prototype.flush=function(){for(var f=16-this.cache.length,v=g.allocUnsafe(f),_=-1;++_<f;)v.writeUInt8(f,_);return g.concat([this.cache,v])},s.createCipheriv=c,s.createCipher=function(f,v){var _=l[f.toLowerCase()];if(!_)throw new TypeError("invalid suite type");var S=p(v,!1,_.key,_.iv);return c(f,S.key,S.iv)}},1225:(o,s,i)=>{var l=i(9047).Buffer,u=l.alloc(16,0);function g(b){var w=l.allocUnsafe(16);return w.writeUInt32BE(b[0]>>>0,0),w.writeUInt32BE(b[1]>>>0,4),w.writeUInt32BE(b[2]>>>0,8),w.writeUInt32BE(b[3]>>>0,12),w}function h(b){this.h=b,this.state=l.alloc(16,0),this.cache=l.allocUnsafe(0)}h.prototype.ghash=function(b){for(var w=-1;++w<b.length;)this.state[w]^=b[w];this._multiply()},h.prototype._multiply=function(){for(var b,w,p,d=[(b=this.h).readUInt32BE(0),b.readUInt32BE(4),b.readUInt32BE(8),b.readUInt32BE(12)],y=[0,0,0,0],m=-1;++m<128;){for(this.state[~~(m/8)]&1<<7-m%8&&(y[0]^=d[0],y[1]^=d[1],y[2]^=d[2],y[3]^=d[3]),p=!!(1&d[3]),w=3;w>0;w--)d[w]=d[w]>>>1|(1&d[w-1])<<31;d[0]=d[0]>>>1,p&&(d[0]=d[0]^-520093696)}this.state=g(y)},h.prototype.update=function(b){var w;for(this.cache=l.concat([this.cache,b]);this.cache.length>=16;)w=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(w)},h.prototype.final=function(b,w){return this.cache.length&&this.ghash(l.concat([this.cache,u],16)),this.ghash(g([0,b,0,w])),this.state},o.exports=h},4001:o=>{o.exports=function(s){for(var i,l=s.length;l--;){if((i=s.readUInt8(l))!==255){i++,s.writeUInt8(i,l);break}s.writeUInt8(0,l)}}},9628:(o,s,i)=>{var l=i(5176);s.encrypt=function(u,g){var h=l(g,u._prev);return u._prev=u._cipher.encryptBlock(h),u._prev},s.decrypt=function(u,g){var h=u._prev;u._prev=g;var b=u._cipher.decryptBlock(g);return l(b,h)}},6674:(o,s,i)=>{var l=i(9047).Buffer,u=i(5176);function g(h,b,w){var p=b.length,d=u(b,h._cache);return h._cache=h._cache.slice(p),h._prev=l.concat([h._prev,w?b:d]),d}s.encrypt=function(h,b,w){for(var p,d=l.allocUnsafe(0);b.length;){if(h._cache.length===0&&(h._cache=h._cipher.encryptBlock(h._prev),h._prev=l.allocUnsafe(0)),!(h._cache.length<=b.length)){d=l.concat([d,g(h,b,w)]);break}p=h._cache.length,d=l.concat([d,g(h,b.slice(0,p),w)]),b=b.slice(p)}return d}},9971:(o,s,i)=>{var l=i(9047).Buffer;function u(h,b,w){for(var p,d,y=-1,m=0;++y<8;)p=b&1<<7-y?128:0,m+=(128&(d=h._cipher.encryptBlock(h._prev)[0]^p))>>y%8,h._prev=g(h._prev,w?p:d);return m}function g(h,b){var w=h.length,p=-1,d=l.allocUnsafe(h.length);for(h=l.concat([h,l.from([b])]);++p<w;)d[p]=h[p]<<1|h[p+1]>>7;return d}s.encrypt=function(h,b,w){for(var p=b.length,d=l.allocUnsafe(p),y=-1;++y<p;)d[y]=u(h,b[y],w);return d}},8194:(o,s,i)=>{var l=i(9047).Buffer;function u(g,h,b){var w=g._cipher.encryptBlock(g._prev)[0]^h;return g._prev=l.concat([g._prev.slice(1),l.from([b?h:w])]),w}s.encrypt=function(g,h,b){for(var w=h.length,p=l.allocUnsafe(w),d=-1;++d<w;)p[d]=u(g,h[d],b);return p}},8871:(o,s,i)=>{var l=i(5176),u=i(9047).Buffer,g=i(4001);function h(b){var w=b._cipher.encryptBlockRaw(b._prev);return g(b._prev),w}s.encrypt=function(b,w){var p=Math.ceil(w.length/16),d=b._cache.length;b._cache=u.concat([b._cache,u.allocUnsafe(16*p)]);for(var y=0;y<p;y++){var m=h(b),c=d+16*y;b._cache.writeUInt32BE(m[0],c+0),b._cache.writeUInt32BE(m[1],c+4),b._cache.writeUInt32BE(m[2],c+8),b._cache.writeUInt32BE(m[3],c+12)}var f=b._cache.slice(0,w.length);return b._cache=b._cache.slice(w.length),l(w,f)}},8972:(o,s)=>{s.encrypt=function(i,l){return i._cipher.encryptBlock(l)},s.decrypt=function(i,l){return i._cipher.decryptBlock(l)}},6572:(o,s,i)=>{var l={ECB:i(8972),CBC:i(9628),CFB:i(6674),CFB8:i(8194),CFB1:i(9971),OFB:i(2343),CTR:i(8871),GCM:i(8871)},u=i(4946);for(var g in u)u[g].module=l[u[g].mode];o.exports=u},2343:(o,s,i)=>{var l=i(365).Buffer,u=i(5176);function g(h){return h._prev=h._cipher.encryptBlock(h._prev),h._prev}s.encrypt=function(h,b){for(;h._cache.length<b.length;)h._cache=l.concat([h._cache,g(h)]);var w=h._cache.slice(0,b.length);return h._cache=h._cache.slice(b.length),u(b,w)}},7188:(o,s,i)=>{var l=i(7463),u=i(9047).Buffer,g=i(8842);function h(b,w,p,d){g.call(this),this._cipher=new l.AES(w),this._prev=u.from(p),this._cache=u.allocUnsafe(0),this._secCache=u.allocUnsafe(0),this._decrypt=d,this._mode=b}i(376)(h,g),h.prototype._update=function(b){return this._mode.encrypt(this,b,this._decrypt)},h.prototype._final=function(){this._cipher.scrub()},o.exports=h},5972:(o,s,i)=>{var l=i(7729),u=i(4881),g=i(6572),h=i(3519),b=i(1248);function w(d,y,m){if(d=d.toLowerCase(),g[d])return u.createCipheriv(d,y,m);if(h[d])return new l({key:y,iv:m,mode:d});throw new TypeError("invalid suite type")}function p(d,y,m){if(d=d.toLowerCase(),g[d])return u.createDecipheriv(d,y,m);if(h[d])return new l({key:y,iv:m,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}s.createCipher=s.Cipher=function(d,y){var m,c;if(d=d.toLowerCase(),g[d])m=g[d].key,c=g[d].iv;else{if(!h[d])throw new TypeError("invalid suite type");m=8*h[d].key,c=h[d].iv}var f=b(y,!1,m,c);return w(d,f.key,f.iv)},s.createCipheriv=s.Cipheriv=w,s.createDecipher=s.Decipher=function(d,y){var m,c;if(d=d.toLowerCase(),g[d])m=g[d].key,c=g[d].iv;else{if(!h[d])throw new TypeError("invalid suite type");m=8*h[d].key,c=h[d].iv}var f=b(y,!1,m,c);return p(d,f.key,f.iv)},s.createDecipheriv=s.Decipheriv=p,s.listCiphers=s.getCiphers=function(){return Object.keys(h).concat(u.getCiphers())}},7729:(o,s,i)=>{var l=i(8842),u=i(167),g=i(376),h=i(9047).Buffer,b={"des-ede3-cbc":u.CBC.instantiate(u.EDE),"des-ede3":u.EDE,"des-ede-cbc":u.CBC.instantiate(u.EDE),"des-ede":u.EDE,"des-cbc":u.CBC.instantiate(u.DES),"des-ecb":u.DES};function w(p){l.call(this);var d,y=p.mode.toLowerCase(),m=b[y];d=p.decrypt?"decrypt":"encrypt";var c=p.key;h.isBuffer(c)||(c=h.from(c)),y!=="des-ede"&&y!=="des-ede-cbc"||(c=h.concat([c,c.slice(0,8)]));var f=p.iv;h.isBuffer(f)||(f=h.from(f)),this._des=m.create({key:c,iv:f,type:d})}b.des=b["des-cbc"],b.des3=b["des-ede3-cbc"],o.exports=w,g(w,l),w.prototype._update=function(p){return h.from(this._des.update(p))},w.prototype._final=function(){return h.from(this._des.final())}},3519:(o,s)=>{s["des-ecb"]={key:8,iv:0},s["des-cbc"]=s.des={key:8,iv:8},s["des-ede3-cbc"]=s.des3={key:24,iv:8},s["des-ede3"]={key:24,iv:0},s["des-ede-cbc"]={key:16,iv:8},s["des-ede"]={key:16,iv:0}},4364:(o,s,i)=>{var l=i(365).Buffer,u=i(815),g=i(5760);function h(w){var p,d=w.modulus.byteLength();do p=new u(g(d));while(p.cmp(w.modulus)>=0||!p.umod(w.prime1)||!p.umod(w.prime2));return p}function b(w,p){var d=function(T){var C=h(T);return{blinder:C.toRed(u.mont(T.modulus)).redPow(new u(T.publicExponent)).fromRed(),unblinder:C.invm(T.modulus)}}(p),y=p.modulus.byteLength(),m=new u(w).mul(d.blinder).umod(p.modulus),c=m.toRed(u.mont(p.prime1)),f=m.toRed(u.mont(p.prime2)),v=p.coefficient,_=p.prime1,S=p.prime2,E=c.redPow(p.exponent1).fromRed(),x=f.redPow(p.exponent2).fromRed(),k=E.isub(x).imul(v).umod(_).imul(S);return x.iadd(k).imul(d.unblinder).umod(p.modulus).toArrayLike(l,"be",y)}b.getr=h,o.exports=b},3363:(o,s,i)=>{o.exports=i(5207)},1022:(o,s,i)=>{var l=i(9047).Buffer,u=i(8339),g=i(8237),h=i(376),b=i(1437),w=i(1113),p=i(5207);function d(f){g.Writable.call(this);var v=p[f];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=u(v.hash),this._tag=v.id,this._signType=v.sign}function y(f){g.Writable.call(this);var v=p[f];if(!v)throw new Error("Unknown message digest");this._hash=u(v.hash),this._tag=v.id,this._signType=v.sign}function m(f){return new d(f)}function c(f){return new y(f)}Object.keys(p).forEach(function(f){p[f].id=l.from(p[f].id,"hex"),p[f.toLowerCase()]=p[f]}),h(d,g.Writable),d.prototype._write=function(f,v,_){this._hash.update(f),_()},d.prototype.update=function(f,v){return this._hash.update(typeof f=="string"?l.from(f,v):f),this},d.prototype.sign=function(f,v){this.end();var _=this._hash.digest(),S=b(_,f,this._hashType,this._signType,this._tag);return v?S.toString(v):S},h(y,g.Writable),y.prototype._write=function(f,v,_){this._hash.update(f),_()},y.prototype.update=function(f,v){return this._hash.update(typeof f=="string"?l.from(f,v):f),this},y.prototype.verify=function(f,v,_){var S=typeof v=="string"?l.from(v,_):v;this.end();var E=this._hash.digest();return w(S,E,f,this._signType,this._tag)},o.exports={Sign:m,Verify:c,createSign:m,createVerify:c}},1437:(o,s,i)=>{var l=i(9047).Buffer,u=i(8736),g=i(4364),h=i(8333).ec,b=i(815),w=i(2914),p=i(1308);function d(f,v,_,S){if((f=l.from(f.toArray())).length<v.byteLength()){var E=l.alloc(v.byteLength()-f.length);f=l.concat([E,f])}var x=_.length,k=function(M,N){M=(M=y(M,N)).mod(N);var L=l.from(M.toArray());if(L.length<N.byteLength()){var R=l.alloc(N.byteLength()-L.length);L=l.concat([R,L])}return L}(_,v),T=l.alloc(x);T.fill(1);var C=l.alloc(x);return C=u(S,C).update(T).update(l.from([0])).update(f).update(k).digest(),T=u(S,C).update(T).digest(),{k:C=u(S,C).update(T).update(l.from([1])).update(f).update(k).digest(),v:T=u(S,C).update(T).digest()}}function y(f,v){var _=new b(f),S=(f.length<<3)-v.bitLength();return S>0&&_.ishrn(S),_}function m(f,v,_){var S,E;do{for(S=l.alloc(0);8*S.length<f.bitLength();)v.v=u(_,v.k).update(v.v).digest(),S=l.concat([S,v.v]);E=y(S,f),v.k=u(_,v.k).update(v.v).update(l.from([0])).digest(),v.v=u(_,v.k).update(v.v).digest()}while(E.cmp(f)!==-1);return E}function c(f,v,_,S){return f.toRed(b.mont(_)).redPow(v).fromRed().mod(S)}o.exports=function(f,v,_,S,E){var x=w(v);if(x.curve){if(S!=="ecdsa"&&S!=="ecdsa/rsa")throw new Error("wrong private key type");return function(M,N){var L=p[N.curve.join(".")];if(!L)throw new Error("unknown curve "+N.curve.join("."));var R=new h(L).keyFromPrivate(N.privateKey).sign(M);return l.from(R.toDER())}(f,x)}if(x.type==="dsa"){if(S!=="dsa")throw new Error("wrong private key type");return function(M,N,L){for(var R,D=N.params.priv_key,z=N.params.p,U=N.params.q,O=N.params.g,I=new b(0),j=y(M,U).mod(U),P=!1,A=d(D,U,M,L);P===!1;)I=c(O,R=m(U,A,L),z,U),(P=R.invm(U).imul(j.add(D.mul(I))).mod(U)).cmpn(0)===0&&(P=!1,I=new b(0));return function($,q){$=$.toArray(),q=q.toArray(),128&$[0]&&($=[0].concat($)),128&q[0]&&(q=[0].concat(q));var X=[48,$.length+q.length+4,2,$.length];return X=X.concat($,[2,q.length],q),l.from(X)}(I,P)}(f,x,_)}if(S!=="rsa"&&S!=="ecdsa/rsa")throw new Error("wrong private key type");if(v.padding!==void 0&&v.padding!==1)throw new Error("illegal or unsupported padding mode");f=l.concat([E,f]);for(var k=x.modulus.byteLength(),T=[0,1];f.length+T.length+1<k;)T.push(255);T.push(0);for(var C=-1;++C<f.length;)T.push(f[C]);return g(T,x)},o.exports.getKey=d,o.exports.makeKey=m},1113:(o,s,i)=>{var l=i(9047).Buffer,u=i(815),g=i(8333).ec,h=i(2914),b=i(1308);function w(p,d){if(p.cmpn(0)<=0)throw new Error("invalid sig");if(p.cmp(d)>=0)throw new Error("invalid sig")}o.exports=function(p,d,y,m,c){var f=h(y);if(f.type==="ec"){if(m!=="ecdsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");return function(T,C,M){var N=b[M.data.algorithm.curve.join(".")];if(!N)throw new Error("unknown curve "+M.data.algorithm.curve.join("."));var L=new g(N),R=M.data.subjectPrivateKey.data;return L.verify(C,T,R)}(p,d,f)}if(f.type==="dsa"){if(m!=="dsa")throw new Error("wrong public key type");return function(T,C,M){var N=M.data.p,L=M.data.q,R=M.data.g,D=M.data.pub_key,z=h.signature.decode(T,"der"),U=z.s,O=z.r;w(U,L),w(O,L);var I=u.mont(N),j=U.invm(L);return R.toRed(I).redPow(new u(C).mul(j).mod(L)).fromRed().mul(D.toRed(I).redPow(O.mul(j).mod(L)).fromRed()).mod(N).mod(L).cmp(O)===0}(p,d,f)}if(m!=="rsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");d=l.concat([c,d]);for(var v=f.modulus.byteLength(),_=[1],S=0;d.length+_.length+2<v;)_.push(255),S+=1;_.push(0);for(var E=-1;++E<d.length;)_.push(d[E]);_=l.from(_);var x=u.mont(f.modulus);p=(p=new u(p).toRed(x)).redPow(new u(f.publicExponent)),p=l.from(p.fromRed().toArray());var k=S<8?1:0;for(v=Math.min(p.length,_.length),p.length!==_.length&&(k=1),E=-1;++E<v;)k|=p[E]^_[E];return k===0}},5176:(o,s,i)=>{var l=i(365).Buffer;o.exports=function(u,g){for(var h=Math.min(u.length,g.length),b=new l(h),w=0;w<h;++w)b[w]=u[w]^g[w];return b}},365:(o,s,i)=>{function l(V){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},l(V)}var u=i(7943),g=i(8405),h=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=p,s.SlowBuffer=function(V){return+V!=V&&(V=0),p.alloc(+V)},s.INSPECT_MAX_BYTES=50;var b=2147483647;function w(V){if(V>b)throw new RangeError('The value "'+V+'" is invalid for option "size"');var G=new Uint8Array(V);return Object.setPrototypeOf(G,p.prototype),G}function p(V,G,K){if(typeof V=="number"){if(typeof G=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(V)}return d(V,G,K)}function d(V,G,K){if(typeof V=="string")return function(H,se){if(typeof se=="string"&&se!==""||(se="utf8"),!p.isEncoding(se))throw new TypeError("Unknown encoding: "+se);var ce=0|_(H,se),ue=w(ce),be=ue.write(H,se);return be!==ce&&(ue=ue.slice(0,be)),ue}(V,G);if(ArrayBuffer.isView(V))return function(H){if(ee(H,Uint8Array)){var se=new Uint8Array(H);return f(se.buffer,se.byteOffset,se.byteLength)}return c(H)}(V);if(V==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(V));if(ee(V,ArrayBuffer)||V&&ee(V.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ee(V,SharedArrayBuffer)||V&&ee(V.buffer,SharedArrayBuffer)))return f(V,G,K);if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ne=V.valueOf&&V.valueOf();if(ne!=null&&ne!==V)return p.from(ne,G,K);var W=function(H){if(p.isBuffer(H)){var se=0|v(H.length),ce=w(se);return ce.length===0||H.copy(ce,0,0,se),ce}return H.length!==void 0?typeof H.length!="number"||de(H.length)?w(0):c(H):H.type==="Buffer"&&Array.isArray(H.data)?c(H.data):void 0}(V);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return p.from(V[Symbol.toPrimitive]("string"),G,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(V))}function y(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function m(V){return y(V),w(V<0?0:0|v(V))}function c(V){for(var G=V.length<0?0:0|v(V.length),K=w(G),ne=0;ne<G;ne+=1)K[ne]=255&V[ne];return K}function f(V,G,K){if(G<0||V.byteLength<G)throw new RangeError('"offset" is outside of buffer bounds');if(V.byteLength<G+(K||0))throw new RangeError('"length" is outside of buffer bounds');var ne;return ne=G===void 0&&K===void 0?new Uint8Array(V):K===void 0?new Uint8Array(V,G):new Uint8Array(V,G,K),Object.setPrototypeOf(ne,p.prototype),ne}function v(V){if(V>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return 0|V}function _(V,G){if(p.isBuffer(V))return V.length;if(ArrayBuffer.isView(V)||ee(V,ArrayBuffer))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l(V));var K=V.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&K===0)return 0;for(var W=!1;;)switch(G){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return re(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*K;case"hex":return K>>>1;case"base64":return ie(V).length;default:if(W)return ne?-1:re(V).length;G=(""+G).toLowerCase(),W=!0}}function S(V,G,K){var ne=!1;if((G===void 0||G<0)&&(G=0),G>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0)<=(G>>>=0))return"";for(V||(V="utf8");;)switch(V){case"hex":return I(this,G,K);case"utf8":case"utf-8":return D(this,G,K);case"ascii":return U(this,G,K);case"latin1":case"binary":return O(this,G,K);case"base64":return R(this,G,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,G,K);default:if(ne)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),ne=!0}}function E(V,G,K){var ne=V[G];V[G]=V[K],V[K]=ne}function x(V,G,K,ne,W){if(V.length===0)return-1;if(typeof K=="string"?(ne=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),de(K=+K)&&(K=W?0:V.length-1),K<0&&(K=V.length+K),K>=V.length){if(W)return-1;K=V.length-1}else if(K<0){if(!W)return-1;K=0}if(typeof G=="string"&&(G=p.from(G,ne)),p.isBuffer(G))return G.length===0?-1:k(V,G,K,ne,W);if(typeof G=="number")return G&=255,typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(V,G,K):Uint8Array.prototype.lastIndexOf.call(V,G,K):k(V,[G],K,ne,W);throw new TypeError("val must be string, number or Buffer")}function k(V,G,K,ne,W){var H,se=1,ce=V.length,ue=G.length;if(ne!==void 0&&((ne=String(ne).toLowerCase())==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(V.length<2||G.length<2)return-1;se=2,ce/=2,ue/=2,K/=2}function be(Ue,$e){return se===1?Ue[$e]:Ue.readUInt16BE($e*se)}if(W){var Se=-1;for(H=K;H<ce;H++)if(be(V,H)===be(G,Se===-1?0:H-Se)){if(Se===-1&&(Se=H),H-Se+1===ue)return Se*se}else Se!==-1&&(H-=H-Se),Se=-1}else for(K+ue>ce&&(K=ce-ue),H=K;H>=0;H--){for(var Ae=!0,we=0;we<ue;we++)if(be(V,H+we)!==be(G,we)){Ae=!1;break}if(Ae)return H}return-1}function T(V,G,K,ne){K=Number(K)||0;var W=V.length-K;ne?(ne=Number(ne))>W&&(ne=W):ne=W;var H=G.length;ne>H/2&&(ne=H/2);for(var se=0;se<ne;++se){var ce=parseInt(G.substr(2*se,2),16);if(de(ce))return se;V[K+se]=ce}return se}function C(V,G,K,ne){return Z(re(G,V.length-K),V,K,ne)}function M(V,G,K,ne){return Z(function(W){for(var H=[],se=0;se<W.length;++se)H.push(255&W.charCodeAt(se));return H}(G),V,K,ne)}function N(V,G,K,ne){return Z(ie(G),V,K,ne)}function L(V,G,K,ne){return Z(function(W,H){for(var se,ce,ue,be=[],Se=0;Se<W.length&&!((H-=2)<0);++Se)ce=(se=W.charCodeAt(Se))>>8,ue=se%256,be.push(ue),be.push(ce);return be}(G,V.length-K),V,K,ne)}function R(V,G,K){return G===0&&K===V.length?u.fromByteArray(V):u.fromByteArray(V.slice(G,K))}function D(V,G,K){K=Math.min(V.length,K);for(var ne=[],W=G;W<K;){var H,se,ce,ue,be=V[W],Se=null,Ae=be>239?4:be>223?3:be>191?2:1;if(W+Ae<=K)switch(Ae){case 1:be<128&&(Se=be);break;case 2:(192&(H=V[W+1]))==128&&(ue=(31&be)<<6|63&H)>127&&(Se=ue);break;case 3:H=V[W+1],se=V[W+2],(192&H)==128&&(192&se)==128&&(ue=(15&be)<<12|(63&H)<<6|63&se)>2047&&(ue<55296||ue>57343)&&(Se=ue);break;case 4:H=V[W+1],se=V[W+2],ce=V[W+3],(192&H)==128&&(192&se)==128&&(192&ce)==128&&(ue=(15&be)<<18|(63&H)<<12|(63&se)<<6|63&ce)>65535&&ue<1114112&&(Se=ue)}Se===null?(Se=65533,Ae=1):Se>65535&&(Se-=65536,ne.push(Se>>>10&1023|55296),Se=56320|1023&Se),ne.push(Se),W+=Ae}return function(we){var Ue=we.length;if(Ue<=z)return String.fromCharCode.apply(String,we);for(var $e="",Ce=0;Ce<Ue;)$e+=String.fromCharCode.apply(String,we.slice(Ce,Ce+=z));return $e}(ne)}s.kMaxLength=b,p.TYPED_ARRAY_SUPPORT=function(){try{var V=new Uint8Array(1),G={foo:function(){return 42}};return Object.setPrototypeOf(G,Uint8Array.prototype),Object.setPrototypeOf(V,G),V.foo()===42}catch{return!1}}(),p.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}}),p.poolSize=8192,p.from=function(V,G,K){return d(V,G,K)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array),p.alloc=function(V,G,K){return function(ne,W,H){return y(ne),ne<=0?w(ne):W!==void 0?typeof H=="string"?w(ne).fill(W,H):w(ne).fill(W):w(ne)}(V,G,K)},p.allocUnsafe=function(V){return m(V)},p.allocUnsafeSlow=function(V){return m(V)},p.isBuffer=function(V){return V!=null&&V._isBuffer===!0&&V!==p.prototype},p.compare=function(V,G){if(ee(V,Uint8Array)&&(V=p.from(V,V.offset,V.byteLength)),ee(G,Uint8Array)&&(G=p.from(G,G.offset,G.byteLength)),!p.isBuffer(V)||!p.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===G)return 0;for(var K=V.length,ne=G.length,W=0,H=Math.min(K,ne);W<H;++W)if(V[W]!==G[W]){K=V[W],ne=G[W];break}return K<ne?-1:ne<K?1:0},p.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(V,G){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return p.alloc(0);var K;if(G===void 0)for(G=0,K=0;K<V.length;++K)G+=V[K].length;var ne=p.allocUnsafe(G),W=0;for(K=0;K<V.length;++K){var H=V[K];if(ee(H,Uint8Array))W+H.length>ne.length?p.from(H).copy(ne,W):Uint8Array.prototype.set.call(ne,H,W);else{if(!p.isBuffer(H))throw new TypeError('"list" argument must be an Array of Buffers');H.copy(ne,W)}W+=H.length}return ne},p.byteLength=_,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var V=this.length;if(V%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var G=0;G<V;G+=2)E(this,G,G+1);return this},p.prototype.swap32=function(){var V=this.length;if(V%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var G=0;G<V;G+=4)E(this,G,G+3),E(this,G+1,G+2);return this},p.prototype.swap64=function(){var V=this.length;if(V%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var G=0;G<V;G+=8)E(this,G,G+7),E(this,G+1,G+6),E(this,G+2,G+5),E(this,G+3,G+4);return this},p.prototype.toString=function(){var V=this.length;return V===0?"":arguments.length===0?D(this,0,V):S.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(V){if(!p.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V||p.compare(this,V)===0},p.prototype.inspect=function(){var V="",G=s.INSPECT_MAX_BYTES;return V=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(V+=" ... "),"<Buffer "+V+">"},h&&(p.prototype[h]=p.prototype.inspect),p.prototype.compare=function(V,G,K,ne,W){if(ee(V,Uint8Array)&&(V=p.from(V,V.offset,V.byteLength)),!p.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l(V));if(G===void 0&&(G=0),K===void 0&&(K=V?V.length:0),ne===void 0&&(ne=0),W===void 0&&(W=this.length),G<0||K>V.length||ne<0||W>this.length)throw new RangeError("out of range index");if(ne>=W&&G>=K)return 0;if(ne>=W)return-1;if(G>=K)return 1;if(this===V)return 0;for(var H=(W>>>=0)-(ne>>>=0),se=(K>>>=0)-(G>>>=0),ce=Math.min(H,se),ue=this.slice(ne,W),be=V.slice(G,K),Se=0;Se<ce;++Se)if(ue[Se]!==be[Se]){H=ue[Se],se=be[Se];break}return H<se?-1:se<H?1:0},p.prototype.includes=function(V,G,K){return this.indexOf(V,G,K)!==-1},p.prototype.indexOf=function(V,G,K){return x(this,V,G,K,!0)},p.prototype.lastIndexOf=function(V,G,K){return x(this,V,G,K,!1)},p.prototype.write=function(V,G,K,ne){if(G===void 0)ne="utf8",K=this.length,G=0;else if(K===void 0&&typeof G=="string")ne=G,K=this.length,G=0;else{if(!isFinite(G))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");G>>>=0,isFinite(K)?(K>>>=0,ne===void 0&&(ne="utf8")):(ne=K,K=void 0)}var W=this.length-G;if((K===void 0||K>W)&&(K=W),V.length>0&&(K<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");for(var H=!1;;)switch(ne){case"hex":return T(this,V,G,K);case"utf8":case"utf-8":return C(this,V,G,K);case"ascii":case"latin1":case"binary":return M(this,V,G,K);case"base64":return N(this,V,G,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,V,G,K);default:if(H)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),H=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var z=4096;function U(V,G,K){var ne="";K=Math.min(V.length,K);for(var W=G;W<K;++W)ne+=String.fromCharCode(127&V[W]);return ne}function O(V,G,K){var ne="";K=Math.min(V.length,K);for(var W=G;W<K;++W)ne+=String.fromCharCode(V[W]);return ne}function I(V,G,K){var ne=V.length;(!G||G<0)&&(G=0),(!K||K<0||K>ne)&&(K=ne);for(var W="",H=G;H<K;++H)W+=le[V[H]];return W}function j(V,G,K){for(var ne=V.slice(G,K),W="",H=0;H<ne.length-1;H+=2)W+=String.fromCharCode(ne[H]+256*ne[H+1]);return W}function P(V,G,K){if(V%1!=0||V<0)throw new RangeError("offset is not uint");if(V+G>K)throw new RangeError("Trying to access beyond buffer length")}function A(V,G,K,ne,W,H){if(!p.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(G>W||G<H)throw new RangeError('"value" argument is out of bounds');if(K+ne>V.length)throw new RangeError("Index out of range")}function $(V,G,K,ne,W,H){if(K+ne>V.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function q(V,G,K,ne,W){return G=+G,K>>>=0,W||$(V,0,K,4),g.write(V,G,K,ne,23,4),K+4}function X(V,G,K,ne,W){return G=+G,K>>>=0,W||$(V,0,K,8),g.write(V,G,K,ne,52,8),K+8}p.prototype.slice=function(V,G){var K=this.length;(V=~~V)<0?(V+=K)<0&&(V=0):V>K&&(V=K),(G=G===void 0?K:~~G)<0?(G+=K)<0&&(G=0):G>K&&(G=K),G<V&&(G=V);var ne=this.subarray(V,G);return Object.setPrototypeOf(ne,p.prototype),ne},p.prototype.readUintLE=p.prototype.readUIntLE=function(V,G,K){V>>>=0,G>>>=0,K||P(V,G,this.length);for(var ne=this[V],W=1,H=0;++H<G&&(W*=256);)ne+=this[V+H]*W;return ne},p.prototype.readUintBE=p.prototype.readUIntBE=function(V,G,K){V>>>=0,G>>>=0,K||P(V,G,this.length);for(var ne=this[V+--G],W=1;G>0&&(W*=256);)ne+=this[V+--G]*W;return ne},p.prototype.readUint8=p.prototype.readUInt8=function(V,G){return V>>>=0,G||P(V,1,this.length),this[V]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(V,G){return V>>>=0,G||P(V,2,this.length),this[V]|this[V+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(V,G){return V>>>=0,G||P(V,2,this.length),this[V]<<8|this[V+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(V,G){return V>>>=0,G||P(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+16777216*this[V+3]},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(V,G){return V>>>=0,G||P(V,4,this.length),16777216*this[V]+(this[V+1]<<16|this[V+2]<<8|this[V+3])},p.prototype.readIntLE=function(V,G,K){V>>>=0,G>>>=0,K||P(V,G,this.length);for(var ne=this[V],W=1,H=0;++H<G&&(W*=256);)ne+=this[V+H]*W;return ne>=(W*=128)&&(ne-=Math.pow(2,8*G)),ne},p.prototype.readIntBE=function(V,G,K){V>>>=0,G>>>=0,K||P(V,G,this.length);for(var ne=G,W=1,H=this[V+--ne];ne>0&&(W*=256);)H+=this[V+--ne]*W;return H>=(W*=128)&&(H-=Math.pow(2,8*G)),H},p.prototype.readInt8=function(V,G){return V>>>=0,G||P(V,1,this.length),128&this[V]?-1*(255-this[V]+1):this[V]},p.prototype.readInt16LE=function(V,G){V>>>=0,G||P(V,2,this.length);var K=this[V]|this[V+1]<<8;return 32768&K?4294901760|K:K},p.prototype.readInt16BE=function(V,G){V>>>=0,G||P(V,2,this.length);var K=this[V+1]|this[V]<<8;return 32768&K?4294901760|K:K},p.prototype.readInt32LE=function(V,G){return V>>>=0,G||P(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},p.prototype.readInt32BE=function(V,G){return V>>>=0,G||P(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},p.prototype.readFloatLE=function(V,G){return V>>>=0,G||P(V,4,this.length),g.read(this,V,!0,23,4)},p.prototype.readFloatBE=function(V,G){return V>>>=0,G||P(V,4,this.length),g.read(this,V,!1,23,4)},p.prototype.readDoubleLE=function(V,G){return V>>>=0,G||P(V,8,this.length),g.read(this,V,!0,52,8)},p.prototype.readDoubleBE=function(V,G){return V>>>=0,G||P(V,8,this.length),g.read(this,V,!1,52,8)},p.prototype.writeUintLE=p.prototype.writeUIntLE=function(V,G,K,ne){V=+V,G>>>=0,K>>>=0,ne||A(this,V,G,K,Math.pow(2,8*K)-1,0);var W=1,H=0;for(this[G]=255&V;++H<K&&(W*=256);)this[G+H]=V/W&255;return G+K},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(V,G,K,ne){V=+V,G>>>=0,K>>>=0,ne||A(this,V,G,K,Math.pow(2,8*K)-1,0);var W=K-1,H=1;for(this[G+W]=255&V;--W>=0&&(H*=256);)this[G+W]=V/H&255;return G+K},p.prototype.writeUint8=p.prototype.writeUInt8=function(V,G,K){return V=+V,G>>>=0,K||A(this,V,G,1,255,0),this[G]=255&V,G+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(V,G,K){return V=+V,G>>>=0,K||A(this,V,G,2,65535,0),this[G]=255&V,this[G+1]=V>>>8,G+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(V,G,K){return V=+V,G>>>=0,K||A(this,V,G,2,65535,0),this[G]=V>>>8,this[G+1]=255&V,G+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(V,G,K){return V=+V,G>>>=0,K||A(this,V,G,4,4294967295,0),this[G+3]=V>>>24,this[G+2]=V>>>16,this[G+1]=V>>>8,this[G]=255&V,G+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(V,G,K){return V=+V,G>>>=0,K||A(this,V,G,4,4294967295,0),this[G]=V>>>24,this[G+1]=V>>>16,this[G+2]=V>>>8,this[G+3]=255&V,G+4},p.prototype.writeIntLE=function(V,G,K,ne){if(V=+V,G>>>=0,!ne){var W=Math.pow(2,8*K-1);A(this,V,G,K,W-1,-W)}var H=0,se=1,ce=0;for(this[G]=255&V;++H<K&&(se*=256);)V<0&&ce===0&&this[G+H-1]!==0&&(ce=1),this[G+H]=(V/se|0)-ce&255;return G+K},p.prototype.writeIntBE=function(V,G,K,ne){if(V=+V,G>>>=0,!ne){var W=Math.pow(2,8*K-1);A(this,V,G,K,W-1,-W)}var H=K-1,se=1,ce=0;for(this[G+H]=255&V;--H>=0&&(se*=256);)V<0&&ce===0&&this[G+H+1]!==0&&(ce=1),this[G+H]=(V/se|0)-ce&255;return G+K},p.prototype.writeInt8=function(V,G,K){return V=+V,G>>>=0,K||A(this,V,G,1,127,-128),V<0&&(V=255+V+1),this[G]=255&V,G+1},p.prototype.writeInt16LE=function(V,G,K){return V=+V,G>>>=0,K||A(this,V,G,2,32767,-32768),this[G]=255&V,this[G+1]=V>>>8,G+2},p.prototype.writeInt16BE=function(V,G,K){return V=+V,G>>>=0,K||A(this,V,G,2,32767,-32768),this[G]=V>>>8,this[G+1]=255&V,G+2},p.prototype.writeInt32LE=function(V,G,K){return V=+V,G>>>=0,K||A(this,V,G,4,2147483647,-2147483648),this[G]=255&V,this[G+1]=V>>>8,this[G+2]=V>>>16,this[G+3]=V>>>24,G+4},p.prototype.writeInt32BE=function(V,G,K){return V=+V,G>>>=0,K||A(this,V,G,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[G]=V>>>24,this[G+1]=V>>>16,this[G+2]=V>>>8,this[G+3]=255&V,G+4},p.prototype.writeFloatLE=function(V,G,K){return q(this,V,G,!0,K)},p.prototype.writeFloatBE=function(V,G,K){return q(this,V,G,!1,K)},p.prototype.writeDoubleLE=function(V,G,K){return X(this,V,G,!0,K)},p.prototype.writeDoubleBE=function(V,G,K){return X(this,V,G,!1,K)},p.prototype.copy=function(V,G,K,ne){if(!p.isBuffer(V))throw new TypeError("argument should be a Buffer");if(K||(K=0),ne||ne===0||(ne=this.length),G>=V.length&&(G=V.length),G||(G=0),ne>0&&ne<K&&(ne=K),ne===K||V.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),V.length-G<ne-K&&(ne=V.length-G+K);var W=ne-K;return this===V&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(G,K,ne):Uint8Array.prototype.set.call(V,this.subarray(K,ne),G),W},p.prototype.fill=function(V,G,K,ne){if(typeof V=="string"){if(typeof G=="string"?(ne=G,G=0,K=this.length):typeof K=="string"&&(ne=K,K=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!p.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(V.length===1){var W=V.charCodeAt(0);(ne==="utf8"&&W<128||ne==="latin1")&&(V=W)}}else typeof V=="number"?V&=255:typeof V=="boolean"&&(V=Number(V));if(G<0||this.length<G||this.length<K)throw new RangeError("Out of range index");if(K<=G)return this;var H;if(G>>>=0,K=K===void 0?this.length:K>>>0,V||(V=0),typeof V=="number")for(H=G;H<K;++H)this[H]=V;else{var se=p.isBuffer(V)?V:p.from(V,ne),ce=se.length;if(ce===0)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(H=0;H<K-G;++H)this[H+G]=se[H%ce]}return this};var te=/[^+/0-9A-Za-z-_]/g;function re(V,G){var K;G=G||1/0;for(var ne=V.length,W=null,H=[],se=0;se<ne;++se){if((K=V.charCodeAt(se))>55295&&K<57344){if(!W){if(K>56319){(G-=3)>-1&&H.push(239,191,189);continue}if(se+1===ne){(G-=3)>-1&&H.push(239,191,189);continue}W=K;continue}if(K<56320){(G-=3)>-1&&H.push(239,191,189),W=K;continue}K=65536+(W-55296<<10|K-56320)}else W&&(G-=3)>-1&&H.push(239,191,189);if(W=null,K<128){if((G-=1)<0)break;H.push(K)}else if(K<2048){if((G-=2)<0)break;H.push(K>>6|192,63&K|128)}else if(K<65536){if((G-=3)<0)break;H.push(K>>12|224,K>>6&63|128,63&K|128)}else{if(!(K<1114112))throw new Error("Invalid code point");if((G-=4)<0)break;H.push(K>>18|240,K>>12&63|128,K>>6&63|128,63&K|128)}}return H}function ie(V){return u.toByteArray(function(G){if((G=(G=G.split("=")[0]).trim().replace(te,"")).length<2)return"";for(;G.length%4!=0;)G+="=";return G}(V))}function Z(V,G,K,ne){for(var W=0;W<ne&&!(W+K>=G.length||W>=V.length);++W)G[W+K]=V[W];return W}function ee(V,G){return V instanceof G||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===G.name}function de(V){return V!=V}var le=function(){for(var V="0123456789abcdef",G=new Array(256),K=0;K<16;++K)for(var ne=16*K,W=0;W<16;++W)G[ne+W]=V[K]+V[W];return G}()},8780:(o,s,i)=>{var l=i(6893),u=i(3862),g=u(l("String.prototype.indexOf"));o.exports=function(h,b){var w=l(h,!!b);return typeof w=="function"&&g(h,".prototype.")>-1?u(w):w}},3862:(o,s,i)=>{var l=i(5246),u=i(6893),g=i(2637),h=i(4820),b=u("%Function.prototype.apply%"),w=u("%Function.prototype.call%"),p=u("%Reflect.apply%",!0)||l.call(w,b),d=i(7385),y=u("%Math.max%");o.exports=function(c){if(typeof c!="function")throw new h("a function is required");var f=p(l,w,arguments);return g(f,1+y(0,c.length-(arguments.length-1)),!0)};var m=function(){return p(l,b,arguments)};d?d(o.exports,"apply",{value:m}):o.exports.apply=m},8842:(o,s,i)=>{var l=i(9047).Buffer,u=i(4723).Transform,g=i(113).s;function h(b){u.call(this),this.hashMode=typeof b=="string",this.hashMode?this[b]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}i(376)(h,u),h.prototype.update=function(b,w,p){typeof b=="string"&&(b=l.from(b,w));var d=this._update(b);return this.hashMode?this:(p&&(d=this._toString(d,p)),d)},h.prototype.setAutoPadding=function(){},h.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},h.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},h.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},h.prototype._transform=function(b,w,p){var d;try{this.hashMode?this._update(b):this.push(this._update(b))}catch(y){d=y}finally{p(d)}},h.prototype._flush=function(b){var w;try{this.push(this.__final())}catch(p){w=p}b(w)},h.prototype._finalOrDigest=function(b){var w=this.__final()||l.alloc(0);return b&&(w=this._toString(w,b,!0)),w},h.prototype._toString=function(b,w,p){if(this._decoder||(this._decoder=new g(w),this._encoding=w),this._encoding!==w)throw new Error("can't switch encodings");var d=this._decoder.write(b);return p&&(d+=this._decoder.end()),d},o.exports=h},2077:(o,s,i)=>{function l(g){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(g)}function u(g){return Object.prototype.toString.call(g)}s.isArray=function(g){return Array.isArray?Array.isArray(g):u(g)==="[object Array]"},s.isBoolean=function(g){return typeof g=="boolean"},s.isNull=function(g){return g===null},s.isNullOrUndefined=function(g){return g==null},s.isNumber=function(g){return typeof g=="number"},s.isString=function(g){return typeof g=="string"},s.isSymbol=function(g){return l(g)==="symbol"},s.isUndefined=function(g){return g===void 0},s.isRegExp=function(g){return u(g)==="[object RegExp]"},s.isObject=function(g){return l(g)==="object"&&g!==null},s.isDate=function(g){return u(g)==="[object Date]"},s.isError=function(g){return u(g)==="[object Error]"||g instanceof Error},s.isFunction=function(g){return typeof g=="function"},s.isPrimitive=function(g){return g===null||typeof g=="boolean"||typeof g=="number"||typeof g=="string"||l(g)==="symbol"||g===void 0},s.isBuffer=i(365).Buffer.isBuffer},4637:(o,s,i)=>{var l=i(365).Buffer,u=i(8333),g=i(815);o.exports=function(p){return new b(p)};var h={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function b(p){this.curveType=h[p],this.curveType||(this.curveType={name:p}),this.curve=new u.ec(this.curveType.name),this.keys=void 0}function w(p,d,y){Array.isArray(p)||(p=p.toArray());var m=new l(p);if(y&&m.length<y){var c=new l(y-m.length);c.fill(0),m=l.concat([c,m])}return d?m.toString(d):m}h.p224=h.secp224r1,h.p256=h.secp256r1=h.prime256v1,h.p192=h.secp192r1=h.prime192v1,h.p384=h.secp384r1,h.p521=h.secp521r1,b.prototype.generateKeys=function(p,d){return this.keys=this.curve.genKeyPair(),this.getPublicKey(p,d)},b.prototype.computeSecret=function(p,d,y){return d=d||"utf8",l.isBuffer(p)||(p=new l(p,d)),w(this.curve.keyFromPublic(p).getPublic().mul(this.keys.getPrivate()).getX(),y,this.curveType.byteLength)},b.prototype.getPublicKey=function(p,d){var y=this.keys.getPublic(d==="compressed",!0);return d==="hybrid"&&(y[y.length-1]%2?y[0]=7:y[0]=6),w(y,p)},b.prototype.getPrivateKey=function(p){return w(this.keys.getPrivate(),p)},b.prototype.setPublicKey=function(p,d){return d=d||"utf8",l.isBuffer(p)||(p=new l(p,d)),this.keys._importPublic(p),this},b.prototype.setPrivateKey=function(p,d){d=d||"utf8",l.isBuffer(p)||(p=new l(p,d));var y=new g(p);return y=y.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(y),this}},8339:(o,s,i)=>{var l=i(376),u=i(722),g=i(8100),h=i(1806),b=i(8842);function w(p){b.call(this,"digest"),this._hash=p}l(w,b),w.prototype._update=function(p){this._hash.update(p)},w.prototype._final=function(){return this._hash.digest()},o.exports=function(p){return(p=p.toLowerCase())==="md5"?new u:p==="rmd160"||p==="ripemd160"?new g:new w(h(p))}},3277:(o,s,i)=>{var l=i(722);o.exports=function(u){return new l().update(u).digest()}},8736:(o,s,i)=>{var l=i(376),u=i(2912),g=i(8842),h=i(9047).Buffer,b=i(3277),w=i(8100),p=i(1806),d=h.alloc(128);function y(m,c){g.call(this,"digest"),typeof c=="string"&&(c=h.from(c));var f=m==="sha512"||m==="sha384"?128:64;this._alg=m,this._key=c,c.length>f?c=(m==="rmd160"?new w:p(m)).update(c).digest():c.length<f&&(c=h.concat([c,d],f));for(var v=this._ipad=h.allocUnsafe(f),_=this._opad=h.allocUnsafe(f),S=0;S<f;S++)v[S]=54^c[S],_[S]=92^c[S];this._hash=m==="rmd160"?new w:p(m),this._hash.update(v)}l(y,g),y.prototype._update=function(m){this._hash.update(m)},y.prototype._final=function(){var m=this._hash.digest();return(this._alg==="rmd160"?new w:p(this._alg)).update(this._opad).update(m).digest()},o.exports=function(m,c){return(m=m.toLowerCase())==="rmd160"||m==="ripemd160"?new y("rmd160",c):m==="md5"?new u(b,c):new y(m,c)}},2912:(o,s,i)=>{var l=i(376),u=i(9047).Buffer,g=i(8842),h=u.alloc(128),b=64;function w(p,d){g.call(this,"digest"),typeof d=="string"&&(d=u.from(d)),this._alg=p,this._key=d,d.length>b?d=p(d):d.length<b&&(d=u.concat([d,h],b));for(var y=this._ipad=u.allocUnsafe(b),m=this._opad=u.allocUnsafe(b),c=0;c<b;c++)y[c]=54^d[c],m[c]=92^d[c];this._hash=[y]}l(w,g),w.prototype._update=function(p){this._hash.push(p)},w.prototype._final=function(){var p=this._alg(u.concat(this._hash));return this._alg(u.concat([this._opad,p]))},o.exports=w},462:(o,s,i)=>{s.O6=i(5760),i(8339),i(8736),i(3363);var l=i(9379);l.pbkdf2,l.pbkdf2Sync;var u=i(5972);u.Cipher,u.createCipher,u.Cipheriv,u.createCipheriv,u.Decipher,u.createDecipher,u.Decipheriv,u.createDecipheriv,u.getCiphers,u.listCiphers;var g=i(1822);g.DiffieHellmanGroup,g.createDiffieHellmanGroup,g.getDiffieHellman,g.createDiffieHellman,g.DiffieHellman;var h=i(1022);h.createSign,h.Sign,h.createVerify,h.Verify,i(4637);var b=i(2368);b.publicEncrypt,b.privateEncrypt,b.publicDecrypt,b.privateDecrypt;var w=i(9301);w.randomFill,w.randomFillSync},3793:(o,s,i)=>{function l(w){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},l(w)}var u=i(7385),g=i(5710),h=i(4820),b=i(1554);o.exports=function(w,p,d){if(!w||l(w)!=="object"&&typeof w!="function")throw new h("`obj` must be an object or a function`");if(typeof p!="string"&&l(p)!=="symbol")throw new h("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new h("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new h("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new h("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new h("`loose`, if provided, must be a boolean");var y=arguments.length>3?arguments[3]:null,m=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,f=arguments.length>6&&arguments[6],v=!!b&&b(w,p);if(u)u(w,p,{configurable:c===null&&v?v.configurable:!c,enumerable:y===null&&v?v.enumerable:!y,value:d,writable:m===null&&v?v.writable:!m});else{if(!f&&(y||m||c))throw new g("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");w[p]=d}}},7921:(o,s,i)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},l(m)}var u=i(3818),g=typeof Symbol=="function"&&l(Symbol("foo"))==="symbol",h=Object.prototype.toString,b=Array.prototype.concat,w=i(3793),p=i(2579)(),d=function(m,c,f,v){if(c in m){if(v===!0){if(m[c]===f)return}else if(typeof(_=v)!="function"||h.call(_)!=="[object Function]"||!v())return}var _;p?w(m,c,f,!0):w(m,c,f)},y=function(m,c){var f=arguments.length>2?arguments[2]:{},v=u(c);g&&(v=b.call(v,Object.getOwnPropertySymbols(c)));for(var _=0;_<v.length;_+=1)d(m,v[_],c[v[_]],f[v[_]])};y.supportsDescriptors=!!p,o.exports=y},167:(o,s,i)=>{s.utils=i(5061),s.Cipher=i(7499),s.DES=i(9484),s.CBC=i(8254),s.EDE=i(5573)},8254:(o,s,i)=>{var l=i(1130),u=i(376),g={};function h(b){l.equal(b.length,8,"Invalid IV length"),this.iv=new Array(8);for(var w=0;w<this.iv.length;w++)this.iv[w]=b[w]}s.instantiate=function(b){function w(m){b.call(this,m),this._cbcInit()}u(w,b);for(var p=Object.keys(g),d=0;d<p.length;d++){var y=p[d];w.prototype[y]=g[y]}return w.create=function(m){return new w(m)},w},g._cbcInit=function(){var b=new h(this.options.iv);this._cbcState=b},g._update=function(b,w,p,d){var y=this._cbcState,m=this.constructor.super_.prototype,c=y.iv;if(this.type==="encrypt"){for(var f=0;f<this.blockSize;f++)c[f]^=b[w+f];for(m._update.call(this,c,0,p,d),f=0;f<this.blockSize;f++)c[f]=p[d+f]}else{for(m._update.call(this,b,w,p,d),f=0;f<this.blockSize;f++)p[d+f]^=c[f];for(f=0;f<this.blockSize;f++)c[f]=b[w+f]}}},7499:(o,s,i)=>{var l=i(1130);function u(g){this.options=g,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=g.padding!==!1}o.exports=u,u.prototype._init=function(){},u.prototype.update=function(g){return g.length===0?[]:this.type==="decrypt"?this._updateDecrypt(g):this._updateEncrypt(g)},u.prototype._buffer=function(g,h){for(var b=Math.min(this.buffer.length-this.bufferOff,g.length-h),w=0;w<b;w++)this.buffer[this.bufferOff+w]=g[h+w];return this.bufferOff+=b,b},u.prototype._flushBuffer=function(g,h){return this._update(this.buffer,0,g,h),this.bufferOff=0,this.blockSize},u.prototype._updateEncrypt=function(g){var h=0,b=0,w=(this.bufferOff+g.length)/this.blockSize|0,p=new Array(w*this.blockSize);this.bufferOff!==0&&(h+=this._buffer(g,h),this.bufferOff===this.buffer.length&&(b+=this._flushBuffer(p,b)));for(var d=g.length-(g.length-h)%this.blockSize;h<d;h+=this.blockSize)this._update(g,h,p,b),b+=this.blockSize;for(;h<g.length;h++,this.bufferOff++)this.buffer[this.bufferOff]=g[h];return p},u.prototype._updateDecrypt=function(g){for(var h=0,b=0,w=Math.ceil((this.bufferOff+g.length)/this.blockSize)-1,p=new Array(w*this.blockSize);w>0;w--)h+=this._buffer(g,h),b+=this._flushBuffer(p,b);return h+=this._buffer(g,h),p},u.prototype.final=function(g){var h,b;return g&&(h=this.update(g)),b=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),h?h.concat(b):b},u.prototype._pad=function(g,h){if(h===0)return!1;for(;h<g.length;)g[h++]=0;return!0},u.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var g=new Array(this.blockSize);return this._update(this.buffer,0,g,0),g},u.prototype._unpad=function(g){return g},u.prototype._finalDecrypt=function(){l.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var g=new Array(this.blockSize);return this._flushBuffer(g,0),this._unpad(g)}},9484:(o,s,i)=>{var l=i(1130),u=i(376),g=i(5061),h=i(7499);function b(){this.tmp=new Array(2),this.keys=null}function w(d){h.call(this,d);var y=new b;this._desState=y,this.deriveKeys(y,d.key)}u(w,h),o.exports=w,w.create=function(d){return new w(d)};var p=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];w.prototype.deriveKeys=function(d,y){d.keys=new Array(32),l.equal(y.length,this.blockSize,"Invalid key length");var m=g.readUInt32BE(y,0),c=g.readUInt32BE(y,4);g.pc1(m,c,d.tmp,0),m=d.tmp[0],c=d.tmp[1];for(var f=0;f<d.keys.length;f+=2){var v=p[f>>>1];m=g.r28shl(m,v),c=g.r28shl(c,v),g.pc2(m,c,d.keys,f)}},w.prototype._update=function(d,y,m,c){var f=this._desState,v=g.readUInt32BE(d,y),_=g.readUInt32BE(d,y+4);g.ip(v,_,f.tmp,0),v=f.tmp[0],_=f.tmp[1],this.type==="encrypt"?this._encrypt(f,v,_,f.tmp,0):this._decrypt(f,v,_,f.tmp,0),v=f.tmp[0],_=f.tmp[1],g.writeUInt32BE(m,v,c),g.writeUInt32BE(m,_,c+4)},w.prototype._pad=function(d,y){if(this.padding===!1)return!1;for(var m=d.length-y,c=y;c<d.length;c++)d[c]=m;return!0},w.prototype._unpad=function(d){if(this.padding===!1)return d;for(var y=d[d.length-1],m=d.length-y;m<d.length;m++)l.equal(d[m],y);return d.slice(0,d.length-y)},w.prototype._encrypt=function(d,y,m,c,f){for(var v=y,_=m,S=0;S<d.keys.length;S+=2){var E=d.keys[S],x=d.keys[S+1];g.expand(_,d.tmp,0),E^=d.tmp[0],x^=d.tmp[1];var k=g.substitute(E,x),T=_;_=(v^g.permute(k))>>>0,v=T}g.rip(_,v,c,f)},w.prototype._decrypt=function(d,y,m,c,f){for(var v=m,_=y,S=d.keys.length-2;S>=0;S-=2){var E=d.keys[S],x=d.keys[S+1];g.expand(v,d.tmp,0),E^=d.tmp[0],x^=d.tmp[1];var k=g.substitute(E,x),T=v;v=(_^g.permute(k))>>>0,_=T}g.rip(v,_,c,f)}},5573:(o,s,i)=>{var l=i(1130),u=i(376),g=i(7499),h=i(9484);function b(p,d){l.equal(d.length,24,"Invalid key length");var y=d.slice(0,8),m=d.slice(8,16),c=d.slice(16,24);this.ciphers=p==="encrypt"?[h.create({type:"encrypt",key:y}),h.create({type:"decrypt",key:m}),h.create({type:"encrypt",key:c})]:[h.create({type:"decrypt",key:c}),h.create({type:"encrypt",key:m}),h.create({type:"decrypt",key:y})]}function w(p){g.call(this,p);var d=new b(this.type,this.options.key);this._edeState=d}u(w,g),o.exports=w,w.create=function(p){return new w(p)},w.prototype._update=function(p,d,y,m){var c=this._edeState;c.ciphers[0]._update(p,d,y,m),c.ciphers[1]._update(y,m,y,m),c.ciphers[2]._update(y,m,y,m)},w.prototype._pad=h.prototype._pad,w.prototype._unpad=h.prototype._unpad},5061:(o,s)=>{s.readUInt32BE=function(g,h){return(g[0+h]<<24|g[1+h]<<16|g[2+h]<<8|g[3+h])>>>0},s.writeUInt32BE=function(g,h,b){g[0+b]=h>>>24,g[1+b]=h>>>16&255,g[2+b]=h>>>8&255,g[3+b]=255&h},s.ip=function(g,h,b,w){for(var p=0,d=0,y=6;y>=0;y-=2){for(var m=0;m<=24;m+=8)p<<=1,p|=h>>>m+y&1;for(m=0;m<=24;m+=8)p<<=1,p|=g>>>m+y&1}for(y=6;y>=0;y-=2){for(m=1;m<=25;m+=8)d<<=1,d|=h>>>m+y&1;for(m=1;m<=25;m+=8)d<<=1,d|=g>>>m+y&1}b[w+0]=p>>>0,b[w+1]=d>>>0},s.rip=function(g,h,b,w){for(var p=0,d=0,y=0;y<4;y++)for(var m=24;m>=0;m-=8)p<<=1,p|=h>>>m+y&1,p<<=1,p|=g>>>m+y&1;for(y=4;y<8;y++)for(m=24;m>=0;m-=8)d<<=1,d|=h>>>m+y&1,d<<=1,d|=g>>>m+y&1;b[w+0]=p>>>0,b[w+1]=d>>>0},s.pc1=function(g,h,b,w){for(var p=0,d=0,y=7;y>=5;y--){for(var m=0;m<=24;m+=8)p<<=1,p|=h>>m+y&1;for(m=0;m<=24;m+=8)p<<=1,p|=g>>m+y&1}for(m=0;m<=24;m+=8)p<<=1,p|=h>>m+y&1;for(y=1;y<=3;y++){for(m=0;m<=24;m+=8)d<<=1,d|=h>>m+y&1;for(m=0;m<=24;m+=8)d<<=1,d|=g>>m+y&1}for(m=0;m<=24;m+=8)d<<=1,d|=g>>m+y&1;b[w+0]=p>>>0,b[w+1]=d>>>0},s.r28shl=function(g,h){return g<<h&268435455|g>>>28-h};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];s.pc2=function(g,h,b,w){for(var p=0,d=0,y=i.length>>>1,m=0;m<y;m++)p<<=1,p|=g>>>i[m]&1;for(m=y;m<i.length;m++)d<<=1,d|=h>>>i[m]&1;b[w+0]=p>>>0,b[w+1]=d>>>0},s.expand=function(g,h,b){var w=0,p=0;w=(1&g)<<5|g>>>27;for(var d=23;d>=15;d-=4)w<<=6,w|=g>>>d&63;for(d=11;d>=3;d-=4)p|=g>>>d&63,p<<=6;p|=(31&g)<<1|g>>>31,h[b+0]=w>>>0,h[b+1]=p>>>0};var l=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];s.substitute=function(g,h){for(var b=0,w=0;w<4;w++)b<<=4,b|=l[64*w+(g>>>18-6*w&63)];for(w=0;w<4;w++)b<<=4,b|=l[256+64*w+(h>>>18-6*w&63)];return b>>>0};var u=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];s.permute=function(g){for(var h=0,b=0;b<u.length;b++)h<<=1,h|=g>>>u[b]&1;return h>>>0},s.padSplit=function(g,h,b){for(var w=g.toString(2);w.length<h;)w="0"+w;for(var p=[],d=0;d<h;d+=b)p.push(w.slice(d,d+b));return p.join(" ")}},1822:(o,s,i)=>{var l=i(365).Buffer,u=i(2227),g=i(9799),h=i(6951),b={binary:!0,hex:!0,base64:!0};s.DiffieHellmanGroup=s.createDiffieHellmanGroup=s.getDiffieHellman=function(w){var p=new l(g[w].prime,"hex"),d=new l(g[w].gen,"hex");return new h(p,d)},s.createDiffieHellman=s.DiffieHellman=function w(p,d,y,m){return l.isBuffer(d)||b[d]===void 0?w(p,"binary",d,y):(d=d||"binary",m=m||"binary",y=y||new l([2]),l.isBuffer(y)||(y=new l(y,m)),typeof p=="number"?new h(u(p,y),y,!0):(l.isBuffer(p)||(p=new l(p,d)),new h(p,y,!0)))}},6951:(o,s,i)=>{var l=i(365).Buffer,u=i(815),g=new(i(9318)),h=new u(24),b=new u(11),w=new u(10),p=new u(3),d=new u(7),y=i(2227),m=i(5760);function c(E,x){return x=x||"utf8",l.isBuffer(E)||(E=new l(E,x)),this._pub=new u(E),this}function f(E,x){return x=x||"utf8",l.isBuffer(E)||(E=new l(E,x)),this._priv=new u(E),this}o.exports=_;var v={};function _(E,x,k){this.setGenerator(x),this.__prime=new u(E),this._prime=u.mont(this.__prime),this._primeLen=E.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,k?(this.setPublicKey=c,this.setPrivateKey=f):this._primeCode=8}function S(E,x){var k=new l(E.toArray());return x?k.toString(x):k}Object.defineProperty(_.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(E,x){var k=x.toString("hex"),T=[k,E.toString(16)].join("_");if(T in v)return v[T];var C,M=0;if(E.isEven()||!y.simpleSieve||!y.fermatTest(E)||!g.test(E))return M+=1,M+=k==="02"||k==="05"?8:4,v[T]=M,M;switch(g.test(E.shrn(1))||(M+=2),k){case"02":E.mod(h).cmp(b)&&(M+=8);break;case"05":(C=E.mod(w)).cmp(p)&&C.cmp(d)&&(M+=8);break;default:M+=4}return v[T]=M,M}(this.__prime,this.__gen)),this._primeCode}}),_.prototype.generateKeys=function(){return this._priv||(this._priv=new u(m(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},_.prototype.computeSecret=function(E){var x=(E=(E=new u(E)).toRed(this._prime)).redPow(this._priv).fromRed(),k=new l(x.toArray()),T=this.getPrime();if(k.length<T.length){var C=new l(T.length-k.length);C.fill(0),k=l.concat([C,k])}return k},_.prototype.getPublicKey=function(E){return S(this._pub,E)},_.prototype.getPrivateKey=function(E){return S(this._priv,E)},_.prototype.getPrime=function(E){return S(this.__prime,E)},_.prototype.getGenerator=function(E){return S(this._gen,E)},_.prototype.setGenerator=function(E,x){return x=x||"utf8",l.isBuffer(E)||(E=new l(E,x)),this.__gen=E,this._gen=new u(E),this}},2227:(o,s,i)=>{var l=i(5760);o.exports=E,E.simpleSieve=_,E.fermatTest=S;var u=i(815),g=new u(24),h=new(i(9318)),b=new u(1),w=new u(2),p=new u(5),d=(new u(16),new u(8),new u(10)),y=new u(3),m=(new u(7),new u(11)),c=new u(4),f=(new u(12),null);function v(){if(f!==null)return f;var x=[];x[0]=2;for(var k=1,T=3;T<1048576;T+=2){for(var C=Math.ceil(Math.sqrt(T)),M=0;M<k&&x[M]<=C&&T%x[M]!=0;M++);k!==M&&x[M]<=C||(x[k++]=T)}return f=x,x}function _(x){for(var k=v(),T=0;T<k.length;T++)if(x.modn(k[T])===0)return x.cmpn(k[T])===0;return!0}function S(x){var k=u.mont(x);return w.toRed(k).redPow(x.subn(1)).fromRed().cmpn(1)===0}function E(x,k){if(x<16)return new u(k===2||k===5?[140,123]:[140,39]);var T,C;for(k=new u(k);;){for(T=new u(l(Math.ceil(x/8)));T.bitLength()>x;)T.ishrn(1);if(T.isEven()&&T.iadd(b),T.testn(1)||T.iadd(w),k.cmp(w)){if(!k.cmp(p))for(;T.mod(d).cmp(y);)T.iadd(c)}else for(;T.mod(g).cmp(m);)T.iadd(c);if(_(C=T.shrn(1))&&_(T)&&S(C)&&S(T)&&h.test(C)&&h.test(T))return T}}},8333:(o,s,i)=>{var l=s;l.version=i(8597).i8,l.utils=i(7891),l.rand=i(7179),l.curve=i(4720),l.curves=i(1478),l.ec=i(5806),l.eddsa=i(8318)},9952:(o,s,i)=>{var l=i(815),u=i(7891),g=u.getNAF,h=u.getJSF,b=u.assert;function w(d,y){this.type=d,this.p=new l(y.p,16),this.red=y.prime?l.red(y.prime):l.mont(this.p),this.zero=new l(0).toRed(this.red),this.one=new l(1).toRed(this.red),this.two=new l(2).toRed(this.red),this.n=y.n&&new l(y.n,16),this.g=y.g&&this.pointFromJSON(y.g,y.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var m=this.n&&this.p.div(this.n);!m||m.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function p(d,y){this.curve=d,this.type=y,this.precomputed=null}o.exports=w,w.prototype.point=function(){throw new Error("Not implemented")},w.prototype.validate=function(){throw new Error("Not implemented")},w.prototype._fixedNafMul=function(d,y){b(d.precomputed);var m=d._getDoubles(),c=g(y,1,this._bitLength),f=(1<<m.step+1)-(m.step%2==0?2:1);f/=3;var v,_,S=[];for(v=0;v<c.length;v+=m.step){_=0;for(var E=v+m.step-1;E>=v;E--)_=(_<<1)+c[E];S.push(_)}for(var x=this.jpoint(null,null,null),k=this.jpoint(null,null,null),T=f;T>0;T--){for(v=0;v<S.length;v++)(_=S[v])===T?k=k.mixedAdd(m.points[v]):_===-T&&(k=k.mixedAdd(m.points[v].neg()));x=x.add(k)}return x.toP()},w.prototype._wnafMul=function(d,y){var m=4,c=d._getNAFPoints(m);m=c.wnd;for(var f=c.points,v=g(y,m,this._bitLength),_=this.jpoint(null,null,null),S=v.length-1;S>=0;S--){for(var E=0;S>=0&&v[S]===0;S--)E++;if(S>=0&&E++,_=_.dblp(E),S<0)break;var x=v[S];b(x!==0),_=d.type==="affine"?x>0?_.mixedAdd(f[x-1>>1]):_.mixedAdd(f[-x-1>>1].neg()):x>0?_.add(f[x-1>>1]):_.add(f[-x-1>>1].neg())}return d.type==="affine"?_.toP():_},w.prototype._wnafMulAdd=function(d,y,m,c,f){var v,_,S,E=this._wnafT1,x=this._wnafT2,k=this._wnafT3,T=0;for(v=0;v<c;v++){var C=(S=y[v])._getNAFPoints(d);E[v]=C.wnd,x[v]=C.points}for(v=c-1;v>=1;v-=2){var M=v-1,N=v;if(E[M]===1&&E[N]===1){var L=[y[M],null,null,y[N]];y[M].y.cmp(y[N].y)===0?(L[1]=y[M].add(y[N]),L[2]=y[M].toJ().mixedAdd(y[N].neg())):y[M].y.cmp(y[N].y.redNeg())===0?(L[1]=y[M].toJ().mixedAdd(y[N]),L[2]=y[M].add(y[N].neg())):(L[1]=y[M].toJ().mixedAdd(y[N]),L[2]=y[M].toJ().mixedAdd(y[N].neg()));var R=[-3,-1,-5,-7,0,7,5,1,3],D=h(m[M],m[N]);for(T=Math.max(D[0].length,T),k[M]=new Array(T),k[N]=new Array(T),_=0;_<T;_++){var z=0|D[0][_],U=0|D[1][_];k[M][_]=R[3*(z+1)+(U+1)],k[N][_]=0,x[M]=L}}else k[M]=g(m[M],E[M],this._bitLength),k[N]=g(m[N],E[N],this._bitLength),T=Math.max(k[M].length,T),T=Math.max(k[N].length,T)}var O=this.jpoint(null,null,null),I=this._wnafT4;for(v=T;v>=0;v--){for(var j=0;v>=0;){var P=!0;for(_=0;_<c;_++)I[_]=0|k[_][v],I[_]!==0&&(P=!1);if(!P)break;j++,v--}if(v>=0&&j++,O=O.dblp(j),v<0)break;for(_=0;_<c;_++){var A=I[_];A!==0&&(A>0?S=x[_][A-1>>1]:A<0&&(S=x[_][-A-1>>1].neg()),O=S.type==="affine"?O.mixedAdd(S):O.add(S))}}for(v=0;v<c;v++)x[v]=null;return f?O:O.toP()},w.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},w.prototype.decodePoint=function(d,y){d=u.toArray(d,y);var m=this.p.byteLength();if((d[0]===4||d[0]===6||d[0]===7)&&d.length-1==2*m)return d[0]===6?b(d[d.length-1]%2==0):d[0]===7&&b(d[d.length-1]%2==1),this.point(d.slice(1,1+m),d.slice(1+m,1+2*m));if((d[0]===2||d[0]===3)&&d.length-1===m)return this.pointFromX(d.slice(1,1+m),d[0]===3);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(d){return this.encode(d,!0)},p.prototype._encode=function(d){var y=this.curve.p.byteLength(),m=this.getX().toArray("be",y);return d?[this.getY().isEven()?2:3].concat(m):[4].concat(m,this.getY().toArray("be",y))},p.prototype.encode=function(d,y){return u.encode(this._encode(y),d)},p.prototype.precompute=function(d){if(this.precomputed)return this;var y={doubles:null,naf:null,beta:null};return y.naf=this._getNAFPoints(8),y.doubles=this._getDoubles(4,d),y.beta=this._getBeta(),this.precomputed=y,this},p.prototype._hasDoubles=function(d){if(!this.precomputed)return!1;var y=this.precomputed.doubles;return!!y&&y.points.length>=Math.ceil((d.bitLength()+1)/y.step)},p.prototype._getDoubles=function(d,y){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var m=[this],c=this,f=0;f<y;f+=d){for(var v=0;v<d;v++)c=c.dbl();m.push(c)}return{step:d,points:m}},p.prototype._getNAFPoints=function(d){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var y=[this],m=(1<<d)-1,c=m===1?null:this.dbl(),f=1;f<m;f++)y[f]=y[f-1].add(c);return{wnd:d,points:y}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(d){for(var y=this,m=0;m<d;m++)y=y.dbl();return y}},958:(o,s,i)=>{var l=i(7891),u=i(815),g=i(376),h=i(9952),b=l.assert;function w(d){this.twisted=(0|d.a)!=1,this.mOneA=this.twisted&&(0|d.a)==-1,this.extended=this.mOneA,h.call(this,"edwards",d),this.a=new u(d.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new u(d.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new u(d.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),b(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|d.c)==1}function p(d,y,m,c,f){h.BasePoint.call(this,d,"projective"),y===null&&m===null&&c===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new u(y,16),this.y=new u(m,16),this.z=c?new u(c,16):this.curve.one,this.t=f&&new u(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}g(w,h),o.exports=w,w.prototype._mulA=function(d){return this.mOneA?d.redNeg():this.a.redMul(d)},w.prototype._mulC=function(d){return this.oneC?d:this.c.redMul(d)},w.prototype.jpoint=function(d,y,m,c){return this.point(d,y,m,c)},w.prototype.pointFromX=function(d,y){(d=new u(d,16)).red||(d=d.toRed(this.red));var m=d.redSqr(),c=this.c2.redSub(this.a.redMul(m)),f=this.one.redSub(this.c2.redMul(this.d).redMul(m)),v=c.redMul(f.redInvm()),_=v.redSqrt();if(_.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var S=_.fromRed().isOdd();return(y&&!S||!y&&S)&&(_=_.redNeg()),this.point(d,_)},w.prototype.pointFromY=function(d,y){(d=new u(d,16)).red||(d=d.toRed(this.red));var m=d.redSqr(),c=m.redSub(this.c2),f=m.redMul(this.d).redMul(this.c2).redSub(this.a),v=c.redMul(f.redInvm());if(v.cmp(this.zero)===0){if(y)throw new Error("invalid point");return this.point(this.zero,d)}var _=v.redSqrt();if(_.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return _.fromRed().isOdd()!==y&&(_=_.redNeg()),this.point(_,d)},w.prototype.validate=function(d){if(d.isInfinity())return!0;d.normalize();var y=d.x.redSqr(),m=d.y.redSqr(),c=y.redMul(this.a).redAdd(m),f=this.c2.redMul(this.one.redAdd(this.d.redMul(y).redMul(m)));return c.cmp(f)===0},g(p,h.BasePoint),w.prototype.pointFromJSON=function(d){return p.fromJSON(this,d)},w.prototype.point=function(d,y,m,c){return new p(this,d,y,m,c)},p.fromJSON=function(d,y){return new p(d,y[0],y[1],y[2])},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},p.prototype._extDbl=function(){var d=this.x.redSqr(),y=this.y.redSqr(),m=this.z.redSqr();m=m.redIAdd(m);var c=this.curve._mulA(d),f=this.x.redAdd(this.y).redSqr().redISub(d).redISub(y),v=c.redAdd(y),_=v.redSub(m),S=c.redSub(y),E=f.redMul(_),x=v.redMul(S),k=f.redMul(S),T=_.redMul(v);return this.curve.point(E,x,T,k)},p.prototype._projDbl=function(){var d,y,m,c,f,v,_=this.x.redAdd(this.y).redSqr(),S=this.x.redSqr(),E=this.y.redSqr();if(this.curve.twisted){var x=(c=this.curve._mulA(S)).redAdd(E);this.zOne?(d=_.redSub(S).redSub(E).redMul(x.redSub(this.curve.two)),y=x.redMul(c.redSub(E)),m=x.redSqr().redSub(x).redSub(x)):(f=this.z.redSqr(),v=x.redSub(f).redISub(f),d=_.redSub(S).redISub(E).redMul(v),y=x.redMul(c.redSub(E)),m=x.redMul(v))}else c=S.redAdd(E),f=this.curve._mulC(this.z).redSqr(),v=c.redSub(f).redSub(f),d=this.curve._mulC(_.redISub(c)).redMul(v),y=this.curve._mulC(c).redMul(S.redISub(E)),m=c.redMul(v);return this.curve.point(d,y,m)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},p.prototype._extAdd=function(d){var y=this.y.redSub(this.x).redMul(d.y.redSub(d.x)),m=this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),c=this.t.redMul(this.curve.dd).redMul(d.t),f=this.z.redMul(d.z.redAdd(d.z)),v=m.redSub(y),_=f.redSub(c),S=f.redAdd(c),E=m.redAdd(y),x=v.redMul(_),k=S.redMul(E),T=v.redMul(E),C=_.redMul(S);return this.curve.point(x,k,C,T)},p.prototype._projAdd=function(d){var y,m,c=this.z.redMul(d.z),f=c.redSqr(),v=this.x.redMul(d.x),_=this.y.redMul(d.y),S=this.curve.d.redMul(v).redMul(_),E=f.redSub(S),x=f.redAdd(S),k=this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(v).redISub(_),T=c.redMul(E).redMul(k);return this.curve.twisted?(y=c.redMul(x).redMul(_.redSub(this.curve._mulA(v))),m=E.redMul(x)):(y=c.redMul(x).redMul(_.redSub(v)),m=this.curve._mulC(E).redMul(x)),this.curve.point(T,y,m)},p.prototype.add=function(d){return this.isInfinity()?d:d.isInfinity()?this:this.curve.extended?this._extAdd(d):this._projAdd(d)},p.prototype.mul=function(d){return this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve._wnafMul(this,d)},p.prototype.mulAdd=function(d,y,m){return this.curve._wnafMulAdd(1,[this,y],[d,m],2,!1)},p.prototype.jmulAdd=function(d,y,m){return this.curve._wnafMulAdd(1,[this,y],[d,m],2,!0)},p.prototype.normalize=function(){if(this.zOne)return this;var d=this.z.redInvm();return this.x=this.x.redMul(d),this.y=this.y.redMul(d),this.t&&(this.t=this.t.redMul(d)),this.z=this.curve.one,this.zOne=!0,this},p.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},p.prototype.getX=function(){return this.normalize(),this.x.fromRed()},p.prototype.getY=function(){return this.normalize(),this.y.fromRed()},p.prototype.eq=function(d){return this===d||this.getX().cmp(d.getX())===0&&this.getY().cmp(d.getY())===0},p.prototype.eqXToP=function(d){var y=d.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(y)===0)return!0;for(var m=d.clone(),c=this.curve.redN.redMul(this.z);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(c),this.x.cmp(y)===0)return!0}},p.prototype.toP=p.prototype.normalize,p.prototype.mixedAdd=p.prototype.add},4720:(o,s,i)=>{var l=s;l.base=i(9952),l.short=i(1585),l.mont=i(6773),l.edwards=i(958)},6773:(o,s,i)=>{var l=i(815),u=i(376),g=i(9952),h=i(7891);function b(p){g.call(this,"mont",p),this.a=new l(p.a,16).toRed(this.red),this.b=new l(p.b,16).toRed(this.red),this.i4=new l(4).toRed(this.red).redInvm(),this.two=new l(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function w(p,d,y){g.BasePoint.call(this,p,"projective"),d===null&&y===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new l(d,16),this.z=new l(y,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}u(b,g),o.exports=b,b.prototype.validate=function(p){var d=p.normalize().x,y=d.redSqr(),m=y.redMul(d).redAdd(y.redMul(this.a)).redAdd(d);return m.redSqrt().redSqr().cmp(m)===0},u(w,g.BasePoint),b.prototype.decodePoint=function(p,d){return this.point(h.toArray(p,d),1)},b.prototype.point=function(p,d){return new w(this,p,d)},b.prototype.pointFromJSON=function(p){return w.fromJSON(this,p)},w.prototype.precompute=function(){},w.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},w.fromJSON=function(p,d){return new w(p,d[0],d[1]||p.one)},w.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},w.prototype.isInfinity=function(){return this.z.cmpn(0)===0},w.prototype.dbl=function(){var p=this.x.redAdd(this.z).redSqr(),d=this.x.redSub(this.z).redSqr(),y=p.redSub(d),m=p.redMul(d),c=y.redMul(d.redAdd(this.curve.a24.redMul(y)));return this.curve.point(m,c)},w.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},w.prototype.diffAdd=function(p,d){var y=this.x.redAdd(this.z),m=this.x.redSub(this.z),c=p.x.redAdd(p.z),f=p.x.redSub(p.z).redMul(y),v=c.redMul(m),_=d.z.redMul(f.redAdd(v).redSqr()),S=d.x.redMul(f.redISub(v).redSqr());return this.curve.point(_,S)},w.prototype.mul=function(p){for(var d=p.clone(),y=this,m=this.curve.point(null,null),c=[];d.cmpn(0)!==0;d.iushrn(1))c.push(d.andln(1));for(var f=c.length-1;f>=0;f--)c[f]===0?(y=y.diffAdd(m,this),m=m.dbl()):(m=y.diffAdd(m,this),y=y.dbl());return m},w.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},w.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},w.prototype.eq=function(p){return this.getX().cmp(p.getX())===0},w.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},w.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},1585:(o,s,i)=>{var l=i(7891),u=i(815),g=i(376),h=i(9952),b=l.assert;function w(y){h.call(this,"short",y),this.a=new u(y.a,16).toRed(this.red),this.b=new u(y.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(y),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function p(y,m,c,f){h.BasePoint.call(this,y,"affine"),m===null&&c===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new u(m,16),this.y=new u(c,16),f&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(y,m,c,f){h.BasePoint.call(this,y,"jacobian"),m===null&&c===null&&f===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new u(0)):(this.x=new u(m,16),this.y=new u(c,16),this.z=new u(f,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}g(w,h),o.exports=w,w.prototype._getEndomorphism=function(y){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var m,c;if(y.beta)m=new u(y.beta,16).toRed(this.red);else{var f=this._getEndoRoots(this.p);m=(m=f[0].cmp(f[1])<0?f[0]:f[1]).toRed(this.red)}if(y.lambda)c=new u(y.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(m))===0?c=v[0]:(c=v[1],b(this.g.mul(c).x.cmp(this.g.x.redMul(m))===0))}return{beta:m,lambda:c,basis:y.basis?y.basis.map(function(_){return{a:new u(_.a,16),b:new u(_.b,16)}}):this._getEndoBasis(c)}}},w.prototype._getEndoRoots=function(y){var m=y===this.p?this.red:u.mont(y),c=new u(2).toRed(m).redInvm(),f=c.redNeg(),v=new u(3).toRed(m).redNeg().redSqrt().redMul(c);return[f.redAdd(v).fromRed(),f.redSub(v).fromRed()]},w.prototype._getEndoBasis=function(y){for(var m,c,f,v,_,S,E,x,k,T=this.n.ushrn(Math.floor(this.n.bitLength()/2)),C=y,M=this.n.clone(),N=new u(1),L=new u(0),R=new u(0),D=new u(1),z=0;C.cmpn(0)!==0;){var U=M.div(C);x=M.sub(U.mul(C)),k=R.sub(U.mul(N));var O=D.sub(U.mul(L));if(!f&&x.cmp(T)<0)m=E.neg(),c=N,f=x.neg(),v=k;else if(f&&++z==2)break;E=x,M=C,C=x,R=N,N=k,D=L,L=O}_=x.neg(),S=k;var I=f.sqr().add(v.sqr());return _.sqr().add(S.sqr()).cmp(I)>=0&&(_=m,S=c),f.negative&&(f=f.neg(),v=v.neg()),_.negative&&(_=_.neg(),S=S.neg()),[{a:f,b:v},{a:_,b:S}]},w.prototype._endoSplit=function(y){var m=this.endo.basis,c=m[0],f=m[1],v=f.b.mul(y).divRound(this.n),_=c.b.neg().mul(y).divRound(this.n),S=v.mul(c.a),E=_.mul(f.a),x=v.mul(c.b),k=_.mul(f.b);return{k1:y.sub(S).sub(E),k2:x.add(k).neg()}},w.prototype.pointFromX=function(y,m){(y=new u(y,16)).red||(y=y.toRed(this.red));var c=y.redSqr().redMul(y).redIAdd(y.redMul(this.a)).redIAdd(this.b),f=c.redSqrt();if(f.redSqr().redSub(c).cmp(this.zero)!==0)throw new Error("invalid point");var v=f.fromRed().isOdd();return(m&&!v||!m&&v)&&(f=f.redNeg()),this.point(y,f)},w.prototype.validate=function(y){if(y.inf)return!0;var m=y.x,c=y.y,f=this.a.redMul(m),v=m.redSqr().redMul(m).redIAdd(f).redIAdd(this.b);return c.redSqr().redISub(v).cmpn(0)===0},w.prototype._endoWnafMulAdd=function(y,m,c){for(var f=this._endoWnafT1,v=this._endoWnafT2,_=0;_<y.length;_++){var S=this._endoSplit(m[_]),E=y[_],x=E._getBeta();S.k1.negative&&(S.k1.ineg(),E=E.neg(!0)),S.k2.negative&&(S.k2.ineg(),x=x.neg(!0)),f[2*_]=E,f[2*_+1]=x,v[2*_]=S.k1,v[2*_+1]=S.k2}for(var k=this._wnafMulAdd(1,f,v,2*_,c),T=0;T<2*_;T++)f[T]=null,v[T]=null;return k},g(p,h.BasePoint),w.prototype.point=function(y,m,c){return new p(this,y,m,c)},w.prototype.pointFromJSON=function(y,m){return p.fromJSON(this,y,m)},p.prototype._getBeta=function(){if(this.curve.endo){var y=this.precomputed;if(y&&y.beta)return y.beta;var m=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(y){var c=this.curve,f=function(v){return c.point(v.x.redMul(c.endo.beta),v.y)};y.beta=m,m.precomputed={beta:null,naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(f)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(f)}}}return m}},p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},p.fromJSON=function(y,m,c){typeof m=="string"&&(m=JSON.parse(m));var f=y.point(m[0],m[1],c);if(!m[2])return f;function v(S){return y.point(S[0],S[1],c)}var _=m[2];return f.precomputed={beta:null,doubles:_.doubles&&{step:_.doubles.step,points:[f].concat(_.doubles.points.map(v))},naf:_.naf&&{wnd:_.naf.wnd,points:[f].concat(_.naf.points.map(v))}},f},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.inf},p.prototype.add=function(y){if(this.inf)return y;if(y.inf)return this;if(this.eq(y))return this.dbl();if(this.neg().eq(y))return this.curve.point(null,null);if(this.x.cmp(y.x)===0)return this.curve.point(null,null);var m=this.y.redSub(y.y);m.cmpn(0)!==0&&(m=m.redMul(this.x.redSub(y.x).redInvm()));var c=m.redSqr().redISub(this.x).redISub(y.x),f=m.redMul(this.x.redSub(c)).redISub(this.y);return this.curve.point(c,f)},p.prototype.dbl=function(){if(this.inf)return this;var y=this.y.redAdd(this.y);if(y.cmpn(0)===0)return this.curve.point(null,null);var m=this.curve.a,c=this.x.redSqr(),f=y.redInvm(),v=c.redAdd(c).redIAdd(c).redIAdd(m).redMul(f),_=v.redSqr().redISub(this.x.redAdd(this.x)),S=v.redMul(this.x.redSub(_)).redISub(this.y);return this.curve.point(_,S)},p.prototype.getX=function(){return this.x.fromRed()},p.prototype.getY=function(){return this.y.fromRed()},p.prototype.mul=function(y){return y=new u(y,16),this.isInfinity()?this:this._hasDoubles(y)?this.curve._fixedNafMul(this,y):this.curve.endo?this.curve._endoWnafMulAdd([this],[y]):this.curve._wnafMul(this,y)},p.prototype.mulAdd=function(y,m,c){var f=[this,m],v=[y,c];return this.curve.endo?this.curve._endoWnafMulAdd(f,v):this.curve._wnafMulAdd(1,f,v,2)},p.prototype.jmulAdd=function(y,m,c){var f=[this,m],v=[y,c];return this.curve.endo?this.curve._endoWnafMulAdd(f,v,!0):this.curve._wnafMulAdd(1,f,v,2,!0)},p.prototype.eq=function(y){return this===y||this.inf===y.inf&&(this.inf||this.x.cmp(y.x)===0&&this.y.cmp(y.y)===0)},p.prototype.neg=function(y){if(this.inf)return this;var m=this.curve.point(this.x,this.y.redNeg());if(y&&this.precomputed){var c=this.precomputed,f=function(v){return v.neg()};m.precomputed={naf:c.naf&&{wnd:c.naf.wnd,points:c.naf.points.map(f)},doubles:c.doubles&&{step:c.doubles.step,points:c.doubles.points.map(f)}}}return m},p.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},g(d,h.BasePoint),w.prototype.jpoint=function(y,m,c){return new d(this,y,m,c)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var y=this.z.redInvm(),m=y.redSqr(),c=this.x.redMul(m),f=this.y.redMul(m).redMul(y);return this.curve.point(c,f)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(y){if(this.isInfinity())return y;if(y.isInfinity())return this;var m=y.z.redSqr(),c=this.z.redSqr(),f=this.x.redMul(m),v=y.x.redMul(c),_=this.y.redMul(m.redMul(y.z)),S=y.y.redMul(c.redMul(this.z)),E=f.redSub(v),x=_.redSub(S);if(E.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var k=E.redSqr(),T=k.redMul(E),C=f.redMul(k),M=x.redSqr().redIAdd(T).redISub(C).redISub(C),N=x.redMul(C.redISub(M)).redISub(_.redMul(T)),L=this.z.redMul(y.z).redMul(E);return this.curve.jpoint(M,N,L)},d.prototype.mixedAdd=function(y){if(this.isInfinity())return y.toJ();if(y.isInfinity())return this;var m=this.z.redSqr(),c=this.x,f=y.x.redMul(m),v=this.y,_=y.y.redMul(m).redMul(this.z),S=c.redSub(f),E=v.redSub(_);if(S.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var x=S.redSqr(),k=x.redMul(S),T=c.redMul(x),C=E.redSqr().redIAdd(k).redISub(T).redISub(T),M=E.redMul(T.redISub(C)).redISub(v.redMul(k)),N=this.z.redMul(S);return this.curve.jpoint(C,M,N)},d.prototype.dblp=function(y){if(y===0)return this;if(this.isInfinity())return this;if(!y)return this.dbl();var m;if(this.curve.zeroA||this.curve.threeA){var c=this;for(m=0;m<y;m++)c=c.dbl();return c}var f=this.curve.a,v=this.curve.tinv,_=this.x,S=this.y,E=this.z,x=E.redSqr().redSqr(),k=S.redAdd(S);for(m=0;m<y;m++){var T=_.redSqr(),C=k.redSqr(),M=C.redSqr(),N=T.redAdd(T).redIAdd(T).redIAdd(f.redMul(x)),L=_.redMul(C),R=N.redSqr().redISub(L.redAdd(L)),D=L.redISub(R),z=N.redMul(D);z=z.redIAdd(z).redISub(M);var U=k.redMul(E);m+1<y&&(x=x.redMul(M)),_=R,E=U,k=z}return this.curve.jpoint(_,k.redMul(v),E)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var y,m,c;if(this.zOne){var f=this.x.redSqr(),v=this.y.redSqr(),_=v.redSqr(),S=this.x.redAdd(v).redSqr().redISub(f).redISub(_);S=S.redIAdd(S);var E=f.redAdd(f).redIAdd(f),x=E.redSqr().redISub(S).redISub(S),k=_.redIAdd(_);k=(k=k.redIAdd(k)).redIAdd(k),y=x,m=E.redMul(S.redISub(x)).redISub(k),c=this.y.redAdd(this.y)}else{var T=this.x.redSqr(),C=this.y.redSqr(),M=C.redSqr(),N=this.x.redAdd(C).redSqr().redISub(T).redISub(M);N=N.redIAdd(N);var L=T.redAdd(T).redIAdd(T),R=L.redSqr(),D=M.redIAdd(M);D=(D=D.redIAdd(D)).redIAdd(D),y=R.redISub(N).redISub(N),m=L.redMul(N.redISub(y)).redISub(D),c=(c=this.y.redMul(this.z)).redIAdd(c)}return this.curve.jpoint(y,m,c)},d.prototype._threeDbl=function(){var y,m,c;if(this.zOne){var f=this.x.redSqr(),v=this.y.redSqr(),_=v.redSqr(),S=this.x.redAdd(v).redSqr().redISub(f).redISub(_);S=S.redIAdd(S);var E=f.redAdd(f).redIAdd(f).redIAdd(this.curve.a),x=E.redSqr().redISub(S).redISub(S);y=x;var k=_.redIAdd(_);k=(k=k.redIAdd(k)).redIAdd(k),m=E.redMul(S.redISub(x)).redISub(k),c=this.y.redAdd(this.y)}else{var T=this.z.redSqr(),C=this.y.redSqr(),M=this.x.redMul(C),N=this.x.redSub(T).redMul(this.x.redAdd(T));N=N.redAdd(N).redIAdd(N);var L=M.redIAdd(M),R=(L=L.redIAdd(L)).redAdd(L);y=N.redSqr().redISub(R),c=this.y.redAdd(this.z).redSqr().redISub(C).redISub(T);var D=C.redSqr();D=(D=(D=D.redIAdd(D)).redIAdd(D)).redIAdd(D),m=N.redMul(L.redISub(y)).redISub(D)}return this.curve.jpoint(y,m,c)},d.prototype._dbl=function(){var y=this.curve.a,m=this.x,c=this.y,f=this.z,v=f.redSqr().redSqr(),_=m.redSqr(),S=c.redSqr(),E=_.redAdd(_).redIAdd(_).redIAdd(y.redMul(v)),x=m.redAdd(m),k=(x=x.redIAdd(x)).redMul(S),T=E.redSqr().redISub(k.redAdd(k)),C=k.redISub(T),M=S.redSqr();M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M);var N=E.redMul(C).redISub(M),L=c.redAdd(c).redMul(f);return this.curve.jpoint(T,N,L)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var y=this.x.redSqr(),m=this.y.redSqr(),c=this.z.redSqr(),f=m.redSqr(),v=y.redAdd(y).redIAdd(y),_=v.redSqr(),S=this.x.redAdd(m).redSqr().redISub(y).redISub(f),E=(S=(S=(S=S.redIAdd(S)).redAdd(S).redIAdd(S)).redISub(_)).redSqr(),x=f.redIAdd(f);x=(x=(x=x.redIAdd(x)).redIAdd(x)).redIAdd(x);var k=v.redIAdd(S).redSqr().redISub(_).redISub(E).redISub(x),T=m.redMul(k);T=(T=T.redIAdd(T)).redIAdd(T);var C=this.x.redMul(E).redISub(T);C=(C=C.redIAdd(C)).redIAdd(C);var M=this.y.redMul(k.redMul(x.redISub(k)).redISub(S.redMul(E)));M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M);var N=this.z.redAdd(S).redSqr().redISub(c).redISub(E);return this.curve.jpoint(C,M,N)},d.prototype.mul=function(y,m){return y=new u(y,m),this.curve._wnafMul(this,y)},d.prototype.eq=function(y){if(y.type==="affine")return this.eq(y.toJ());if(this===y)return!0;var m=this.z.redSqr(),c=y.z.redSqr();if(this.x.redMul(c).redISub(y.x.redMul(m)).cmpn(0)!==0)return!1;var f=m.redMul(this.z),v=c.redMul(y.z);return this.y.redMul(v).redISub(y.y.redMul(f)).cmpn(0)===0},d.prototype.eqXToP=function(y){var m=this.z.redSqr(),c=y.toRed(this.curve.red).redMul(m);if(this.x.cmp(c)===0)return!0;for(var f=y.clone(),v=this.curve.redN.redMul(m);;){if(f.iadd(this.curve.n),f.cmp(this.curve.p)>=0)return!1;if(c.redIAdd(v),this.x.cmp(c)===0)return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},1478:(o,s,i)=>{var l,u=s,g=i(3192),h=i(4720),b=i(7891).assert;function w(d){d.type==="short"?this.curve=new h.short(d):d.type==="edwards"?this.curve=new h.edwards(d):this.curve=new h.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,b(this.g.validate(),"Invalid curve"),b(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function p(d,y){Object.defineProperty(u,d,{configurable:!0,enumerable:!0,get:function(){var m=new w(y);return Object.defineProperty(u,d,{configurable:!0,enumerable:!0,value:m}),m}})}u.PresetCurve=w,p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:g.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:g.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:g.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:g.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:g.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:g.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:g.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{l=i(8948)}catch{l=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:g.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})},5806:(o,s,i)=>{function l(c){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},l(c)}var u=i(815),g=i(9742),h=i(7891),b=i(1478),w=i(7179),p=h.assert,d=i(3598),y=i(5206);function m(c){if(!(this instanceof m))return new m(c);typeof c=="string"&&(p(Object.prototype.hasOwnProperty.call(b,c),"Unknown curve "+c),c=b[c]),c instanceof b.PresetCurve&&(c={curve:c}),this.curve=c.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=c.curve.g,this.g.precompute(c.curve.n.bitLength()+1),this.hash=c.hash||c.curve.hash}o.exports=m,m.prototype.keyPair=function(c){return new d(this,c)},m.prototype.keyFromPrivate=function(c,f){return d.fromPrivate(this,c,f)},m.prototype.keyFromPublic=function(c,f){return d.fromPublic(this,c,f)},m.prototype.genKeyPair=function(c){c||(c={});for(var f=new g({hash:this.hash,pers:c.pers,persEnc:c.persEnc||"utf8",entropy:c.entropy||w(this.hash.hmacStrength),entropyEnc:c.entropy&&c.entropyEnc||"utf8",nonce:this.n.toArray()}),v=this.n.byteLength(),_=this.n.sub(new u(2));;){var S=new u(f.generate(v));if(!(S.cmp(_)>0))return S.iaddn(1),this.keyFromPrivate(S)}},m.prototype._truncateToN=function(c,f){var v=8*c.byteLength()-this.n.bitLength();return v>0&&(c=c.ushrn(v)),!f&&c.cmp(this.n)>=0?c.sub(this.n):c},m.prototype.sign=function(c,f,v,_){l(v)==="object"&&(_=v,v=null),_||(_={}),f=this.keyFromPrivate(f,v),c=this._truncateToN(new u(c,16));for(var S=this.n.byteLength(),E=f.getPrivate().toArray("be",S),x=c.toArray("be",S),k=new g({hash:this.hash,entropy:E,nonce:x,pers:_.pers,persEnc:_.persEnc||"utf8"}),T=this.n.sub(new u(1)),C=0;;C++){var M=_.k?_.k(C):new u(k.generate(this.n.byteLength()));if(!((M=this._truncateToN(M,!0)).cmpn(1)<=0||M.cmp(T)>=0)){var N=this.g.mul(M);if(!N.isInfinity()){var L=N.getX(),R=L.umod(this.n);if(R.cmpn(0)!==0){var D=M.invm(this.n).mul(R.mul(f.getPrivate()).iadd(c));if((D=D.umod(this.n)).cmpn(0)!==0){var z=(N.getY().isOdd()?1:0)|(L.cmp(R)!==0?2:0);return _.canonical&&D.cmp(this.nh)>0&&(D=this.n.sub(D),z^=1),new y({r:R,s:D,recoveryParam:z})}}}}}},m.prototype.verify=function(c,f,v,_){c=this._truncateToN(new u(c,16)),v=this.keyFromPublic(v,_);var S=(f=new y(f,"hex")).r,E=f.s;if(S.cmpn(1)<0||S.cmp(this.n)>=0||E.cmpn(1)<0||E.cmp(this.n)>=0)return!1;var x,k=E.invm(this.n),T=k.mul(c).umod(this.n),C=k.mul(S).umod(this.n);return this.curve._maxwellTrick?!(x=this.g.jmulAdd(T,v.getPublic(),C)).isInfinity()&&x.eqXToP(S):!(x=this.g.mulAdd(T,v.getPublic(),C)).isInfinity()&&x.getX().umod(this.n).cmp(S)===0},m.prototype.recoverPubKey=function(c,f,v,_){p((3&v)===v,"The recovery param is more than two bits"),f=new y(f,_);var S=this.n,E=new u(c),x=f.r,k=f.s,T=1&v,C=v>>1;if(x.cmp(this.curve.p.umod(this.curve.n))>=0&&C)throw new Error("Unable to find sencond key candinate");x=C?this.curve.pointFromX(x.add(this.curve.n),T):this.curve.pointFromX(x,T);var M=f.r.invm(S),N=S.sub(E).mul(M).umod(S),L=k.mul(M).umod(S);return this.g.mulAdd(N,x,L)},m.prototype.getKeyRecoveryParam=function(c,f,v,_){if((f=new y(f,_)).recoveryParam!==null)return f.recoveryParam;for(var S=0;S<4;S++){var E;try{E=this.recoverPubKey(c,f,S)}catch{continue}if(E.eq(v))return S}throw new Error("Unable to find valid recovery factor")}},3598:(o,s,i)=>{var l=i(815),u=i(7891).assert;function g(h,b){this.ec=h,this.priv=null,this.pub=null,b.priv&&this._importPrivate(b.priv,b.privEnc),b.pub&&this._importPublic(b.pub,b.pubEnc)}o.exports=g,g.fromPublic=function(h,b,w){return b instanceof g?b:new g(h,{pub:b,pubEnc:w})},g.fromPrivate=function(h,b,w){return b instanceof g?b:new g(h,{priv:b,privEnc:w})},g.prototype.validate=function(){var h=this.getPublic();return h.isInfinity()?{result:!1,reason:"Invalid public key"}:h.validate()?h.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},g.prototype.getPublic=function(h,b){return typeof h=="string"&&(b=h,h=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),b?this.pub.encode(b,h):this.pub},g.prototype.getPrivate=function(h){return h==="hex"?this.priv.toString(16,2):this.priv},g.prototype._importPrivate=function(h,b){this.priv=new l(h,b||16),this.priv=this.priv.umod(this.ec.curve.n)},g.prototype._importPublic=function(h,b){if(h.x||h.y)return this.ec.curve.type==="mont"?u(h.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||u(h.x&&h.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(h.x,h.y));this.pub=this.ec.curve.decodePoint(h,b)},g.prototype.derive=function(h){return h.validate()||u(h.validate(),"public point not validated"),h.mul(this.priv).getX()},g.prototype.sign=function(h,b,w){return this.ec.sign(h,this,b,w)},g.prototype.verify=function(h,b){return this.ec.verify(h,b,this)},g.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},5206:(o,s,i)=>{var l=i(815),u=i(7891),g=u.assert;function h(y,m){if(y instanceof h)return y;this._importDER(y,m)||(g(y.r&&y.s,"Signature without r or s"),this.r=new l(y.r,16),this.s=new l(y.s,16),y.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=y.recoveryParam)}function b(){this.place=0}function w(y,m){var c=y[m.place++];if(!(128&c))return c;var f=15&c;if(f===0||f>4)return!1;for(var v=0,_=0,S=m.place;_<f;_++,S++)v<<=8,v|=y[S],v>>>=0;return!(v<=127)&&(m.place=S,v)}function p(y){for(var m=0,c=y.length-1;!y[m]&&!(128&y[m+1])&&m<c;)m++;return m===0?y:y.slice(m)}function d(y,m){if(m<128)y.push(m);else{var c=1+(Math.log(m)/Math.LN2>>>3);for(y.push(128|c);--c;)y.push(m>>>(c<<3)&255);y.push(m)}}o.exports=h,h.prototype._importDER=function(y,m){y=u.toArray(y,m);var c=new b;if(y[c.place++]!==48)return!1;var f=w(y,c);if(f===!1||f+c.place!==y.length||y[c.place++]!==2)return!1;var v=w(y,c);if(v===!1)return!1;var _=y.slice(c.place,v+c.place);if(c.place+=v,y[c.place++]!==2)return!1;var S=w(y,c);if(S===!1||y.length!==S+c.place)return!1;var E=y.slice(c.place,S+c.place);if(_[0]===0){if(!(128&_[1]))return!1;_=_.slice(1)}if(E[0]===0){if(!(128&E[1]))return!1;E=E.slice(1)}return this.r=new l(_),this.s=new l(E),this.recoveryParam=null,!0},h.prototype.toDER=function(y){var m=this.r.toArray(),c=this.s.toArray();for(128&m[0]&&(m=[0].concat(m)),128&c[0]&&(c=[0].concat(c)),m=p(m),c=p(c);!(c[0]||128&c[1]);)c=c.slice(1);var f=[2];d(f,m.length),(f=f.concat(m)).push(2),d(f,c.length);var v=f.concat(c),_=[48];return d(_,v.length),_=_.concat(v),u.encode(_,y)}},8318:(o,s,i)=>{var l=i(3192),u=i(1478),g=i(7891),h=g.assert,b=g.parseBytes,w=i(9371),p=i(2214);function d(y){if(h(y==="ed25519","only tested with ed25519 so far"),!(this instanceof d))return new d(y);y=u[y].curve,this.curve=y,this.g=y.g,this.g.precompute(y.n.bitLength()+1),this.pointClass=y.point().constructor,this.encodingLength=Math.ceil(y.n.bitLength()/8),this.hash=l.sha512}o.exports=d,d.prototype.sign=function(y,m){y=b(y);var c=this.keyFromSecret(m),f=this.hashInt(c.messagePrefix(),y),v=this.g.mul(f),_=this.encodePoint(v),S=this.hashInt(_,c.pubBytes(),y).mul(c.priv()),E=f.add(S).umod(this.curve.n);return this.makeSignature({R:v,S:E,Rencoded:_})},d.prototype.verify=function(y,m,c){y=b(y),m=this.makeSignature(m);var f=this.keyFromPublic(c),v=this.hashInt(m.Rencoded(),f.pubBytes(),y),_=this.g.mul(m.S());return m.R().add(f.pub().mul(v)).eq(_)},d.prototype.hashInt=function(){for(var y=this.hash(),m=0;m<arguments.length;m++)y.update(arguments[m]);return g.intFromLE(y.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(y){return w.fromPublic(this,y)},d.prototype.keyFromSecret=function(y){return w.fromSecret(this,y)},d.prototype.makeSignature=function(y){return y instanceof p?y:new p(this,y)},d.prototype.encodePoint=function(y){var m=y.getY().toArray("le",this.encodingLength);return m[this.encodingLength-1]|=y.getX().isOdd()?128:0,m},d.prototype.decodePoint=function(y){var m=(y=g.parseBytes(y)).length-1,c=y.slice(0,m).concat(-129&y[m]),f=!!(128&y[m]),v=g.intFromLE(c);return this.curve.pointFromY(v,f)},d.prototype.encodeInt=function(y){return y.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(y){return g.intFromLE(y)},d.prototype.isPoint=function(y){return y instanceof this.pointClass}},9371:(o,s,i)=>{var l=i(7891),u=l.assert,g=l.parseBytes,h=l.cachedProperty;function b(w,p){this.eddsa=w,this._secret=g(p.secret),w.isPoint(p.pub)?this._pub=p.pub:this._pubBytes=g(p.pub)}b.fromPublic=function(w,p){return p instanceof b?p:new b(w,{pub:p})},b.fromSecret=function(w,p){return p instanceof b?p:new b(w,{secret:p})},b.prototype.secret=function(){return this._secret},h(b,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),h(b,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),h(b,"privBytes",function(){var w=this.eddsa,p=this.hash(),d=w.encodingLength-1,y=p.slice(0,w.encodingLength);return y[0]&=248,y[d]&=127,y[d]|=64,y}),h(b,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),h(b,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),h(b,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),b.prototype.sign=function(w){return u(this._secret,"KeyPair can only verify"),this.eddsa.sign(w,this)},b.prototype.verify=function(w,p){return this.eddsa.verify(w,p,this)},b.prototype.getSecret=function(w){return u(this._secret,"KeyPair is public only"),l.encode(this.secret(),w)},b.prototype.getPublic=function(w){return l.encode(this.pubBytes(),w)},o.exports=b},2214:(o,s,i)=>{function l(d){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},l(d)}var u=i(815),g=i(7891),h=g.assert,b=g.cachedProperty,w=g.parseBytes;function p(d,y){this.eddsa=d,l(y)!=="object"&&(y=w(y)),Array.isArray(y)&&(y={R:y.slice(0,d.encodingLength),S:y.slice(d.encodingLength)}),h(y.R&&y.S,"Signature without R or S"),d.isPoint(y.R)&&(this._R=y.R),y.S instanceof u&&(this._S=y.S),this._Rencoded=Array.isArray(y.R)?y.R:y.Rencoded,this._Sencoded=Array.isArray(y.S)?y.S:y.Sencoded}b(p,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),b(p,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),b(p,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),b(p,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),p.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},p.prototype.toHex=function(){return g.encode(this.toBytes(),"hex").toUpperCase()},o.exports=p},8948:o=>{o.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},7891:(o,s,i)=>{var l=s,u=i(815),g=i(1130),h=i(5522);l.assert=g,l.toArray=h.toArray,l.zero2=h.zero2,l.toHex=h.toHex,l.encode=h.encode,l.getNAF=function(b,w,p){var d,y=new Array(Math.max(b.bitLength(),p)+1);for(d=0;d<y.length;d+=1)y[d]=0;var m=1<<w+1,c=b.clone();for(d=0;d<y.length;d++){var f,v=c.andln(m-1);c.isOdd()?(f=v>(m>>1)-1?(m>>1)-v:v,c.isubn(f)):f=0,y[d]=f,c.iushrn(1)}return y},l.getJSF=function(b,w){var p=[[],[]];b=b.clone(),w=w.clone();for(var d,y=0,m=0;b.cmpn(-y)>0||w.cmpn(-m)>0;){var c,f,v=b.andln(3)+y&3,_=w.andln(3)+m&3;v===3&&(v=-1),_===3&&(_=-1),c=1&v?(d=b.andln(7)+y&7)!=3&&d!==5||_!==2?v:-v:0,p[0].push(c),f=1&_?(d=w.andln(7)+m&7)!=3&&d!==5||v!==2?_:-_:0,p[1].push(f),2*y===c+1&&(y=1-y),2*m===f+1&&(m=1-m),b.iushrn(1),w.iushrn(1)}return p},l.cachedProperty=function(b,w,p){var d="_"+w;b.prototype[w]=function(){return this[d]!==void 0?this[d]:this[d]=p.call(this)}},l.parseBytes=function(b){return typeof b=="string"?l.toArray(b,"hex"):b},l.intFromLE=function(b){return new u(b,"hex","le")}},7385:(o,s,i)=>{var l=i(6893)("%Object.defineProperty%",!0)||!1;if(l)try{l({},"a",{value:1})}catch{l=!1}o.exports=l},5885:o=>{o.exports=EvalError},2378:o=>{o.exports=Error},5114:o=>{o.exports=RangeError},4191:o=>{o.exports=ReferenceError},5710:o=>{o.exports=SyntaxError},4820:o=>{o.exports=TypeError},5999:o=>{o.exports=URIError},8028:o=>{function s(i,l){if(i==null)throw new TypeError("Cannot convert first argument to object");for(var u=Object(i),g=1;g<arguments.length;g++){var h=arguments[g];if(h!=null)for(var b=Object.keys(Object(h)),w=0,p=b.length;w<p;w++){var d=b[w],y=Object.getOwnPropertyDescriptor(h,d);y!==void 0&&y.enumerable&&(u[d]=h[d])}}return u}o.exports={assign:s,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:s})}}},9620:o=>{function s(S){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},s(S)}var i,l=(typeof Reflect>"u"?"undefined":s(Reflect))==="object"?Reflect:null,u=l&&typeof l.apply=="function"?l.apply:function(S,E,x){return Function.prototype.apply.call(S,E,x)};i=l&&typeof l.ownKeys=="function"?l.ownKeys:Object.getOwnPropertySymbols?function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:function(S){return Object.getOwnPropertyNames(S)};var g=Number.isNaN||function(S){return S!=S};function h(){h.init.call(this)}o.exports=h,o.exports.once=function(S,E){return new Promise(function(x,k){function T(M){S.removeListener(E,C),k(M)}function C(){typeof S.removeListener=="function"&&S.removeListener("error",T),x([].slice.call(arguments))}_(S,E,C,{once:!0}),E!=="error"&&function(M,N,L){typeof M.on=="function"&&_(M,"error",N,{once:!0})}(S,T)})},h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var b=10;function w(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+s(S))}function p(S){return S._maxListeners===void 0?h.defaultMaxListeners:S._maxListeners}function d(S,E,x,k){var T,C,M,N;if(w(x),(C=S._events)===void 0?(C=S._events=Object.create(null),S._eventsCount=0):(C.newListener!==void 0&&(S.emit("newListener",E,x.listener?x.listener:x),C=S._events),M=C[E]),M===void 0)M=C[E]=x,++S._eventsCount;else if(typeof M=="function"?M=C[E]=k?[x,M]:[M,x]:k?M.unshift(x):M.push(x),(T=p(S))>0&&M.length>T&&!M.warned){M.warned=!0;var L=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");L.name="MaxListenersExceededWarning",L.emitter=S,L.type=E,L.count=M.length,N=L,console&&console.warn&&console.warn(N)}return S}function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(S,E,x){var k={fired:!1,wrapFn:void 0,target:S,type:E,listener:x},T=y.bind(k);return T.listener=x,k.wrapFn=T,T}function c(S,E,x){var k=S._events;if(k===void 0)return[];var T=k[E];return T===void 0?[]:typeof T=="function"?x?[T.listener||T]:[T]:x?function(C){for(var M=new Array(C.length),N=0;N<M.length;++N)M[N]=C[N].listener||C[N];return M}(T):v(T,T.length)}function f(S){var E=this._events;if(E!==void 0){var x=E[S];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}function v(S,E){for(var x=new Array(E),k=0;k<E;++k)x[k]=S[k];return x}function _(S,E,x,k){if(typeof S.on=="function")k.once?S.once(E,x):S.on(E,x);else{if(typeof S.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+s(S));S.addEventListener(E,function T(C){k.once&&S.removeEventListener(E,T),x(C)})}}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function(S){if(typeof S!="number"||S<0||g(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");b=S}}),h.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||g(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this},h.prototype.getMaxListeners=function(){return p(this)},h.prototype.emit=function(S){for(var E=[],x=1;x<arguments.length;x++)E.push(arguments[x]);var k=S==="error",T=this._events;if(T!==void 0)k=k&&T.error===void 0;else if(!k)return!1;if(k){var C;if(E.length>0&&(C=E[0]),C instanceof Error)throw C;var M=new Error("Unhandled error."+(C?" ("+C.message+")":""));throw M.context=C,M}var N=T[S];if(N===void 0)return!1;if(typeof N=="function")u(N,this,E);else{var L=N.length,R=v(N,L);for(x=0;x<L;++x)u(R[x],this,E)}return!0},h.prototype.addListener=function(S,E){return d(this,S,E,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(S,E){return d(this,S,E,!0)},h.prototype.once=function(S,E){return w(E),this.on(S,m(this,S,E)),this},h.prototype.prependOnceListener=function(S,E){return w(E),this.prependListener(S,m(this,S,E)),this},h.prototype.removeListener=function(S,E){var x,k,T,C,M;if(w(E),(k=this._events)===void 0)return this;if((x=k[S])===void 0)return this;if(x===E||x.listener===E)--this._eventsCount==0?this._events=Object.create(null):(delete k[S],k.removeListener&&this.emit("removeListener",S,x.listener||E));else if(typeof x!="function"){for(T=-1,C=x.length-1;C>=0;C--)if(x[C]===E||x[C].listener===E){M=x[C].listener,T=C;break}if(T<0)return this;T===0?x.shift():function(N,L){for(;L+1<N.length;L++)N[L]=N[L+1];N.pop()}(x,T),x.length===1&&(k[S]=x[0]),k.removeListener!==void 0&&this.emit("removeListener",S,M||E)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(S){var E,x,k;if((x=this._events)===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[S]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete x[S]),this;if(arguments.length===0){var T,C=Object.keys(x);for(k=0;k<C.length;++k)(T=C[k])!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(E=x[S])=="function")this.removeListener(S,E);else if(E!==void 0)for(k=E.length-1;k>=0;k--)this.removeListener(S,E[k]);return this},h.prototype.listeners=function(S){return c(this,S,!0)},h.prototype.rawListeners=function(S){return c(this,S,!1)},h.listenerCount=function(S,E){return typeof S.listenerCount=="function"?S.listenerCount(E):f.call(S,E)},h.prototype.listenerCount=f,h.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},1248:(o,s,i)=>{var l=i(9047).Buffer,u=i(722);o.exports=function(g,h,b,w){if(l.isBuffer(g)||(g=l.from(g,"binary")),h&&(l.isBuffer(h)||(h=l.from(h,"binary")),h.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var p=b/8,d=l.alloc(p),y=l.alloc(w||0),m=l.alloc(0);p>0||w>0;){var c=new u;c.update(m),c.update(g),h&&c.update(h),m=c.digest();var f=0;if(p>0){var v=d.length-p;f=Math.min(p,m.length),m.copy(d,v,0,f),p-=f}if(f<m.length&&w>0){var _=y.length-w,S=Math.min(w,m.length-f);m.copy(y,_,f,f+S),w-=S}}return m.fill(0),{key:d,iv:y}}},5337:(o,s,i)=>{var l=i(8625),u=Object.prototype.toString,g=Object.prototype.hasOwnProperty;o.exports=function(h,b,w){if(!l(b))throw new TypeError("iterator must be a function");var p;arguments.length>=3&&(p=w),u.call(h)==="[object Array]"?function(d,y,m){for(var c=0,f=d.length;c<f;c++)g.call(d,c)&&(m==null?y(d[c],c,d):y.call(m,d[c],c,d))}(h,b,p):typeof h=="string"?function(d,y,m){for(var c=0,f=d.length;c<f;c++)m==null?y(d.charAt(c),c,d):y.call(m,d.charAt(c),c,d)}(h,b,p):function(d,y,m){for(var c in d)g.call(d,c)&&(m==null?y(d[c],c,d):y.call(m,d[c],c,d))}(h,b,p)}},5929:o=>{var s=Object.prototype.toString,i=Math.max,l=function(u,g){for(var h=[],b=0;b<u.length;b+=1)h[b]=u[b];for(var w=0;w<g.length;w+=1)h[w+u.length]=g[w];return h};o.exports=function(u){var g=this;if(typeof g!="function"||s.apply(g)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+g);for(var h,b=function(m,c){for(var f=[],v=1,_=0;v<m.length;v+=1,_+=1)f[_]=m[v];return f}(arguments),w=i(0,g.length-b.length),p=[],d=0;d<w;d++)p[d]="$"+d;if(h=Function("binder","return function ("+function(m,c){for(var f="",v=0;v<m.length;v+=1)f+=m[v],v+1<m.length&&(f+=",");return f}(p)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof h){var m=g.apply(this,l(b,arguments));return Object(m)===m?m:this}return g.apply(u,l(b,arguments))}),g.prototype){var y=function(){};y.prototype=g.prototype,h.prototype=new y,y.prototype=null}return h}},5246:(o,s,i)=>{var l=i(5929);o.exports=Function.prototype.bind||l},6893:(o,s,i)=>{function l(q){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},l(q)}var u,g=i(2378),h=i(5885),b=i(5114),w=i(4191),p=i(5710),d=i(4820),y=i(5999),m=Function,c=function(q){try{return m('"use strict"; return ('+q+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var v=function(){throw new d},_=f?function(){try{return v}catch{try{return f(arguments,"callee").get}catch{return v}}}():v,S=i(5990)(),E=i(4406)(),x=Object.getPrototypeOf||(E?function(q){return q.__proto__}:null),k={},T=typeof Uint8Array<"u"&&x?x(Uint8Array):u,C={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?u:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?u:ArrayBuffer,"%ArrayIteratorPrototype%":S&&x?x([][Symbol.iterator]()):u,"%AsyncFromSyncIteratorPrototype%":u,"%AsyncFunction%":k,"%AsyncGenerator%":k,"%AsyncGeneratorFunction%":k,"%AsyncIteratorPrototype%":k,"%Atomics%":typeof Atomics>"u"?u:Atomics,"%BigInt%":typeof BigInt>"u"?u:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?u:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?u:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?u:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":g,"%eval%":eval,"%EvalError%":h,"%Float32Array%":typeof Float32Array>"u"?u:Float32Array,"%Float64Array%":typeof Float64Array>"u"?u:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?u:FinalizationRegistry,"%Function%":m,"%GeneratorFunction%":k,"%Int8Array%":typeof Int8Array>"u"?u:Int8Array,"%Int16Array%":typeof Int16Array>"u"?u:Int16Array,"%Int32Array%":typeof Int32Array>"u"?u:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S&&x?x(x([][Symbol.iterator]())):u,"%JSON%":(typeof JSON>"u"?"undefined":l(JSON))==="object"?JSON:u,"%Map%":typeof Map>"u"?u:Map,"%MapIteratorPrototype%":typeof Map<"u"&&S&&x?x(new Map()[Symbol.iterator]()):u,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?u:Promise,"%Proxy%":typeof Proxy>"u"?u:Proxy,"%RangeError%":b,"%ReferenceError%":w,"%Reflect%":typeof Reflect>"u"?u:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?u:Set,"%SetIteratorPrototype%":typeof Set<"u"&&S&&x?x(new Set()[Symbol.iterator]()):u,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?u:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S&&x?x(""[Symbol.iterator]()):u,"%Symbol%":S?Symbol:u,"%SyntaxError%":p,"%ThrowTypeError%":_,"%TypedArray%":T,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?u:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?u:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?u:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?u:Uint32Array,"%URIError%":y,"%WeakMap%":typeof WeakMap>"u"?u:WeakMap,"%WeakRef%":typeof WeakRef>"u"?u:WeakRef,"%WeakSet%":typeof WeakSet>"u"?u:WeakSet};if(x)try{null.error}catch(q){var M=x(x(q));C["%Error.prototype%"]=M}var N=function q(X){var te;if(X==="%AsyncFunction%")te=c("async function () {}");else if(X==="%GeneratorFunction%")te=c("function* () {}");else if(X==="%AsyncGeneratorFunction%")te=c("async function* () {}");else if(X==="%AsyncGenerator%"){var re=q("%AsyncGeneratorFunction%");re&&(te=re.prototype)}else if(X==="%AsyncIteratorPrototype%"){var ie=q("%AsyncGenerator%");ie&&x&&(te=x(ie.prototype))}return C[X]=te,te},L={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},R=i(5246),D=i(9021),z=R.call(Function.call,Array.prototype.concat),U=R.call(Function.apply,Array.prototype.splice),O=R.call(Function.call,String.prototype.replace),I=R.call(Function.call,String.prototype.slice),j=R.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,$=function(q,X){var te,re=q;if(D(L,re)&&(re="%"+(te=L[re])[0]+"%"),D(C,re)){var ie=C[re];if(ie===k&&(ie=N(re)),ie===void 0&&!X)throw new d("intrinsic "+q+" exists, but is not available. Please file an issue!");return{alias:te,name:re,value:ie}}throw new p("intrinsic "+q+" does not exist!")};o.exports=function(q,X){if(typeof q!="string"||q.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof X!="boolean")throw new d('"allowMissing" argument must be a boolean');if(j(/^%?[^%]*%?$/,q)===null)throw new p("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var te=function(se){var ce=I(se,0,1),ue=I(se,-1);if(ce==="%"&&ue!=="%")throw new p("invalid intrinsic syntax, expected closing `%`");if(ue==="%"&&ce!=="%")throw new p("invalid intrinsic syntax, expected opening `%`");var be=[];return O(se,P,function(Se,Ae,we,Ue){be[be.length]=we?O(Ue,A,"$1"):Ae||Se}),be}(q),re=te.length>0?te[0]:"",ie=$("%"+re+"%",X),Z=ie.name,ee=ie.value,de=!1,le=ie.alias;le&&(re=le[0],U(te,z([0,1],le)));for(var V=1,G=!0;V<te.length;V+=1){var K=te[V],ne=I(K,0,1),W=I(K,-1);if((ne==='"'||ne==="'"||ne==="`"||W==='"'||W==="'"||W==="`")&&ne!==W)throw new p("property names with quotes must have matching quotes");if(K!=="constructor"&&G||(de=!0),D(C,Z="%"+(re+="."+K)+"%"))ee=C[Z];else if(ee!=null){if(!(K in ee)){if(!X)throw new d("base intrinsic for "+q+" exists, but the property is not available.");return}if(f&&V+1>=te.length){var H=f(ee,K);ee=(G=!!H)&&"get"in H&&!("originalValue"in H.get)?H.get:ee[K]}else G=D(ee,K),ee=ee[K];G&&!de&&(C[Z]=ee)}}return ee}},1554:(o,s,i)=>{var l=i(6893)("%Object.getOwnPropertyDescriptor%",!0);if(l)try{l([],"length")}catch{l=null}o.exports=l},2579:(o,s,i)=>{var l=i(7385),u=function(){return!!l};u.hasArrayLengthDefineBug=function(){if(!l)return null;try{return l([],"length",{value:1}).length!==1}catch{return!0}},o.exports=u},4406:o=>{var s={__proto__:null,foo:{}},i=Object;o.exports=function(){return{__proto__:s}.foo===s.foo&&!(s instanceof i)}},5990:(o,s,i)=>{function l(h){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},l(h)}var u=typeof Symbol<"u"&&Symbol,g=i(3031);o.exports=function(){return typeof u=="function"&&typeof Symbol=="function"&&l(u("foo"))==="symbol"&&l(Symbol("bar"))==="symbol"&&g()}},3031:o=>{function s(i){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(i)}o.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(s(Symbol.iterator)==="symbol")return!0;var i={},l=Symbol("test"),u=Object(l);if(typeof l=="string"||Object.prototype.toString.call(l)!=="[object Symbol]"||Object.prototype.toString.call(u)!=="[object Symbol]")return!1;for(l in i[l]=42,i)return!1;if(typeof Object.keys=="function"&&Object.keys(i).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(i).length!==0)return!1;var g=Object.getOwnPropertySymbols(i);if(g.length!==1||g[0]!==l||!Object.prototype.propertyIsEnumerable.call(i,l))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(i,l);if(h.value!==42||h.enumerable!==!0)return!1}return!0}},5994:(o,s,i)=>{var l=i(3031);o.exports=function(){return l()&&!!Symbol.toStringTag}},5125:(o,s,i)=>{var l=i(9047).Buffer,u=i(4723).Transform;function g(h){u.call(this),this._block=l.allocUnsafe(h),this._blockSize=h,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}i(376)(g,u),g.prototype._transform=function(h,b,w){var p=null;try{this.update(h,b)}catch(d){p=d}w(p)},g.prototype._flush=function(h){var b=null;try{this.push(this.digest())}catch(w){b=w}h(b)},g.prototype.update=function(h,b){if(function(c,f){if(!l.isBuffer(c)&&typeof c!="string")throw new TypeError("Data must be a string or a buffer")}(h),this._finalized)throw new Error("Digest already called");l.isBuffer(h)||(h=l.from(h,b));for(var w=this._block,p=0;this._blockOffset+h.length-p>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)w[d++]=h[p++];this._update(),this._blockOffset=0}for(;p<h.length;)w[this._blockOffset++]=h[p++];for(var y=0,m=8*h.length;m>0;++y)this._length[y]+=m,(m=this._length[y]/4294967296|0)>0&&(this._length[y]-=4294967296*m);return this},g.prototype._update=function(){throw new Error("_update is not implemented")},g.prototype.digest=function(h){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var b=this._digest();h!==void 0&&(b=b.toString(h)),this._block.fill(0),this._blockOffset=0;for(var w=0;w<4;++w)this._length[w]=0;return b},g.prototype._digest=function(){throw new Error("_digest is not implemented")},o.exports=g},3192:(o,s,i)=>{var l=s;l.utils=i(8244),l.common=i(5386),l.sha=i(2507),l.ripemd=i(9993),l.hmac=i(8534),l.sha1=l.sha.sha1,l.sha256=l.sha.sha256,l.sha224=l.sha.sha224,l.sha384=l.sha.sha384,l.sha512=l.sha.sha512,l.ripemd160=l.ripemd.ripemd160},5386:(o,s,i)=>{var l=i(8244),u=i(1130);function g(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s.BlockHash=g,g.prototype.update=function(h,b){if(h=l.toArray(h,b),this.pending?this.pending=this.pending.concat(h):this.pending=h,this.pendingTotal+=h.length,this.pending.length>=this._delta8){var w=(h=this.pending).length%this._delta8;this.pending=h.slice(h.length-w,h.length),this.pending.length===0&&(this.pending=null),h=l.join32(h,0,h.length-w,this.endian);for(var p=0;p<h.length;p+=this._delta32)this._update(h,p,p+this._delta32)}return this},g.prototype.digest=function(h){return this.update(this._pad()),u(this.pending===null),this._digest(h)},g.prototype._pad=function(){var h=this.pendingTotal,b=this._delta8,w=b-(h+this.padLength)%b,p=new Array(w+this.padLength);p[0]=128;for(var d=1;d<w;d++)p[d]=0;if(h<<=3,this.endian==="big"){for(var y=8;y<this.padLength;y++)p[d++]=0;p[d++]=0,p[d++]=0,p[d++]=0,p[d++]=0,p[d++]=h>>>24&255,p[d++]=h>>>16&255,p[d++]=h>>>8&255,p[d++]=255&h}else for(p[d++]=255&h,p[d++]=h>>>8&255,p[d++]=h>>>16&255,p[d++]=h>>>24&255,p[d++]=0,p[d++]=0,p[d++]=0,p[d++]=0,y=8;y<this.padLength;y++)p[d++]=0;return p}},8534:(o,s,i)=>{var l=i(8244),u=i(1130);function g(h,b,w){if(!(this instanceof g))return new g(h,b,w);this.Hash=h,this.blockSize=h.blockSize/8,this.outSize=h.outSize/8,this.inner=null,this.outer=null,this._init(l.toArray(b,w))}o.exports=g,g.prototype._init=function(h){h.length>this.blockSize&&(h=new this.Hash().update(h).digest()),u(h.length<=this.blockSize);for(var b=h.length;b<this.blockSize;b++)h.push(0);for(b=0;b<h.length;b++)h[b]^=54;for(this.inner=new this.Hash().update(h),b=0;b<h.length;b++)h[b]^=106;this.outer=new this.Hash().update(h)},g.prototype.update=function(h,b){return this.inner.update(h,b),this},g.prototype.digest=function(h){return this.outer.update(this.inner.digest()),this.outer.digest(h)}},9993:(o,s,i)=>{var l=i(8244),u=i(5386),g=l.rotl32,h=l.sum32,b=l.sum32_3,w=l.sum32_4,p=u.BlockHash;function d(){if(!(this instanceof d))return new d;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function y(E,x,k,T){return E<=15?x^k^T:E<=31?x&k|~x&T:E<=47?(x|~k)^T:E<=63?x&T|k&~T:x^(k|~T)}function m(E){return E<=15?0:E<=31?1518500249:E<=47?1859775393:E<=63?2400959708:2840853838}function c(E){return E<=15?1352829926:E<=31?1548603684:E<=47?1836072691:E<=63?2053994217:0}l.inherits(d,p),s.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(E,x){for(var k=this.h[0],T=this.h[1],C=this.h[2],M=this.h[3],N=this.h[4],L=k,R=T,D=C,z=M,U=N,O=0;O<80;O++){var I=h(g(w(k,y(O,T,C,M),E[f[O]+x],m(O)),_[O]),N);k=N,N=M,M=g(C,10),C=T,T=I,I=h(g(w(L,y(79-O,R,D,z),E[v[O]+x],c(O)),S[O]),U),L=U,U=z,z=g(D,10),D=R,R=I}I=b(this.h[1],C,z),this.h[1]=b(this.h[2],M,U),this.h[2]=b(this.h[3],N,L),this.h[3]=b(this.h[4],k,R),this.h[4]=b(this.h[0],T,D),this.h[0]=I},d.prototype._digest=function(E){return E==="hex"?l.toHex32(this.h,"little"):l.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],S=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},2507:(o,s,i)=>{s.sha1=i(9382),s.sha224=i(5123),s.sha256=i(4032),s.sha384=i(1364),s.sha512=i(2161)},9382:(o,s,i)=>{var l=i(8244),u=i(5386),g=i(8355),h=l.rotl32,b=l.sum32,w=l.sum32_5,p=g.ft_1,d=u.BlockHash,y=[1518500249,1859775393,2400959708,3395469782];function m(){if(!(this instanceof m))return new m;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}l.inherits(m,d),o.exports=m,m.blockSize=512,m.outSize=160,m.hmacStrength=80,m.padLength=64,m.prototype._update=function(c,f){for(var v=this.W,_=0;_<16;_++)v[_]=c[f+_];for(;_<v.length;_++)v[_]=h(v[_-3]^v[_-8]^v[_-14]^v[_-16],1);var S=this.h[0],E=this.h[1],x=this.h[2],k=this.h[3],T=this.h[4];for(_=0;_<v.length;_++){var C=~~(_/20),M=w(h(S,5),p(C,E,x,k),T,v[_],y[C]);T=k,k=x,x=h(E,30),E=S,S=M}this.h[0]=b(this.h[0],S),this.h[1]=b(this.h[1],E),this.h[2]=b(this.h[2],x),this.h[3]=b(this.h[3],k),this.h[4]=b(this.h[4],T)},m.prototype._digest=function(c){return c==="hex"?l.toHex32(this.h,"big"):l.split32(this.h,"big")}},5123:(o,s,i)=>{var l=i(8244),u=i(4032);function g(){if(!(this instanceof g))return new g;u.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}l.inherits(g,u),o.exports=g,g.blockSize=512,g.outSize=224,g.hmacStrength=192,g.padLength=64,g.prototype._digest=function(h){return h==="hex"?l.toHex32(this.h.slice(0,7),"big"):l.split32(this.h.slice(0,7),"big")}},4032:(o,s,i)=>{var l=i(8244),u=i(5386),g=i(8355),h=i(1130),b=l.sum32,w=l.sum32_4,p=l.sum32_5,d=g.ch32,y=g.maj32,m=g.s0_256,c=g.s1_256,f=g.g0_256,v=g.g1_256,_=u.BlockHash,S=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function E(){if(!(this instanceof E))return new E;_.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=S,this.W=new Array(64)}l.inherits(E,_),o.exports=E,E.blockSize=512,E.outSize=256,E.hmacStrength=192,E.padLength=64,E.prototype._update=function(x,k){for(var T=this.W,C=0;C<16;C++)T[C]=x[k+C];for(;C<T.length;C++)T[C]=w(v(T[C-2]),T[C-7],f(T[C-15]),T[C-16]);var M=this.h[0],N=this.h[1],L=this.h[2],R=this.h[3],D=this.h[4],z=this.h[5],U=this.h[6],O=this.h[7];for(h(this.k.length===T.length),C=0;C<T.length;C++){var I=p(O,c(D),d(D,z,U),this.k[C],T[C]),j=b(m(M),y(M,N,L));O=U,U=z,z=D,D=b(R,I),R=L,L=N,N=M,M=b(I,j)}this.h[0]=b(this.h[0],M),this.h[1]=b(this.h[1],N),this.h[2]=b(this.h[2],L),this.h[3]=b(this.h[3],R),this.h[4]=b(this.h[4],D),this.h[5]=b(this.h[5],z),this.h[6]=b(this.h[6],U),this.h[7]=b(this.h[7],O)},E.prototype._digest=function(x){return x==="hex"?l.toHex32(this.h,"big"):l.split32(this.h,"big")}},1364:(o,s,i)=>{var l=i(8244),u=i(2161);function g(){if(!(this instanceof g))return new g;u.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}l.inherits(g,u),o.exports=g,g.blockSize=1024,g.outSize=384,g.hmacStrength=192,g.padLength=128,g.prototype._digest=function(h){return h==="hex"?l.toHex32(this.h.slice(0,12),"big"):l.split32(this.h.slice(0,12),"big")}},2161:(o,s,i)=>{var l=i(8244),u=i(5386),g=i(1130),h=l.rotr64_hi,b=l.rotr64_lo,w=l.shr64_hi,p=l.shr64_lo,d=l.sum64,y=l.sum64_hi,m=l.sum64_lo,c=l.sum64_4_hi,f=l.sum64_4_lo,v=l.sum64_5_hi,_=l.sum64_5_lo,S=u.BlockHash,E=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function x(){if(!(this instanceof x))return new x;S.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=E,this.W=new Array(160)}function k(O,I,j,P,A){var $=O&j^~O&A;return $<0&&($+=4294967296),$}function T(O,I,j,P,A,$){var q=I&P^~I&$;return q<0&&(q+=4294967296),q}function C(O,I,j,P,A){var $=O&j^O&A^j&A;return $<0&&($+=4294967296),$}function M(O,I,j,P,A,$){var q=I&P^I&$^P&$;return q<0&&(q+=4294967296),q}function N(O,I){var j=h(O,I,28)^h(I,O,2)^h(I,O,7);return j<0&&(j+=4294967296),j}function L(O,I){var j=b(O,I,28)^b(I,O,2)^b(I,O,7);return j<0&&(j+=4294967296),j}function R(O,I){var j=b(O,I,14)^b(O,I,18)^b(I,O,9);return j<0&&(j+=4294967296),j}function D(O,I){var j=h(O,I,1)^h(O,I,8)^w(O,I,7);return j<0&&(j+=4294967296),j}function z(O,I){var j=b(O,I,1)^b(O,I,8)^p(O,I,7);return j<0&&(j+=4294967296),j}function U(O,I){var j=b(O,I,19)^b(I,O,29)^p(O,I,6);return j<0&&(j+=4294967296),j}l.inherits(x,S),o.exports=x,x.blockSize=1024,x.outSize=512,x.hmacStrength=192,x.padLength=128,x.prototype._prepareBlock=function(O,I){for(var j=this.W,P=0;P<32;P++)j[P]=O[I+P];for(;P<j.length;P+=2){var A=(ee=j[P-4],de=j[P-3],le=void 0,(le=h(ee,de,19)^h(de,ee,29)^w(ee,de,6))<0&&(le+=4294967296),le),$=U(j[P-4],j[P-3]),q=j[P-14],X=j[P-13],te=D(j[P-30],j[P-29]),re=z(j[P-30],j[P-29]),ie=j[P-32],Z=j[P-31];j[P]=c(A,$,q,X,te,re,ie,Z),j[P+1]=f(A,$,q,X,te,re,ie,Z)}var ee,de,le},x.prototype._update=function(O,I){this._prepareBlock(O,I);var j,P,A,$=this.W,q=this.h[0],X=this.h[1],te=this.h[2],re=this.h[3],ie=this.h[4],Z=this.h[5],ee=this.h[6],de=this.h[7],le=this.h[8],V=this.h[9],G=this.h[10],K=this.h[11],ne=this.h[12],W=this.h[13],H=this.h[14],se=this.h[15];g(this.k.length===$.length);for(var ce=0;ce<$.length;ce+=2){var ue=H,be=se,Se=(A=void 0,(A=h(j=le,P=V,14)^h(j,P,18)^h(P,j,9))<0&&(A+=4294967296),A),Ae=R(le,V),we=k(le,0,G,0,ne),Ue=T(0,V,0,K,0,W),$e=this.k[ce],Ce=this.k[ce+1],nt=$[ce],Fe=$[ce+1],ut=v(ue,be,Se,Ae,we,Ue,$e,Ce,nt,Fe),_e=_(ue,be,Se,Ae,we,Ue,$e,Ce,nt,Fe);ue=N(q,X),be=L(q,X),Se=C(q,0,te,0,ie),Ae=M(0,X,0,re,0,Z);var wt=y(ue,be,Se,Ae),ht=m(ue,be,Se,Ae);H=ne,se=W,ne=G,W=K,G=le,K=V,le=y(ee,de,ut,_e),V=m(de,de,ut,_e),ee=ie,de=Z,ie=te,Z=re,te=q,re=X,q=y(ut,_e,wt,ht),X=m(ut,_e,wt,ht)}d(this.h,0,q,X),d(this.h,2,te,re),d(this.h,4,ie,Z),d(this.h,6,ee,de),d(this.h,8,le,V),d(this.h,10,G,K),d(this.h,12,ne,W),d(this.h,14,H,se)},x.prototype._digest=function(O){return O==="hex"?l.toHex32(this.h,"big"):l.split32(this.h,"big")}},8355:(o,s,i)=>{var l=i(8244).rotr32;function u(b,w,p){return b&w^~b&p}function g(b,w,p){return b&w^b&p^w&p}function h(b,w,p){return b^w^p}s.ft_1=function(b,w,p,d){return b===0?u(w,p,d):b===1||b===3?h(w,p,d):b===2?g(w,p,d):void 0},s.ch32=u,s.maj32=g,s.p32=h,s.s0_256=function(b){return l(b,2)^l(b,13)^l(b,22)},s.s1_256=function(b){return l(b,6)^l(b,11)^l(b,25)},s.g0_256=function(b){return l(b,7)^l(b,18)^b>>>3},s.g1_256=function(b){return l(b,17)^l(b,19)^b>>>10}},8244:(o,s,i)=>{var l=i(1130),u=i(376);function g(p,d){return(64512&p.charCodeAt(d))==55296&&!(d<0||d+1>=p.length)&&(64512&p.charCodeAt(d+1))==56320}function h(p){return(p>>>24|p>>>8&65280|p<<8&16711680|(255&p)<<24)>>>0}function b(p){return p.length===1?"0"+p:p}function w(p){return p.length===7?"0"+p:p.length===6?"00"+p:p.length===5?"000"+p:p.length===4?"0000"+p:p.length===3?"00000"+p:p.length===2?"000000"+p:p.length===1?"0000000"+p:p}s.inherits=u,s.toArray=function(p,d){if(Array.isArray(p))return p.slice();if(!p)return[];var y=[];if(typeof p=="string")if(d){if(d==="hex")for((p=p.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(p="0"+p),c=0;c<p.length;c+=2)y.push(parseInt(p[c]+p[c+1],16))}else for(var m=0,c=0;c<p.length;c++){var f=p.charCodeAt(c);f<128?y[m++]=f:f<2048?(y[m++]=f>>6|192,y[m++]=63&f|128):g(p,c)?(f=65536+((1023&f)<<10)+(1023&p.charCodeAt(++c)),y[m++]=f>>18|240,y[m++]=f>>12&63|128,y[m++]=f>>6&63|128,y[m++]=63&f|128):(y[m++]=f>>12|224,y[m++]=f>>6&63|128,y[m++]=63&f|128)}else for(c=0;c<p.length;c++)y[c]=0|p[c];return y},s.toHex=function(p){for(var d="",y=0;y<p.length;y++)d+=b(p[y].toString(16));return d},s.htonl=h,s.toHex32=function(p,d){for(var y="",m=0;m<p.length;m++){var c=p[m];d==="little"&&(c=h(c)),y+=w(c.toString(16))}return y},s.zero2=b,s.zero8=w,s.join32=function(p,d,y,m){var c=y-d;l(c%4==0);for(var f=new Array(c/4),v=0,_=d;v<f.length;v++,_+=4){var S;S=m==="big"?p[_]<<24|p[_+1]<<16|p[_+2]<<8|p[_+3]:p[_+3]<<24|p[_+2]<<16|p[_+1]<<8|p[_],f[v]=S>>>0}return f},s.split32=function(p,d){for(var y=new Array(4*p.length),m=0,c=0;m<p.length;m++,c+=4){var f=p[m];d==="big"?(y[c]=f>>>24,y[c+1]=f>>>16&255,y[c+2]=f>>>8&255,y[c+3]=255&f):(y[c+3]=f>>>24,y[c+2]=f>>>16&255,y[c+1]=f>>>8&255,y[c]=255&f)}return y},s.rotr32=function(p,d){return p>>>d|p<<32-d},s.rotl32=function(p,d){return p<<d|p>>>32-d},s.sum32=function(p,d){return p+d>>>0},s.sum32_3=function(p,d,y){return p+d+y>>>0},s.sum32_4=function(p,d,y,m){return p+d+y+m>>>0},s.sum32_5=function(p,d,y,m,c){return p+d+y+m+c>>>0},s.sum64=function(p,d,y,m){var c=p[d],f=m+p[d+1]>>>0,v=(f<m?1:0)+y+c;p[d]=v>>>0,p[d+1]=f},s.sum64_hi=function(p,d,y,m){return(d+m>>>0<d?1:0)+p+y>>>0},s.sum64_lo=function(p,d,y,m){return d+m>>>0},s.sum64_4_hi=function(p,d,y,m,c,f,v,_){var S=0,E=d;return S+=(E=E+m>>>0)<d?1:0,S+=(E=E+f>>>0)<f?1:0,p+y+c+v+(S+=(E=E+_>>>0)<_?1:0)>>>0},s.sum64_4_lo=function(p,d,y,m,c,f,v,_){return d+m+f+_>>>0},s.sum64_5_hi=function(p,d,y,m,c,f,v,_,S,E){var x=0,k=d;return x+=(k=k+m>>>0)<d?1:0,x+=(k=k+f>>>0)<f?1:0,x+=(k=k+_>>>0)<_?1:0,p+y+c+v+S+(x+=(k=k+E>>>0)<E?1:0)>>>0},s.sum64_5_lo=function(p,d,y,m,c,f,v,_,S,E){return d+m+f+_+E>>>0},s.rotr64_hi=function(p,d,y){return(d<<32-y|p>>>y)>>>0},s.rotr64_lo=function(p,d,y){return(p<<32-y|d>>>y)>>>0},s.shr64_hi=function(p,d,y){return p>>>y},s.shr64_lo=function(p,d,y){return(p<<32-y|d>>>y)>>>0}},9021:(o,s,i)=>{var l=Function.prototype.call,u=Object.prototype.hasOwnProperty,g=i(5246);o.exports=g.call(l,u)},9742:(o,s,i)=>{var l=i(3192),u=i(5522),g=i(1130);function h(b){if(!(this instanceof h))return new h(b);this.hash=b.hash,this.predResist=!!b.predResist,this.outLen=this.hash.outSize,this.minEntropy=b.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var w=u.toArray(b.entropy,b.entropyEnc||"hex"),p=u.toArray(b.nonce,b.nonceEnc||"hex"),d=u.toArray(b.pers,b.persEnc||"hex");g(w.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(w,p,d)}o.exports=h,h.prototype._init=function(b,w,p){var d=b.concat(w).concat(p);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var y=0;y<this.V.length;y++)this.K[y]=0,this.V[y]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},h.prototype._hmac=function(){return new l.hmac(this.hash,this.K)},h.prototype._update=function(b){var w=this._hmac().update(this.V).update([0]);b&&(w=w.update(b)),this.K=w.digest(),this.V=this._hmac().update(this.V).digest(),b&&(this.K=this._hmac().update(this.V).update([1]).update(b).digest(),this.V=this._hmac().update(this.V).digest())},h.prototype.reseed=function(b,w,p,d){typeof w!="string"&&(d=p,p=w,w=null),b=u.toArray(b,w),p=u.toArray(p,d),g(b.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(b.concat(p||[])),this._reseed=1},h.prototype.generate=function(b,w,p,d){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof w!="string"&&(d=p,p=w,w=null),p&&(p=u.toArray(p,d||"hex"),this._update(p));for(var y=[];y.length<b;)this.V=this._hmac().update(this.V).digest(),y=y.concat(this.V);var m=y.slice(0,b);return this._update(p),this._reseed++,u.encode(m,w)}},8405:(o,s)=>{s.read=function(i,l,u,g,h){var b,w,p=8*h-g-1,d=(1<<p)-1,y=d>>1,m=-7,c=u?h-1:0,f=u?-1:1,v=i[l+c];for(c+=f,b=v&(1<<-m)-1,v>>=-m,m+=p;m>0;b=256*b+i[l+c],c+=f,m-=8);for(w=b&(1<<-m)-1,b>>=-m,m+=g;m>0;w=256*w+i[l+c],c+=f,m-=8);if(b===0)b=1-y;else{if(b===d)return w?NaN:1/0*(v?-1:1);w+=Math.pow(2,g),b-=y}return(v?-1:1)*w*Math.pow(2,b-g)},s.write=function(i,l,u,g,h,b){var w,p,d,y=8*b-h-1,m=(1<<y)-1,c=m>>1,f=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=g?0:b-1,_=g?1:-1,S=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(p=isNaN(l)?1:0,w=m):(w=Math.floor(Math.log(l)/Math.LN2),l*(d=Math.pow(2,-w))<1&&(w--,d*=2),(l+=w+c>=1?f/d:f*Math.pow(2,1-c))*d>=2&&(w++,d/=2),w+c>=m?(p=0,w=m):w+c>=1?(p=(l*d-1)*Math.pow(2,h),w+=c):(p=l*Math.pow(2,c-1)*Math.pow(2,h),w=0));h>=8;i[u+v]=255&p,v+=_,p/=256,h-=8);for(w=w<<h|p,y+=h;y>0;i[u+v]=255&w,v+=_,w/=256,y-=8);i[u+v-_]|=128*S}},376:o=>{typeof Object.create=="function"?o.exports=function(s,i){i&&(s.super_=i,s.prototype=Object.create(i.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:o.exports=function(s,i){if(i){s.super_=i;var l=function(){};l.prototype=i.prototype,s.prototype=new l,s.prototype.constructor=s}}},2755:(o,s,i)=>{function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(p)}var u=i(5994)(),g=i(8780)("Object.prototype.toString"),h=function(p){return!(u&&p&&l(p)==="object"&&Symbol.toStringTag in p)&&g(p)==="[object Arguments]"},b=function(p){return!!h(p)||p!==null&&l(p)==="object"&&typeof p.length=="number"&&p.length>=0&&g(p)!=="[object Array]"&&g(p.callee)==="[object Function]"},w=function(){return h(arguments)}();h.isLegacyArguments=b,o.exports=w?h:b},8625:o=>{function s(f){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},s(f)}var i,l,u=Function.prototype.toString,g=(typeof Reflect>"u"?"undefined":s(Reflect))==="object"&&Reflect!==null&&Reflect.apply;if(typeof g=="function"&&typeof Object.defineProperty=="function")try{i=Object.defineProperty({},"length",{get:function(){throw l}}),l={},g(function(){throw 42},null,i)}catch(f){f!==l&&(g=null)}else g=null;var h=/^\s*class\b/,b=function(f){try{var v=u.call(f);return h.test(v)}catch{return!1}},w=function(f){try{return!b(f)&&(u.call(f),!0)}catch{return!1}},p=Object.prototype.toString,d=typeof Symbol=="function"&&!!Symbol.toStringTag,y=!(0 in[,]),m=function(){return!1};if((typeof document>"u"?"undefined":s(document))==="object"){var c=document.all;p.call(c)===p.call(document.all)&&(m=function(f){if((y||!f)&&(f===void 0||s(f)==="object"))try{var v=p.call(f);return(v==="[object HTMLAllCollection]"||v==="[object HTML document.all class]"||v==="[object HTMLCollection]"||v==="[object Object]")&&f("")==null}catch{}return!1})}o.exports=g?function(f){if(m(f))return!0;if(!f||typeof f!="function"&&s(f)!=="object")return!1;try{g(f,null,i)}catch(v){if(v!==l)return!1}return!b(f)&&w(f)}:function(f){if(m(f))return!0;if(!f||typeof f!="function"&&s(f)!=="object")return!1;if(d)return w(f);if(b(f))return!1;var v=p.call(f);return!(v!=="[object Function]"&&v!=="[object GeneratorFunction]"&&!/^\[object HTML/.test(v))&&w(f)}},6738:(o,s,i)=>{var l,u=Object.prototype.toString,g=Function.prototype.toString,h=/^\s*(?:function)?\*/,b=i(5994)(),w=Object.getPrototypeOf;o.exports=function(p){if(typeof p!="function")return!1;if(h.test(g.call(p)))return!0;if(!b)return u.call(p)==="[object GeneratorFunction]";if(!w)return!1;if(l===void 0){var d=function(){if(!b)return!1;try{return Function("return function*() {}")()}catch{}}();l=!!d&&w(d)}return w(p)===l}},2703:o=>{o.exports=function(s){return s!=s}},2191:(o,s,i)=>{var l=i(3862),u=i(7921),g=i(2703),h=i(4828),b=i(2568),w=l(h(),Number);u(w,{getPolyfill:h,implementation:g,shim:b}),o.exports=w},4828:(o,s,i)=>{var l=i(2703);o.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:l}},2568:(o,s,i)=>{var l=i(7921),u=i(4828);o.exports=function(){var g=u();return l(Number,{isNaN:g},{isNaN:function(){return Number.isNaN!==g}}),g}},7913:(o,s,i)=>{var l=i(1482);o.exports=function(u){return!!l(u)}},7577:o=>{var s={}.toString;o.exports=Array.isArray||function(i){return s.call(i)=="[object Array]"}},3138:o=>{function s(v,_){var S=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!S){if(Array.isArray(v)||(S=l(v))||_&&v&&typeof v.length=="number"){S&&(v=S);var E=0,x=function(){};return{s:x,n:function(){return E>=v.length?{done:!0}:{done:!1,value:v[E++]}},e:function(M){throw M},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k,T=!0,C=!1;return{s:function(){S=S.call(v)},n:function(){var M=S.next();return T=M.done,M},e:function(M){C=!0,k=M},f:function(){try{T||S.return==null||S.return()}finally{if(C)throw k}}}}function i(v){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},i(v)}function l(v,_){if(v){if(typeof v=="string")return u(v,_);var S={}.toString.call(v).slice(8,-1);return S==="Object"&&v.constructor&&(S=v.constructor.name),S==="Map"||S==="Set"?Array.from(v):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?u(v,_):void 0}}function u(v,_){(_==null||_>v.length)&&(_=v.length);for(var S=0,E=Array(_);S<_;S++)E[S]=v[S];return E}function g(v,_,S){if(b())return Reflect.construct.apply(null,arguments);var E=[null];E.push.apply(E,_);var x=new(v.bind.apply(v,E));return S&&h(x,S.prototype),x}function h(v,_){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,E){return S.__proto__=E,S},h(v,_)}function b(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b=function(){return!!v})()}function w(){this._pres=new Map,this._posts=new Map}function p(v,_,S,E,x,k,T){return k.useErrorHandlers?v.execPost(S,E,x,{error:_},function(C){return typeof T=="function"&&T(C)}):typeof T=="function"&&T(_)}function d(v,_,S,E){var x;try{x=v.apply(_,S)}catch(k){return E(k)}y(x)&&x.then(function(){return E()},function(k){return E(k)})}function y(v){return i(v)==="object"&&v!==null&&typeof v.then=="function"}function m(v){var _=!1,S=this;return function(){var E=arguments;if(!_)return _=!0,c(function(){return v.apply(S,E)})}}w.skipWrappedFunction=function(){if(!(this instanceof w.skipWrappedFunction))return g(w.skipWrappedFunction,Array.prototype.slice.call(arguments));this.args=Array.prototype.slice.call(arguments)},w.overwriteResult=function(){if(!(this instanceof w.overwriteResult))return g(w.overwriteResult,Array.prototype.slice.call(arguments));this.args=Array.prototype.slice.call(arguments)},w.prototype.execPre=function(v,_,S,E){arguments.length===3&&(E=S,S=[]);var x=this._pres.get(v)||[],k=x.length,T=x.numAsync||0,C=0,M=T,N=!1,L=S,R=null;if(!k)return c(function(){E(null)});function D(){if(!(C>=k)){var U=x[C];if(U.isAsync){var O=[m(z),m(function($){if($){if(N)return;if(!($ instanceof w.skipWrappedFunction))return N=!0,E($);R=$}if(--M==0&&C>=k)return E(R)})];d(U.fn,_,O,O[0])}else if(U.fn.length>0){for(var I=[m(z)],j=arguments.length>=2?arguments:[null].concat(L),P=1;P<j.length;++P)P===j.length-1&&typeof j[P]=="function"||I.push(j[P]);d(U.fn,_,I,I[0])}else{var A=null;try{A=U.fn.call(_)}catch($){if($!=null)return E($)}if(y(A))A.then(function(){return z()},function($){return z($)});else{if(++C>=k)return M>0?void 0:c(function(){E(R)});D()}}}}function z(U){if(U){if(N)return;if(!(U instanceof w.skipWrappedFunction))return N=!0,E(U);R=U}if(++C>=k)return M>0?void 0:E(R);D.apply(_,arguments)}D.apply(null,[null].concat(S))},w.prototype.execPreSync=function(v,_,S){for(var E=this._pres.get(v)||[],x=E.length,k=0;k<x;++k)E[k].fn.apply(_,S||[])},w.prototype.execPost=function(v,_,S,E,x){arguments.length<5&&(x=E,E=null);var k=this._posts.get(v)||[],T=k.length,C=0,M=null;if(E&&E.error&&(M=E.error),!T)return c(function(){x.apply(null,[M].concat(S))});(function N(){for(var L=k[C].fn,R=0,D=S.length,z=[],U=0;U<D;++U)R+=S[U]&&S[U]._kareemIgnore?0:1,S[U]&&S[U]._kareemIgnore||z.push(S[U]);if(M)if(f(k[C],R)){var O=m(function(A){if(A){if(A instanceof w.overwriteResult)return S=A.args,++C>=T?x.call(null,M):N();M=A}if(++C>=T)return x.call(null,M);N()});d(L,_,[M].concat(z).concat([O]),O)}else{if(++C>=T)return x.call(null,M);N()}else{var I=m(function(A){return A?A instanceof w.overwriteResult?(S=A.args,++C>=T?x.apply(null,[null].concat(S)):N()):(M=A,N()):++C>=T?x.apply(null,[null].concat(S)):void N()});if(f(k[C],R))return++C>=T?x.apply(null,[null].concat(S)):N();if(L.length===R+1)d(L,_,z.concat([I]),I);else{var j,P;try{P=L.apply(_,z)}catch(A){j=A,M=A}if(y(P))return P.then(function(A){I(A instanceof w.overwriteResult?A:null)},function(A){return I(A)});if(P instanceof w.overwriteResult&&(S=P.args),++C>=T)return x.apply(null,[j].concat(S));N()}}})()},w.prototype.execPostSync=function(v,_,S){for(var E=this._posts.get(v)||[],x=E.length,k=0;k<x;++k){var T=E[k].fn.apply(_,S||[]);T instanceof w.overwriteResult&&(S=T.args)}return S},w.prototype.createWrapperSync=function(v,_){var S=this;return function(){S.execPreSync(v,this,arguments);var E=_.apply(this,arguments);return S.execPostSync(v,this,[E])[0]}},w.prototype.wrap=function(v,_,S,E,x){var k=E.length>0?E[E.length-1]:null,T=Array.from(E);typeof k=="function"&&T.pop();var C=this,M=(x=x||{}).checkForPromise;this.execPre(v,S,E,function(N){if(N&&!(N instanceof w.skipWrappedFunction)){for(var L=x.numCallbackParams||0,R=x.contextParameter?[S]:[],D=R.length;D<L;++D)R.push(null);return p(C,N,v,S,R,x,k)}var z,U,O=_.length;if(N instanceof w.skipWrappedFunction)return z=N.args[0],I.apply(void 0,[null].concat(function(j){if(Array.isArray(j))return u(j)}(U=N.args)||function(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}(U)||l(U)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()));try{z=_.apply(S,T.concat(I))}catch(j){return I(j)}if(M){if(y(z))return z.then(function(j){return I(null,j)},function(j){return I(j)});if(O<T.length+1)return I(null,z)}function I(){var j=Array.from(arguments);if(j.shift(),x.nullResultByDefault&&j.length===0&&j.push(null),arguments[0])return p(C,arguments[0],v,S,j,x,k);C.execPost(v,S,j,function(){k!==null&&(arguments[0]?k(arguments[0]):k.apply(S,arguments))})}})},w.prototype.filter=function(v){for(var _=this,S=this.clone(),E=Array.from(S._pres.keys()),x=function(){var R=T[k],D=_._pres.get(R).map(function(z){return Object.assign({},z,{name:R})}).filter(v);if(D.length===0)return S._pres.delete(R),1;D.numAsync=D.filter(function(z){return z.isAsync}).length,S._pres.set(R,D)},k=0,T=E;k<T.length;k++)x();for(var C=Array.from(S._posts.keys()),M=function(){var R=L[N],D=_._posts.get(R).map(function(z){return Object.assign({},z,{name:R})}).filter(v);if(D.length===0)return S._posts.delete(R),1;S._posts.set(R,D)},N=0,L=C;N<L.length;N++)M();return S},w.prototype.hasHooks=function(v){return this._pres.has(v)||this._posts.has(v)},w.prototype.createWrapper=function(v,_,S,E){var x=this;return this.hasHooks(v)?function(){var k=S||this;x.wrap(v,_,k,Array.from(arguments),E)}:function(){var k=arguments,T=this;c(function(){return _.apply(T,k)})}},w.prototype.pre=function(v,_,S,E,x){var k={};i(_)==="object"&&_!==null?_=(k=_).isAsync:typeof arguments[1]!="boolean"&&(S=_,_=!1);var T=this._pres.get(v)||[];if(this._pres.set(v,T),_&&(T.numAsync=T.numAsync||0,++T.numAsync),typeof S!="function")throw new Error('pre() requires a function, got "'+i(S)+'"');return x?T.unshift(Object.assign({},k,{fn:S,isAsync:_})):T.push(Object.assign({},k,{fn:S,isAsync:_})),this},w.prototype.post=function(v,_,S,E){var x=this._posts.get(v)||[];if(typeof _=="function"&&(E=!!S,S=_,_={}),typeof S!="function")throw new Error('post() requires a function, got "'+i(S)+'"');return E?x.unshift(Object.assign({},_,{fn:S})):x.push(Object.assign({},_,{fn:S})),this._posts.set(v,x),this},w.prototype.clone=function(){var v,_=new w,S=s(this._pres.keys());try{for(S.s();!(v=S.n()).done;){var E=v.value,x=this._pres.get(E).slice();x.numAsync=this._pres.get(E).numAsync,_._pres.set(E,x)}}catch(M){S.e(M)}finally{S.f()}var k,T=s(this._posts.keys());try{for(T.s();!(k=T.n()).done;){var C=k.value;_._posts.set(C,this._posts.get(C).slice())}}catch(M){T.e(M)}finally{T.f()}return _},w.prototype.merge=function(v,_){var S,E=(_=arguments.length===1||_)?this.clone():this,x=s(v._pres.keys());try{var k=function(){var N=S.value,L=E._pres.get(N)||[],R=v._pres.get(N).filter(function(z){return L.map(function(U){return U.fn}).indexOf(z.fn)===-1}),D=L.concat(R);D.numAsync=L.numAsync||0,D.numAsync+=R.filter(function(z){return z.isAsync}).length,E._pres.set(N,D)};for(x.s();!(S=x.n()).done;)k()}catch(N){x.e(N)}finally{x.f()}var T,C=s(v._posts.keys());try{var M=function(){var N=T.value,L=E._posts.get(N)||[],R=v._posts.get(N).filter(function(D){return L.indexOf(D)===-1});E._posts.set(N,L.concat(R))};for(C.s();!(T=C.n()).done;)M()}catch(N){C.e(N)}finally{C.f()}return E};var c=({env:{}}===void 0?"undefined":i({env:{}}))==="object"&&{env:{}}!==null&&{env:{}}.nextTick||function(v){setTimeout(v,0)};function f(v,_){return!!v.errorHandler||v.fn.length===_+2}o.exports=w},722:(o,s,i)=>{var l=i(376),u=i(5125),g=i(9047).Buffer,h=new Array(16);function b(){u.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function w(c,f){return c<<f|c>>>32-f}function p(c,f,v,_,S,E,x){return w(c+(f&v|~f&_)+S+E|0,x)+f|0}function d(c,f,v,_,S,E,x){return w(c+(f&_|v&~_)+S+E|0,x)+f|0}function y(c,f,v,_,S,E,x){return w(c+(f^v^_)+S+E|0,x)+f|0}function m(c,f,v,_,S,E,x){return w(c+(v^(f|~_))+S+E|0,x)+f|0}l(b,u),b.prototype._update=function(){for(var c=h,f=0;f<16;++f)c[f]=this._block.readInt32LE(4*f);var v=this._a,_=this._b,S=this._c,E=this._d;v=p(v,_,S,E,c[0],3614090360,7),E=p(E,v,_,S,c[1],3905402710,12),S=p(S,E,v,_,c[2],606105819,17),_=p(_,S,E,v,c[3],3250441966,22),v=p(v,_,S,E,c[4],4118548399,7),E=p(E,v,_,S,c[5],1200080426,12),S=p(S,E,v,_,c[6],2821735955,17),_=p(_,S,E,v,c[7],4249261313,22),v=p(v,_,S,E,c[8],1770035416,7),E=p(E,v,_,S,c[9],2336552879,12),S=p(S,E,v,_,c[10],4294925233,17),_=p(_,S,E,v,c[11],2304563134,22),v=p(v,_,S,E,c[12],1804603682,7),E=p(E,v,_,S,c[13],4254626195,12),S=p(S,E,v,_,c[14],2792965006,17),v=d(v,_=p(_,S,E,v,c[15],1236535329,22),S,E,c[1],4129170786,5),E=d(E,v,_,S,c[6],3225465664,9),S=d(S,E,v,_,c[11],643717713,14),_=d(_,S,E,v,c[0],3921069994,20),v=d(v,_,S,E,c[5],3593408605,5),E=d(E,v,_,S,c[10],38016083,9),S=d(S,E,v,_,c[15],3634488961,14),_=d(_,S,E,v,c[4],3889429448,20),v=d(v,_,S,E,c[9],568446438,5),E=d(E,v,_,S,c[14],3275163606,9),S=d(S,E,v,_,c[3],4107603335,14),_=d(_,S,E,v,c[8],1163531501,20),v=d(v,_,S,E,c[13],2850285829,5),E=d(E,v,_,S,c[2],4243563512,9),S=d(S,E,v,_,c[7],1735328473,14),v=y(v,_=d(_,S,E,v,c[12],2368359562,20),S,E,c[5],4294588738,4),E=y(E,v,_,S,c[8],2272392833,11),S=y(S,E,v,_,c[11],1839030562,16),_=y(_,S,E,v,c[14],4259657740,23),v=y(v,_,S,E,c[1],2763975236,4),E=y(E,v,_,S,c[4],1272893353,11),S=y(S,E,v,_,c[7],4139469664,16),_=y(_,S,E,v,c[10],3200236656,23),v=y(v,_,S,E,c[13],681279174,4),E=y(E,v,_,S,c[0],3936430074,11),S=y(S,E,v,_,c[3],3572445317,16),_=y(_,S,E,v,c[6],76029189,23),v=y(v,_,S,E,c[9],3654602809,4),E=y(E,v,_,S,c[12],3873151461,11),S=y(S,E,v,_,c[15],530742520,16),v=m(v,_=y(_,S,E,v,c[2],3299628645,23),S,E,c[0],4096336452,6),E=m(E,v,_,S,c[7],1126891415,10),S=m(S,E,v,_,c[14],2878612391,15),_=m(_,S,E,v,c[5],4237533241,21),v=m(v,_,S,E,c[12],1700485571,6),E=m(E,v,_,S,c[3],2399980690,10),S=m(S,E,v,_,c[10],4293915773,15),_=m(_,S,E,v,c[1],2240044497,21),v=m(v,_,S,E,c[8],1873313359,6),E=m(E,v,_,S,c[15],4264355552,10),S=m(S,E,v,_,c[6],2734768916,15),_=m(_,S,E,v,c[13],1309151649,21),v=m(v,_,S,E,c[4],4149444226,6),E=m(E,v,_,S,c[11],3174756917,10),S=m(S,E,v,_,c[2],718787259,15),_=m(_,S,E,v,c[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+_|0,this._c=this._c+S|0,this._d=this._d+E|0},b.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var c=g.allocUnsafe(16);return c.writeInt32LE(this._a,0),c.writeInt32LE(this._b,4),c.writeInt32LE(this._c,8),c.writeInt32LE(this._d,12),c},o.exports=b},9318:(o,s,i)=>{var l=i(815),u=i(7179);function g(h){this.rand=h||new u.Rand}o.exports=g,g.create=function(h){return new g(h)},g.prototype._randbelow=function(h){var b=h.bitLength(),w=Math.ceil(b/8);do var p=new l(this.rand.generate(w));while(p.cmp(h)>=0);return p},g.prototype._randrange=function(h,b){var w=b.sub(h);return h.add(this._randbelow(w))},g.prototype.test=function(h,b,w){var p=h.bitLength(),d=l.mont(h),y=new l(1).toRed(d);b||(b=Math.max(1,p/48|0));for(var m=h.subn(1),c=0;!m.testn(c);c++);for(var f=h.shrn(c),v=m.toRed(d);b>0;b--){var _=this._randrange(new l(2),m);w&&w(_);var S=_.toRed(d).redPow(f);if(S.cmp(y)!==0&&S.cmp(v)!==0){for(var E=1;E<c;E++){if((S=S.redSqr()).cmp(y)===0)return!1;if(S.cmp(v)===0)break}if(E===c)return!1}}return!0},g.prototype.getDivisor=function(h,b){var w=h.bitLength(),p=l.mont(h),d=new l(1).toRed(p);b||(b=Math.max(1,w/48|0));for(var y=h.subn(1),m=0;!y.testn(m);m++);for(var c=h.shrn(m),f=y.toRed(p);b>0;b--){var v=this._randrange(new l(2),y),_=h.gcd(v);if(_.cmpn(1)!==0)return _;var S=v.toRed(p).redPow(c);if(S.cmp(d)!==0&&S.cmp(f)!==0){for(var E=1;E<m;E++){if((S=S.redSqr()).cmp(d)===0)return S.fromRed().subn(1).gcd(h);if(S.cmp(f)===0)break}if(E===m)return(S=S.redSqr()).fromRed().subn(1).gcd(h)}}return!1}},1130:o=>{function s(i,l){if(!i)throw new Error(l||"Assertion failed")}o.exports=s,s.equal=function(i,l,u){if(i!=l)throw new Error(u||"Assertion failed: "+i+" != "+l)}},5522:(o,s)=>{var i=s;function l(g){return g.length===1?"0"+g:g}function u(g){for(var h="",b=0;b<g.length;b++)h+=l(g[b].toString(16));return h}i.toArray=function(g,h){if(Array.isArray(g))return g.slice();if(!g)return[];var b=[];if(typeof g!="string"){for(var w=0;w<g.length;w++)b[w]=0|g[w];return b}if(h==="hex")for((g=g.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(g="0"+g),w=0;w<g.length;w+=2)b.push(parseInt(g[w]+g[w+1],16));else for(w=0;w<g.length;w++){var p=g.charCodeAt(w),d=p>>8,y=255&p;d?b.push(d,y):b.push(y)}return b},i.zero2=l,i.toHex=u,i.encode=function(g,h){return h==="hex"?u(g):g}},3564:(o,s,i)=>{o.exports=i(8424)},8424:(o,s,i)=>{function l(w){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},l(w)}var u=i(7355),g=["__proto__","constructor","prototype"];function h(w,p,d,y,m,c){for(var f,v=0;v<w.length&&v<p.length;++v)f=w[v],Array.isArray(f)&&Array.isArray(p[v])?h(f,p[v],d,y,m,c):f&&(y?y(f,d,c(p[v])):(f[m]&&(f=f[m]),f[d]=c(p[v])))}function b(w){return w}s.get=function(w,p,d,y){var m;typeof d=="function"&&(d.length<2?(y=d,d=void 0):(m=d,d=void 0)),y||(y=b);var c=typeof w=="string"?u(w):w;if(!Array.isArray(c))throw new TypeError("Invalid `path`. Must be either string or array");for(var f,v=p,_=0;_<c.length;++_){if(f=c[_],typeof c[_]!="string"&&typeof c[_]!="number")throw new TypeError("Each segment of path to `get()` must be a string or number, got "+l(c[_]));if(Array.isArray(v)&&!/^\d+$/.test(f)){var S=c.slice(_);return[].concat(v).map(function(x){return x?s.get(S,x,d||m,y):y(void 0)})}if(m)v=m(v,f);else{var E=d&&v[d]?v[d]:v;v=E instanceof Map?E.get(f):E[f]}if(!v)return y(v)}return y(v)},s.has=function(w,p){var d=typeof w=="string"?u(w):w;if(!Array.isArray(d))throw new TypeError("Invalid `path`. Must be either string or array");for(var y=d.length,m=p,c=0;c<y;++c){if(typeof d[c]!="string"&&typeof d[c]!="number")throw new TypeError("Each segment of path to `has()` must be a string or number, got "+l(d[c]));if(m==null||l(m)!=="object"||!(d[c]in m))return!1;m=m[d[c]]}return!0},s.unset=function(w,p){var d=typeof w=="string"?u(w):w;if(!Array.isArray(d))throw new TypeError("Invalid `path`. Must be either string or array");for(var y=d.length,m=p,c=0;c<y;++c){if(m==null||l(m)!=="object"||!(d[c]in m))return!1;if(typeof d[c]!="string"&&typeof d[c]!="number")throw new TypeError("Each segment of path to `unset()` must be a string or number, got "+l(d[c]));if(g.indexOf(d[c])!==-1)return!1;if(c===y-1)return delete m[d[c]],!0;m=m instanceof Map?m.get(d[c]):m[d[c]]}return!0},s.set=function(w,p,d,y,m,c){var f;typeof y=="function"&&(y.length<2?(m=y,y=void 0):(f=y,y=void 0)),m||(m=b);var v=typeof w=="string"?u(w):w;if(!Array.isArray(v))throw new TypeError("Invalid `path`. Must be either string or array");if(d!=null){for(var _=0;_<v.length;++_){if(typeof v[_]!="string"&&typeof v[_]!="number")throw new TypeError("Each segment of path to `set()` must be a string or number, got "+l(v[_]));if(g.indexOf(v[_])!==-1)return}for(var S,E=c||/\$/.test(w)&&c!==!1,x=d,k=(_=0,v.length-1);_<k;++_)if((S=v[_])!="$"){if(Array.isArray(x)&&!/^\d+$/.test(S)){var T=v.slice(_);if(!E&&Array.isArray(p))for(var C=0;C<x.length&&C<p.length;++C)s.set(T,p[C],x[C],y||f,m,E);else for(C=0;C<x.length;++C)s.set(T,p,x[C],y||f,m,E);return}if(f)x=f(x,S);else{var M=y&&x[y]?x[y]:x;x=M instanceof Map?M.get(S):M[S]}if(!x)return}else if(_==k-1)break;if(S=v[k],y&&x[y]&&(x=x[y]),Array.isArray(x)&&!/^\d+$/.test(S))if(!E&&Array.isArray(p))h(x,p,S,f,y,m);else for(C=0;C<x.length;++C){var N=x[C];N&&(f?f(N,S,m(p)):(N[y]&&(N=N[y]),N[S]=m(p)))}else f?f(x,S,m(p)):x instanceof Map?x.set(S,m(p)):x[S]=m(p)}},s.stringToParts=u},7355:o=>{o.exports=function(s){for(var i=[],l="",u="DEFAULT",g=0;g<s.length;++g)u!=="IN_SQUARE_BRACKETS"||/\d/.test(s[g])||s[g]==="]"||(u="DEFAULT",l=i[i.length-1]+"["+l,i.splice(i.length-1,1)),s[g]==="["?(u!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&(i.push(l),l=""),u="IN_SQUARE_BRACKETS"):s[g]==="]"?u==="IN_SQUARE_BRACKETS"?(u="IMMEDIATELY_AFTER_SQUARE_BRACKETS",i.push(l),l=""):(u="DEFAULT",l+=s[g]):s[g]==="."?(u!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&(i.push(l),l=""),u="DEFAULT"):l+=s[g];return u!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&i.push(l),i}},2068:o=>{function s(w){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},s(w)}var i=1e3,l=60*i,u=60*l,g=24*u,h=7*g;function b(w,p,d,y){var m=p>=1.5*d;return Math.round(w/d)+" "+y+(m?"s":"")}o.exports=function(w,p){p=p||{};var d,y,m=s(w);if(m==="string"&&w.length>0)return function(c){if(!((c=String(c)).length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(f){var v=parseFloat(f[1]);switch((f[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*v;case"weeks":case"week":case"w":return v*h;case"days":case"day":case"d":return v*g;case"hours":case"hour":case"hrs":case"hr":case"h":return v*u;case"minutes":case"minute":case"mins":case"min":case"m":return v*l;case"seconds":case"second":case"secs":case"sec":case"s":return v*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}(w);if(m==="number"&&isFinite(w))return p.long?(d=w,(y=Math.abs(d))>=g?b(d,y,g,"day"):y>=u?b(d,y,u,"hour"):y>=l?b(d,y,l,"minute"):y>=i?b(d,y,i,"second"):d+" ms"):function(c){var f=Math.abs(c);return f>=g?Math.round(c/g)+"d":f>=u?Math.round(c/u)+"h":f>=l?Math.round(c/l)+"m":f>=i?Math.round(c/i)+"s":c+"ms"}(w);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(w))}},692:o=>{var s=function(i){return i!=i};o.exports=function(i,l){return i===0&&l===0?1/i==1/l:i===l||!(!s(i)||!s(l))}},4710:(o,s,i)=>{var l=i(7921),u=i(3862),g=i(692),h=i(9292),b=i(9228),w=u(h(),Object);l(w,{getPolyfill:h,implementation:g,shim:b}),o.exports=w},9292:(o,s,i)=>{var l=i(692);o.exports=function(){return typeof Object.is=="function"?Object.is:l}},9228:(o,s,i)=>{var l=i(9292),u=i(7921);o.exports=function(){var g=l();return u(Object,{is:g},{is:function(){return Object.is!==g}}),g}},6164:(o,s,i)=>{function l(v){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},l(v)}var u;if(!Object.keys){var g=Object.prototype.hasOwnProperty,h=Object.prototype.toString,b=i(5184),w=Object.prototype.propertyIsEnumerable,p=!w.call({toString:null},"toString"),d=w.call(function(){},"prototype"),y=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],m=function(v){var _=v.constructor;return _&&_.prototype===v},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if(typeof window>"u")return!1;for(var v in window)try{if(!c["$"+v]&&g.call(window,v)&&window[v]!==null&&l(window[v])==="object")try{m(window[v])}catch{return!0}}catch{return!0}return!1}();u=function(v){var _=v!==null&&l(v)==="object",S=h.call(v)==="[object Function]",E=b(v),x=_&&h.call(v)==="[object String]",k=[];if(!_&&!S&&!E)throw new TypeError("Object.keys called on a non-object");var T=d&&S;if(x&&v.length>0&&!g.call(v,0))for(var C=0;C<v.length;++C)k.push(String(C));if(E&&v.length>0)for(var M=0;M<v.length;++M)k.push(String(M));else for(var N in v)T&&N==="prototype"||!g.call(v,N)||k.push(String(N));if(p)for(var L=function(D){if(typeof window>"u"||!f)return m(D);try{return m(D)}catch{return!1}}(v),R=0;R<y.length;++R)L&&y[R]==="constructor"||!g.call(v,y[R])||k.push(y[R]);return k}}o.exports=u},3818:(o,s,i)=>{var l=Array.prototype.slice,u=i(5184),g=Object.keys,h=g?function(w){return g(w)}:i(6164),b=Object.keys;h.shim=function(){if(Object.keys){var w=function(){var p=Object.keys(arguments);return p&&p.length===arguments.length}(1,2);w||(Object.keys=function(p){return u(p)?b(l.call(p)):b(p)})}else Object.keys=h;return Object.keys||h},o.exports=h},5184:o=>{function s(l){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(l)}var i=Object.prototype.toString;o.exports=function(l){var u=i.call(l),g=u==="[object Arguments]";return g||(g=u!=="[object Array]"&&l!==null&&s(l)==="object"&&typeof l.length=="number"&&l.length>=0&&i.call(l.callee)==="[object Function]"),g}},7061:(o,s,i)=>{var l=i(7406);s.certificate=i(458);var u=l.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});s.RSAPrivateKey=u;var g=l.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});s.RSAPublicKey=g;var h=l.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),b=l.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(h),this.key("subjectPublicKey").bitstr())});s.PublicKey=b;var w=l.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(h),this.key("subjectPrivateKey").octstr())});s.PrivateKey=w;var p=l.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});s.EncryptedPrivateKey=p;var d=l.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});s.DSAPrivateKey=d,s.DSAparam=l.define("DSAparam",function(){this.int()});var y=l.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),m=l.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(y),this.key("publicKey").optional().explicit(1).bitstr())});s.ECPrivateKey=m,s.signature=l.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},458:(o,s,i)=>{var l=i(7406),u=l.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),g=l.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),h=l.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),b=l.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(h),this.key("subjectPublicKey").bitstr())}),w=l.define("RelativeDistinguishedName",function(){this.setof(g)}),p=l.define("RDNSequence",function(){this.seqof(w)}),d=l.define("Name",function(){this.choice({rdnSequence:this.use(p)})}),y=l.define("Validity",function(){this.seq().obj(this.key("notBefore").use(u),this.key("notAfter").use(u))}),m=l.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),c=l.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(h),this.key("issuer").use(d),this.key("validity").use(y),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(b),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(m).optional())}),f=l.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(c),this.key("signatureAlgorithm").use(h),this.key("signatureValue").bitstr())});o.exports=f},1120:(o,s,i)=>{var l=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,u=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,g=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,h=i(1248),b=i(4881),w=i(9047).Buffer;o.exports=function(p,d){var y,m=p.toString(),c=m.match(l);if(c){var f="aes"+c[1],v=w.from(c[2],"hex"),_=w.from(c[3].replace(/[\r\n]/g,""),"base64"),S=h(d,v.slice(0,8),parseInt(c[1],10)).key,E=[],x=b.createDecipheriv(f,S,v);E.push(x.update(_)),E.push(x.final()),y=w.concat(E)}else{var k=m.match(g);y=w.from(k[2].replace(/[\r\n]/g,""),"base64")}return{tag:m.match(u)[1],data:y}}},2914:(o,s,i)=>{function l(y){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},l(y)}var u=i(7061),g=i(2562),h=i(1120),b=i(4881),w=i(9379),p=i(9047).Buffer;function d(y){var m;l(y)!=="object"||p.isBuffer(y)||(m=y.passphrase,y=y.key),typeof y=="string"&&(y=p.from(y));var c,f,v=h(y,m),_=v.tag,S=v.data;switch(_){case"CERTIFICATE":f=u.certificate.decode(S,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(f||(f=u.PublicKey.decode(S,"der")),c=f.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return u.RSAPublicKey.decode(f.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return f.subjectPrivateKey=f.subjectPublicKey,{type:"ec",data:f};case"1.2.840.10040.4.1":return f.algorithm.params.pub_key=u.DSAparam.decode(f.subjectPublicKey.data,"der"),{type:"dsa",data:f.algorithm.params};default:throw new Error("unknown key id "+c)}case"ENCRYPTED PRIVATE KEY":S=function(E,x){var k=E.algorithm.decrypt.kde.kdeparams.salt,T=parseInt(E.algorithm.decrypt.kde.kdeparams.iters.toString(),10),C=g[E.algorithm.decrypt.cipher.algo.join(".")],M=E.algorithm.decrypt.cipher.iv,N=E.subjectPrivateKey,L=parseInt(C.split("-")[1],10)/8,R=w.pbkdf2Sync(x,k,T,L,"sha1"),D=b.createDecipheriv(C,R,M),z=[];return z.push(D.update(N)),z.push(D.final()),p.concat(z)}(S=u.EncryptedPrivateKey.decode(S,"der"),m);case"PRIVATE KEY":switch(c=(f=u.PrivateKey.decode(S,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return u.RSAPrivateKey.decode(f.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:f.algorithm.curve,privateKey:u.ECPrivateKey.decode(f.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return f.algorithm.params.priv_key=u.DSAparam.decode(f.subjectPrivateKey,"der"),{type:"dsa",params:f.algorithm.params};default:throw new Error("unknown key id "+c)}case"RSA PUBLIC KEY":return u.RSAPublicKey.decode(S,"der");case"RSA PRIVATE KEY":return u.RSAPrivateKey.decode(S,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:u.DSAPrivateKey.decode(S,"der")};case"EC PRIVATE KEY":return{curve:(S=u.ECPrivateKey.decode(S,"der")).parameters.value,privateKey:S.privateKey};default:throw new Error("unknown key type "+_)}}d.signature=u.signature,o.exports=d},9379:(o,s,i)=>{s.pbkdf2=i(8099),s.pbkdf2Sync=i(3180)},8099:(o,s,i)=>{var l,u,g=i(9047).Buffer,h=i(2042),b=i(8994),w=i(3180),p=i(7238),d=i.g.crypto&&i.g.crypto.subtle,y={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},m=[];function c(){return u||(u=i.g.process&&i.g.process.nextTick?i.g.process.nextTick:i.g.queueMicrotask?i.g.queueMicrotask:i.g.setImmediate?i.g.setImmediate:i.g.setTimeout)}function f(v,_,S,E,x){return d.importKey("raw",v,{name:"PBKDF2"},!1,["deriveBits"]).then(function(k){return d.deriveBits({name:"PBKDF2",salt:_,iterations:S,hash:{name:x}},k,E<<3)}).then(function(k){return g.from(k)})}o.exports=function(v,_,S,E,x,k){typeof x=="function"&&(k=x,x=void 0);var T=y[(x=x||"sha1").toLowerCase()];if(T&&typeof i.g.Promise=="function"){if(h(S,E),v=p(v,b,"Password"),_=p(_,b,"Salt"),typeof k!="function")throw new Error("No callback provided to pbkdf2");(function(C,M){C.then(function(N){c()(function(){M(null,N)})},function(N){c()(function(){M(N)})})})(function(C){if(i.g.process&&!i.g.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(m[C]!==void 0)return m[C];var M=f(l=l||g.alloc(8),l,10,128,C).then(function(){return!0}).catch(function(){return!1});return m[C]=M,M}(T).then(function(C){return C?f(v,_,S,E,T):w(v,_,S,E,x)}),k)}else c()(function(){var C;try{C=w(v,_,S,E,x)}catch(M){return k(M)}k(null,C)})}},8994:(o,s,i)=>{var l;l=i.g.process&&i.g.process.browser?"utf-8":i.g.process&&i.g.process.version?parseInt({env:{}}.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",o.exports=l},2042:o=>{var s=Math.pow(2,30)-1;o.exports=function(i,l){if(typeof i!="number")throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if(typeof l!="number")throw new TypeError("Key length not a number");if(l<0||l>s||l!=l)throw new TypeError("Bad key length")}},3180:(o,s,i)=>{var l=i(3277),u=i(8100),g=i(1806),h=i(9047).Buffer,b=i(2042),w=i(8994),p=i(7238),d=h.alloc(128),y={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function m(c,f,v){var _=function(C){return C==="rmd160"||C==="ripemd160"?function(M){return new u().update(M).digest()}:C==="md5"?l:function(M){return g(C).update(M).digest()}}(c),S=c==="sha512"||c==="sha384"?128:64;f.length>S?f=_(f):f.length<S&&(f=h.concat([f,d],S));for(var E=h.allocUnsafe(S+y[c]),x=h.allocUnsafe(S+y[c]),k=0;k<S;k++)E[k]=54^f[k],x[k]=92^f[k];var T=h.allocUnsafe(S+v+4);E.copy(T,0,0,S),this.ipad1=T,this.ipad2=E,this.opad=x,this.alg=c,this.blocksize=S,this.hash=_,this.size=y[c]}m.prototype.run=function(c,f){return c.copy(f,this.blocksize),this.hash(f).copy(this.opad,this.blocksize),this.hash(this.opad)},o.exports=function(c,f,v,_,S){b(v,_);var E=new m(S=S||"sha1",c=p(c,w,"Password"),(f=p(f,w,"Salt")).length),x=h.allocUnsafe(_),k=h.allocUnsafe(f.length+4);f.copy(k,0,0,f.length);for(var T=0,C=y[S],M=Math.ceil(_/C),N=1;N<=M;N++){k.writeUInt32BE(N,f.length);for(var L=E.run(k,E.ipad1),R=L,D=1;D<v;D++){R=E.run(R,E.ipad2);for(var z=0;z<C;z++)L[z]^=R[z]}L.copy(x,T),T+=C}return x}},7238:(o,s,i)=>{var l=i(9047).Buffer;o.exports=function(u,g,h){if(l.isBuffer(u))return u;if(typeof u=="string")return l.from(u,g);if(ArrayBuffer.isView(u))return l.from(u.buffer);throw new TypeError(h+" must be a string, a Buffer, a typed array or a DataView")}},7373:o=>{o.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},8927:o=>{({env:{}}===void 0)||!{env:{}}.version||{env:{}}.version.indexOf("v0.")===0||{env:{}}.version.indexOf("v1.")===0&&{env:{}}.version.indexOf("v1.8.")!==0?o.exports={nextTick:function(s,i,l,u){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var g,h,b=arguments.length;switch(b){case 0:case 1:return{env:{}}.nextTick(s);case 2:return{env:{}}.nextTick(function(){s.call(null,i)});case 3:return{env:{}}.nextTick(function(){s.call(null,i,l)});case 4:return{env:{}}.nextTick(function(){s.call(null,i,l,u)});default:for(g=new Array(b-1),h=0;h<g.length;)g[h++]=arguments[h];return{env:{}}.nextTick(function(){s.apply(null,g)})}}}:o.exports={env:{}}},2368:(o,s,i)=>{s.publicEncrypt=i(2385),s.privateDecrypt=i(8752),s.privateEncrypt=function(l,u){return s.publicEncrypt(l,u,!0)},s.publicDecrypt=function(l,u){return s.privateDecrypt(l,u,!0)}},4075:(o,s,i)=>{var l=i(8339),u=i(9047).Buffer;function g(h){var b=u.allocUnsafe(4);return b.writeUInt32BE(h,0),b}o.exports=function(h,b){for(var w,p=u.alloc(0),d=0;p.length<b;)w=g(d++),p=u.concat([p,l("sha1").update(h).update(w).digest()]);return p.slice(0,b)}},8752:(o,s,i)=>{var l=i(2914),u=i(4075),g=i(782),h=i(815),b=i(4364),w=i(8339),p=i(1675),d=i(9047).Buffer;o.exports=function(y,m,c){var f;f=y.padding?y.padding:c?1:4;var v,_=l(y),S=_.modulus.byteLength();if(m.length>S||new h(m).cmp(_.modulus)>=0)throw new Error("decryption error");v=c?p(new h(m),_):b(m,_);var E=d.alloc(S-v.length);if(v=d.concat([E,v],S),f===4)return function(x,k){var T=x.modulus.byteLength(),C=w("sha1").update(d.alloc(0)).digest(),M=C.length;if(k[0]!==0)throw new Error("decryption error");var N=k.slice(1,M+1),L=k.slice(M+1),R=g(N,u(L,M)),D=g(L,u(R,T-M-1));if(function(U,O){U=d.from(U),O=d.from(O);var I=0,j=U.length;U.length!==O.length&&(I++,j=Math.min(U.length,O.length));for(var P=-1;++P<j;)I+=U[P]^O[P];return I}(C,D.slice(0,M)))throw new Error("decryption error");for(var z=M;D[z]===0;)z++;if(D[z++]!==1)throw new Error("decryption error");return D.slice(z)}(_,v);if(f===1)return function(x,k,T){for(var C=k.slice(0,2),M=2,N=0;k[M++]!==0;)if(M>=k.length){N++;break}var L=k.slice(2,M-1);if((C.toString("hex")!=="0002"&&!T||C.toString("hex")!=="0001"&&T)&&N++,L.length<8&&N++,N)throw new Error("decryption error");return k.slice(M)}(0,v,c);if(f===3)return v;throw new Error("unknown padding")}},2385:(o,s,i)=>{var l=i(2914),u=i(5760),g=i(8339),h=i(4075),b=i(782),w=i(815),p=i(1675),d=i(4364),y=i(9047).Buffer;o.exports=function(m,c,f){var v;v=m.padding?m.padding:f?1:4;var _,S=l(m);if(v===4)_=function(E,x){var k=E.modulus.byteLength(),T=x.length,C=g("sha1").update(y.alloc(0)).digest(),M=C.length,N=2*M;if(T>k-N-2)throw new Error("message too long");var L=y.alloc(k-T-N-2),R=k-M-1,D=u(M),z=b(y.concat([C,L,y.alloc(1,1),x],R),h(D,R)),U=b(D,h(z,M));return new w(y.concat([y.alloc(1),U,z],k))}(S,c);else if(v===1)_=function(E,x,k){var T,C=x.length,M=E.modulus.byteLength();if(C>M-11)throw new Error("message too long");return T=k?y.alloc(M-C-3,255):function(N){for(var L,R=y.allocUnsafe(N),D=0,z=u(2*N),U=0;D<N;)U===z.length&&(z=u(2*N),U=0),(L=z[U++])&&(R[D++]=L);return R}(M-C-3),new w(y.concat([y.from([0,k?1:2]),T,y.alloc(1),x],M))}(S,c,f);else{if(v!==3)throw new Error("unknown padding");if((_=new w(c)).cmp(S.modulus)>=0)throw new Error("data too long for modulus")}return f?d(_,S):p(_,S)}},1675:(o,s,i)=>{var l=i(815),u=i(9047).Buffer;o.exports=function(g,h){return u.from(g.toRed(l.mont(h.modulus)).redPow(new l(h.publicExponent)).fromRed().toArray())}},782:o=>{o.exports=function(s,i){for(var l=s.length,u=-1;++u<l;)s[u]^=i[u];return s}},5760:(o,s,i)=>{var l=65536,u=i(9047).Buffer,g=i.g.crypto||i.g.msCrypto;g&&g.getRandomValues?o.exports=function(h,b){if(h>4294967295)throw new RangeError("requested too many random bytes");var w=u.allocUnsafe(h);if(h>0)if(h>l)for(var p=0;p<h;p+=l)g.getRandomValues(w.slice(p,p+l));else g.getRandomValues(w);return typeof b=="function"?{env:{}}.nextTick(function(){b(null,w)}):w}:o.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}},9301:(o,s,i)=>{function l(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var u=i(9047),g=i(5760),h=u.Buffer,b=u.kMaxLength,w=i.g.crypto||i.g.msCrypto,p=Math.pow(2,32)-1;function d(c,f){if(typeof c!="number"||c!=c)throw new TypeError("offset must be a number");if(c>p||c<0)throw new TypeError("offset must be a uint32");if(c>b||c>f)throw new RangeError("offset out of range")}function y(c,f,v){if(typeof c!="number"||c!=c)throw new TypeError("size must be a number");if(c>p||c<0)throw new TypeError("size must be a uint32");if(c+f>v||c>b)throw new RangeError("buffer too small")}function m(c,f,v,_){if({env:{}}.browser){var S=c.buffer,E=new Uint8Array(S,f,v);return w.getRandomValues(E),_?void{env:{}}.nextTick(function(){_(null,c)}):c}if(!_)return g(v).copy(c,f),c;g(v,function(x,k){if(x)return _(x);k.copy(c,f),_(null,c)})}w&&w.getRandomValues||!{env:{}}.browser?(s.randomFill=function(c,f,v,_){if(!(h.isBuffer(c)||c instanceof i.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof f=="function")_=f,f=0,v=c.length;else if(typeof v=="function")_=v,v=c.length-f;else if(typeof _!="function")throw new TypeError('"cb" argument must be a function');return d(f,c.length),y(v,f,c.length),m(c,f,v,_)},s.randomFillSync=function(c,f,v){if(f===void 0&&(f=0),!(h.isBuffer(c)||c instanceof i.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return d(f,c.length),v===void 0&&(v=c.length-f),y(v,f,c.length),m(c,f,v)}):(s.randomFill=l,s.randomFillSync=l)},4611:(o,s,i)=>{var l=i(8927),u=Object.keys||function(f){var v=[];for(var _ in f)v.push(_);return v};o.exports=y;var g=Object.create(i(2077));g.inherits=i(376);var h=i(6751),b=i(679);g.inherits(y,h);for(var w=u(b.prototype),p=0;p<w.length;p++){var d=w[p];y.prototype[d]||(y.prototype[d]=b.prototype[d])}function y(f){if(!(this instanceof y))return new y(f);h.call(this,f),b.call(this,f),f&&f.readable===!1&&(this.readable=!1),f&&f.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,f&&f.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",m)}function m(){this.allowHalfOpen||this._writableState.ended||l.nextTick(c,this)}function c(f){f.end()}Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(y.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),y.prototype._destroy=function(f,v){this.push(null),this.end(),l.nextTick(v,f)}},3684:(o,s,i)=>{o.exports=g;var l=i(4951),u=Object.create(i(2077));function g(h){if(!(this instanceof g))return new g(h);l.call(this,h)}u.inherits=i(376),u.inherits(g,l),g.prototype._transform=function(h,b,w){w(null,h)}},6751:(o,s,i)=>{var l=i(8927);o.exports=E;var u,g=i(7577);E.ReadableState=S,i(9620).EventEmitter;var h=function(A,$){return A.listeners($).length},b=i(6054),w=i(4083).Buffer,p=(i.g!==void 0?i.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d=Object.create(i(2077));d.inherits=i(376);var y=i(4616),m=void 0;m=y&&y.debuglog?y.debuglog("stream"):function(){};var c,f=i(9072),v=i(4798);d.inherits(E,b);var _=["error","close","destroy","pause","resume"];function S(A,$){A=A||{};var q=$ instanceof(u=u||i(4611));this.objectMode=!!A.objectMode,q&&(this.objectMode=this.objectMode||!!A.readableObjectMode);var X=A.highWaterMark,te=A.readableHighWaterMark,re=this.objectMode?16:16384;this.highWaterMark=X||X===0?X:q&&(te||te===0)?te:re,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=A.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,A.encoding&&(c||(c=i(113).s),this.decoder=new c(A.encoding),this.encoding=A.encoding)}function E(A){if(u=u||i(4611),!(this instanceof E))return new E(A);this._readableState=new S(A,this),this.readable=!0,A&&(typeof A.read=="function"&&(this._read=A.read),typeof A.destroy=="function"&&(this._destroy=A.destroy)),b.call(this)}function x(A,$,q,X,te){var re,ie=A._readableState;return $===null?(ie.reading=!1,function(Z,ee){if(!ee.ended){if(ee.decoder){var de=ee.decoder.end();de&&de.length&&(ee.buffer.push(de),ee.length+=ee.objectMode?1:de.length)}ee.ended=!0,M(Z)}}(A,ie)):(te||(re=function(Z,ee){var de,le;return le=ee,w.isBuffer(le)||le instanceof p||typeof ee=="string"||ee===void 0||Z.objectMode||(de=new TypeError("Invalid non-string/buffer chunk")),de}(ie,$)),re?A.emit("error",re):ie.objectMode||$&&$.length>0?(typeof $=="string"||ie.objectMode||Object.getPrototypeOf($)===w.prototype||($=function(Z){return w.from(Z)}($)),X?ie.endEmitted?A.emit("error",new Error("stream.unshift() after end event")):k(A,ie,$,!0):ie.ended?A.emit("error",new Error("stream.push() after EOF")):(ie.reading=!1,ie.decoder&&!q?($=ie.decoder.write($),ie.objectMode||$.length!==0?k(A,ie,$,!1):L(A,ie)):k(A,ie,$,!1))):X||(ie.reading=!1)),function(Z){return!Z.ended&&(Z.needReadable||Z.length<Z.highWaterMark||Z.length===0)}(ie)}function k(A,$,q,X){$.flowing&&$.length===0&&!$.sync?(A.emit("data",q),A.read(0)):($.length+=$.objectMode?1:q.length,X?$.buffer.unshift(q):$.buffer.push(q),$.needReadable&&M(A)),L(A,$)}Object.defineProperty(E.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(A){this._readableState&&(this._readableState.destroyed=A)}}),E.prototype.destroy=v.destroy,E.prototype._undestroy=v.undestroy,E.prototype._destroy=function(A,$){this.push(null),$(A)},E.prototype.push=function(A,$){var q,X=this._readableState;return X.objectMode?q=!0:typeof A=="string"&&(($=$||X.defaultEncoding)!==X.encoding&&(A=w.from(A,$),$=""),q=!0),x(this,A,$,!1,q)},E.prototype.unshift=function(A){return x(this,A,null,!0,!1)},E.prototype.isPaused=function(){return this._readableState.flowing===!1},E.prototype.setEncoding=function(A){return c||(c=i(113).s),this._readableState.decoder=new c(A),this._readableState.encoding=A,this};var T=8388608;function C(A,$){return A<=0||$.length===0&&$.ended?0:$.objectMode?1:A!=A?$.flowing&&$.length?$.buffer.head.data.length:$.length:(A>$.highWaterMark&&($.highWaterMark=function(q){return q>=T?q=T:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}(A)),A<=$.length?A:$.ended?$.length:($.needReadable=!0,0))}function M(A){var $=A._readableState;$.needReadable=!1,$.emittedReadable||(m("emitReadable",$.flowing),$.emittedReadable=!0,$.sync?l.nextTick(N,A):N(A))}function N(A){m("emit readable"),A.emit("readable"),U(A)}function L(A,$){$.readingMore||($.readingMore=!0,l.nextTick(R,A,$))}function R(A,$){for(var q=$.length;!$.reading&&!$.flowing&&!$.ended&&$.length<$.highWaterMark&&(m("maybeReadMore read 0"),A.read(0),q!==$.length);)q=$.length;$.readingMore=!1}function D(A){m("readable nexttick read 0"),A.read(0)}function z(A,$){$.reading||(m("resume read 0"),A.read(0)),$.resumeScheduled=!1,$.awaitDrain=0,A.emit("resume"),U(A),$.flowing&&!$.reading&&A.read(0)}function U(A){var $=A._readableState;for(m("flow",$.flowing);$.flowing&&A.read()!==null;);}function O(A,$){return $.length===0?null:($.objectMode?q=$.buffer.shift():!A||A>=$.length?(q=$.decoder?$.buffer.join(""):$.buffer.length===1?$.buffer.head.data:$.buffer.concat($.length),$.buffer.clear()):q=function(X,te,re){var ie;return X<te.head.data.length?(ie=te.head.data.slice(0,X),te.head.data=te.head.data.slice(X)):ie=X===te.head.data.length?te.shift():re?function(Z,ee){var de=ee.head,le=1,V=de.data;for(Z-=V.length;de=de.next;){var G=de.data,K=Z>G.length?G.length:Z;if(K===G.length?V+=G:V+=G.slice(0,Z),(Z-=K)==0){K===G.length?(++le,de.next?ee.head=de.next:ee.head=ee.tail=null):(ee.head=de,de.data=G.slice(K));break}++le}return ee.length-=le,V}(X,te):function(Z,ee){var de=w.allocUnsafe(Z),le=ee.head,V=1;for(le.data.copy(de),Z-=le.data.length;le=le.next;){var G=le.data,K=Z>G.length?G.length:Z;if(G.copy(de,de.length-Z,0,K),(Z-=K)==0){K===G.length?(++V,le.next?ee.head=le.next:ee.head=ee.tail=null):(ee.head=le,le.data=G.slice(K));break}++V}return ee.length-=V,de}(X,te),ie}(A,$.buffer,$.decoder),q);var q}function I(A){var $=A._readableState;if($.length>0)throw new Error('"endReadable()" called on non-empty stream');$.endEmitted||($.ended=!0,l.nextTick(j,$,A))}function j(A,$){A.endEmitted||A.length!==0||(A.endEmitted=!0,$.readable=!1,$.emit("end"))}function P(A,$){for(var q=0,X=A.length;q<X;q++)if(A[q]===$)return q;return-1}E.prototype.read=function(A){m("read",A),A=parseInt(A,10);var $=this._readableState,q=A;if(A!==0&&($.emittedReadable=!1),A===0&&$.needReadable&&($.length>=$.highWaterMark||$.ended))return m("read: emitReadable",$.length,$.ended),$.length===0&&$.ended?I(this):M(this),null;if((A=C(A,$))===0&&$.ended)return $.length===0&&I(this),null;var X,te=$.needReadable;return m("need readable",te),($.length===0||$.length-A<$.highWaterMark)&&m("length less than watermark",te=!0),$.ended||$.reading?m("reading or ended",te=!1):te&&(m("do read"),$.reading=!0,$.sync=!0,$.length===0&&($.needReadable=!0),this._read($.highWaterMark),$.sync=!1,$.reading||(A=C(q,$))),(X=A>0?O(A,$):null)===null?($.needReadable=!0,A=0):$.length-=A,$.length===0&&($.ended||($.needReadable=!0),q!==A&&$.ended&&I(this)),X!==null&&this.emit("data",X),X},E.prototype._read=function(A){this.emit("error",new Error("_read() is not implemented"))},E.prototype.pipe=function(A,$){var q=this,X=this._readableState;switch(X.pipesCount){case 0:X.pipes=A;break;case 1:X.pipes=[X.pipes,A];break;default:X.pipes.push(A)}X.pipesCount+=1,m("pipe count=%d opts=%j",X.pipesCount,$);var te=$&&$.end===!1||A==={env:{}}.stdout||A==={env:{}}.stderr?K:re;function re(){m("onend"),A.end()}X.endEmitted?l.nextTick(te):q.once("end",te),A.on("unpipe",function ne(W,H){m("onunpipe"),W===q&&H&&H.hasUnpiped===!1&&(H.hasUnpiped=!0,m("cleanup"),A.removeListener("close",V),A.removeListener("finish",G),A.removeListener("drain",ie),A.removeListener("error",le),A.removeListener("unpipe",ne),q.removeListener("end",re),q.removeListener("end",K),q.removeListener("data",de),Z=!0,!X.awaitDrain||A._writableState&&!A._writableState.needDrain||ie())});var ie=function(ne){return function(){var W=ne._readableState;m("pipeOnDrain",W.awaitDrain),W.awaitDrain&&W.awaitDrain--,W.awaitDrain===0&&h(ne,"data")&&(W.flowing=!0,U(ne))}}(q);A.on("drain",ie);var Z=!1,ee=!1;function de(ne){m("ondata"),ee=!1,A.write(ne)!==!1||ee||((X.pipesCount===1&&X.pipes===A||X.pipesCount>1&&P(X.pipes,A)!==-1)&&!Z&&(m("false write response, pause",X.awaitDrain),X.awaitDrain++,ee=!0),q.pause())}function le(ne){m("onerror",ne),K(),A.removeListener("error",le),h(A,"error")===0&&A.emit("error",ne)}function V(){A.removeListener("finish",G),K()}function G(){m("onfinish"),A.removeListener("close",V),K()}function K(){m("unpipe"),q.unpipe(A)}return q.on("data",de),function(ne,W,H){if(typeof ne.prependListener=="function")return ne.prependListener(W,H);ne._events&&ne._events[W]?g(ne._events[W])?ne._events[W].unshift(H):ne._events[W]=[H,ne._events[W]]:ne.on(W,H)}(A,"error",le),A.once("close",V),A.once("finish",G),A.emit("pipe",q),X.flowing||(m("pipe resume"),q.resume()),A},E.prototype.unpipe=function(A){var $=this._readableState,q={hasUnpiped:!1};if($.pipesCount===0)return this;if($.pipesCount===1)return A&&A!==$.pipes||(A||(A=$.pipes),$.pipes=null,$.pipesCount=0,$.flowing=!1,A&&A.emit("unpipe",this,q)),this;if(!A){var X=$.pipes,te=$.pipesCount;$.pipes=null,$.pipesCount=0,$.flowing=!1;for(var re=0;re<te;re++)X[re].emit("unpipe",this,{hasUnpiped:!1});return this}var ie=P($.pipes,A);return ie===-1||($.pipes.splice(ie,1),$.pipesCount-=1,$.pipesCount===1&&($.pipes=$.pipes[0]),A.emit("unpipe",this,q)),this},E.prototype.on=function(A,$){var q=b.prototype.on.call(this,A,$);if(A==="data")this._readableState.flowing!==!1&&this.resume();else if(A==="readable"){var X=this._readableState;X.endEmitted||X.readableListening||(X.readableListening=X.needReadable=!0,X.emittedReadable=!1,X.reading?X.length&&M(this):l.nextTick(D,this))}return q},E.prototype.addListener=E.prototype.on,E.prototype.resume=function(){var A=this._readableState;return A.flowing||(m("resume"),A.flowing=!0,function($,q){q.resumeScheduled||(q.resumeScheduled=!0,l.nextTick(z,$,q))}(this,A)),this},E.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},E.prototype.wrap=function(A){var $=this,q=this._readableState,X=!1;for(var te in A.on("end",function(){if(m("wrapped end"),q.decoder&&!q.ended){var ie=q.decoder.end();ie&&ie.length&&$.push(ie)}$.push(null)}),A.on("data",function(ie){m("wrapped data"),q.decoder&&(ie=q.decoder.write(ie)),q.objectMode&&ie==null||(q.objectMode||ie&&ie.length)&&($.push(ie)||(X=!0,A.pause()))}),A)this[te]===void 0&&typeof A[te]=="function"&&(this[te]=function(ie){return function(){return A[ie].apply(A,arguments)}}(te));for(var re=0;re<_.length;re++)A.on(_[re],this.emit.bind(this,_[re]));return this._read=function(ie){m("wrapped _read",ie),X&&(X=!1,A.resume())},this},Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),E._fromList=O},4951:(o,s,i)=>{o.exports=h;var l=i(4611),u=Object.create(i(2077));function g(p,d){var y=this._transformState;y.transforming=!1;var m=y.writecb;if(!m)return this.emit("error",new Error("write callback called multiple times"));y.writechunk=null,y.writecb=null,d!=null&&this.push(d),m(p);var c=this._readableState;c.reading=!1,(c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}function h(p){if(!(this instanceof h))return new h(p);l.call(this,p),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",b)}function b(){var p=this;typeof this._flush=="function"?this._flush(function(d,y){w(p,d,y)}):w(this,null,null)}function w(p,d,y){if(d)return p.emit("error",d);if(y!=null&&p.push(y),p._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(p._transformState.transforming)throw new Error("Calling transform done when still transforming");return p.push(null)}u.inherits=i(376),u.inherits(h,l),h.prototype.push=function(p,d){return this._transformState.needTransform=!1,l.prototype.push.call(this,p,d)},h.prototype._transform=function(p,d,y){throw new Error("_transform() is not implemented")},h.prototype._write=function(p,d,y){var m=this._transformState;if(m.writecb=y,m.writechunk=p,m.writeencoding=d,!m.transforming){var c=this._readableState;(m.needTransform||c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}},h.prototype._read=function(p){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},h.prototype._destroy=function(p,d){var y=this;l.prototype._destroy.call(this,p,function(m){d(m),y.emit("close")})}},679:(o,s,i)=>{var l=i(8927);function u(M){var N=this;this.next=null,this.entry=null,this.finish=function(){(function(L,R,D){var z=L.entry;for(L.entry=null;z;){var U=z.callback;R.pendingcb--,U(void 0),z=z.next}R.corkedRequestsFree.next=L})(N,M)}}o.exports=_;var g,h=!{env:{}}.browser&&["v0.10","v0.9."].indexOf({env:{}}.version.slice(0,5))>-1?setImmediate:l.nextTick;_.WritableState=v;var b=Object.create(i(2077));b.inherits=i(376);var w,p={deprecate:i(8016)},d=i(6054),y=i(4083).Buffer,m=(i.g!==void 0?i.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},c=i(4798);function f(){}function v(M,N){g=g||i(4611),M=M||{};var L=N instanceof g;this.objectMode=!!M.objectMode,L&&(this.objectMode=this.objectMode||!!M.writableObjectMode);var R=M.highWaterMark,D=M.writableHighWaterMark,z=this.objectMode?16:16384;this.highWaterMark=R||R===0?R:L&&(D||D===0)?D:z,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var U=M.decodeStrings===!1;this.decodeStrings=!U,this.defaultEncoding=M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(O){(function(I,j){var P=I._writableState,A=P.sync,$=P.writecb;if(function(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}(P),j)(function(X,te,re,ie,Z){--te.pendingcb,re?(l.nextTick(Z,ie),l.nextTick(C,X,te),X._writableState.errorEmitted=!0,X.emit("error",ie)):(Z(ie),X._writableState.errorEmitted=!0,X.emit("error",ie),C(X,te))})(I,P,A,j,$);else{var q=k(P);q||P.corked||P.bufferProcessing||!P.bufferedRequest||x(I,P),A?h(E,I,P,q,$):E(I,P,q,$)}})(N,O)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function _(M){if(g=g||i(4611),!(w.call(_,this)||this instanceof g))return new _(M);this._writableState=new v(M,this),this.writable=!0,M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final)),d.call(this)}function S(M,N,L,R,D,z,U){N.writelen=R,N.writecb=U,N.writing=!0,N.sync=!0,L?M._writev(D,N.onwrite):M._write(D,z,N.onwrite),N.sync=!1}function E(M,N,L,R){L||function(D,z){z.length===0&&z.needDrain&&(z.needDrain=!1,D.emit("drain"))}(M,N),N.pendingcb--,R(),C(M,N)}function x(M,N){N.bufferProcessing=!0;var L=N.bufferedRequest;if(M._writev&&L&&L.next){var R=N.bufferedRequestCount,D=new Array(R),z=N.corkedRequestsFree;z.entry=L;for(var U=0,O=!0;L;)D[U]=L,L.isBuf||(O=!1),L=L.next,U+=1;D.allBuffers=O,S(M,N,!0,N.length,D,"",z.finish),N.pendingcb++,N.lastBufferedRequest=null,z.next?(N.corkedRequestsFree=z.next,z.next=null):N.corkedRequestsFree=new u(N),N.bufferedRequestCount=0}else{for(;L;){var I=L.chunk,j=L.encoding,P=L.callback;if(S(M,N,!1,N.objectMode?1:I.length,I,j,P),L=L.next,N.bufferedRequestCount--,N.writing)break}L===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=L,N.bufferProcessing=!1}function k(M){return M.ending&&M.length===0&&M.bufferedRequest===null&&!M.finished&&!M.writing}function T(M,N){M._final(function(L){N.pendingcb--,L&&M.emit("error",L),N.prefinished=!0,M.emit("prefinish"),C(M,N)})}function C(M,N){var L=k(N);return L&&(function(R,D){D.prefinished||D.finalCalled||(typeof R._final=="function"?(D.pendingcb++,D.finalCalled=!0,l.nextTick(T,R,D)):(D.prefinished=!0,R.emit("prefinish")))}(M,N),N.pendingcb===0&&(N.finished=!0,M.emit("finish"))),L}b.inherits(_,d),v.prototype.getBuffer=function(){for(var M=this.bufferedRequest,N=[];M;)N.push(M),M=M.next;return N},function(){try{Object.defineProperty(v.prototype,"buffer",{get:p.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(M){return!!w.call(this,M)||this===_&&M&&M._writableState instanceof v}})):w=function(M){return M instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(M,N,L){var R,D=this._writableState,z=!1,U=!D.objectMode&&(R=M,y.isBuffer(R)||R instanceof m);return U&&!y.isBuffer(M)&&(M=function(O){return y.from(O)}(M)),typeof N=="function"&&(L=N,N=null),U?N="buffer":N||(N=D.defaultEncoding),typeof L!="function"&&(L=f),D.ended?function(O,I){var j=new Error("write after end");O.emit("error",j),l.nextTick(I,j)}(this,L):(U||function(O,I,j,P){var A=!0,$=!1;return j===null?$=new TypeError("May not write null values to stream"):typeof j=="string"||j===void 0||I.objectMode||($=new TypeError("Invalid non-string/buffer chunk")),$&&(O.emit("error",$),l.nextTick(P,$),A=!1),A}(this,D,M,L))&&(D.pendingcb++,z=function(O,I,j,P,A,$){if(!j){var q=function(ie,Z,ee){return ie.objectMode||ie.decodeStrings===!1||typeof Z!="string"||(Z=y.from(Z,ee)),Z}(I,P,A);P!==q&&(j=!0,A="buffer",P=q)}var X=I.objectMode?1:P.length;I.length+=X;var te=I.length<I.highWaterMark;if(te||(I.needDrain=!0),I.writing||I.corked){var re=I.lastBufferedRequest;I.lastBufferedRequest={chunk:P,encoding:A,isBuf:j,callback:$,next:null},re?re.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else S(O,I,!1,X,P,A,$);return te}(this,D,U,M,N,L)),z},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var M=this._writableState;M.corked&&(M.corked--,M.writing||M.corked||M.bufferProcessing||!M.bufferedRequest||x(this,M))},_.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=M.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((M+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+M);return this._writableState.defaultEncoding=M,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(M,N,L){L(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(M,N,L){var R=this._writableState;typeof M=="function"?(L=M,M=null,N=null):typeof N=="function"&&(L=N,N=null),M!=null&&this.write(M,N),R.corked&&(R.corked=1,this.uncork()),R.ending||function(D,z,U){z.ending=!0,C(D,z),U&&(z.finished?l.nextTick(U):D.once("finish",U)),z.ended=!0,D.writable=!1}(this,R,L)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(M){this._writableState&&(this._writableState.destroyed=M)}}),_.prototype.destroy=c.destroy,_.prototype._undestroy=c.undestroy,_.prototype._destroy=function(M,N){this.end(),N(M)}},9072:(o,s,i)=>{var l=i(4083).Buffer,u=i(2361);o.exports=function(){function g(){(function(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")})(this,g),this.head=null,this.tail=null,this.length=0}return g.prototype.push=function(h){var b={data:h,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length},g.prototype.unshift=function(h){var b={data:h,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length},g.prototype.shift=function(){if(this.length!==0){var h=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,h}},g.prototype.clear=function(){this.head=this.tail=null,this.length=0},g.prototype.join=function(h){if(this.length===0)return"";for(var b=this.head,w=""+b.data;b=b.next;)w+=h+b.data;return w},g.prototype.concat=function(h){if(this.length===0)return l.alloc(0);for(var b,w,p=l.allocUnsafe(h>>>0),d=this.head,y=0;d;)b=p,w=y,d.data.copy(b,w),y+=d.data.length,d=d.next;return p},g}(),u&&u.inspect&&u.inspect.custom&&(o.exports.prototype[u.inspect.custom]=function(){var g=u.inspect({length:this.length});return this.constructor.name+" "+g})},4798:(o,s,i)=>{var l=i(8927);function u(g,h){g.emit("error",h)}o.exports={destroy:function(g,h){var b=this,w=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return w||p?(h?h(g):g&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,l.nextTick(u,this,g)):l.nextTick(u,this,g)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(g||null,function(d){!h&&d?b._writableState?b._writableState.errorEmitted||(b._writableState.errorEmitted=!0,l.nextTick(u,b,d)):l.nextTick(u,b,d):h&&h(d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},6054:(o,s,i)=>{o.exports=i(9620).EventEmitter},4083:(o,s,i)=>{var l=i(365),u=l.Buffer;function g(b,w){for(var p in b)w[p]=b[p]}function h(b,w,p){return u(b,w,p)}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?o.exports=l:(g(l,s),s.Buffer=h),g(u,h),h.from=function(b,w,p){if(typeof b=="number")throw new TypeError("Argument must not be a number");return u(b,w,p)},h.alloc=function(b,w,p){if(typeof b!="number")throw new TypeError("Argument must be a number");var d=u(b);return w!==void 0?typeof p=="string"?d.fill(w,p):d.fill(w):d.fill(0),d},h.allocUnsafe=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return u(b)},h.allocUnsafeSlow=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return l.SlowBuffer(b)}},8237:(o,s,i)=>{(s=o.exports=i(6751)).Stream=s,s.Readable=s,s.Writable=i(679),s.Duplex=i(4611),s.Transform=i(4951),s.PassThrough=i(3684)},8100:(o,s,i)=>{var l=i(365).Buffer,u=i(376),g=i(5125),h=new Array(16),b=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],w=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],y=[0,1518500249,1859775393,2400959708,2840853838],m=[1352829926,1548603684,1836072691,2053994217,0];function c(){g.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function f(k,T){return k<<T|k>>>32-T}function v(k,T,C,M,N,L,R,D){return f(k+(T^C^M)+L+R|0,D)+N|0}function _(k,T,C,M,N,L,R,D){return f(k+(T&C|~T&M)+L+R|0,D)+N|0}function S(k,T,C,M,N,L,R,D){return f(k+((T|~C)^M)+L+R|0,D)+N|0}function E(k,T,C,M,N,L,R,D){return f(k+(T&M|C&~M)+L+R|0,D)+N|0}function x(k,T,C,M,N,L,R,D){return f(k+(T^(C|~M))+L+R|0,D)+N|0}u(c,g),c.prototype._update=function(){for(var k=h,T=0;T<16;++T)k[T]=this._block.readInt32LE(4*T);for(var C=0|this._a,M=0|this._b,N=0|this._c,L=0|this._d,R=0|this._e,D=0|this._a,z=0|this._b,U=0|this._c,O=0|this._d,I=0|this._e,j=0;j<80;j+=1){var P,A;j<16?(P=v(C,M,N,L,R,k[b[j]],y[0],p[j]),A=x(D,z,U,O,I,k[w[j]],m[0],d[j])):j<32?(P=_(C,M,N,L,R,k[b[j]],y[1],p[j]),A=E(D,z,U,O,I,k[w[j]],m[1],d[j])):j<48?(P=S(C,M,N,L,R,k[b[j]],y[2],p[j]),A=S(D,z,U,O,I,k[w[j]],m[2],d[j])):j<64?(P=E(C,M,N,L,R,k[b[j]],y[3],p[j]),A=_(D,z,U,O,I,k[w[j]],m[3],d[j])):(P=x(C,M,N,L,R,k[b[j]],y[4],p[j]),A=v(D,z,U,O,I,k[w[j]],m[4],d[j])),C=R,R=L,L=f(N,10),N=M,M=P,D=I,I=O,O=f(U,10),U=z,z=A}var $=this._b+N+O|0;this._b=this._c+L+I|0,this._c=this._d+R+D|0,this._d=this._e+C+z|0,this._e=this._a+M+U|0,this._a=$},c.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var k=l.alloc?l.alloc(20):new l(20);return k.writeInt32LE(this._a,0),k.writeInt32LE(this._b,4),k.writeInt32LE(this._c,8),k.writeInt32LE(this._d,12),k.writeInt32LE(this._e,16),k},o.exports=c},9047:(o,s,i)=>{var l=i(365),u=l.Buffer;function g(b,w){for(var p in b)w[p]=b[p]}function h(b,w,p){return u(b,w,p)}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?o.exports=l:(g(l,s),s.Buffer=h),h.prototype=Object.create(u.prototype),g(u,h),h.from=function(b,w,p){if(typeof b=="number")throw new TypeError("Argument must not be a number");return u(b,w,p)},h.alloc=function(b,w,p){if(typeof b!="number")throw new TypeError("Argument must be a number");var d=u(b);return w!==void 0?typeof p=="string"?d.fill(w,p):d.fill(w):d.fill(0),d},h.allocUnsafe=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return u(b)},h.allocUnsafeSlow=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return l.SlowBuffer(b)}},2637:(o,s,i)=>{var l=i(6893),u=i(3793),g=i(2579)(),h=i(1554),b=i(4820),w=l("%Math.floor%");o.exports=function(p,d){if(typeof p!="function")throw new b("`fn` is not a function");if(typeof d!="number"||d<0||d>4294967295||w(d)!==d)throw new b("`length` must be a positive 32-bit integer");var y=arguments.length>2&&!!arguments[2],m=!0,c=!0;if("length"in p&&h){var f=h(p,"length");f&&!f.configurable&&(m=!1),f&&!f.writable&&(c=!1)}return(m||c||!y)&&(g?u(p,"length",d,!0,!0):u(p,"length",d)),p}},2159:(o,s,i)=>{var l=i(9047).Buffer;function u(g,h){this._block=l.alloc(g),this._finalSize=h,this._blockSize=g,this._len=0}u.prototype.update=function(g,h){typeof g=="string"&&(h=h||"utf8",g=l.from(g,h));for(var b=this._block,w=this._blockSize,p=g.length,d=this._len,y=0;y<p;){for(var m=d%w,c=Math.min(p-y,w-m),f=0;f<c;f++)b[m+f]=g[y+f];y+=c,(d+=c)%w==0&&this._update(b)}return this._len+=p,this},u.prototype.digest=function(g){var h=this._len%this._blockSize;this._block[h]=128,this._block.fill(0,h+1),h>=this._finalSize&&(this._update(this._block),this._block.fill(0));var b=8*this._len;if(b<=4294967295)this._block.writeUInt32BE(b,this._blockSize-4);else{var w=(4294967295&b)>>>0,p=(b-w)/4294967296;this._block.writeUInt32BE(p,this._blockSize-8),this._block.writeUInt32BE(w,this._blockSize-4)}this._update(this._block);var d=this._hash();return g?d.toString(g):d},u.prototype._update=function(){throw new Error("_update must be implemented by subclass")},o.exports=u},1806:(o,s,i)=>{var l=o.exports=function(u){u=u.toLowerCase();var g=l[u];if(!g)throw new Error(u+" is not supported (we accept pull requests)");return new g};l.sha=i(9675),l.sha1=i(2950),l.sha224=i(8881),l.sha256=i(9642),l.sha384=i(8220),l.sha512=i(6859)},9675:(o,s,i)=>{var l=i(376),u=i(2159),g=i(9047).Buffer,h=[1518500249,1859775393,-1894007588,-899497514],b=new Array(80);function w(){this.init(),this._w=b,u.call(this,64,56)}function p(y){return y<<30|y>>>2}function d(y,m,c,f){return y===0?m&c|~m&f:y===2?m&c|m&f|c&f:m^c^f}l(w,u),w.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},w.prototype._update=function(y){for(var m,c=this._w,f=0|this._a,v=0|this._b,_=0|this._c,S=0|this._d,E=0|this._e,x=0;x<16;++x)c[x]=y.readInt32BE(4*x);for(;x<80;++x)c[x]=c[x-3]^c[x-8]^c[x-14]^c[x-16];for(var k=0;k<80;++k){var T=~~(k/20),C=0|((m=f)<<5|m>>>27)+d(T,v,_,S)+E+c[k]+h[T];E=S,S=_,_=p(v),v=f,f=C}this._a=f+this._a|0,this._b=v+this._b|0,this._c=_+this._c|0,this._d=S+this._d|0,this._e=E+this._e|0},w.prototype._hash=function(){var y=g.allocUnsafe(20);return y.writeInt32BE(0|this._a,0),y.writeInt32BE(0|this._b,4),y.writeInt32BE(0|this._c,8),y.writeInt32BE(0|this._d,12),y.writeInt32BE(0|this._e,16),y},o.exports=w},2950:(o,s,i)=>{var l=i(376),u=i(2159),g=i(9047).Buffer,h=[1518500249,1859775393,-1894007588,-899497514],b=new Array(80);function w(){this.init(),this._w=b,u.call(this,64,56)}function p(m){return m<<5|m>>>27}function d(m){return m<<30|m>>>2}function y(m,c,f,v){return m===0?c&f|~c&v:m===2?c&f|c&v|f&v:c^f^v}l(w,u),w.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},w.prototype._update=function(m){for(var c,f=this._w,v=0|this._a,_=0|this._b,S=0|this._c,E=0|this._d,x=0|this._e,k=0;k<16;++k)f[k]=m.readInt32BE(4*k);for(;k<80;++k)f[k]=(c=f[k-3]^f[k-8]^f[k-14]^f[k-16])<<1|c>>>31;for(var T=0;T<80;++T){var C=~~(T/20),M=p(v)+y(C,_,S,E)+x+f[T]+h[C]|0;x=E,E=S,S=d(_),_=v,v=M}this._a=v+this._a|0,this._b=_+this._b|0,this._c=S+this._c|0,this._d=E+this._d|0,this._e=x+this._e|0},w.prototype._hash=function(){var m=g.allocUnsafe(20);return m.writeInt32BE(0|this._a,0),m.writeInt32BE(0|this._b,4),m.writeInt32BE(0|this._c,8),m.writeInt32BE(0|this._d,12),m.writeInt32BE(0|this._e,16),m},o.exports=w},8881:(o,s,i)=>{var l=i(376),u=i(9642),g=i(2159),h=i(9047).Buffer,b=new Array(64);function w(){this.init(),this._w=b,g.call(this,64,56)}l(w,u),w.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},w.prototype._hash=function(){var p=h.allocUnsafe(28);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p},o.exports=w},9642:(o,s,i)=>{var l=i(376),u=i(2159),g=i(9047).Buffer,h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],b=new Array(64);function w(){this.init(),this._w=b,u.call(this,64,56)}function p(f,v,_){return _^f&(v^_)}function d(f,v,_){return f&v|_&(f|v)}function y(f){return(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10)}function m(f){return(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7)}function c(f){return(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3}l(w,u),w.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},w.prototype._update=function(f){for(var v,_=this._w,S=0|this._a,E=0|this._b,x=0|this._c,k=0|this._d,T=0|this._e,C=0|this._f,M=0|this._g,N=0|this._h,L=0;L<16;++L)_[L]=f.readInt32BE(4*L);for(;L<64;++L)_[L]=0|(((v=_[L-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+_[L-7]+c(_[L-15])+_[L-16];for(var R=0;R<64;++R){var D=N+m(T)+p(T,C,M)+h[R]+_[R]|0,z=y(S)+d(S,E,x)|0;N=M,M=C,C=T,T=k+D|0,k=x,x=E,E=S,S=D+z|0}this._a=S+this._a|0,this._b=E+this._b|0,this._c=x+this._c|0,this._d=k+this._d|0,this._e=T+this._e|0,this._f=C+this._f|0,this._g=M+this._g|0,this._h=N+this._h|0},w.prototype._hash=function(){var f=g.allocUnsafe(32);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f.writeInt32BE(this._h,28),f},o.exports=w},8220:(o,s,i)=>{var l=i(376),u=i(6859),g=i(2159),h=i(9047).Buffer,b=new Array(160);function w(){this.init(),this._w=b,g.call(this,128,112)}l(w,u),w.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},w.prototype._hash=function(){var p=h.allocUnsafe(48);function d(y,m,c){p.writeInt32BE(y,c),p.writeInt32BE(m,c+4)}return d(this._ah,this._al,0),d(this._bh,this._bl,8),d(this._ch,this._cl,16),d(this._dh,this._dl,24),d(this._eh,this._el,32),d(this._fh,this._fl,40),p},o.exports=w},6859:(o,s,i)=>{var l=i(376),u=i(2159),g=i(9047).Buffer,h=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],b=new Array(160);function w(){this.init(),this._w=b,u.call(this,128,112)}function p(E,x,k){return k^E&(x^k)}function d(E,x,k){return E&x|k&(E|x)}function y(E,x){return(E>>>28|x<<4)^(x>>>2|E<<30)^(x>>>7|E<<25)}function m(E,x){return(E>>>14|x<<18)^(E>>>18|x<<14)^(x>>>9|E<<23)}function c(E,x){return(E>>>1|x<<31)^(E>>>8|x<<24)^E>>>7}function f(E,x){return(E>>>1|x<<31)^(E>>>8|x<<24)^(E>>>7|x<<25)}function v(E,x){return(E>>>19|x<<13)^(x>>>29|E<<3)^E>>>6}function _(E,x){return(E>>>19|x<<13)^(x>>>29|E<<3)^(E>>>6|x<<26)}function S(E,x){return E>>>0<x>>>0?1:0}l(w,u),w.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},w.prototype._update=function(E){for(var x=this._w,k=0|this._ah,T=0|this._bh,C=0|this._ch,M=0|this._dh,N=0|this._eh,L=0|this._fh,R=0|this._gh,D=0|this._hh,z=0|this._al,U=0|this._bl,O=0|this._cl,I=0|this._dl,j=0|this._el,P=0|this._fl,A=0|this._gl,$=0|this._hl,q=0;q<32;q+=2)x[q]=E.readInt32BE(4*q),x[q+1]=E.readInt32BE(4*q+4);for(;q<160;q+=2){var X=x[q-30],te=x[q-30+1],re=c(X,te),ie=f(te,X),Z=v(X=x[q-4],te=x[q-4+1]),ee=_(te,X),de=x[q-14],le=x[q-14+1],V=x[q-32],G=x[q-32+1],K=ie+le|0,ne=re+de+S(K,ie)|0;ne=(ne=ne+Z+S(K=K+ee|0,ee)|0)+V+S(K=K+G|0,G)|0,x[q]=ne,x[q+1]=K}for(var W=0;W<160;W+=2){ne=x[W],K=x[W+1];var H=d(k,T,C),se=d(z,U,O),ce=y(k,z),ue=y(z,k),be=m(N,j),Se=m(j,N),Ae=h[W],we=h[W+1],Ue=p(N,L,R),$e=p(j,P,A),Ce=$+Se|0,nt=D+be+S(Ce,$)|0;nt=(nt=(nt=nt+Ue+S(Ce=Ce+$e|0,$e)|0)+Ae+S(Ce=Ce+we|0,we)|0)+ne+S(Ce=Ce+K|0,K)|0;var Fe=ue+se|0,ut=ce+H+S(Fe,ue)|0;D=R,$=A,R=L,A=P,L=N,P=j,N=M+nt+S(j=I+Ce|0,I)|0,M=C,I=O,C=T,O=U,T=k,U=z,k=nt+ut+S(z=Ce+Fe|0,Ce)|0}this._al=this._al+z|0,this._bl=this._bl+U|0,this._cl=this._cl+O|0,this._dl=this._dl+I|0,this._el=this._el+j|0,this._fl=this._fl+P|0,this._gl=this._gl+A|0,this._hl=this._hl+$|0,this._ah=this._ah+k+S(this._al,z)|0,this._bh=this._bh+T+S(this._bl,U)|0,this._ch=this._ch+C+S(this._cl,O)|0,this._dh=this._dh+M+S(this._dl,I)|0,this._eh=this._eh+N+S(this._el,j)|0,this._fh=this._fh+L+S(this._fl,P)|0,this._gh=this._gh+R+S(this._gl,A)|0,this._hh=this._hh+D+S(this._hl,$)|0},w.prototype._hash=function(){var E=g.allocUnsafe(64);function x(k,T,C){E.writeInt32BE(k,C),E.writeInt32BE(T,C+4)}return x(this._ah,this._al,0),x(this._bh,this._bl,8),x(this._ch,this._cl,16),x(this._dh,this._dl,24),x(this._eh,this._el,32),x(this._fh,this._fl,40),x(this._gh,this._gl,48),x(this._hh,this._hl,56),E},o.exports=w},4723:(o,s,i)=>{o.exports=u;var l=i(9620).EventEmitter;function u(){l.call(this)}i(376)(u,l),u.Readable=i(5967),u.Writable=i(8872),u.Duplex=i(7772),u.Transform=i(6473),u.PassThrough=i(5970),u.finished=i(7155),u.pipeline=i(6420),u.Stream=u,u.prototype.pipe=function(g,h){var b=this;function w(v){g.writable&&g.write(v)===!1&&b.pause&&b.pause()}function p(){b.readable&&b.resume&&b.resume()}b.on("data",w),g.on("drain",p),g._isStdio||h&&h.end===!1||(b.on("end",y),b.on("close",m));var d=!1;function y(){d||(d=!0,g.end())}function m(){d||(d=!0,typeof g.destroy=="function"&&g.destroy())}function c(v){if(f(),l.listenerCount(this,"error")===0)throw v}function f(){b.removeListener("data",w),g.removeListener("drain",p),b.removeListener("end",y),b.removeListener("close",m),b.removeListener("error",c),g.removeListener("error",c),b.removeListener("end",f),b.removeListener("close",f),g.removeListener("close",f)}return b.on("error",c),g.on("error",c),b.on("end",f),b.on("close",f),g.on("close",f),g.emit("pipe",b),g}},8442:o=>{function s(g){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},s(g)}var i={};function l(g,h,b){b||(b=Error);var w=function(p){var d,y;function m(c,f,v){return p.call(this,function(_,S,E){return typeof h=="string"?h:h(_,S,E)}(c,f,v))||this}return y=p,(d=m).prototype=Object.create(y.prototype),d.prototype.constructor=d,d.__proto__=y,m}(b);w.prototype.name=b.name,w.prototype.code=g,i[g]=w}function u(g,h){if(Array.isArray(g)){var b=g.length;return g=g.map(function(w){return String(w)}),b>2?"one of ".concat(h," ").concat(g.slice(0,b-1).join(", "),", or ")+g[b-1]:b===2?"one of ".concat(h," ").concat(g[0]," or ").concat(g[1]):"of ".concat(h," ").concat(g[0])}return"of ".concat(h," ").concat(String(g))}l("ERR_INVALID_OPT_VALUE",function(g,h){return'The value "'+h+'" is invalid for option "'+g+'"'},TypeError),l("ERR_INVALID_ARG_TYPE",function(g,h,b){var w,p,d,y,m;if(typeof h=="string"&&(p="not ",h.substr(0,4)===p)?(w="must not be",h=h.replace(/^not /,"")):w="must be",function(f,v,_){return(_===void 0||_>f.length)&&(_=f.length),f.substring(_-9,_)===v}(g," argument"))d="The ".concat(g," ").concat(w," ").concat(u(h,"type"));else{var c=(typeof m!="number"&&(m=0),m+1>(y=g).length||y.indexOf(".",m)===-1?"argument":"property");d='The "'.concat(g,'" ').concat(c," ").concat(w," ").concat(u(h,"type"))}return d+". Received type ".concat(s(b))},TypeError),l("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),l("ERR_METHOD_NOT_IMPLEMENTED",function(g){return"The "+g+" method is not implemented"}),l("ERR_STREAM_PREMATURE_CLOSE","Premature close"),l("ERR_STREAM_DESTROYED",function(g){return"Cannot call "+g+" after a stream was destroyed"}),l("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),l("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),l("ERR_STREAM_WRITE_AFTER_END","write after end"),l("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),l("ERR_UNKNOWN_ENCODING",function(g){return"Unknown encoding: "+g},TypeError),l("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),o.exports.q=i},7772:(o,s,i)=>{var l=Object.keys||function(m){var c=[];for(var f in m)c.push(f);return c};o.exports=p;var u=i(5967),g=i(8872);i(376)(p,u);for(var h=l(g.prototype),b=0;b<h.length;b++){var w=h[b];p.prototype[w]||(p.prototype[w]=g.prototype[w])}function p(m){if(!(this instanceof p))return new p(m);u.call(this,m),g.call(this,m),this.allowHalfOpen=!0,m&&(m.readable===!1&&(this.readable=!1),m.writable===!1&&(this.writable=!1),m.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||{env:{}}.nextTick(y,this)}function y(m){m.end()}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}})},5970:(o,s,i)=>{o.exports=u;var l=i(6473);function u(g){if(!(this instanceof u))return new u(g);l.call(this,g)}i(376)(u,l),u.prototype._transform=function(g,h,b){b(null,g)}},5967:(o,s,i)=>{var l;o.exports=N,N.ReadableState=M,i(9620).EventEmitter;var u,g=function(Z,ee){return Z.listeners(ee).length},h=i(2289),b=i(365).Buffer,w=(i.g!==void 0?i.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p=i(964);u=p&&p.debuglog?p.debuglog("stream"):function(){};var d,y,m,c=i(2803),f=i(6781),v=i(1441).getHighWaterMark,_=i(8442).q,S=_.ERR_INVALID_ARG_TYPE,E=_.ERR_STREAM_PUSH_AFTER_EOF,x=_.ERR_METHOD_NOT_IMPLEMENTED,k=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(376)(N,h);var T=f.errorOrDestroy,C=["error","close","destroy","pause","resume"];function M(Z,ee,de){l=l||i(7772),Z=Z||{},typeof de!="boolean"&&(de=ee instanceof l),this.objectMode=!!Z.objectMode,de&&(this.objectMode=this.objectMode||!!Z.readableObjectMode),this.highWaterMark=v(this,Z,"readableHighWaterMark",de),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding&&(d||(d=i(113).s),this.decoder=new d(Z.encoding),this.encoding=Z.encoding)}function N(Z){if(l=l||i(7772),!(this instanceof N))return new N(Z);var ee=this instanceof l;this._readableState=new M(Z,this,ee),this.readable=!0,Z&&(typeof Z.read=="function"&&(this._read=Z.read),typeof Z.destroy=="function"&&(this._destroy=Z.destroy)),h.call(this)}function L(Z,ee,de,le,V){u("readableAddChunk",ee);var G,K=Z._readableState;if(ee===null)K.reading=!1,function(ne,W){if(u("onEofChunk"),!W.ended){if(W.decoder){var H=W.decoder.end();H&&H.length&&(W.buffer.push(H),W.length+=W.objectMode?1:H.length)}W.ended=!0,W.sync?U(ne):(W.needReadable=!1,W.emittedReadable||(W.emittedReadable=!0,O(ne)))}}(Z,K);else if(V||(G=function(ne,W){var H,se;return se=W,b.isBuffer(se)||se instanceof w||typeof W=="string"||W===void 0||ne.objectMode||(H=new S("chunk",["string","Buffer","Uint8Array"],W)),H}(K,ee)),G)T(Z,G);else if(K.objectMode||ee&&ee.length>0)if(typeof ee=="string"||K.objectMode||Object.getPrototypeOf(ee)===b.prototype||(ee=function(ne){return b.from(ne)}(ee)),le)K.endEmitted?T(Z,new k):R(Z,K,ee,!0);else if(K.ended)T(Z,new E);else{if(K.destroyed)return!1;K.reading=!1,K.decoder&&!de?(ee=K.decoder.write(ee),K.objectMode||ee.length!==0?R(Z,K,ee,!1):I(Z,K)):R(Z,K,ee,!1)}else le||(K.reading=!1,I(Z,K));return!K.ended&&(K.length<K.highWaterMark||K.length===0)}function R(Z,ee,de,le){ee.flowing&&ee.length===0&&!ee.sync?(ee.awaitDrain=0,Z.emit("data",de)):(ee.length+=ee.objectMode?1:de.length,le?ee.buffer.unshift(de):ee.buffer.push(de),ee.needReadable&&U(Z)),I(Z,ee)}Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Z){this._readableState&&(this._readableState.destroyed=Z)}}),N.prototype.destroy=f.destroy,N.prototype._undestroy=f.undestroy,N.prototype._destroy=function(Z,ee){ee(Z)},N.prototype.push=function(Z,ee){var de,le=this._readableState;return le.objectMode?de=!0:typeof Z=="string"&&((ee=ee||le.defaultEncoding)!==le.encoding&&(Z=b.from(Z,ee),ee=""),de=!0),L(this,Z,ee,!1,de)},N.prototype.unshift=function(Z){return L(this,Z,null,!0,!1)},N.prototype.isPaused=function(){return this._readableState.flowing===!1},N.prototype.setEncoding=function(Z){d||(d=i(113).s);var ee=new d(Z);this._readableState.decoder=ee,this._readableState.encoding=this._readableState.decoder.encoding;for(var de=this._readableState.buffer.head,le="";de!==null;)le+=ee.write(de.data),de=de.next;return this._readableState.buffer.clear(),le!==""&&this._readableState.buffer.push(le),this._readableState.length=le.length,this};var D=1073741824;function z(Z,ee){return Z<=0||ee.length===0&&ee.ended?0:ee.objectMode?1:Z!=Z?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(Z>ee.highWaterMark&&(ee.highWaterMark=function(de){return de>=D?de=D:(de--,de|=de>>>1,de|=de>>>2,de|=de>>>4,de|=de>>>8,de|=de>>>16,de++),de}(Z)),Z<=ee.length?Z:ee.ended?ee.length:(ee.needReadable=!0,0))}function U(Z){var ee=Z._readableState;u("emitReadable",ee.needReadable,ee.emittedReadable),ee.needReadable=!1,ee.emittedReadable||(u("emitReadable",ee.flowing),ee.emittedReadable=!0,{env:{}}.nextTick(O,Z))}function O(Z){var ee=Z._readableState;u("emitReadable_",ee.destroyed,ee.length,ee.ended),ee.destroyed||!ee.length&&!ee.ended||(Z.emit("readable"),ee.emittedReadable=!1),ee.needReadable=!ee.flowing&&!ee.ended&&ee.length<=ee.highWaterMark,q(Z)}function I(Z,ee){ee.readingMore||(ee.readingMore=!0,{env:{}}.nextTick(j,Z,ee))}function j(Z,ee){for(;!ee.reading&&!ee.ended&&(ee.length<ee.highWaterMark||ee.flowing&&ee.length===0);){var de=ee.length;if(u("maybeReadMore read 0"),Z.read(0),de===ee.length)break}ee.readingMore=!1}function P(Z){var ee=Z._readableState;ee.readableListening=Z.listenerCount("readable")>0,ee.resumeScheduled&&!ee.paused?ee.flowing=!0:Z.listenerCount("data")>0&&Z.resume()}function A(Z){u("readable nexttick read 0"),Z.read(0)}function $(Z,ee){u("resume",ee.reading),ee.reading||Z.read(0),ee.resumeScheduled=!1,Z.emit("resume"),q(Z),ee.flowing&&!ee.reading&&Z.read(0)}function q(Z){var ee=Z._readableState;for(u("flow",ee.flowing);ee.flowing&&Z.read()!==null;);}function X(Z,ee){return ee.length===0?null:(ee.objectMode?de=ee.buffer.shift():!Z||Z>=ee.length?(de=ee.decoder?ee.buffer.join(""):ee.buffer.length===1?ee.buffer.first():ee.buffer.concat(ee.length),ee.buffer.clear()):de=ee.buffer.consume(Z,ee.decoder),de);var de}function te(Z){var ee=Z._readableState;u("endReadable",ee.endEmitted),ee.endEmitted||(ee.ended=!0,{env:{}}.nextTick(re,ee,Z))}function re(Z,ee){if(u("endReadableNT",Z.endEmitted,Z.length),!Z.endEmitted&&Z.length===0&&(Z.endEmitted=!0,ee.readable=!1,ee.emit("end"),Z.autoDestroy)){var de=ee._writableState;(!de||de.autoDestroy&&de.finished)&&ee.destroy()}}function ie(Z,ee){for(var de=0,le=Z.length;de<le;de++)if(Z[de]===ee)return de;return-1}N.prototype.read=function(Z){u("read",Z),Z=parseInt(Z,10);var ee=this._readableState,de=Z;if(Z!==0&&(ee.emittedReadable=!1),Z===0&&ee.needReadable&&((ee.highWaterMark!==0?ee.length>=ee.highWaterMark:ee.length>0)||ee.ended))return u("read: emitReadable",ee.length,ee.ended),ee.length===0&&ee.ended?te(this):U(this),null;if((Z=z(Z,ee))===0&&ee.ended)return ee.length===0&&te(this),null;var le,V=ee.needReadable;return u("need readable",V),(ee.length===0||ee.length-Z<ee.highWaterMark)&&u("length less than watermark",V=!0),ee.ended||ee.reading?u("reading or ended",V=!1):V&&(u("do read"),ee.reading=!0,ee.sync=!0,ee.length===0&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(Z=z(de,ee))),(le=Z>0?X(Z,ee):null)===null?(ee.needReadable=ee.length<=ee.highWaterMark,Z=0):(ee.length-=Z,ee.awaitDrain=0),ee.length===0&&(ee.ended||(ee.needReadable=!0),de!==Z&&ee.ended&&te(this)),le!==null&&this.emit("data",le),le},N.prototype._read=function(Z){T(this,new x("_read()"))},N.prototype.pipe=function(Z,ee){var de=this,le=this._readableState;switch(le.pipesCount){case 0:le.pipes=Z;break;case 1:le.pipes=[le.pipes,Z];break;default:le.pipes.push(Z)}le.pipesCount+=1,u("pipe count=%d opts=%j",le.pipesCount,ee);var V=ee&&ee.end===!1||Z==={env:{}}.stdout||Z==={env:{}}.stderr?ue:G;function G(){u("onend"),Z.end()}le.endEmitted?{env:{}}.nextTick(V):de.once("end",V),Z.on("unpipe",function be(Se,Ae){u("onunpipe"),Se===de&&Ae&&Ae.hasUnpiped===!1&&(Ae.hasUnpiped=!0,u("cleanup"),Z.removeListener("close",se),Z.removeListener("finish",ce),Z.removeListener("drain",K),Z.removeListener("error",H),Z.removeListener("unpipe",be),de.removeListener("end",G),de.removeListener("end",ue),de.removeListener("data",W),ne=!0,!le.awaitDrain||Z._writableState&&!Z._writableState.needDrain||K())});var K=function(be){return function(){var Se=be._readableState;u("pipeOnDrain",Se.awaitDrain),Se.awaitDrain&&Se.awaitDrain--,Se.awaitDrain===0&&g(be,"data")&&(Se.flowing=!0,q(be))}}(de);Z.on("drain",K);var ne=!1;function W(be){u("ondata");var Se=Z.write(be);u("dest.write",Se),Se===!1&&((le.pipesCount===1&&le.pipes===Z||le.pipesCount>1&&ie(le.pipes,Z)!==-1)&&!ne&&(u("false write response, pause",le.awaitDrain),le.awaitDrain++),de.pause())}function H(be){u("onerror",be),ue(),Z.removeListener("error",H),g(Z,"error")===0&&T(Z,be)}function se(){Z.removeListener("finish",ce),ue()}function ce(){u("onfinish"),Z.removeListener("close",se),ue()}function ue(){u("unpipe"),de.unpipe(Z)}return de.on("data",W),function(be,Se,Ae){if(typeof be.prependListener=="function")return be.prependListener(Se,Ae);be._events&&be._events[Se]?Array.isArray(be._events[Se])?be._events[Se].unshift(Ae):be._events[Se]=[Ae,be._events[Se]]:be.on(Se,Ae)}(Z,"error",H),Z.once("close",se),Z.once("finish",ce),Z.emit("pipe",de),le.flowing||(u("pipe resume"),de.resume()),Z},N.prototype.unpipe=function(Z){var ee=this._readableState,de={hasUnpiped:!1};if(ee.pipesCount===0)return this;if(ee.pipesCount===1)return Z&&Z!==ee.pipes||(Z||(Z=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,Z&&Z.emit("unpipe",this,de)),this;if(!Z){var le=ee.pipes,V=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var G=0;G<V;G++)le[G].emit("unpipe",this,{hasUnpiped:!1});return this}var K=ie(ee.pipes,Z);return K===-1||(ee.pipes.splice(K,1),ee.pipesCount-=1,ee.pipesCount===1&&(ee.pipes=ee.pipes[0]),Z.emit("unpipe",this,de)),this},N.prototype.on=function(Z,ee){var de=h.prototype.on.call(this,Z,ee),le=this._readableState;return Z==="data"?(le.readableListening=this.listenerCount("readable")>0,le.flowing!==!1&&this.resume()):Z==="readable"&&(le.endEmitted||le.readableListening||(le.readableListening=le.needReadable=!0,le.flowing=!1,le.emittedReadable=!1,u("on readable",le.length,le.reading),le.length?U(this):le.reading||{env:{}}.nextTick(A,this))),de},N.prototype.addListener=N.prototype.on,N.prototype.removeListener=function(Z,ee){var de=h.prototype.removeListener.call(this,Z,ee);return Z==="readable"&&{env:{}}.nextTick(P,this),de},N.prototype.removeAllListeners=function(Z){var ee=h.prototype.removeAllListeners.apply(this,arguments);return Z!=="readable"&&Z!==void 0||{env:{}}.nextTick(P,this),ee},N.prototype.resume=function(){var Z=this._readableState;return Z.flowing||(u("resume"),Z.flowing=!Z.readableListening,function(ee,de){de.resumeScheduled||(de.resumeScheduled=!0,{env:{}}.nextTick($,ee,de))}(this,Z)),Z.paused=!1,this},N.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},N.prototype.wrap=function(Z){var ee=this,de=this._readableState,le=!1;for(var V in Z.on("end",function(){if(u("wrapped end"),de.decoder&&!de.ended){var K=de.decoder.end();K&&K.length&&ee.push(K)}ee.push(null)}),Z.on("data",function(K){u("wrapped data"),de.decoder&&(K=de.decoder.write(K)),de.objectMode&&K==null||(de.objectMode||K&&K.length)&&(ee.push(K)||(le=!0,Z.pause()))}),Z)this[V]===void 0&&typeof Z[V]=="function"&&(this[V]=function(K){return function(){return Z[K].apply(Z,arguments)}}(V));for(var G=0;G<C.length;G++)Z.on(C[G],this.emit.bind(this,C[G]));return this._read=function(K){u("wrapped _read",K),le&&(le=!1,Z.resume())},this},typeof Symbol=="function"&&(N.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=i(6428)),y(this)}),Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(N.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(N.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Z){this._readableState&&(this._readableState.flowing=Z)}}),N._fromList=X,Object.defineProperty(N.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(N.from=function(Z,ee){return m===void 0&&(m=i(8271)),m(N,Z,ee)})},6473:(o,s,i)=>{o.exports=d;var l=i(8442).q,u=l.ERR_METHOD_NOT_IMPLEMENTED,g=l.ERR_MULTIPLE_CALLBACK,h=l.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=l.ERR_TRANSFORM_WITH_LENGTH_0,w=i(7772);function p(c,f){var v=this._transformState;v.transforming=!1;var _=v.writecb;if(_===null)return this.emit("error",new g);v.writechunk=null,v.writecb=null,f!=null&&this.push(f),_(c);var S=this._readableState;S.reading=!1,(S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}function d(c){if(!(this instanceof d))return new d(c);w.call(this,c),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",y)}function y(){var c=this;typeof this._flush!="function"||this._readableState.destroyed?m(this,null,null):this._flush(function(f,v){m(c,f,v)})}function m(c,f,v){if(f)return c.emit("error",f);if(v!=null&&c.push(v),c._writableState.length)throw new b;if(c._transformState.transforming)throw new h;return c.push(null)}i(376)(d,w),d.prototype.push=function(c,f){return this._transformState.needTransform=!1,w.prototype.push.call(this,c,f)},d.prototype._transform=function(c,f,v){v(new u("_transform()"))},d.prototype._write=function(c,f,v){var _=this._transformState;if(_.writecb=v,_.writechunk=c,_.writeencoding=f,!_.transforming){var S=this._readableState;(_.needTransform||S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}},d.prototype._read=function(c){var f=this._transformState;f.writechunk===null||f.transforming?f.needTransform=!0:(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform))},d.prototype._destroy=function(c,f){w.prototype._destroy.call(this,c,function(v){f(v)})}},8872:(o,s,i)=>{function l(I){var j=this;this.next=null,this.entry=null,this.finish=function(){(function(P,A,$){var q=P.entry;for(P.entry=null;q;){var X=q.callback;A.pendingcb--,X(void 0),q=q.next}A.corkedRequestsFree.next=P})(j,I)}}var u;o.exports=N,N.WritableState=M;var g,h={deprecate:i(8016)},b=i(2289),w=i(365).Buffer,p=(i.g!==void 0?i.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d=i(6781),y=i(1441).getHighWaterMark,m=i(8442).q,c=m.ERR_INVALID_ARG_TYPE,f=m.ERR_METHOD_NOT_IMPLEMENTED,v=m.ERR_MULTIPLE_CALLBACK,_=m.ERR_STREAM_CANNOT_PIPE,S=m.ERR_STREAM_DESTROYED,E=m.ERR_STREAM_NULL_VALUES,x=m.ERR_STREAM_WRITE_AFTER_END,k=m.ERR_UNKNOWN_ENCODING,T=d.errorOrDestroy;function C(){}function M(I,j,P){u=u||i(7772),I=I||{},typeof P!="boolean"&&(P=j instanceof u),this.objectMode=!!I.objectMode,P&&(this.objectMode=this.objectMode||!!I.writableObjectMode),this.highWaterMark=y(this,I,"writableHighWaterMark",P),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var A=I.decodeStrings===!1;this.decodeStrings=!A,this.defaultEncoding=I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($){(function(q,X){var te=q._writableState,re=te.sync,ie=te.writecb;if(typeof ie!="function")throw new v;if(function(ee){ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0}(te),X)(function(ee,de,le,V,G){--de.pendingcb,le?({env:{}}.nextTick(G,V),{env:{}}.nextTick(O,ee,de),ee._writableState.errorEmitted=!0,T(ee,V)):(G(V),ee._writableState.errorEmitted=!0,T(ee,V),O(ee,de))})(q,te,re,X,ie);else{var Z=z(te)||q.destroyed;Z||te.corked||te.bufferProcessing||!te.bufferedRequest||D(q,te),re?{env:{}}.nextTick(R,q,te,Z,ie):R(q,te,Z,ie)}})(j,$)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function N(I){var j=this instanceof(u=u||i(7772));if(!j&&!g.call(N,this))return new N(I);this._writableState=new M(I,this,j),this.writable=!0,I&&(typeof I.write=="function"&&(this._write=I.write),typeof I.writev=="function"&&(this._writev=I.writev),typeof I.destroy=="function"&&(this._destroy=I.destroy),typeof I.final=="function"&&(this._final=I.final)),b.call(this)}function L(I,j,P,A,$,q,X){j.writelen=A,j.writecb=X,j.writing=!0,j.sync=!0,j.destroyed?j.onwrite(new S("write")):P?I._writev($,j.onwrite):I._write($,q,j.onwrite),j.sync=!1}function R(I,j,P,A){P||function($,q){q.length===0&&q.needDrain&&(q.needDrain=!1,$.emit("drain"))}(I,j),j.pendingcb--,A(),O(I,j)}function D(I,j){j.bufferProcessing=!0;var P=j.bufferedRequest;if(I._writev&&P&&P.next){var A=j.bufferedRequestCount,$=new Array(A),q=j.corkedRequestsFree;q.entry=P;for(var X=0,te=!0;P;)$[X]=P,P.isBuf||(te=!1),P=P.next,X+=1;$.allBuffers=te,L(I,j,!0,j.length,$,"",q.finish),j.pendingcb++,j.lastBufferedRequest=null,q.next?(j.corkedRequestsFree=q.next,q.next=null):j.corkedRequestsFree=new l(j),j.bufferedRequestCount=0}else{for(;P;){var re=P.chunk,ie=P.encoding,Z=P.callback;if(L(I,j,!1,j.objectMode?1:re.length,re,ie,Z),P=P.next,j.bufferedRequestCount--,j.writing)break}P===null&&(j.lastBufferedRequest=null)}j.bufferedRequest=P,j.bufferProcessing=!1}function z(I){return I.ending&&I.length===0&&I.bufferedRequest===null&&!I.finished&&!I.writing}function U(I,j){I._final(function(P){j.pendingcb--,P&&T(I,P),j.prefinished=!0,I.emit("prefinish"),O(I,j)})}function O(I,j){var P=z(j);if(P&&(function($,q){q.prefinished||q.finalCalled||(typeof $._final!="function"||q.destroyed?(q.prefinished=!0,$.emit("prefinish")):(q.pendingcb++,q.finalCalled=!0,{env:{}}.nextTick(U,$,q)))}(I,j),j.pendingcb===0&&(j.finished=!0,I.emit("finish"),j.autoDestroy))){var A=I._readableState;(!A||A.autoDestroy&&A.endEmitted)&&I.destroy()}return P}i(376)(N,b),M.prototype.getBuffer=function(){for(var I=this.bufferedRequest,j=[];I;)j.push(I),I=I.next;return j},function(){try{Object.defineProperty(M.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(I){return!!g.call(this,I)||this===N&&I&&I._writableState instanceof M}})):g=function(I){return I instanceof this},N.prototype.pipe=function(){T(this,new _)},N.prototype.write=function(I,j,P){var A,$=this._writableState,q=!1,X=!$.objectMode&&(A=I,w.isBuffer(A)||A instanceof p);return X&&!w.isBuffer(I)&&(I=function(te){return w.from(te)}(I)),typeof j=="function"&&(P=j,j=null),X?j="buffer":j||(j=$.defaultEncoding),typeof P!="function"&&(P=C),$.ending?function(te,re){var ie=new x;T(te,ie),{env:{}}.nextTick(re,ie)}(this,P):(X||function(te,re,ie,Z){var ee;return ie===null?ee=new E:typeof ie=="string"||re.objectMode||(ee=new c("chunk",["string","Buffer"],ie)),!ee||(T(te,ee),{env:{}}.nextTick(Z,ee),!1)}(this,$,I,P))&&($.pendingcb++,q=function(te,re,ie,Z,ee,de){if(!ie){var le=function(ne,W,H){return ne.objectMode||ne.decodeStrings===!1||typeof W!="string"||(W=w.from(W,H)),W}(re,Z,ee);Z!==le&&(ie=!0,ee="buffer",Z=le)}var V=re.objectMode?1:Z.length;re.length+=V;var G=re.length<re.highWaterMark;if(G||(re.needDrain=!0),re.writing||re.corked){var K=re.lastBufferedRequest;re.lastBufferedRequest={chunk:Z,encoding:ee,isBuf:ie,callback:de,next:null},K?K.next=re.lastBufferedRequest:re.bufferedRequest=re.lastBufferedRequest,re.bufferedRequestCount+=1}else L(te,re,!1,V,Z,ee,de);return G}(this,$,X,I,j,P)),q},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var I=this._writableState;I.corked&&(I.corked--,I.writing||I.corked||I.bufferProcessing||!I.bufferedRequest||D(this,I))},N.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new k(I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(N.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),N.prototype._write=function(I,j,P){P(new f("_write()"))},N.prototype._writev=null,N.prototype.end=function(I,j,P){var A=this._writableState;return typeof I=="function"?(P=I,I=null,j=null):typeof j=="function"&&(P=j,j=null),I!=null&&this.write(I,j),A.corked&&(A.corked=1,this.uncork()),A.ending||function($,q,X){q.ending=!0,O($,q),X&&(q.finished?{env:{}}.nextTick(X):$.once("finish",X)),q.ended=!0,$.writable=!1}(this,A,P),this},Object.defineProperty(N.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),N.prototype.destroy=d.destroy,N.prototype._undestroy=d.undestroy,N.prototype._destroy=function(I,j){j(I)}},6428:(o,s,i)=>{function l(x){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},l(x)}var u;function g(x,k,T){return(k=function(C){var M=function(N,L){if(l(N)!=="object"||N===null)return N;var R=N[Symbol.toPrimitive];if(R!==void 0){var D=R.call(N,"string");if(l(D)!=="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}(C);return l(M)==="symbol"?M:String(M)}(k))in x?Object.defineProperty(x,k,{value:T,enumerable:!0,configurable:!0,writable:!0}):x[k]=T,x}var h=i(7155),b=Symbol("lastResolve"),w=Symbol("lastReject"),p=Symbol("error"),d=Symbol("ended"),y=Symbol("lastPromise"),m=Symbol("handlePromise"),c=Symbol("stream");function f(x,k){return{value:x,done:k}}function v(x){var k=x[b];if(k!==null){var T=x[c].read();T!==null&&(x[y]=null,x[b]=null,x[w]=null,k(f(T,!1)))}}function _(x){({env:{}}).nextTick(v,x)}var S=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((g(u={get stream(){return this[c]},next:function(){var x=this,k=this[p];if(k!==null)return Promise.reject(k);if(this[d])return Promise.resolve(f(void 0,!0));if(this[c].destroyed)return new Promise(function(N,L){({env:{}}).nextTick(function(){x[p]?L(x[p]):N(f(void 0,!0))})});var T,C=this[y];if(C)T=new Promise(function(N,L){return function(R,D){N.then(function(){L[d]?R(f(void 0,!0)):L[m](R,D)},D)}}(C,this));else{var M=this[c].read();if(M!==null)return Promise.resolve(f(M,!1));T=new Promise(this[m])}return this[y]=T,T}},Symbol.asyncIterator,function(){return this}),g(u,"return",function(){var x=this;return new Promise(function(k,T){x[c].destroy(null,function(C){C?T(C):k(f(void 0,!0))})})}),u),S);o.exports=function(x){var k,T=Object.create(E,(g(k={},c,{value:x,writable:!0}),g(k,b,{value:null,writable:!0}),g(k,w,{value:null,writable:!0}),g(k,p,{value:null,writable:!0}),g(k,d,{value:x._readableState.endEmitted,writable:!0}),g(k,m,{value:function(C,M){var N=T[c].read();N?(T[y]=null,T[b]=null,T[w]=null,C(f(N,!1))):(T[b]=C,T[w]=M)},writable:!0}),k));return T[y]=null,h(x,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=T[w];return M!==null&&(T[y]=null,T[b]=null,T[w]=null,M(C)),void(T[p]=C)}var N=T[b];N!==null&&(T[y]=null,T[b]=null,T[w]=null,N(f(void 0,!0))),T[d]=!0}),x.on("readable",_.bind(null,T)),T}},2803:(o,s,i)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},l(m)}function u(m,c){var f=Object.keys(m);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(m);c&&(v=v.filter(function(_){return Object.getOwnPropertyDescriptor(m,_).enumerable})),f.push.apply(f,v)}return f}function g(m){for(var c=1;c<arguments.length;c++){var f=arguments[c]!=null?arguments[c]:{};c%2?u(Object(f),!0).forEach(function(v){h(m,v,f[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(f)):u(Object(f)).forEach(function(v){Object.defineProperty(m,v,Object.getOwnPropertyDescriptor(f,v))})}return m}function h(m,c,f){return(c=w(c))in m?Object.defineProperty(m,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):m[c]=f,m}function b(m,c){for(var f=0;f<c.length;f++){var v=c[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,w(v.key),v)}}function w(m){var c=function(f,v){if(l(f)!=="object"||f===null)return f;var _=f[Symbol.toPrimitive];if(_!==void 0){var S=_.call(f,"string");if(l(S)!=="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(f)}(m);return l(c)==="symbol"?c:String(c)}var p=i(365).Buffer,d=i(9862).inspect,y=d&&d.custom||"inspect";o.exports=function(){function m(){(function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")})(this,m),this.head=null,this.tail=null,this.length=0}var c,f;return c=m,(f=[{key:"push",value:function(v){var _={data:v,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(v){var _={data:v,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var _=this.head,S=""+_.data;_=_.next;)S+=v+_.data;return S}},{key:"concat",value:function(v){if(this.length===0)return p.alloc(0);for(var _,S,E,x=p.allocUnsafe(v>>>0),k=this.head,T=0;k;)_=k.data,S=x,E=T,p.prototype.copy.call(_,S,E),T+=k.data.length,k=k.next;return x}},{key:"consume",value:function(v,_){var S;return v<this.head.data.length?(S=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):S=v===this.head.data.length?this.shift():_?this._getString(v):this._getBuffer(v),S}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var _=this.head,S=1,E=_.data;for(v-=E.length;_=_.next;){var x=_.data,k=v>x.length?x.length:v;if(k===x.length?E+=x:E+=x.slice(0,v),(v-=k)==0){k===x.length?(++S,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=x.slice(k));break}++S}return this.length-=S,E}},{key:"_getBuffer",value:function(v){var _=p.allocUnsafe(v),S=this.head,E=1;for(S.data.copy(_),v-=S.data.length;S=S.next;){var x=S.data,k=v>x.length?x.length:v;if(x.copy(_,_.length-v,0,k),(v-=k)==0){k===x.length?(++E,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=x.slice(k));break}++E}return this.length-=E,_}},{key:y,value:function(v,_){return d(this,g(g({},_),{},{depth:0,customInspect:!1}))}}])&&b(c.prototype,f),Object.defineProperty(c,"prototype",{writable:!1}),m}()},6781:o=>{function s(u,g){l(u,g),i(u)}function i(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function l(u,g){u.emit("error",g)}o.exports={destroy:function(u,g){var h=this,b=this._readableState&&this._readableState.destroyed,w=this._writableState&&this._writableState.destroyed;return b||w?(g?g(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,{env:{}}.nextTick(l,this,u)):{env:{}}.nextTick(l,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(p){!g&&p?h._writableState?h._writableState.errorEmitted?{env:{}}.nextTick(i,h):(h._writableState.errorEmitted=!0,{env:{}}.nextTick(s,h,p)):{env:{}}.nextTick(s,h,p):g?({env:{}}.nextTick(i,h),g(p)):{env:{}}.nextTick(i,h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(u,g){var h=u._readableState,b=u._writableState;h&&h.autoDestroy||b&&b.autoDestroy?u.destroy(g):u.emit("error",g)}}},7155:(o,s,i)=>{var l=i(8442).q.ERR_STREAM_PREMATURE_CLOSE;function u(){}o.exports=function g(h,b,w){if(typeof b=="function")return g(h,null,b);b||(b={}),w=function(x){var k=!1;return function(){if(!k){k=!0;for(var T=arguments.length,C=new Array(T),M=0;M<T;M++)C[M]=arguments[M];x.apply(this,C)}}}(w||u);var p=b.readable||b.readable!==!1&&h.readable,d=b.writable||b.writable!==!1&&h.writable,y=function(){h.writable||c()},m=h._writableState&&h._writableState.finished,c=function(){d=!1,m=!0,p||w.call(h)},f=h._readableState&&h._readableState.endEmitted,v=function(){p=!1,f=!0,d||w.call(h)},_=function(x){w.call(h,x)},S=function(){var x;return p&&!f?(h._readableState&&h._readableState.ended||(x=new l),w.call(h,x)):d&&!m?(h._writableState&&h._writableState.ended||(x=new l),w.call(h,x)):void 0},E=function(){h.req.on("finish",c)};return function(x){return x.setHeader&&typeof x.abort=="function"}(h)?(h.on("complete",c),h.on("abort",S),h.req?E():h.on("request",E)):d&&!h._writableState&&(h.on("end",y),h.on("close",y)),h.on("end",v),h.on("finish",c),b.error!==!1&&h.on("error",_),h.on("close",S),function(){h.removeListener("complete",c),h.removeListener("abort",S),h.removeListener("request",E),h.req&&h.req.removeListener("finish",c),h.removeListener("end",y),h.removeListener("close",y),h.removeListener("finish",c),h.removeListener("end",v),h.removeListener("error",_),h.removeListener("close",S)}}},8271:o=>{o.exports=function(){throw new Error("Readable.from is not available in the browser")}},6420:(o,s,i)=>{var l,u=i(8442).q,g=u.ERR_MISSING_ARGS,h=u.ERR_STREAM_DESTROYED;function b(d){if(d)throw d}function w(d){d()}function p(d,y){return d.pipe(y)}o.exports=function(){for(var d=arguments.length,y=new Array(d),m=0;m<d;m++)y[m]=arguments[m];var c,f=function(_){return _.length?typeof _[_.length-1]!="function"?b:_.pop():b}(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new g("streams");var v=y.map(function(_,S){var E=S<y.length-1;return function(x,k,T,C){C=function(L){var R=!1;return function(){R||(R=!0,L.apply(void 0,arguments))}}(C);var M=!1;x.on("close",function(){M=!0}),l===void 0&&(l=i(7155)),l(x,{readable:k,writable:T},function(L){if(L)return C(L);M=!0,C()});var N=!1;return function(L){if(!M&&!N)return N=!0,function(R){return R.setHeader&&typeof R.abort=="function"}(x)?x.abort():typeof x.destroy=="function"?x.destroy():void C(L||new h("pipe"))}}(_,E,S>0,function(x){c||(c=x),x&&v.forEach(w),E||(v.forEach(w),f(c))})});return y.reduce(p)}},1441:(o,s,i)=>{var l=i(8442).q.ERR_INVALID_OPT_VALUE;o.exports={getHighWaterMark:function(u,g,h,b){var w=function(p,d,y){return p.highWaterMark!=null?p.highWaterMark:d?p[y]:null}(g,b,h);if(w!=null){if(!isFinite(w)||Math.floor(w)!==w||w<0)throw new l(b?h:"highWaterMark",w);return Math.floor(w)}return u.objectMode?16:16384}}},2289:(o,s,i)=>{o.exports=i(9620).EventEmitter},113:(o,s,i)=>{var l=i(4368).Buffer,u=l.isEncoding||function(f){switch((f=""+f)&&f.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function g(f){var v;switch(this.encoding=function(_){var S=function(E){if(!E)return"utf8";for(var x;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(x)return;E=(""+E).toLowerCase(),x=!0}}(_);if(typeof S!="string"&&(l.isEncoding===u||!u(_)))throw new Error("Unknown encoding: "+_);return S||_}(f),this.encoding){case"utf16le":this.text=w,this.end=p,v=4;break;case"utf8":this.fillLast=b,v=4;break;case"base64":this.text=d,this.end=y,v=3;break;default:return this.write=m,void(this.end=c)}this.lastNeed=0,this.lastTotal=0,this.lastChar=l.allocUnsafe(v)}function h(f){return f<=127?0:f>>5==6?2:f>>4==14?3:f>>3==30?4:f>>6==2?-1:-2}function b(f){var v=this.lastTotal-this.lastNeed,_=function(S,E,x){if((192&E[0])!=128)return S.lastNeed=0,"";if(S.lastNeed>1&&E.length>1){if((192&E[1])!=128)return S.lastNeed=1,"";if(S.lastNeed>2&&E.length>2&&(192&E[2])!=128)return S.lastNeed=2,""}}(this,f);return _!==void 0?_:this.lastNeed<=f.length?(f.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(f.copy(this.lastChar,v,0,f.length),void(this.lastNeed-=f.length))}function w(f,v){if((f.length-v)%2==0){var _=f.toString("utf16le",v);if(_){var S=_.charCodeAt(_.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1],_.slice(0,-1)}return _}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=f[f.length-1],f.toString("utf16le",v,f.length-1)}function p(f){var v=f&&f.length?this.write(f):"";if(this.lastNeed){var _=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,_)}return v}function d(f,v){var _=(f.length-v)%3;return _===0?f.toString("base64",v):(this.lastNeed=3-_,this.lastTotal=3,_===1?this.lastChar[0]=f[f.length-1]:(this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1]),f.toString("base64",v,f.length-_))}function y(f){var v=f&&f.length?this.write(f):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function m(f){return f.toString(this.encoding)}function c(f){return f&&f.length?this.write(f):""}s.s=g,g.prototype.write=function(f){if(f.length===0)return"";var v,_;if(this.lastNeed){if((v=this.fillLast(f))===void 0)return"";_=this.lastNeed,this.lastNeed=0}else _=0;return _<f.length?v?v+this.text(f,_):this.text(f,_):v||""},g.prototype.end=function(f){var v=f&&f.length?this.write(f):"";return this.lastNeed?v+"":v},g.prototype.text=function(f,v){var _=function(E,x,k){var T=x.length-1;if(T<k)return 0;var C=h(x[T]);return C>=0?(C>0&&(E.lastNeed=C-1),C):--T<k||C===-2?0:(C=h(x[T]))>=0?(C>0&&(E.lastNeed=C-2),C):--T<k||C===-2?0:(C=h(x[T]))>=0?(C>0&&(C===2?C=0:E.lastNeed=C-3),C):0}(this,f,v);if(!this.lastNeed)return f.toString("utf8",v);this.lastTotal=_;var S=f.length-(_-this.lastNeed);return f.copy(this.lastChar,0,S),f.toString("utf8",v,S)},g.prototype.fillLast=function(f){if(this.lastNeed<=f.length)return f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,f.length),this.lastNeed-=f.length}},4368:(o,s,i)=>{var l=i(365),u=l.Buffer;function g(b,w){for(var p in b)w[p]=b[p]}function h(b,w,p){return u(b,w,p)}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?o.exports=l:(g(l,s),s.Buffer=h),g(u,h),h.from=function(b,w,p){if(typeof b=="number")throw new TypeError("Argument must not be a number");return u(b,w,p)},h.alloc=function(b,w,p){if(typeof b!="number")throw new TypeError("Argument must be a number");var d=u(b);return w!==void 0?typeof p=="string"?d.fill(w,p):d.fill(w):d.fill(0),d},h.allocUnsafe=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return u(b)},h.allocUnsafeSlow=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return l.SlowBuffer(b)}},8016:(o,s,i)=>{function l(u){try{if(!i.g.localStorage)return!1}catch{return!1}var g=i.g.localStorage[u];return g!=null&&String(g).toLowerCase()==="true"}o.exports=function(u,g){if(l("noDeprecation"))return u;var h=!1;return function(){if(!h){if(l("throwDeprecation"))throw new Error(g);l("traceDeprecation")?console.trace(g):console.warn(g),h=!0}return u.apply(this,arguments)}}},8538:o=>{function s(i){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(i)}o.exports=function(i){return i&&s(i)==="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},9957:(o,s,i)=>{function l(A){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},l(A)}var u=i(2755),g=i(6738),h=i(1482),b=i(7913);function w(A){return A.call.bind(A)}var p=typeof BigInt<"u",d=typeof Symbol<"u",y=w(Object.prototype.toString),m=w(Number.prototype.valueOf),c=w(String.prototype.valueOf),f=w(Boolean.prototype.valueOf);if(p)var v=w(BigInt.prototype.valueOf);if(d)var _=w(Symbol.prototype.valueOf);function S(A,$){if(l(A)!=="object")return!1;try{return $(A),!0}catch{return!1}}function E(A){return y(A)==="[object Map]"}function x(A){return y(A)==="[object Set]"}function k(A){return y(A)==="[object WeakMap]"}function T(A){return y(A)==="[object WeakSet]"}function C(A){return y(A)==="[object ArrayBuffer]"}function M(A){return typeof ArrayBuffer<"u"&&(C.working?C(A):A instanceof ArrayBuffer)}function N(A){return y(A)==="[object DataView]"}function L(A){return typeof DataView<"u"&&(N.working?N(A):A instanceof DataView)}s.isArgumentsObject=u,s.isGeneratorFunction=g,s.isTypedArray=b,s.isPromise=function(A){return typeof Promise<"u"&&A instanceof Promise||A!==null&&l(A)==="object"&&typeof A.then=="function"&&typeof A.catch=="function"},s.isArrayBufferView=function(A){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(A):b(A)||L(A)},s.isUint8Array=function(A){return h(A)==="Uint8Array"},s.isUint8ClampedArray=function(A){return h(A)==="Uint8ClampedArray"},s.isUint16Array=function(A){return h(A)==="Uint16Array"},s.isUint32Array=function(A){return h(A)==="Uint32Array"},s.isInt8Array=function(A){return h(A)==="Int8Array"},s.isInt16Array=function(A){return h(A)==="Int16Array"},s.isInt32Array=function(A){return h(A)==="Int32Array"},s.isFloat32Array=function(A){return h(A)==="Float32Array"},s.isFloat64Array=function(A){return h(A)==="Float64Array"},s.isBigInt64Array=function(A){return h(A)==="BigInt64Array"},s.isBigUint64Array=function(A){return h(A)==="BigUint64Array"},E.working=typeof Map<"u"&&E(new Map),s.isMap=function(A){return typeof Map<"u"&&(E.working?E(A):A instanceof Map)},x.working=typeof Set<"u"&&x(new Set),s.isSet=function(A){return typeof Set<"u"&&(x.working?x(A):A instanceof Set)},k.working=typeof WeakMap<"u"&&k(new WeakMap),s.isWeakMap=function(A){return typeof WeakMap<"u"&&(k.working?k(A):A instanceof WeakMap)},T.working=typeof WeakSet<"u"&&T(new WeakSet),s.isWeakSet=function(A){return T(A)},C.working=typeof ArrayBuffer<"u"&&C(new ArrayBuffer),s.isArrayBuffer=M,N.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&N(new DataView(new ArrayBuffer(1),0,1)),s.isDataView=L;var R=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function D(A){return y(A)==="[object SharedArrayBuffer]"}function z(A){return R!==void 0&&(D.working===void 0&&(D.working=D(new R)),D.working?D(A):A instanceof R)}function U(A){return S(A,m)}function O(A){return S(A,c)}function I(A){return S(A,f)}function j(A){return p&&S(A,v)}function P(A){return d&&S(A,_)}s.isSharedArrayBuffer=z,s.isAsyncFunction=function(A){return y(A)==="[object AsyncFunction]"},s.isMapIterator=function(A){return y(A)==="[object Map Iterator]"},s.isSetIterator=function(A){return y(A)==="[object Set Iterator]"},s.isGeneratorObject=function(A){return y(A)==="[object Generator]"},s.isWebAssemblyCompiledModule=function(A){return y(A)==="[object WebAssembly.Module]"},s.isNumberObject=U,s.isStringObject=O,s.isBooleanObject=I,s.isBigIntObject=j,s.isSymbolObject=P,s.isBoxedPrimitive=function(A){return U(A)||O(A)||I(A)||j(A)||P(A)},s.isAnyArrayBuffer=function(A){return typeof Uint8Array<"u"&&(M(A)||z(A))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(A){Object.defineProperty(s,A,{enumerable:!1,value:function(){throw new Error(A+" is not supported in userland")}})})},8751:(o,s,i)=>{function l(j){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},l(j)}var u=Object.getOwnPropertyDescriptors||function(j){for(var P=Object.keys(j),A={},$=0;$<P.length;$++)A[P[$]]=Object.getOwnPropertyDescriptor(j,P[$]);return A},g=/%[sdj%]/g;s.format=function(j){if(!x(j)){for(var P=[],A=0;A<arguments.length;A++)P.push(p(arguments[A]));return P.join(" ")}A=1;for(var $=arguments,q=$.length,X=String(j).replace(g,function(re){if(re==="%%")return"%";if(A>=q)return re;switch(re){case"%s":return String($[A++]);case"%d":return Number($[A++]);case"%j":try{return JSON.stringify($[A++])}catch{return"[Circular]"}default:return re}}),te=$[A];A<q;te=$[++A])S(te)||!C(te)?X+=" "+te:X+=" "+p(te);return X},s.deprecate=function(j,P){if({env:{}}!==void 0&&{env:{}}.noDeprecation===!0)return j;if({env:{}}===void 0)return function(){return s.deprecate(j,P).apply(this,arguments)};var A=!1;return function(){if(!A){if({env:{}}.throwDeprecation)throw new Error(P);({env:{}}).traceDeprecation?console.trace(P):console.error(P),A=!0}return j.apply(this,arguments)}};var h={},b=/^$/;if({}.NODE_DEBUG){var w={}.NODE_DEBUG;w=w.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),b=new RegExp("^"+w+"$","i")}function p(j,P){var A={seen:[],stylize:y};return arguments.length>=3&&(A.depth=arguments[2]),arguments.length>=4&&(A.colors=arguments[3]),_(P)?A.showHidden=P:P&&s._extend(A,P),k(A.showHidden)&&(A.showHidden=!1),k(A.depth)&&(A.depth=2),k(A.colors)&&(A.colors=!1),k(A.customInspect)&&(A.customInspect=!0),A.colors&&(A.stylize=d),m(A,j,A.depth)}function d(j,P){var A=p.styles[P];return A?"\x1B["+p.colors[A][0]+"m"+j+"\x1B["+p.colors[A][1]+"m":j}function y(j,P){return j}function m(j,P,A){if(j.customInspect&&P&&L(P.inspect)&&P.inspect!==s.inspect&&(!P.constructor||P.constructor.prototype!==P)){var $=P.inspect(A,j);return x($)||($=m(j,$,A)),$}var q=function(le,V){if(k(V))return le.stylize("undefined","undefined");if(x(V)){var G="'"+JSON.stringify(V).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return le.stylize(G,"string")}return E(V)?le.stylize(""+V,"number"):_(V)?le.stylize(""+V,"boolean"):S(V)?le.stylize("null","null"):void 0}(j,P);if(q)return q;var X=Object.keys(P),te=function(le){var V={};return le.forEach(function(G,K){V[G]=!0}),V}(X);if(j.showHidden&&(X=Object.getOwnPropertyNames(P)),N(P)&&(X.indexOf("message")>=0||X.indexOf("description")>=0))return c(P);if(X.length===0){if(L(P)){var re=P.name?": "+P.name:"";return j.stylize("[Function"+re+"]","special")}if(T(P))return j.stylize(RegExp.prototype.toString.call(P),"regexp");if(M(P))return j.stylize(Date.prototype.toString.call(P),"date");if(N(P))return c(P)}var ie,Z="",ee=!1,de=["{","}"];return v(P)&&(ee=!0,de=["[","]"]),L(P)&&(Z=" [Function"+(P.name?": "+P.name:"")+"]"),T(P)&&(Z=" "+RegExp.prototype.toString.call(P)),M(P)&&(Z=" "+Date.prototype.toUTCString.call(P)),N(P)&&(Z=" "+c(P)),X.length!==0||ee&&P.length!=0?A<0?T(P)?j.stylize(RegExp.prototype.toString.call(P),"regexp"):j.stylize("[Object]","special"):(j.seen.push(P),ie=ee?function(le,V,G,K,ne){for(var W=[],H=0,se=V.length;H<se;++H)U(V,String(H))?W.push(f(le,V,G,K,String(H),!0)):W.push("");return ne.forEach(function(ce){ce.match(/^\d+$/)||W.push(f(le,V,G,K,ce,!0))}),W}(j,P,A,te,X):X.map(function(le){return f(j,P,A,te,le,ee)}),j.seen.pop(),function(le,V,G){return le.reduce(function(K,ne){return ne.indexOf(`
`),K+ne.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?G[0]+(V===""?"":V+`
 `)+" "+le.join(`,
  `)+" "+G[1]:G[0]+V+" "+le.join(", ")+" "+G[1]}(ie,Z,de)):de[0]+Z+de[1]}function c(j){return"["+Error.prototype.toString.call(j)+"]"}function f(j,P,A,$,q,X){var te,re,ie;if((ie=Object.getOwnPropertyDescriptor(P,q)||{value:P[q]}).get?re=ie.set?j.stylize("[Getter/Setter]","special"):j.stylize("[Getter]","special"):ie.set&&(re=j.stylize("[Setter]","special")),U($,q)||(te="["+q+"]"),re||(j.seen.indexOf(ie.value)<0?(re=S(A)?m(j,ie.value,null):m(j,ie.value,A-1)).indexOf(`
`)>-1&&(re=X?re.split(`
`).map(function(Z){return"  "+Z}).join(`
`).slice(2):`
`+re.split(`
`).map(function(Z){return"   "+Z}).join(`
`)):re=j.stylize("[Circular]","special")),k(te)){if(X&&q.match(/^\d+$/))return re;(te=JSON.stringify(""+q)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(te=te.slice(1,-1),te=j.stylize(te,"name")):(te=te.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),te=j.stylize(te,"string"))}return te+": "+re}function v(j){return Array.isArray(j)}function _(j){return typeof j=="boolean"}function S(j){return j===null}function E(j){return typeof j=="number"}function x(j){return typeof j=="string"}function k(j){return j===void 0}function T(j){return C(j)&&R(j)==="[object RegExp]"}function C(j){return l(j)==="object"&&j!==null}function M(j){return C(j)&&R(j)==="[object Date]"}function N(j){return C(j)&&(R(j)==="[object Error]"||j instanceof Error)}function L(j){return typeof j=="function"}function R(j){return Object.prototype.toString.call(j)}function D(j){return j<10?"0"+j.toString(10):j.toString(10)}s.debuglog=function(j){if(j=j.toUpperCase(),!h[j])if(b.test(j)){var P={env:{}}.pid;h[j]=function(){var A=s.format.apply(s,arguments);console.error("%s %d: %s",j,P,A)}}else h[j]=function(){};return h[j]},s.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.types=i(9957),s.isArray=v,s.isBoolean=_,s.isNull=S,s.isNullOrUndefined=function(j){return j==null},s.isNumber=E,s.isString=x,s.isSymbol=function(j){return l(j)==="symbol"},s.isUndefined=k,s.isRegExp=T,s.types.isRegExp=T,s.isObject=C,s.isDate=M,s.types.isDate=M,s.isError=N,s.types.isNativeError=N,s.isFunction=L,s.isPrimitive=function(j){return j===null||typeof j=="boolean"||typeof j=="number"||typeof j=="string"||l(j)==="symbol"||j===void 0},s.isBuffer=i(8538);var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function U(j,P){return Object.prototype.hasOwnProperty.call(j,P)}s.log=function(){var j,P;console.log("%s - %s",(P=[D((j=new Date).getHours()),D(j.getMinutes()),D(j.getSeconds())].join(":"),[j.getDate(),z[j.getMonth()],P].join(" ")),s.format.apply(s,arguments))},s.inherits=i(376),s._extend=function(j,P){if(!P||!C(P))return j;for(var A=Object.keys(P),$=A.length;$--;)j[A[$]]=P[A[$]];return j};var O=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function I(j,P){if(!j){var A=new Error("Promise was rejected with a falsy value");A.reason=j,j=A}return P(j)}s.promisify=function(j){if(typeof j!="function")throw new TypeError('The "original" argument must be of type Function');if(O&&j[O]){var P;if(typeof(P=j[O])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(P,O,{value:P,enumerable:!1,writable:!1,configurable:!0}),P}function P(){for(var A,$,q=new Promise(function(re,ie){A=re,$=ie}),X=[],te=0;te<arguments.length;te++)X.push(arguments[te]);X.push(function(re,ie){re?$(re):A(ie)});try{j.apply(this,X)}catch(re){$(re)}return q}return Object.setPrototypeOf(P,Object.getPrototypeOf(j)),O&&Object.defineProperty(P,O,{value:P,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(P,u(j))},s.promisify.custom=O,s.callbackify=function(j){if(typeof j!="function")throw new TypeError('The "original" argument must be of type Function');function P(){for(var A=[],$=0;$<arguments.length;$++)A.push(arguments[$]);var q=A.pop();if(typeof q!="function")throw new TypeError("The last argument must be of type Function");var X=this,te=function(){return q.apply(X,arguments)};j.apply(this,A).then(function(re){({env:{}}).nextTick(te.bind(null,null,re))},function(re){({env:{}}).nextTick(I.bind(null,re,te))})}return Object.setPrototypeOf(P,Object.getPrototypeOf(j)),Object.defineProperties(P,u(j)),P}},1482:(o,s,i)=>{function l(S){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},l(S)}var u=i(5337),g=i(6461),h=i(3862),b=i(8780),w=i(1554),p=b("Object.prototype.toString"),d=i(5994)(),y=typeof globalThis>"u"?i.g:globalThis,m=g(),c=b("String.prototype.slice"),f=Object.getPrototypeOf,v=b("Array.prototype.indexOf",!0)||function(S,E){for(var x=0;x<S.length;x+=1)if(S[x]===E)return x;return-1},_={__proto__:null};u(m,d&&w&&f?function(S){var E=new y[S];if(Symbol.toStringTag in E){var x=f(E),k=w(x,Symbol.toStringTag);if(!k){var T=f(x);k=w(T,Symbol.toStringTag)}_["$"+S]=h(k.get)}}:function(S){var E=new y[S],x=E.slice||E.set;x&&(_["$"+S]=h(x))}),o.exports=function(S){if(!S||l(S)!=="object")return!1;if(!d){var E=c(p(S),8,-1);return v(m,E)>-1?E:E==="Object"&&function(x){var k=!1;return u(_,function(T,C){if(!k)try{T(x),k=c(C,1)}catch{}}),k}(S)}return w?function(x){var k=!1;return u(_,function(T,C){if(!k)try{"$"+T(x)===C&&(k=c(C,1))}catch{}}),k}(S):null}},6601:()=>{},9214:()=>{},2361:()=>{},4616:()=>{},9862:()=>{},964:()=>{},6461:(o,s,i)=>{var l=i(7373),u=typeof globalThis>"u"?i.g:globalThis;o.exports=function(){for(var g=[],h=0;h<l.length;h++)typeof u[l[h]]=="function"&&(g[g.length]=l[h]);return g}},4029:(o,s,i)=>{var tg;var l=i(365).Buffer;function u(F){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(F))}function g(F){return Object.prototype.toString.call(F)==="[object Uint8Array]"}function h(F){return Object.prototype.toString.call(F)==="[object RegExp]"}function b(F){return Object.prototype.toString.call(F)==="[object Map]"}function w(F){return Object.prototype.toString.call(F)==="[object Date]"}const p=5,d=2147483647,y=-2147483648,m=Math.pow(2,63)-1,c=-Math.pow(2,63),f=Math.pow(2,53),v=-Math.pow(2,53),_=1,S=2,E=3,x=4,k=5,T=6,C=7,M=8,N=9,L=10,R=11,D=12,z=13,U=14,O=15,I=16,j=17,P=18,A=19,$=255,q=127,X=0,te=4,re=Object.freeze({double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127});class ie extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(B){super(B)}static isBSONError(B){return B!=null&&typeof B=="object"&&"bsonError"in B&&B.bsonError===!0&&"name"in B&&"message"in B&&"stack"in B}}class Z extends ie{get name(){return"BSONVersionError"}constructor(){super(`Unsupported BSON version, bson types must be from bson ${p}.x.x`)}}class ee extends ie{get name(){return"BSONRuntimeError"}constructor(B){super(B)}}function de(F){return V.fromNumberArray(Array.from({length:F},()=>Math.floor(256*Math.random())))}const le=(()=>{try{return i(462).O6}catch{return de}})(),V={toLocalBufferType(F){if(l.isBuffer(F))return F;if(ArrayBuffer.isView(F))return l.from(F.buffer,F.byteOffset,F.byteLength);const B=(F==null?void 0:F[Symbol.toStringTag])??Object.prototype.toString.call(F);if(B==="ArrayBuffer"||B==="SharedArrayBuffer"||B==="[object ArrayBuffer]"||B==="[object SharedArrayBuffer]")return l.from(F);throw new ie(`Cannot create Buffer from ${String(F)}`)},allocate:F=>l.alloc(F),equals:(F,B)=>V.toLocalBufferType(F).equals(B),fromNumberArray:F=>l.from(F),fromBase64:F=>l.from(F,"base64"),toBase64:F=>V.toLocalBufferType(F).toString("base64"),fromISO88591:F=>l.from(F,"binary"),toISO88591:F=>V.toLocalBufferType(F).toString("binary"),fromHex:F=>l.from(F,"hex"),toHex:F=>V.toLocalBufferType(F).toString("hex"),fromUTF8:F=>l.from(F,"utf8"),toUTF8:(F,B,oe)=>V.toLocalBufferType(F).toString("utf8",B,oe),utf8ByteLength:F=>l.byteLength(F,"utf8"),encodeUTF8Into:(F,B,oe)=>V.toLocalBufferType(F).write(B,oe,void 0,"utf8"),randomBytes:le};function G(F){if(F<0)throw new RangeError(`The argument 'byteLength' is invalid. Received ${F}`);return W.fromNumberArray(Array.from({length:F},()=>Math.floor(256*Math.random())))}const K=(()=>{var B;const{crypto:F}=globalThis;if(F!=null&&typeof F.getRandomValues=="function")return oe=>F.getRandomValues(W.allocate(oe));if(function(){const{navigator:oe}=globalThis;return typeof oe=="object"&&oe.product==="ReactNative"}()){const{console:oe}=globalThis;(B=oe==null?void 0:oe.warn)==null||B.call(oe,"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return G})(),ne=/(\d|[a-f])/i,W={toLocalBufferType(F){const B=(F==null?void 0:F[Symbol.toStringTag])??Object.prototype.toString.call(F);if(B==="Uint8Array")return F;if(ArrayBuffer.isView(F))return new Uint8Array(F.buffer.slice(F.byteOffset,F.byteOffset+F.byteLength));if(B==="ArrayBuffer"||B==="SharedArrayBuffer"||B==="[object ArrayBuffer]"||B==="[object SharedArrayBuffer]")return new Uint8Array(F);throw new ie(`Cannot make a Uint8Array from ${String(F)}`)},allocate(F){if(typeof F!="number")throw new TypeError(`The "size" argument must be of type number. Received ${String(F)}`);return new Uint8Array(F)},equals(F,B){if(F.byteLength!==B.byteLength)return!1;for(let oe=0;oe<F.byteLength;oe++)if(F[oe]!==B[oe])return!1;return!0},fromNumberArray:F=>Uint8Array.from(F),fromBase64:F=>Uint8Array.from(atob(F),B=>B.charCodeAt(0)),toBase64:F=>btoa(W.toISO88591(F)),fromISO88591:F=>Uint8Array.from(F,B=>255&B.charCodeAt(0)),toISO88591:F=>Array.from(Uint16Array.from(F),B=>String.fromCharCode(B)).join(""),fromHex(F){const B=F.length%2==0?F:F.slice(0,F.length-1),oe=[];for(let Q=0;Q<B.length;Q+=2){const Oe=B[Q],Te=B[Q+1];if(!ne.test(Oe)||!ne.test(Te))break;const et=Number.parseInt(`${Oe}${Te}`,16);oe.push(et)}return Uint8Array.from(oe)},toHex:F=>Array.from(F,B=>B.toString(16).padStart(2,"0")).join(""),fromUTF8:F=>new TextEncoder().encode(F),toUTF8:(F,B,oe)=>new TextDecoder("utf8",{fatal:!1}).decode(F.slice(B,oe)),utf8ByteLength:F=>W.fromUTF8(F).byteLength,encodeUTF8Into(F,B,oe){const Q=W.fromUTF8(B);return F.set(Q,oe),Q.byteLength},randomBytes:K},H=typeof l=="function"&&((tg=l.prototype)==null?void 0:tg._isBuffer)!==!0?V:W;class se extends DataView{static fromUint8Array(B){return new DataView(B.buffer,B.byteOffset,B.byteLength)}}class ce{get[Symbol.for("@@mdb.bson.version")](){return p}}class ue extends ce{get _bsontype(){return"Binary"}constructor(B,oe){if(super(),!(B==null||typeof B=="string"||ArrayBuffer.isView(B)||B instanceof ArrayBuffer||Array.isArray(B)))throw new ie("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=oe??ue.BSON_BINARY_SUBTYPE_DEFAULT,B==null?(this.buffer=H.allocate(ue.BUFFER_SIZE),this.position=0):(typeof B=="string"?this.buffer=H.fromISO88591(B):Array.isArray(B)?this.buffer=H.fromNumberArray(B):this.buffer=H.toLocalBufferType(B),this.position=this.buffer.byteLength)}put(B){if(typeof B=="string"&&B.length!==1)throw new ie("only accepts single character String");if(typeof B!="number"&&B.length!==1)throw new ie("only accepts single character Uint8Array or Array");let oe;if(oe=typeof B=="string"?B.charCodeAt(0):typeof B=="number"?B:B[0],oe<0||oe>255)throw new ie("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=oe;else{const Q=H.allocate(ue.BUFFER_SIZE+this.buffer.length);Q.set(this.buffer,0),this.buffer=Q,this.buffer[this.position++]=oe}}write(B,oe){if(oe=typeof oe=="number"?oe:this.position,this.buffer.byteLength<oe+B.length){const Q=H.allocate(this.buffer.byteLength+B.length);Q.set(this.buffer,0),this.buffer=Q}if(ArrayBuffer.isView(B))this.buffer.set(H.toLocalBufferType(B),oe),this.position=oe+B.byteLength>this.position?oe+B.length:this.position;else if(typeof B=="string"){const Q=H.fromISO88591(B);this.buffer.set(Q,oe),this.position=oe+B.length>this.position?oe+B.length:this.position}}read(B,oe){return oe=oe&&oe>0?oe:this.position,this.buffer.slice(B,B+oe)}value(B){return(B=!!B)&&this.buffer.length===this.position?this.buffer:B?this.buffer.slice(0,this.position):H.toISO88591(this.buffer.subarray(0,this.position))}length(){return this.position}toJSON(){return H.toBase64(this.buffer)}toString(B){return B==="hex"?H.toHex(this.buffer):B==="base64"?H.toBase64(this.buffer):H.toUTF8(this.buffer,0,this.buffer.byteLength)}toExtendedJSON(B){B=B||{};const oe=H.toBase64(this.buffer),Q=Number(this.sub_type).toString(16);return B.legacy?{$binary:oe,$type:Q.length===1?"0"+Q:Q}:{$binary:{base64:oe,subType:Q.length===1?"0"+Q:Q}}}toUUID(){if(this.sub_type===ue.SUBTYPE_UUID)return new Ae(this.buffer.slice(0,this.position));throw new ie(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${ue.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(B,oe){return new ue(H.fromHex(B),oe)}static createFromBase64(B,oe){return new ue(H.fromBase64(B),oe)}static fromExtendedJSON(B,oe){let Q,Oe;if(oe=oe||{},"$binary"in B?oe.legacy&&typeof B.$binary=="string"&&"$type"in B?(Oe=B.$type?parseInt(B.$type,16):0,Q=H.fromBase64(B.$binary)):typeof B.$binary!="string"&&(Oe=B.$binary.subType?parseInt(B.$binary.subType,16):0,Q=H.fromBase64(B.$binary.base64)):"$uuid"in B&&(Oe=4,Q=Ae.bytesFromString(B.$uuid)),!Q)throw new ie(`Unexpected Binary Extended JSON format ${JSON.stringify(B)}`);return Oe===te?new Ae(Q):new ue(Q,Oe)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`Binary.createFromBase64("${H.toBase64(this.buffer.subarray(0,this.position))}", ${this.sub_type})`}}ue.BSON_BINARY_SUBTYPE_DEFAULT=0,ue.BUFFER_SIZE=256,ue.SUBTYPE_DEFAULT=0,ue.SUBTYPE_FUNCTION=1,ue.SUBTYPE_BYTE_ARRAY=2,ue.SUBTYPE_UUID_OLD=3,ue.SUBTYPE_UUID=4,ue.SUBTYPE_MD5=5,ue.SUBTYPE_ENCRYPTED=6,ue.SUBTYPE_COLUMN=7,ue.SUBTYPE_USER_DEFINED=128;const be=/^[0-9A-F]{32}$/i,Se=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i;class Ae extends ue{constructor(B){let oe;if(B==null)oe=Ae.generate();else if(B instanceof Ae)oe=H.toLocalBufferType(new Uint8Array(B.buffer));else if(ArrayBuffer.isView(B)&&B.byteLength===16)oe=H.toLocalBufferType(B);else{if(typeof B!="string")throw new ie("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");oe=Ae.bytesFromString(B)}super(oe,te)}get id(){return this.buffer}set id(B){this.buffer=B}toHexString(B=!0){return B?[H.toHex(this.buffer.subarray(0,4)),H.toHex(this.buffer.subarray(4,6)),H.toHex(this.buffer.subarray(6,8)),H.toHex(this.buffer.subarray(8,10)),H.toHex(this.buffer.subarray(10,16))].join("-"):H.toHex(this.buffer)}toString(B){return B==="hex"?H.toHex(this.id):B==="base64"?H.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}equals(B){if(!B)return!1;if(B instanceof Ae)return H.equals(B.id,this.id);try{return H.equals(new Ae(B).id,this.id)}catch{return!1}}toBinary(){return new ue(this.id,ue.SUBTYPE_UUID)}static generate(){const B=H.randomBytes(16);return B[6]=15&B[6]|64,B[8]=63&B[8]|128,B}static isValid(B){return!!B&&(typeof B=="string"?Ae.isValidUUIDString(B):g(B)?B.byteLength===16:B._bsontype==="Binary"&&B.sub_type===this.SUBTYPE_UUID&&B.buffer.byteLength===16)}static createFromHexString(B){const oe=Ae.bytesFromString(B);return new Ae(oe)}static createFromBase64(B){return new Ae(H.fromBase64(B))}static bytesFromString(B){if(!Ae.isValidUUIDString(B))throw new ie("UUID string representation must be 32 hex digits or canonical hyphenated representation");return H.fromHex(B.replace(/-/g,""))}static isValidUUIDString(B){return be.test(B)||Se.test(B)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new UUID("${this.toHexString()}")`}}Ae.cacheHexString=!1;class we extends ce{get _bsontype(){return"Code"}constructor(B,oe){super(),this.code=B.toString(),this.scope=oe??null}toJSON(){return this.scope!=null?{code:this.code,scope:this.scope}:{code:this.code}}toExtendedJSON(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}static fromExtendedJSON(B){return new we(B.$code,B.$scope)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){const B=this.toJSON();return`new Code("${String(B.code)}"${B.scope!=null?`, ${JSON.stringify(B.scope)}`:""})`}}function Ue(F){return F!=null&&typeof F=="object"&&"$id"in F&&F.$id!=null&&"$ref"in F&&typeof F.$ref=="string"&&(!("$db"in F)||"$db"in F&&typeof F.$db=="string")}class $e extends ce{get _bsontype(){return"DBRef"}constructor(B,oe,Q,Oe){super();const Te=B.split(".");Te.length===2&&(Q=Te.shift(),B=Te.shift()),this.collection=B,this.oid=oe,this.db=Q,this.fields=Oe||{}}get namespace(){return this.collection}set namespace(B){this.collection=B}toJSON(){const B=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(B.$db=this.db),B}toExtendedJSON(B){B=B||{};let oe={$ref:this.collection,$id:this.oid};return B.legacy||(this.db&&(oe.$db=this.db),oe=Object.assign(oe,this.fields)),oe}static fromExtendedJSON(B){const oe=Object.assign({},B);return delete oe.$ref,delete oe.$id,delete oe.$db,new $e(B.$ref,B.$id,B.$db,oe)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){const B=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return`new DBRef("${this.namespace}", new ObjectId("${String(B)}")${this.db?`, "${this.db}"`:""})`}}let Ce;try{Ce=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}const nt=4294967296,Fe=18446744073709552e3,ut=Fe/2,_e={},wt={},ht=/^(\+?0|(\+|-)?[1-9][0-9]*)$/;class ge extends ce{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(B=0,oe,Q){super(),typeof B=="bigint"?Object.assign(this,ge.fromBigInt(B,!!oe)):typeof B=="string"?Object.assign(this,ge.fromString(B,!!oe)):(this.low=0|B,this.high=0|oe,this.unsigned=!!Q)}static fromBits(B,oe,Q){return new ge(B,oe,Q)}static fromInt(B,oe){let Q,Oe,Te;return oe?(Te=0<=(B>>>=0)&&B<256)&&(Oe=wt[B],Oe)?Oe:(Q=ge.fromBits(B,(0|B)<0?-1:0,!0),Te&&(wt[B]=Q),Q):(Te=-128<=(B|=0)&&B<128)&&(Oe=_e[B],Oe)?Oe:(Q=ge.fromBits(B,B<0?-1:0,!1),Te&&(_e[B]=Q),Q)}static fromNumber(B,oe){if(isNaN(B))return oe?ge.UZERO:ge.ZERO;if(oe){if(B<0)return ge.UZERO;if(B>=Fe)return ge.MAX_UNSIGNED_VALUE}else{if(B<=-ut)return ge.MIN_VALUE;if(B+1>=ut)return ge.MAX_VALUE}return B<0?ge.fromNumber(-B,oe).neg():ge.fromBits(B%nt|0,B/nt|0,oe)}static fromBigInt(B,oe){return ge.fromString(B.toString(),oe)}static fromString(B,oe,Q){if(B.length===0)throw new ie("empty string");if(B==="NaN"||B==="Infinity"||B==="+Infinity"||B==="-Infinity")return ge.ZERO;if(typeof oe=="number"?(Q=oe,oe=!1):oe=!!oe,(Q=Q||10)<2||36<Q)throw new ie("radix");let Oe;if((Oe=B.indexOf("-"))>0)throw new ie("interior hyphen");if(Oe===0)return ge.fromString(B.substring(1),oe,Q).neg();const Te=ge.fromNumber(Math.pow(Q,8));let et=ge.ZERO;for(let qe=0;qe<B.length;qe+=8){const Ee=Math.min(8,B.length-qe),at=parseInt(B.substring(qe,qe+Ee),Q);if(Ee<8){const We=ge.fromNumber(Math.pow(Q,Ee));et=et.mul(We).add(ge.fromNumber(at))}else et=et.mul(Te),et=et.add(ge.fromNumber(at))}return et.unsigned=oe,et}static fromBytes(B,oe,Q){return Q?ge.fromBytesLE(B,oe):ge.fromBytesBE(B,oe)}static fromBytesLE(B,oe){return new ge(B[0]|B[1]<<8|B[2]<<16|B[3]<<24,B[4]|B[5]<<8|B[6]<<16|B[7]<<24,oe)}static fromBytesBE(B,oe){return new ge(B[4]<<24|B[5]<<16|B[6]<<8|B[7],B[0]<<24|B[1]<<16|B[2]<<8|B[3],oe)}static isLong(B){return B!=null&&typeof B=="object"&&"__isLong__"in B&&B.__isLong__===!0}static fromValue(B,oe){return typeof B=="number"?ge.fromNumber(B,oe):typeof B=="string"?ge.fromString(B,oe):ge.fromBits(B.low,B.high,typeof oe=="boolean"?oe:B.unsigned)}add(B){ge.isLong(B)||(B=ge.fromValue(B));const oe=this.high>>>16,Q=65535&this.high,Oe=this.low>>>16,Te=65535&this.low,et=B.high>>>16,qe=65535&B.high,Ee=B.low>>>16;let at=0,We=0,Ie=0,ze=0;return ze+=Te+(65535&B.low),Ie+=ze>>>16,ze&=65535,Ie+=Oe+Ee,We+=Ie>>>16,Ie&=65535,We+=Q+qe,at+=We>>>16,We&=65535,at+=oe+et,at&=65535,ge.fromBits(Ie<<16|ze,at<<16|We,this.unsigned)}and(B){return ge.isLong(B)||(B=ge.fromValue(B)),ge.fromBits(this.low&B.low,this.high&B.high,this.unsigned)}compare(B){if(ge.isLong(B)||(B=ge.fromValue(B)),this.eq(B))return 0;const oe=this.isNegative(),Q=B.isNegative();return oe&&!Q?-1:!oe&&Q?1:this.unsigned?B.high>>>0>this.high>>>0||B.high===this.high&&B.low>>>0>this.low>>>0?-1:1:this.sub(B).isNegative()?-1:1}comp(B){return this.compare(B)}divide(B){if(ge.isLong(B)||(B=ge.fromValue(B)),B.isZero())throw new ie("division by zero");if(Ce){if(!this.unsigned&&this.high===-2147483648&&B.low===-1&&B.high===-1)return this;const Te=(this.unsigned?Ce.div_u:Ce.div_s)(this.low,this.high,B.low,B.high);return ge.fromBits(Te,Ce.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ge.UZERO:ge.ZERO;let oe,Q,Oe;if(this.unsigned){if(B.unsigned||(B=B.toUnsigned()),B.gt(this))return ge.UZERO;if(B.gt(this.shru(1)))return ge.UONE;Oe=ge.UZERO}else{if(this.eq(ge.MIN_VALUE))return B.eq(ge.ONE)||B.eq(ge.NEG_ONE)?ge.MIN_VALUE:B.eq(ge.MIN_VALUE)?ge.ONE:(oe=this.shr(1).div(B).shl(1),oe.eq(ge.ZERO)?B.isNegative()?ge.ONE:ge.NEG_ONE:(Q=this.sub(B.mul(oe)),Oe=oe.add(Q.div(B)),Oe));if(B.eq(ge.MIN_VALUE))return this.unsigned?ge.UZERO:ge.ZERO;if(this.isNegative())return B.isNegative()?this.neg().div(B.neg()):this.neg().div(B).neg();if(B.isNegative())return this.div(B.neg()).neg();Oe=ge.ZERO}for(Q=this;Q.gte(B);){oe=Math.max(1,Math.floor(Q.toNumber()/B.toNumber()));const Te=Math.ceil(Math.log(oe)/Math.LN2),et=Te<=48?1:Math.pow(2,Te-48);let qe=ge.fromNumber(oe),Ee=qe.mul(B);for(;Ee.isNegative()||Ee.gt(Q);)oe-=et,qe=ge.fromNumber(oe,this.unsigned),Ee=qe.mul(B);qe.isZero()&&(qe=ge.ONE),Oe=Oe.add(qe),Q=Q.sub(Ee)}return Oe}div(B){return this.divide(B)}equals(B){return ge.isLong(B)||(B=ge.fromValue(B)),(this.unsigned===B.unsigned||this.high>>>31!=1||B.high>>>31!=1)&&this.high===B.high&&this.low===B.low}eq(B){return this.equals(B)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(ge.MIN_VALUE)?64:this.neg().getNumBitsAbs();const B=this.high!==0?this.high:this.low;let oe;for(oe=31;oe>0&&!(B&1<<oe);oe--);return this.high!==0?oe+33:oe+1}greaterThan(B){return this.comp(B)>0}gt(B){return this.greaterThan(B)}greaterThanOrEqual(B){return this.comp(B)>=0}gte(B){return this.greaterThanOrEqual(B)}ge(B){return this.greaterThanOrEqual(B)}isEven(){return!(1&this.low)}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return!(1&~this.low)}isPositive(){return this.unsigned||this.high>=0}isZero(){return this.high===0&&this.low===0}lessThan(B){return this.comp(B)<0}lt(B){return this.lessThan(B)}lessThanOrEqual(B){return this.comp(B)<=0}lte(B){return this.lessThanOrEqual(B)}modulo(B){if(ge.isLong(B)||(B=ge.fromValue(B)),Ce){const oe=(this.unsigned?Ce.rem_u:Ce.rem_s)(this.low,this.high,B.low,B.high);return ge.fromBits(oe,Ce.get_high(),this.unsigned)}return this.sub(this.div(B).mul(B))}mod(B){return this.modulo(B)}rem(B){return this.modulo(B)}multiply(B){if(this.isZero())return ge.ZERO;if(ge.isLong(B)||(B=ge.fromValue(B)),Ce){const dt=Ce.mul(this.low,this.high,B.low,B.high);return ge.fromBits(dt,Ce.get_high(),this.unsigned)}if(B.isZero())return ge.ZERO;if(this.eq(ge.MIN_VALUE))return B.isOdd()?ge.MIN_VALUE:ge.ZERO;if(B.eq(ge.MIN_VALUE))return this.isOdd()?ge.MIN_VALUE:ge.ZERO;if(this.isNegative())return B.isNegative()?this.neg().mul(B.neg()):this.neg().mul(B).neg();if(B.isNegative())return this.mul(B.neg()).neg();if(this.lt(ge.TWO_PWR_24)&&B.lt(ge.TWO_PWR_24))return ge.fromNumber(this.toNumber()*B.toNumber(),this.unsigned);const oe=this.high>>>16,Q=65535&this.high,Oe=this.low>>>16,Te=65535&this.low,et=B.high>>>16,qe=65535&B.high,Ee=B.low>>>16,at=65535&B.low;let We=0,Ie=0,ze=0,pt=0;return pt+=Te*at,ze+=pt>>>16,pt&=65535,ze+=Oe*at,Ie+=ze>>>16,ze&=65535,ze+=Te*Ee,Ie+=ze>>>16,ze&=65535,Ie+=Q*at,We+=Ie>>>16,Ie&=65535,Ie+=Oe*Ee,We+=Ie>>>16,Ie&=65535,Ie+=Te*qe,We+=Ie>>>16,Ie&=65535,We+=oe*at+Q*Ee+Oe*qe+Te*et,We&=65535,ge.fromBits(ze<<16|pt,We<<16|Ie,this.unsigned)}mul(B){return this.multiply(B)}negate(){return!this.unsigned&&this.eq(ge.MIN_VALUE)?ge.MIN_VALUE:this.not().add(ge.ONE)}neg(){return this.negate()}not(){return ge.fromBits(~this.low,~this.high,this.unsigned)}notEquals(B){return!this.equals(B)}neq(B){return this.notEquals(B)}ne(B){return this.notEquals(B)}or(B){return ge.isLong(B)||(B=ge.fromValue(B)),ge.fromBits(this.low|B.low,this.high|B.high,this.unsigned)}shiftLeft(B){return ge.isLong(B)&&(B=B.toInt()),(B&=63)==0?this:B<32?ge.fromBits(this.low<<B,this.high<<B|this.low>>>32-B,this.unsigned):ge.fromBits(0,this.low<<B-32,this.unsigned)}shl(B){return this.shiftLeft(B)}shiftRight(B){return ge.isLong(B)&&(B=B.toInt()),(B&=63)==0?this:B<32?ge.fromBits(this.low>>>B|this.high<<32-B,this.high>>B,this.unsigned):ge.fromBits(this.high>>B-32,this.high>=0?0:-1,this.unsigned)}shr(B){return this.shiftRight(B)}shiftRightUnsigned(B){if(ge.isLong(B)&&(B=B.toInt()),(B&=63)==0)return this;{const oe=this.high;if(B<32){const Q=this.low;return ge.fromBits(Q>>>B|oe<<32-B,oe>>>B,this.unsigned)}return B===32?ge.fromBits(oe,0,this.unsigned):ge.fromBits(oe>>>B-32,0,this.unsigned)}}shr_u(B){return this.shiftRightUnsigned(B)}shru(B){return this.shiftRightUnsigned(B)}subtract(B){return ge.isLong(B)||(B=ge.fromValue(B)),this.add(B.neg())}sub(B){return this.subtract(B)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){return this.unsigned?(this.high>>>0)*nt+(this.low>>>0):this.high*nt+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(B){return B?this.toBytesLE():this.toBytesBE()}toBytesLE(){const B=this.high,oe=this.low;return[255&oe,oe>>>8&255,oe>>>16&255,oe>>>24,255&B,B>>>8&255,B>>>16&255,B>>>24]}toBytesBE(){const B=this.high,oe=this.low;return[B>>>24,B>>>16&255,B>>>8&255,255&B,oe>>>24,oe>>>16&255,oe>>>8&255,255&oe]}toSigned(){return this.unsigned?ge.fromBits(this.low,this.high,!1):this}toString(B){if((B=B||10)<2||36<B)throw new ie("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(ge.MIN_VALUE)){const Te=ge.fromNumber(B),et=this.div(Te),qe=et.mul(Te).sub(this);return et.toString(B)+qe.toInt().toString(B)}return"-"+this.neg().toString(B)}const oe=ge.fromNumber(Math.pow(B,6),this.unsigned);let Q=this,Oe="";for(;;){const Te=Q.div(oe);let et=(Q.sub(Te.mul(oe)).toInt()>>>0).toString(B);if(Q=Te,Q.isZero())return et+Oe;for(;et.length<6;)et="0"+et;Oe=""+et+Oe}}toUnsigned(){return this.unsigned?this:ge.fromBits(this.low,this.high,!0)}xor(B){return ge.isLong(B)||(B=ge.fromValue(B)),ge.fromBits(this.low^B.low,this.high^B.high,this.unsigned)}eqz(){return this.isZero()}le(B){return this.lessThanOrEqual(B)}toExtendedJSON(B){return B&&B.relaxed?this.toNumber():{$numberLong:this.toString()}}static fromExtendedJSON(B,oe){const{useBigInt64:Q=!1,relaxed:Oe=!0}={...oe};if(B.$numberLong.length>20)throw new ie("$numberLong string is too long");if(!ht.test(B.$numberLong))throw new ie(`$numberLong string "${B.$numberLong}" is in an invalid format`);if(Q){const et=BigInt(B.$numberLong);return BigInt.asIntN(64,et)}const Te=ge.fromString(B.$numberLong);return Oe?Te.toNumber():Te}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new Long("${this.toString()}"${this.unsigned?", true":""})`}}ge.TWO_PWR_24=ge.fromInt(16777216),ge.MAX_UNSIGNED_VALUE=ge.fromBits(-1,-1,!0),ge.ZERO=ge.fromInt(0),ge.UZERO=ge.fromInt(0,!0),ge.ONE=ge.fromInt(1),ge.UONE=ge.fromInt(1,!0),ge.NEG_ONE=ge.fromInt(-1),ge.MAX_VALUE=ge.fromBits(-1,2147483647,!1),ge.MIN_VALUE=ge.fromBits(0,-2147483648,!1);const At=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,vt=/^(\+|-)?(Infinity|inf)$/i,In=/^(\+|-)?NaN$/i,Mt=6111,Nt=-6176,Y=H.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),ae=H.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),fe=H.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),me=/^([-+])?(\d+)?$/;function pe(F){return!isNaN(parseInt(F,10))}function ve(F){const B=ge.fromNumber(1e9);let oe=ge.fromNumber(0);if(!(F.parts[0]||F.parts[1]||F.parts[2]||F.parts[3]))return{quotient:F,rem:oe};for(let Q=0;Q<=3;Q++)oe=oe.shiftLeft(32),oe=oe.add(new ge(F.parts[Q],0)),F.parts[Q]=oe.div(B).low,oe=oe.modulo(B);return{quotient:F,rem:oe}}function xe(F,B){throw new ie(`"${F}" is not a valid Decimal128 string - ${B}`)}class ye extends ce{get _bsontype(){return"Decimal128"}constructor(B){if(super(),typeof B=="string")this.bytes=ye.fromString(B).bytes;else{if(!g(B))throw new ie("Decimal128 must take a Buffer or string");if(B.byteLength!==16)throw new ie("Decimal128 must take a Buffer of 16 bytes");this.bytes=B}}static fromString(B){return ye._fromString(B,{allowRounding:!1})}static fromStringWithRounding(B){return ye._fromString(B,{allowRounding:!0})}static _fromString(B,oe){let Q=!1,Oe=!1,Te=!1,et=!1,qe=0,Ee=0,at=0,We=0,Ie=0;const ze=[0];let pt=0,dt=0,$t=0,rn=0,wn=new ge(0,0),Yt=new ge(0,0),on=0,kt=0;if(B.length>=7e3)throw new ie(B+" not a valid Decimal128 string");const Eo=B.match(At),Rt=B.match(vt),St=B.match(In);if(!Eo&&!Rt&&!St||B.length===0)throw new ie(B+" not a valid Decimal128 string");if(Eo){const Ke=Eo[2],_t=Eo[4],Lt=Eo[5],Wt=Eo[6];_t&&Wt===void 0&&xe(B,"missing exponent power"),_t&&Ke===void 0&&xe(B,"missing exponent base"),_t===void 0&&(Lt||Wt)&&xe(B,"missing e before exponent")}if(B[kt]!=="+"&&B[kt]!=="-"||(Oe=!0,Q=B[kt++]==="-"),!pe(B[kt])&&B[kt]!=="."){if(B[kt]==="i"||B[kt]==="I")return new ye(Q?ae:fe);if(B[kt]==="N")return new ye(Y)}for(;pe(B[kt])||B[kt]===".";)B[kt]!=="."?(pt<34&&(B[kt]!=="0"||et)&&(et||(Ie=Ee),et=!0,ze[dt++]=parseInt(B[kt],10),pt+=1),et&&(at+=1),Te&&(We+=1),Ee+=1,kt+=1):(Te&&xe(B,"contains multiple periods"),Te=!0,kt+=1);if(Te&&!Ee)throw new ie(B+" not a valid Decimal128 string");if(B[kt]==="e"||B[kt]==="E"){const Ke=B.substr(++kt).match(me);if(!Ke||!Ke[2])return new ye(Y);rn=parseInt(Ke[0],10),kt+=Ke[0].length}if(B[kt])return new ye(Y);if(pt){if($t=pt-1,qe=at,qe!==1)for(;B[Ie+qe-1+Number(Oe)+Number(Te)]==="0";)qe-=1}else ze[0]=0,at=1,pt=1,qe=0;for(rn<=We&&We>rn+16384?rn=Nt:rn-=We;rn>Mt;){if($t+=1,$t>=34){if(qe===0){rn=Mt;break}xe(B,"overflow")}rn-=1}if(oe.allowRounding){for(;rn<Nt||pt<at;){if($t===0&&qe<pt){rn=Nt,qe=0;break}if(pt<at?at-=1:$t-=1,rn<Mt)rn+=1;else{if(ze.join("").match(/^0+$/)){rn=Mt;break}xe(B,"overflow")}}if($t+1<qe){let Ke=Ee;Te&&(Ie+=1,Ke+=1),Oe&&(Ie+=1,Ke+=1);const _t=parseInt(B[Ie+$t+1],10);let Lt=0;if(_t>=5&&(Lt=1,_t===5)){Lt=ze[$t]%2==1?1:0;for(let Wt=Ie+$t+2;Wt<Ke;Wt++)if(parseInt(B[Wt],10)){Lt=1;break}}if(Lt){let Wt=$t;for(;Wt>=0&&++ze[Wt]>9;Wt--)if(ze[Wt]=0,Wt===0){if(!(rn<Mt))return new ye(Q?ae:fe);rn+=1,ze[Wt]=1}}}}else{for(;rn<Nt||pt<at;){if($t===0){if(qe===0){rn=Nt;break}xe(B,"exponent underflow")}pt<at?(B[at-1+Number(Oe)+Number(Te)]!=="0"&&qe!==0&&xe(B,"inexact rounding"),at-=1):(ze[$t]!==0&&xe(B,"inexact rounding"),$t-=1),rn<Mt?rn+=1:xe(B,"overflow")}$t+1<qe&&(Te&&(Ie+=1),Oe&&(Ie+=1),parseInt(B[Ie+$t+1],10)!==0&&xe(B,"inexact rounding"))}if(wn=ge.fromNumber(0),Yt=ge.fromNumber(0),qe===0)wn=ge.fromNumber(0),Yt=ge.fromNumber(0);else if($t<17){let Ke=0;for(Yt=ge.fromNumber(ze[Ke++]),wn=new ge(0,0);Ke<=$t;Ke++)Yt=Yt.multiply(ge.fromNumber(10)),Yt=Yt.add(ge.fromNumber(ze[Ke]))}else{let Ke=0;for(wn=ge.fromNumber(ze[Ke++]);Ke<=$t-17;Ke++)wn=wn.multiply(ge.fromNumber(10)),wn=wn.add(ge.fromNumber(ze[Ke]));for(Yt=ge.fromNumber(ze[Ke++]);Ke<=$t;Ke++)Yt=Yt.multiply(ge.fromNumber(10)),Yt=Yt.add(ge.fromNumber(ze[Ke]))}const Ln=function(Ke,_t){if(!Ke&&!_t)return{high:ge.fromNumber(0),low:ge.fromNumber(0)};const Lt=Ke.shiftRightUnsigned(32),Wt=new ge(Ke.getLowBits(),0),js=_t.shiftRightUnsigned(32),mc=new ge(_t.getLowBits(),0);let Ia=Lt.multiply(js),Ba=Lt.multiply(mc);const n6=Wt.multiply(js);let yc=Wt.multiply(mc);return Ia=Ia.add(Ba.shiftRightUnsigned(32)),Ba=new ge(Ba.getLowBits(),0).add(n6).add(yc.shiftRightUnsigned(32)),Ia=Ia.add(Ba.shiftRightUnsigned(32)),yc=Ba.shiftLeft(32).add(new ge(yc.getLowBits(),0)),{high:Ia,low:yc}}(wn,ge.fromString("100000000000000000"));Ln.low=Ln.low.add(Yt),function(Ke,_t){const Lt=Ke.high>>>0,Wt=_t.high>>>0;return Lt<Wt||Lt===Wt&&Ke.low>>>0<_t.low>>>0}(Ln.low,Yt)&&(Ln.high=Ln.high.add(ge.fromNumber(1))),on=rn+6176;const lt={low:ge.fromNumber(0),high:ge.fromNumber(0)};Ln.high.shiftRightUnsigned(49).and(ge.fromNumber(1)).equals(ge.fromNumber(1))?(lt.high=lt.high.or(ge.fromNumber(3).shiftLeft(61)),lt.high=lt.high.or(ge.fromNumber(on).and(ge.fromNumber(16383).shiftLeft(47))),lt.high=lt.high.or(Ln.high.and(ge.fromNumber(0x7fffffffffff)))):(lt.high=lt.high.or(ge.fromNumber(16383&on).shiftLeft(49)),lt.high=lt.high.or(Ln.high.and(ge.fromNumber(562949953421311)))),lt.low=Ln.low,Q&&(lt.high=lt.high.or(ge.fromString("9223372036854775808")));const ln=H.allocate(16);return kt=0,ln[kt++]=255&lt.low.low,ln[kt++]=lt.low.low>>8&255,ln[kt++]=lt.low.low>>16&255,ln[kt++]=lt.low.low>>24&255,ln[kt++]=255&lt.low.high,ln[kt++]=lt.low.high>>8&255,ln[kt++]=lt.low.high>>16&255,ln[kt++]=lt.low.high>>24&255,ln[kt++]=255&lt.high.low,ln[kt++]=lt.high.low>>8&255,ln[kt++]=lt.high.low>>16&255,ln[kt++]=lt.high.low>>24&255,ln[kt++]=255&lt.high.high,ln[kt++]=lt.high.high>>8&255,ln[kt++]=lt.high.high>>16&255,ln[kt++]=lt.high.high>>24&255,new ye(ln)}toString(){let B,oe=0;const Q=new Array(36);for(let on=0;on<Q.length;on++)Q[on]=0;let Oe,Te,et,qe=0,Ee=!1,at={parts:[0,0,0,0]};const We=[];qe=0;const Ie=this.bytes,ze=Ie[qe++]|Ie[qe++]<<8|Ie[qe++]<<16|Ie[qe++]<<24,pt=Ie[qe++]|Ie[qe++]<<8|Ie[qe++]<<16|Ie[qe++]<<24,dt=Ie[qe++]|Ie[qe++]<<8|Ie[qe++]<<16|Ie[qe++]<<24,$t=Ie[qe++]|Ie[qe++]<<8|Ie[qe++]<<16|Ie[qe++]<<24;qe=0,(new ge(ze,pt),new ge(dt,$t)).lessThan(ge.ZERO)&&We.push("-");const rn=$t>>26&31;if(rn>>3==3){if(rn===30)return We.join("")+"Infinity";if(rn===31)return"NaN";B=$t>>15&16383,Oe=8+($t>>14&1)}else Oe=$t>>14&7,B=$t>>17&16383;const wn=B-6176;if(at.parts[0]=(16383&$t)+((15&Oe)<<14),at.parts[1]=dt,at.parts[2]=pt,at.parts[3]=ze,at.parts[0]===0&&at.parts[1]===0&&at.parts[2]===0&&at.parts[3]===0)Ee=!0;else for(et=3;et>=0;et--){let on=0;const kt=ve(at);if(at=kt.quotient,on=kt.rem.low,on)for(Te=8;Te>=0;Te--)Q[9*et+Te]=on%10,on=Math.floor(on/10)}if(Ee)oe=1,Q[qe]=0;else for(oe=36;!Q[qe];)oe-=1,qe+=1;const Yt=oe-1+wn;if(Yt>=34||Yt<=-7||wn>0){if(oe>34)return We.push("0"),wn>0?We.push(`E+${wn}`):wn<0&&We.push(`E${wn}`),We.join("");We.push(`${Q[qe++]}`),oe-=1,oe&&We.push(".");for(let on=0;on<oe;on++)We.push(`${Q[qe++]}`);We.push("E"),Yt>0?We.push(`+${Yt}`):We.push(`${Yt}`)}else if(wn>=0)for(let on=0;on<oe;on++)We.push(`${Q[qe++]}`);else{let on=oe+wn;if(on>0)for(let kt=0;kt<on;kt++)We.push(`${Q[qe++]}`);else We.push("0");for(We.push(".");on++<0;)We.push("0");for(let kt=0;kt<oe-Math.max(on-1,0);kt++)We.push(`${Q[qe++]}`)}return We.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(B){return ye.fromString(B.$numberDecimal)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new Decimal128("${this.toString()}")`}}class ke extends ce{get _bsontype(){return"Double"}constructor(B){super(),B instanceof Number&&(B=B.valueOf()),this.value=+B}valueOf(){return this.value}toJSON(){return this.value}toString(B){return this.value.toString(B)}toExtendedJSON(B){return B&&(B.legacy||B.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-0.0"}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(B,oe){const Q=parseFloat(B.$numberDouble);return oe&&oe.relaxed?Q:new ke(Q)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new Double(${this.toExtendedJSON().$numberDouble})`}}class je extends ce{get _bsontype(){return"Int32"}constructor(B){super(),B instanceof Number&&(B=B.valueOf()),this.value=0|+B}valueOf(){return this.value}toString(B){return this.value.toString(B)}toJSON(){return this.value}toExtendedJSON(B){return B&&(B.relaxed||B.legacy)?this.value:{$numberInt:this.value.toString()}}static fromExtendedJSON(B,oe){return oe&&oe.relaxed?parseInt(B.$numberInt,10):new je(B.$numberInt)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new Int32(${this.valueOf()})`}}class Pe extends ce{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new Pe}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return"new MaxKey()"}}class De extends ce{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new De}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return"new MinKey()"}}const Re=new RegExp("^[0-9a-fA-F]{24}$");let Be=null;const Le=Symbol("id");class Xe extends ce{get _bsontype(){return"ObjectId"}constructor(B){let oe;if(super(),typeof B=="object"&&B&&"id"in B){if(typeof B.id!="string"&&!ArrayBuffer.isView(B.id))throw new ie("Argument passed in must have an id that is of type string or Buffer");oe="toHexString"in B&&typeof B.toHexString=="function"?H.fromHex(B.toHexString()):B.id}else oe=B;if(oe==null||typeof oe=="number")this[Le]=Xe.generate(typeof oe=="number"?oe:void 0);else if(ArrayBuffer.isView(oe)&&oe.byteLength===12)this[Le]=H.toLocalBufferType(oe);else{if(typeof oe!="string")throw new ie("Argument passed in does not match the accepted types");if(oe.length===12){const Q=H.fromUTF8(oe);if(Q.byteLength!==12)throw new ie("Argument passed in must be a string of 12 bytes");this[Le]=Q}else{if(oe.length!==24||!Re.test(oe))throw new ie("Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer");this[Le]=H.fromHex(oe)}}Xe.cacheHexString&&(this.__id=H.toHex(this.id))}get id(){return this[Le]}set id(B){this[Le]=B,Xe.cacheHexString&&(this.__id=H.toHex(B))}toHexString(){if(Xe.cacheHexString&&this.__id)return this.__id;const B=H.toHex(this.id);return Xe.cacheHexString&&!this.__id&&(this.__id=B),B}static getInc(){return Xe.index=(Xe.index+1)%16777215}static generate(B){typeof B!="number"&&(B=Math.floor(Date.now()/1e3));const oe=Xe.getInc(),Q=H.allocate(12);return se.fromUint8Array(Q).setUint32(0,B,!1),Be===null&&(Be=H.randomBytes(5)),Q[4]=Be[0],Q[5]=Be[1],Q[6]=Be[2],Q[7]=Be[3],Q[8]=Be[4],Q[11]=255&oe,Q[10]=oe>>8&255,Q[9]=oe>>16&255,Q}toString(B){return B==="base64"?H.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}equals(B){if(B==null)return!1;if(B instanceof Xe)return this[Le][11]===B[Le][11]&&H.equals(this[Le],B[Le]);if(typeof B=="string"&&Xe.isValid(B)&&B.length===12&&g(this.id))return H.equals(this.id,H.fromISO88591(B));if(typeof B=="string"&&Xe.isValid(B)&&B.length===24)return B.toLowerCase()===this.toHexString();if(typeof B=="string"&&Xe.isValid(B)&&B.length===12)return H.equals(H.fromUTF8(B),this.id);if(typeof B=="object"&&"toHexString"in B&&typeof B.toHexString=="function"){const oe=B.toHexString(),Q=this.toHexString().toLowerCase();return typeof oe=="string"&&oe.toLowerCase()===Q}return!1}getTimestamp(){const B=new Date,oe=se.fromUint8Array(this.id).getUint32(0,!1);return B.setTime(1e3*Math.floor(oe)),B}static createPk(){return new Xe}static createFromTime(B){const oe=H.fromNumberArray([0,0,0,0,0,0,0,0,0,0,0,0]);return se.fromUint8Array(oe).setUint32(0,B,!1),new Xe(oe)}static createFromHexString(B){if((B==null?void 0:B.length)!==24)throw new ie("hex string must be 24 characters");return new Xe(H.fromHex(B))}static createFromBase64(B){if((B==null?void 0:B.length)!==16)throw new ie("base64 string must be 16 characters");return new Xe(H.fromBase64(B))}static isValid(B){if(B==null)return!1;try{return new Xe(B),!0}catch{return!1}}toExtendedJSON(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}static fromExtendedJSON(B){return new Xe(B.$oid)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new ObjectId("${this.toHexString()}")`}}function Je(F,B,oe){let Q=5;if(Array.isArray(F))for(let Oe=0;Oe<F.length;Oe++)Q+=Qe(Oe.toString(),F[Oe],B,!0,oe);else{typeof(F==null?void 0:F.toBSON)=="function"&&(F=F.toBSON());for(const Oe of Object.keys(F))Q+=Qe(Oe,F[Oe],B,!1,oe)}return Q}function Qe(F,B,oe=!1,Q=!1,Oe=!1){switch(typeof(B==null?void 0:B.toBSON)=="function"&&(B=B.toBSON()),typeof B){case"string":return 1+H.utf8ByteLength(F)+1+4+H.utf8ByteLength(B)+1;case"number":return Math.floor(B)===B&&B>=v&&B<=f&&B>=y&&B<=d?(F!=null?H.utf8ByteLength(F)+1:0)+5:(F!=null?H.utf8ByteLength(F)+1:0)+9;case"undefined":return Q||!Oe?(F!=null?H.utf8ByteLength(F)+1:0)+1:0;case"boolean":return(F!=null?H.utf8ByteLength(F)+1:0)+2;case"object":if(B!=null&&typeof B._bsontype=="string"&&B[Symbol.for("@@mdb.bson.version")]!==p)throw new Z;if(B==null||B._bsontype==="MinKey"||B._bsontype==="MaxKey")return(F!=null?H.utf8ByteLength(F)+1:0)+1;if(B._bsontype==="ObjectId")return(F!=null?H.utf8ByteLength(F)+1:0)+13;if(B instanceof Date||w(B))return(F!=null?H.utf8ByteLength(F)+1:0)+9;if(ArrayBuffer.isView(B)||B instanceof ArrayBuffer||u(B))return(F!=null?H.utf8ByteLength(F)+1:0)+6+B.byteLength;if(B._bsontype==="Long"||B._bsontype==="Double"||B._bsontype==="Timestamp")return(F!=null?H.utf8ByteLength(F)+1:0)+9;if(B._bsontype==="Decimal128")return(F!=null?H.utf8ByteLength(F)+1:0)+17;if(B._bsontype==="Code")return B.scope!=null&&Object.keys(B.scope).length>0?(F!=null?H.utf8ByteLength(F)+1:0)+1+4+4+H.utf8ByteLength(B.code.toString())+1+Je(B.scope,oe,Oe):(F!=null?H.utf8ByteLength(F)+1:0)+1+4+H.utf8ByteLength(B.code.toString())+1;if(B._bsontype==="Binary"){const Te=B;return Te.sub_type===ue.SUBTYPE_BYTE_ARRAY?(F!=null?H.utf8ByteLength(F)+1:0)+(Te.position+1+4+1+4):(F!=null?H.utf8ByteLength(F)+1:0)+(Te.position+1+4+1)}if(B._bsontype==="Symbol")return(F!=null?H.utf8ByteLength(F)+1:0)+H.utf8ByteLength(B.value)+4+1+1;if(B._bsontype==="DBRef"){const Te=Object.assign({$ref:B.collection,$id:B.oid},B.fields);return B.db!=null&&(Te.$db=B.db),(F!=null?H.utf8ByteLength(F)+1:0)+1+Je(Te,oe,Oe)}return B instanceof RegExp||h(B)?(F!=null?H.utf8ByteLength(F)+1:0)+1+H.utf8ByteLength(B.source)+1+(B.global?1:0)+(B.ignoreCase?1:0)+(B.multiline?1:0)+1:B._bsontype==="BSONRegExp"?(F!=null?H.utf8ByteLength(F)+1:0)+1+H.utf8ByteLength(B.pattern)+1+H.utf8ByteLength(B.options)+1:(F!=null?H.utf8ByteLength(F)+1:0)+Je(B,oe,Oe)+1;case"function":if(oe)return(F!=null?H.utf8ByteLength(F)+1:0)+1+4+H.utf8ByteLength(B.toString())+1}return 0}Xe.index=Math.floor(16777215*Math.random());class Ye extends ce{get _bsontype(){return"BSONRegExp"}constructor(B,oe){if(super(),this.pattern=B,this.options=(oe??"").split("").sort().join(""),this.pattern.indexOf("\0")!==-1)throw new ie(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(this.options.indexOf("\0")!==-1)throw new ie(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let Q=0;Q<this.options.length;Q++)if(this.options[Q]!=="i"&&this.options[Q]!=="m"&&this.options[Q]!=="x"&&this.options[Q]!=="l"&&this.options[Q]!=="s"&&this.options[Q]!=="u")throw new ie(`The regular expression option [${this.options[Q]}] is not supported`)}static parseOptions(B){return B?B.split("").sort().join(""):""}toExtendedJSON(B){return(B=B||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(B){if("$regex"in B){if(typeof B.$regex=="string")return new Ye(B.$regex,Ye.parseOptions(B.$options));if(B.$regex._bsontype==="BSONRegExp")return B}if("$regularExpression"in B)return new Ye(B.$regularExpression.pattern,Ye.parseOptions(B.$regularExpression.options));throw new ie(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(B)}`)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new BSONRegExp(${JSON.stringify(this.pattern)}, ${JSON.stringify(this.options)})`}}class tt extends ce{get _bsontype(){return"BSONSymbol"}constructor(B){super(),this.value=B}valueOf(){return this.value}toString(){return this.value}inspect(){return`new BSONSymbol("${this.value}")`}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(B){return new tt(B.$symbol)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}}const ot=ge;class ft extends ot{get _bsontype(){return"Timestamp"}constructor(B){if(B==null)super(0,0,!0);else if(typeof B=="bigint")super(B,!0);else if(ge.isLong(B))super(B.low,B.high,!0);else{if(typeof B!="object"||!("t"in B)||!("i"in B))throw new ie("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }");{if(typeof B.t!="number"&&(typeof B.t!="object"||B.t._bsontype!=="Int32"))throw new ie("Timestamp constructed from { t, i } must provide t as a number");if(typeof B.i!="number"&&(typeof B.i!="object"||B.i._bsontype!=="Int32"))throw new ie("Timestamp constructed from { t, i } must provide i as a number");const oe=Number(B.t),Q=Number(B.i);if(oe<0||Number.isNaN(oe))throw new ie("Timestamp constructed from { t, i } must provide a positive t");if(Q<0||Number.isNaN(Q))throw new ie("Timestamp constructed from { t, i } must provide a positive i");if(oe>4294967295)throw new ie("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(Q>4294967295)throw new ie("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(Q,oe,!0)}}}toJSON(){return{$timestamp:this.toString()}}static fromInt(B){return new ft(ge.fromInt(B,!0))}static fromNumber(B){return new ft(ge.fromNumber(B,!0))}static fromBits(B,oe){return new ft({i:B,t:oe})}static fromString(B,oe){return new ft(ge.fromString(B,!0,oe))}toExtendedJSON(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}static fromExtendedJSON(B){const oe=ge.isLong(B.$timestamp.i)?B.$timestamp.i.getLowBitsUnsigned():B.$timestamp.i,Q=ge.isLong(B.$timestamp.t)?B.$timestamp.t.getLowBitsUnsigned():B.$timestamp.t;return new ft({t:Q,i:oe})}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new Timestamp({ t: ${this.getHighBits()}, i: ${this.getLowBits()} })`}}ft.MAX_VALUE=ge.MAX_UNSIGNED_VALUE;const st=128,yt=192,Ft=224,Dt=240,It=248,Tt=192,Vt=224,it=240,Zt=128;function Gn(F,B,oe){let Q=0;for(let Oe=B;Oe<oe;Oe+=1){const Te=F[Oe];if(Q){if((Te&yt)!==Zt)return!1;Q-=1}else if(Te&st)if((Te&Ft)===Tt)Q=1;else if((Te&Dt)===Vt)Q=2;else{if((Te&It)!==it)return!1;Q=3}}return!Q}const Ve=ge.fromNumber(f),He=ge.fromNumber(v);function Ze(F,B,oe){const Q=(B=B??{})&&B.index?B.index:0,Oe=F[Q]|F[Q+1]<<8|F[Q+2]<<16|F[Q+3]<<24;if(Oe<5)throw new ie(`bson size must be >= 5, is ${Oe}`);if(B.allowObjectSmallerThanBufferSize&&F.length<Oe)throw new ie(`buffer length ${F.length} must be >= bson size ${Oe}`);if(!B.allowObjectSmallerThanBufferSize&&F.length!==Oe)throw new ie(`buffer length ${F.length} must === bson size ${Oe}`);if(Oe+Q>F.byteLength)throw new ie(`(bson size ${Oe} + options.index ${Q} must be <= buffer length ${F.byteLength})`);if(F[Q+Oe-1]!==0)throw new ie("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return rt(F,Q,B,oe)}const xt=/^\$ref$|^\$id$|^\$db$/;function rt(F,B,oe,Q=!1){const Oe=oe.fieldsAsRaw==null?null:oe.fieldsAsRaw,Te=oe.raw!=null&&oe.raw,et=typeof oe.bsonRegExp=="boolean"&&oe.bsonRegExp,qe=oe.promoteBuffers??!1,Ee=oe.promoteLongs??!0,at=oe.promoteValues??!0,We=oe.useBigInt64??!1;if(We&&!at)throw new ie("Must either request bigint or Long for int64 deserialization");if(We&&!Ee)throw new ie("Must either request bigint or Long for int64 deserialization");const Ie=oe.validation==null?{utf8:!0}:oe.validation;let ze,pt=!0;const dt=new Set,$t=Ie.utf8;if(typeof $t=="boolean")ze=$t;else{pt=!1;const Rt=Object.keys($t).map(function(St){return $t[St]});if(Rt.length===0)throw new ie("UTF-8 validation setting cannot be empty");if(typeof Rt[0]!="boolean")throw new ie("Invalid UTF-8 validation option, must specify boolean values");if(ze=Rt[0],!Rt.every(St=>St===ze))throw new ie("Invalid UTF-8 validation option - keys must be all true or all false")}if(!pt)for(const Rt of Object.keys($t))dt.add(Rt);const rn=B;if(F.length<5)throw new ie("corrupt bson message < 5 bytes long");const wn=F[B++]|F[B++]<<8|F[B++]<<16|F[B++]<<24;if(wn<5||wn>F.length)throw new ie("corrupt bson message");const Yt=Q?[]:{};let on=0,kt=!Q&&null;const Eo=new DataView(F.buffer,F.byteOffset,F.byteLength);for(;;){const Rt=F[B++];if(Rt===0)break;let St=B;for(;F[St]!==0&&St<F.length;)St++;if(St>=F.byteLength)throw new ie("Bad BSON Document: illegal CString");const Ln=Q?on++:H.toUTF8(F,B,St);let lt,ln=!0;if(ln=pt||dt.has(Ln)?ze:!ze,kt!==!1&&Ln[0]==="$"&&(kt=xt.test(Ln)),B=St+1,Rt===S){const Ke=F[B++]|F[B++]<<8|F[B++]<<16|F[B++]<<24;if(Ke<=0||Ke>F.length-B||F[B+Ke-1]!==0)throw new ie("bad string length in bson");lt=jt(F,B,B+Ke-1,ln),B+=Ke}else if(Rt===C){const Ke=H.allocate(12);Ke.set(F.subarray(B,B+12)),lt=new Xe(Ke),B+=12}else if(Rt===I&&at===!1)lt=new je(F[B++]|F[B++]<<8|F[B++]<<16|F[B++]<<24);else if(Rt===I)lt=F[B++]|F[B++]<<8|F[B++]<<16|F[B++]<<24;else if(Rt===_&&at===!1)lt=new ke(Eo.getFloat64(B,!0)),B+=8;else if(Rt===_)lt=Eo.getFloat64(B,!0),B+=8;else if(Rt===N){const Ke=F[B++]|F[B++]<<8|F[B++]<<16|F[B++]<<24,_t=F[B++]|F[B++]<<8|F[B++]<<16|F[B++]<<24;lt=new Date(new ge(Ke,_t).toNumber())}else if(Rt===M){if(F[B]!==0&&F[B]!==1)throw new ie("illegal boolean type value");lt=F[B++]===1}else if(Rt===E){const Ke=B,_t=F[B]|F[B+1]<<8|F[B+2]<<16|F[B+3]<<24;if(_t<=0||_t>F.length-B)throw new ie("bad embedded document length in bson");if(Te)lt=F.slice(B,B+_t);else{let Lt=oe;pt||(Lt={...oe,validation:{utf8:ln}}),lt=rt(F,Ke,Lt,!1)}B+=_t}else if(Rt===x){const Ke=B,_t=F[B]|F[B+1]<<8|F[B+2]<<16|F[B+3]<<24;let Lt=oe;const Wt=B+_t;if(Oe&&Oe[Ln]&&(Lt={...oe,raw:!0}),pt||(Lt={...Lt,validation:{utf8:ln}}),lt=rt(F,Ke,Lt,!0),F[(B+=_t)-1]!==0)throw new ie("invalid array terminator byte");if(B!==Wt)throw new ie("corrupted array bson")}else if(Rt===T)lt=void 0;else if(Rt===L)lt=null;else if(Rt===P){const Ke=se.fromUint8Array(F.subarray(B,B+8)),_t=F[B++]|F[B++]<<8|F[B++]<<16|F[B++]<<24,Lt=F[B++]|F[B++]<<8|F[B++]<<16|F[B++]<<24,Wt=new ge(_t,Lt);lt=We?Ke.getBigInt64(0,!0):Ee&&at===!0&&Wt.lessThanOrEqual(Ve)&&Wt.greaterThanOrEqual(He)?Wt.toNumber():Wt}else if(Rt===A){const Ke=H.allocate(16);Ke.set(F.subarray(B,B+16),0),B+=16,lt=new ye(Ke)}else if(Rt===k){let Ke=F[B++]|F[B++]<<8|F[B++]<<16|F[B++]<<24;const _t=Ke,Lt=F[B++];if(Ke<0)throw new ie("Negative binary type element size found");if(Ke>F.byteLength)throw new ie("Binary type size larger than document size");if(F.slice!=null){if(Lt===ue.SUBTYPE_BYTE_ARRAY){if(Ke=F[B++]|F[B++]<<8|F[B++]<<16|F[B++]<<24,Ke<0)throw new ie("Negative binary type element size found for subtype 0x02");if(Ke>_t-4)throw new ie("Binary type with subtype 0x02 contains too long binary size");if(Ke<_t-4)throw new ie("Binary type with subtype 0x02 contains too short binary size")}qe&&at?lt=H.toLocalBufferType(F.slice(B,B+Ke)):(lt=new ue(F.slice(B,B+Ke),Lt),Lt===te&&Ae.isValid(lt)&&(lt=lt.toUUID()))}else{const Wt=H.allocate(Ke);if(Lt===ue.SUBTYPE_BYTE_ARRAY){if(Ke=F[B++]|F[B++]<<8|F[B++]<<16|F[B++]<<24,Ke<0)throw new ie("Negative binary type element size found for subtype 0x02");if(Ke>_t-4)throw new ie("Binary type with subtype 0x02 contains too long binary size");if(Ke<_t-4)throw new ie("Binary type with subtype 0x02 contains too short binary size")}for(St=0;St<Ke;St++)Wt[St]=F[B+St];qe&&at?lt=Wt:(lt=new ue(F.slice(B,B+Ke),Lt),Lt===te&&Ae.isValid(lt)&&(lt=lt.toUUID()))}B+=Ke}else if(Rt===R&&et===!1){for(St=B;F[St]!==0&&St<F.length;)St++;if(St>=F.length)throw new ie("Bad BSON Document: illegal CString");const Ke=H.toUTF8(F,B,St);for(St=B=St+1;F[St]!==0&&St<F.length;)St++;if(St>=F.length)throw new ie("Bad BSON Document: illegal CString");const _t=H.toUTF8(F,B,St);B=St+1;const Lt=new Array(_t.length);for(St=0;St<_t.length;St++)switch(_t[St]){case"m":Lt[St]="m";break;case"s":Lt[St]="g";break;case"i":Lt[St]="i"}lt=new RegExp(Ke,Lt.join(""))}else if(Rt===R&&et===!0){for(St=B;F[St]!==0&&St<F.length;)St++;if(St>=F.length)throw new ie("Bad BSON Document: illegal CString");const Ke=H.toUTF8(F,B,St);for(St=B=St+1;F[St]!==0&&St<F.length;)St++;if(St>=F.length)throw new ie("Bad BSON Document: illegal CString");const _t=H.toUTF8(F,B,St);B=St+1,lt=new Ye(Ke,_t)}else if(Rt===U){const Ke=F[B++]|F[B++]<<8|F[B++]<<16|F[B++]<<24;if(Ke<=0||Ke>F.length-B||F[B+Ke-1]!==0)throw new ie("bad string length in bson");const _t=jt(F,B,B+Ke-1,ln);lt=at?_t:new tt(_t),B+=Ke}else if(Rt===j){const Ke=F[B++]+256*F[B++]+65536*F[B++]+F[B++]*16777216,_t=F[B++]+256*F[B++]+65536*F[B++]+F[B++]*(1<<24);lt=new ft({i:Ke,t:_t})}else if(Rt===$)lt=new De;else if(Rt===q)lt=new Pe;else if(Rt===z){const Ke=F[B++]|F[B++]<<8|F[B++]<<16|F[B++]<<24;if(Ke<=0||Ke>F.length-B||F[B+Ke-1]!==0)throw new ie("bad string length in bson");const _t=jt(F,B,B+Ke-1,ln);lt=new we(_t),B+=Ke}else if(Rt===O){const Ke=F[B++]|F[B++]<<8|F[B++]<<16|F[B++]<<24;if(Ke<13)throw new ie("code_w_scope total size shorter minimum expected length");const _t=F[B++]|F[B++]<<8|F[B++]<<16|F[B++]<<24;if(_t<=0||_t>F.length-B||F[B+_t-1]!==0)throw new ie("bad string length in bson");const Lt=jt(F,B,B+_t-1,ln),Wt=B+=_t,js=F[B]|F[B+1]<<8|F[B+2]<<16|F[B+3]<<24,mc=rt(F,Wt,oe,!1);if(B+=js,Ke<8+js+_t)throw new ie("code_w_scope total size is too short, truncating scope");if(Ke>8+js+_t)throw new ie("code_w_scope total size is too long, clips outer document");lt=new we(Lt,mc)}else{if(Rt!==D)throw new ie(`Detected unknown BSON type ${Rt.toString(16)} for fieldname "${Ln}"`);{const Ke=F[B++]|F[B++]<<8|F[B++]<<16|F[B++]<<24;if(Ke<=0||Ke>F.length-B||F[B+Ke-1]!==0)throw new ie("bad string length in bson");if(Ie!=null&&Ie.utf8&&!Gn(F,B,B+Ke-1))throw new ie("Invalid UTF-8 string in BSON document");const _t=H.toUTF8(F,B,B+Ke-1);B+=Ke;const Lt=H.allocate(12);Lt.set(F.subarray(B,B+12),0);const Wt=new Xe(Lt);B+=12,lt=new $e(_t,Wt)}}Ln==="__proto__"?Object.defineProperty(Yt,Ln,{value:lt,writable:!0,enumerable:!0,configurable:!0}):Yt[Ln]=lt}if(wn!==B-rn)throw Q?new ie("corrupt array bson"):new ie("corrupt object bson");if(!kt)return Yt;if(Ue(Yt)){const Rt=Object.assign({},Yt);return delete Rt.$ref,delete Rt.$id,delete Rt.$db,new $e(Yt.$ref,Yt.$id,Yt.$db,Rt)}return Yt}function jt(F,B,oe,Q){const Oe=H.toUTF8(F,B,oe);if(Q){for(let Te=0;Te<Oe.length;Te++)if(Oe.charCodeAt(Te)===65533){if(!Gn(F,B,oe))throw new ie("Invalid UTF-8 string in BSON document");break}}return Oe}const qt=/\x00/,Jt=new Set(["$db","$ref","$id","$clusterTime"]);function en(F,B,oe,Q){F[Q++]=S,F[(Q=Q+H.encodeUTF8Into(F,B,Q)+1)-1]=0;const Oe=H.encodeUTF8Into(F,oe,Q+4);return F[Q+3]=Oe+1>>24&255,F[Q+2]=Oe+1>>16&255,F[Q+1]=Oe+1>>8&255,F[Q]=Oe+1&255,Q=Q+4+Oe,F[Q++]=0,Q}const dn=new DataView(new ArrayBuffer(8),0,8),Bn=new Uint8Array(dn.buffer,0,4),an=new Uint8Array(dn.buffer,0,8);function gt(F,B,oe,Q){const Oe=!Object.is(oe,-0)&&Number.isSafeInteger(oe)&&oe<=d&&oe>=y?I:_;Oe===I?dn.setInt32(0,oe,!0):dn.setFloat64(0,oe,!0);const Te=Oe===I?Bn:an;return F[Q++]=Oe,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0,F.set(Te,Q),Q+Te.byteLength}function tn(F,B,oe,Q){return F[Q++]=P,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0,dn.setBigInt64(0,oe,!0),F.set(an,Q),Q+an.byteLength}function On(F,B,oe,Q){return F[Q++]=L,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0,Q}function Cr(F,B,oe,Q){return F[Q++]=M,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0,F[Q++]=oe?1:0,Q}function vn(F,B,oe,Q){F[Q++]=N,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0;const Oe=ge.fromNumber(oe.getTime()),Te=Oe.getLowBits(),et=Oe.getHighBits();return F[Q++]=255&Te,F[Q++]=Te>>8&255,F[Q++]=Te>>16&255,F[Q++]=Te>>24&255,F[Q++]=255&et,F[Q++]=et>>8&255,F[Q++]=et>>16&255,F[Q++]=et>>24&255,Q}function or(F,B,oe,Q){if(F[Q++]=R,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0,oe.source&&oe.source.match(qt)!=null)throw new ie("value "+oe.source+" must not contain null bytes");return Q+=H.encodeUTF8Into(F,oe.source,Q),F[Q++]=0,oe.ignoreCase&&(F[Q++]=105),oe.global&&(F[Q++]=115),oe.multiline&&(F[Q++]=109),F[Q++]=0,Q}function Pr(F,B,oe,Q){if(F[Q++]=R,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0,oe.pattern.match(qt)!=null)throw new ie("pattern "+oe.pattern+" must not contain null bytes");Q+=H.encodeUTF8Into(F,oe.pattern,Q),F[Q++]=0;const Oe=oe.options.split("").sort().join("");return Q+=H.encodeUTF8Into(F,Oe,Q),F[Q++]=0,Q}function io(F,B,oe,Q){return oe===null?F[Q++]=L:oe._bsontype==="MinKey"?F[Q++]=$:F[Q++]=q,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0,Q}function so(F,B,oe,Q){if(F[Q++]=C,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0,!g(oe.id))throw new ie("object ["+JSON.stringify(oe)+"] is not a valid ObjectId");return F.set(oe.id.subarray(0,12),Q),Q+12}function ao(F,B,oe,Q){F[Q++]=k,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0;const Oe=oe.length;return F[Q++]=255&Oe,F[Q++]=Oe>>8&255,F[Q++]=Oe>>16&255,F[Q++]=Oe>>24&255,F[Q++]=X,F.set(oe,Q),Q+Oe}function zr(F,B,oe,Q,Oe,Te,et,qe,Ee){if(Ee.has(oe))throw new ie("Cannot convert circular structure to BSON");Ee.add(oe),F[Q++]=Array.isArray(oe)?x:E,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0;const at=Xo(F,oe,Oe,Q,Te+1,et,qe,Ee);return Ee.delete(oe),at}function lo(F,B,oe,Q){return F[Q++]=A,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0,F.set(oe.bytes.subarray(0,16),Q),Q+16}function _r(F,B,oe,Q){F[Q++]=oe._bsontype==="Long"?P:j,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0;const Oe=oe.getLowBits(),Te=oe.getHighBits();return F[Q++]=255&Oe,F[Q++]=Oe>>8&255,F[Q++]=Oe>>16&255,F[Q++]=Oe>>24&255,F[Q++]=255&Te,F[Q++]=Te>>8&255,F[Q++]=Te>>16&255,F[Q++]=Te>>24&255,Q}function Hr(F,B,oe,Q){return oe=oe.valueOf(),F[Q++]=I,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0,F[Q++]=255&oe,F[Q++]=oe>>8&255,F[Q++]=oe>>16&255,F[Q++]=oe>>24&255,Q}function Mr(F,B,oe,Q){return F[Q++]=_,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0,dn.setFloat64(0,oe.value,!0),F.set(an,Q),Q+8}function As(F,B,oe,Q){F[Q++]=z,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0;const Oe=oe.toString(),Te=H.encodeUTF8Into(F,Oe,Q+4)+1;return F[Q]=255&Te,F[Q+1]=Te>>8&255,F[Q+2]=Te>>16&255,F[Q+3]=Te>>24&255,Q=Q+4+Te-1,F[Q++]=0,Q}function Di(F,B,oe,Q,Oe=!1,Te=0,et=!1,qe=!0,Ee){if(oe.scope&&typeof oe.scope=="object"){F[Q++]=O,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0;let at=Q;const We=oe.code;Q+=4;const Ie=H.encodeUTF8Into(F,We,Q+4)+1;F[Q]=255&Ie,F[Q+1]=Ie>>8&255,F[Q+2]=Ie>>16&255,F[Q+3]=Ie>>24&255,F[Q+4+Ie-1]=0,Q=Q+Ie+4;const ze=Xo(F,oe.scope,Oe,Q,Te+1,et,qe,Ee);Q=ze-1;const pt=ze-at;F[at++]=255&pt,F[at++]=pt>>8&255,F[at++]=pt>>16&255,F[at++]=pt>>24&255,F[Q++]=0}else{F[Q++]=z,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0;const at=oe.code.toString(),We=H.encodeUTF8Into(F,at,Q+4)+1;F[Q]=255&We,F[Q+1]=We>>8&255,F[Q+2]=We>>16&255,F[Q+3]=We>>24&255,Q=Q+4+We-1,F[Q++]=0}return Q}function ja(F,B,oe,Q){F[Q++]=k,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0;const Oe=oe.buffer;let Te=oe.position;return oe.sub_type===ue.SUBTYPE_BYTE_ARRAY&&(Te+=4),F[Q++]=255&Te,F[Q++]=Te>>8&255,F[Q++]=Te>>16&255,F[Q++]=Te>>24&255,F[Q++]=oe.sub_type,oe.sub_type===ue.SUBTYPE_BYTE_ARRAY&&(Te-=4,F[Q++]=255&Te,F[Q++]=Te>>8&255,F[Q++]=Te>>16&255,F[Q++]=Te>>24&255),F.set(Oe,Q),Q+oe.position}function Ca(F,B,oe,Q){F[Q++]=U,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0;const Oe=H.encodeUTF8Into(F,oe.value,Q+4)+1;return F[Q]=255&Oe,F[Q+1]=Oe>>8&255,F[Q+2]=Oe>>16&255,F[Q+3]=Oe>>24&255,Q=Q+4+Oe-1,F[Q++]=0,Q}function Ui(F,B,oe,Q,Oe,Te,et){F[Q++]=E,Q+=H.encodeUTF8Into(F,B,Q),F[Q++]=0;let qe=Q,Ee={$ref:oe.collection||oe.namespace,$id:oe.oid};oe.db!=null&&(Ee.$db=oe.db),Ee=Object.assign(Ee,oe.fields);const at=Xo(F,Ee,!1,Q,Oe+1,Te,!0,et),We=at-qe;return F[qe++]=255&We,F[qe++]=We>>8&255,F[qe++]=We>>16&255,F[qe++]=We>>24&255,at}function Xo(F,B,oe,Q,Oe,Te,et,qe){if(qe==null){if(B==null)return F[0]=5,F[1]=0,F[2]=0,F[3]=0,F[4]=0,5;if(Array.isArray(B))throw new ie("serialize does not support an array as the root input");if(typeof B!="object")throw new ie("serialize does not support non-object as the root input");if("_bsontype"in B&&typeof B._bsontype=="string")throw new ie("BSON types cannot be serialized as a document");if(w(B)||h(B)||g(B)||u(B))throw new ie("date, regexp, typedarray, and arraybuffer cannot be BSON documents");qe=new Set}qe.add(B);let Ee=Q+4;if(Array.isArray(B))for(let We=0;We<B.length;We++){const Ie=`${We}`;let ze=B[We];if(typeof(ze==null?void 0:ze.toBSON)=="function"&&(ze=ze.toBSON()),typeof ze=="string")Ee=en(F,Ie,ze,Ee);else if(typeof ze=="number")Ee=gt(F,Ie,ze,Ee);else if(typeof ze=="bigint")Ee=tn(F,Ie,ze,Ee);else if(typeof ze=="boolean")Ee=Cr(F,Ie,ze,Ee);else if(ze instanceof Date||w(ze))Ee=vn(F,Ie,ze,Ee);else if(ze===void 0)Ee=On(F,Ie,0,Ee);else if(ze===null)Ee=On(F,Ie,0,Ee);else if(g(ze))Ee=ao(F,Ie,ze,Ee);else if(ze instanceof RegExp||h(ze))Ee=or(F,Ie,ze,Ee);else if(typeof ze=="object"&&ze._bsontype==null)Ee=zr(F,Ie,ze,Ee,oe,Oe,Te,et,qe);else{if(typeof ze=="object"&&ze[Symbol.for("@@mdb.bson.version")]!==p)throw new Z;if(ze._bsontype==="ObjectId")Ee=so(F,Ie,ze,Ee);else if(ze._bsontype==="Decimal128")Ee=lo(F,Ie,ze,Ee);else if(ze._bsontype==="Long"||ze._bsontype==="Timestamp")Ee=_r(F,Ie,ze,Ee);else if(ze._bsontype==="Double")Ee=Mr(F,Ie,ze,Ee);else if(typeof ze=="function"&&Te)Ee=As(F,Ie,ze,Ee);else if(ze._bsontype==="Code")Ee=Di(F,Ie,ze,Ee,oe,Oe,Te,et,qe);else if(ze._bsontype==="Binary")Ee=ja(F,Ie,ze,Ee);else if(ze._bsontype==="BSONSymbol")Ee=Ca(F,Ie,ze,Ee);else if(ze._bsontype==="DBRef")Ee=Ui(F,Ie,ze,Ee,Oe,Te,qe);else if(ze._bsontype==="BSONRegExp")Ee=Pr(F,Ie,ze,Ee);else if(ze._bsontype==="Int32")Ee=Hr(F,Ie,ze,Ee);else if(ze._bsontype==="MinKey"||ze._bsontype==="MaxKey")Ee=io(F,Ie,ze,Ee);else if(ze._bsontype!==void 0)throw new ie(`Unrecognized or invalid _bsontype: ${String(ze._bsontype)}`)}}else if(B instanceof Map||b(B)){const We=B.entries();let Ie=!1;for(;!Ie;){const ze=We.next();if(Ie=!!ze.done,Ie)continue;const pt=ze.value[0];let dt=ze.value[1];typeof(dt==null?void 0:dt.toBSON)=="function"&&(dt=dt.toBSON());const $t=typeof dt;if(typeof pt=="string"&&!Jt.has(pt)){if(pt.match(qt)!=null)throw new ie("key "+pt+" must not contain null bytes");if(oe){if(pt[0]==="$")throw new ie("key "+pt+" must not start with '$'");if(~pt.indexOf("."))throw new ie("key "+pt+" must not contain '.'")}}if($t==="string")Ee=en(F,pt,dt,Ee);else if($t==="number")Ee=gt(F,pt,dt,Ee);else if($t==="bigint")Ee=tn(F,pt,dt,Ee);else if($t==="boolean")Ee=Cr(F,pt,dt,Ee);else if(dt instanceof Date||w(dt))Ee=vn(F,pt,dt,Ee);else if(dt===null||dt===void 0&&et===!1)Ee=On(F,pt,0,Ee);else if(g(dt))Ee=ao(F,pt,dt,Ee);else if(dt instanceof RegExp||h(dt))Ee=or(F,pt,dt,Ee);else if($t==="object"&&dt._bsontype==null)Ee=zr(F,pt,dt,Ee,oe,Oe,Te,et,qe);else{if(typeof dt=="object"&&dt[Symbol.for("@@mdb.bson.version")]!==p)throw new Z;if(dt._bsontype==="ObjectId")Ee=so(F,pt,dt,Ee);else if($t==="object"&&dt._bsontype==="Decimal128")Ee=lo(F,pt,dt,Ee);else if(dt._bsontype==="Long"||dt._bsontype==="Timestamp")Ee=_r(F,pt,dt,Ee);else if(dt._bsontype==="Double")Ee=Mr(F,pt,dt,Ee);else if(dt._bsontype==="Code")Ee=Di(F,pt,dt,Ee,oe,Oe,Te,et,qe);else if(typeof dt=="function"&&Te)Ee=As(F,pt,dt,Ee);else if(dt._bsontype==="Binary")Ee=ja(F,pt,dt,Ee);else if(dt._bsontype==="BSONSymbol")Ee=Ca(F,pt,dt,Ee);else if(dt._bsontype==="DBRef")Ee=Ui(F,pt,dt,Ee,Oe,Te,qe);else if(dt._bsontype==="BSONRegExp")Ee=Pr(F,pt,dt,Ee);else if(dt._bsontype==="Int32")Ee=Hr(F,pt,dt,Ee);else if(dt._bsontype==="MinKey"||dt._bsontype==="MaxKey")Ee=io(F,pt,dt,Ee);else if(dt._bsontype!==void 0)throw new ie(`Unrecognized or invalid _bsontype: ${String(dt._bsontype)}`)}}}else{if(typeof(B==null?void 0:B.toBSON)=="function"&&(B=B.toBSON())!=null&&typeof B!="object")throw new ie("toBSON function did not return an object");for(const We of Object.keys(B)){let Ie=B[We];typeof(Ie==null?void 0:Ie.toBSON)=="function"&&(Ie=Ie.toBSON());const ze=typeof Ie;if(typeof We=="string"&&!Jt.has(We)){if(We.match(qt)!=null)throw new ie("key "+We+" must not contain null bytes");if(oe){if(We[0]==="$")throw new ie("key "+We+" must not start with '$'");if(~We.indexOf("."))throw new ie("key "+We+" must not contain '.'")}}if(ze==="string")Ee=en(F,We,Ie,Ee);else if(ze==="number")Ee=gt(F,We,Ie,Ee);else if(ze==="bigint")Ee=tn(F,We,Ie,Ee);else if(ze==="boolean")Ee=Cr(F,We,Ie,Ee);else if(Ie instanceof Date||w(Ie))Ee=vn(F,We,Ie,Ee);else if(Ie===void 0)et===!1&&(Ee=On(F,We,0,Ee));else if(Ie===null)Ee=On(F,We,0,Ee);else if(g(Ie))Ee=ao(F,We,Ie,Ee);else if(Ie instanceof RegExp||h(Ie))Ee=or(F,We,Ie,Ee);else if(ze==="object"&&Ie._bsontype==null)Ee=zr(F,We,Ie,Ee,oe,Oe,Te,et,qe);else{if(typeof Ie=="object"&&Ie[Symbol.for("@@mdb.bson.version")]!==p)throw new Z;if(Ie._bsontype==="ObjectId")Ee=so(F,We,Ie,Ee);else if(ze==="object"&&Ie._bsontype==="Decimal128")Ee=lo(F,We,Ie,Ee);else if(Ie._bsontype==="Long"||Ie._bsontype==="Timestamp")Ee=_r(F,We,Ie,Ee);else if(Ie._bsontype==="Double")Ee=Mr(F,We,Ie,Ee);else if(Ie._bsontype==="Code")Ee=Di(F,We,Ie,Ee,oe,Oe,Te,et,qe);else if(typeof Ie=="function"&&Te)Ee=As(F,We,Ie,Ee);else if(Ie._bsontype==="Binary")Ee=ja(F,We,Ie,Ee);else if(Ie._bsontype==="BSONSymbol")Ee=Ca(F,We,Ie,Ee);else if(Ie._bsontype==="DBRef")Ee=Ui(F,We,Ie,Ee,Oe,Te,qe);else if(Ie._bsontype==="BSONRegExp")Ee=Pr(F,We,Ie,Ee);else if(Ie._bsontype==="Int32")Ee=Hr(F,We,Ie,Ee);else if(Ie._bsontype==="MinKey"||Ie._bsontype==="MaxKey")Ee=io(F,We,Ie,Ee);else if(Ie._bsontype!==void 0)throw new ie(`Unrecognized or invalid _bsontype: ${String(Ie._bsontype)}`)}}}qe.delete(B),F[Ee++]=0;const at=Ee-Q;return F[Q++]=255&at,F[Q++]=at>>8&255,F[Q++]=at>>16&255,F[Q++]=at>>24&255,Ee}const Fi={$oid:Xe,$binary:ue,$uuid:ue,$symbol:tt,$numberInt:je,$numberDecimal:ye,$numberDouble:ke,$numberLong:ge,$minKey:De,$maxKey:Pe,$regex:Ye,$regularExpression:Ye,$timestamp:ft};function Ts(F,B={}){if(typeof F=="number"){const Q=F<=d&&F>=y,Oe=F<=m&&F>=c;if(B.relaxed||B.legacy)return F;if(Number.isInteger(F)&&!Object.is(F,-0)){if(Q)return new je(F);if(Oe)return B.useBigInt64?BigInt(F):ge.fromNumber(F)}return new ke(F)}if(F==null||typeof F!="object")return F;if(F.$undefined)return null;const oe=Object.keys(F).filter(Q=>Q.startsWith("$")&&F[Q]!=null);for(let Q=0;Q<oe.length;Q++){const Oe=Fi[oe[Q]];if(Oe)return Oe.fromExtendedJSON(F,B)}if(F.$date!=null){const Q=F.$date,Oe=new Date;if(B.legacy)if(typeof Q=="number")Oe.setTime(Q);else if(typeof Q=="string")Oe.setTime(Date.parse(Q));else{if(typeof Q!="bigint")throw new ee("Unrecognized type for EJSON date: "+typeof Q);Oe.setTime(Number(Q))}else if(typeof Q=="string")Oe.setTime(Date.parse(Q));else if(ge.isLong(Q))Oe.setTime(Q.toNumber());else if(typeof Q=="number"&&B.relaxed)Oe.setTime(Q);else{if(typeof Q!="bigint")throw new ee("Unrecognized type for EJSON date: "+typeof Q);Oe.setTime(Number(Q))}return Oe}if(F.$code!=null){const Q=Object.assign({},F);return F.$scope&&(Q.$scope=Ts(F.$scope)),we.fromExtendedJSON(F)}if(Ue(F)||F.$dbPointer){const Q=F.$ref?F:F.$dbPointer;if(Q instanceof $e)return Q;const Oe=Object.keys(Q).filter(et=>et.startsWith("$"));let Te=!0;if(Oe.forEach(et=>{["$ref","$id","$db"].indexOf(et)===-1&&(Te=!1)}),Te)return $e.fromExtendedJSON(Q)}return F}function Vi(F){const B=F.toISOString();return F.getUTCMilliseconds()!==0?B:B.slice(0,-5)+"Z"}function ir(F,B){if(F instanceof Map||b(F)){const oe=Object.create(null);for(const[Q,Oe]of F){if(typeof Q!="string")throw new ie("Can only serialize maps with string keys");oe[Q]=Oe}return ir(oe,B)}if((typeof F=="object"||typeof F=="function")&&F!==null){const oe=B.seenObjects.findIndex(Q=>Q.obj===F);if(oe!==-1){const Q=B.seenObjects.map(We=>We.propertyName),Oe=Q.slice(0,oe).map(We=>`${We} -> `).join(""),Te=Q[oe],et=" -> "+Q.slice(oe+1,Q.length-1).map(We=>`${We} -> `).join(""),qe=Q[Q.length-1],Ee=" ".repeat(Oe.length+Te.length/2),at="-".repeat(et.length+(Te.length+qe.length)/2-1);throw new ie(`Converting circular structure to EJSON:
    ${Oe}${Te}${et}${qe}
    ${Ee}\\${at}/`)}B.seenObjects[B.seenObjects.length-1].obj=F}if(Array.isArray(F))return function(oe,Q){return oe.map((Oe,Te)=>{Q.seenObjects.push({propertyName:`index ${Te}`,obj:null});try{return ir(Oe,Q)}finally{Q.seenObjects.pop()}})}(F,B);if(F===void 0)return null;if(F instanceof Date||w(F)){const oe=F.getTime(),Q=oe>-1&&oe<2534023188e5;return B.legacy?B.relaxed&&Q?{$date:F.getTime()}:{$date:Vi(F)}:B.relaxed&&Q?{$date:Vi(F)}:{$date:{$numberLong:F.getTime().toString()}}}if(!(typeof F!="number"||B.relaxed&&isFinite(F))){if(Number.isInteger(F)&&!Object.is(F,-0)){if(F>=y&&F<=d)return{$numberInt:F.toString()};if(F>=c&&F<=m)return{$numberLong:F.toString()}}return{$numberDouble:Object.is(F,-0)?"-0.0":F.toString()}}if(typeof F=="bigint")return B.relaxed?Number(BigInt.asIntN(64,F)):{$numberLong:BigInt.asIntN(64,F).toString()};if(F instanceof RegExp||h(F)){let oe=F.flags;if(oe===void 0){const Q=F.toString().match(/[gimuy]*$/);Q&&(oe=Q[0])}return new Ye(F.source,oe).toExtendedJSON(B)}return F!=null&&typeof F=="object"?function(oe,Q){if(oe==null||typeof oe!="object")throw new ie("not an object instance");const Oe=oe._bsontype;if(Oe===void 0){const Te={};for(const et of Object.keys(oe)){Q.seenObjects.push({propertyName:et,obj:null});try{const qe=ir(oe[et],Q);et==="__proto__"?Object.defineProperty(Te,et,{value:qe,writable:!0,enumerable:!0,configurable:!0}):Te[et]=qe}finally{Q.seenObjects.pop()}}return Te}if(oe!=null&&typeof oe=="object"&&typeof oe._bsontype=="string"&&oe[Symbol.for("@@mdb.bson.version")]!==p)throw new Z;if(function(Te){return Te!=null&&typeof Te=="object"&&"_bsontype"in Te&&typeof Te._bsontype=="string"}(oe)){let Te=oe;if(typeof Te.toExtendedJSON!="function"){const et=fc[oe._bsontype];if(!et)throw new ie("Unrecognized or invalid _bsontype: "+oe._bsontype);Te=et(Te)}return Oe==="Code"&&Te.scope?Te=new we(Te.code,ir(Te.scope,Q)):Oe==="DBRef"&&Te.oid&&(Te=new $e(ir(Te.collection,Q),ir(Te.oid,Q),ir(Te.db,Q),ir(Te.fields,Q))),Te.toExtendedJSON(Q)}throw new ie("_bsontype must be a string, but was: "+typeof Oe)}(F,B):F}const fc={Binary:F=>new ue(F.value(),F.sub_type),Code:F=>new we(F.code,F.scope),DBRef:F=>new $e(F.collection||F.namespace,F.oid,F.db,F.fields),Decimal128:F=>new ye(F.bytes),Double:F=>new ke(F.value),Int32:F=>new je(F.value),Long:F=>ge.fromBits(F.low!=null?F.low:F.low_,F.low!=null?F.high:F.high_,F.low!=null?F.unsigned:F.unsigned_),MaxKey:()=>new Pe,MinKey:()=>new De,ObjectId:F=>new Xe(F),BSONRegExp:F=>new Ye(F.pattern,F.options),BSONSymbol:F=>new tt(F.value),Timestamp:F=>ft.fromBits(F.low,F.high)};function dc(F,B){const oe={useBigInt64:(B==null?void 0:B.useBigInt64)??!1,relaxed:(B==null?void 0:B.relaxed)??!0,legacy:(B==null?void 0:B.legacy)??!1};return JSON.parse(F,(Q,Oe)=>{if(Q.indexOf("\0")!==-1)throw new ie(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(Q)}`);return Ts(Oe,oe)})}function hc(F,B,oe,Q){oe!=null&&typeof oe=="object"&&(Q=oe,oe=0),B==null||typeof B!="object"||Array.isArray(B)||(Q=B,B=void 0,oe=0);const Oe=ir(F,Object.assign({relaxed:!0,legacy:!1},Q,{seenObjects:[{propertyName:"(root)",obj:null}]}));return JSON.stringify(Oe,B,oe)}const Ct=Object.create(null);Ct.parse=dc,Ct.stringify=hc,Ct.serialize=function(F,B){return B=B||{},JSON.parse(hc(F,B))},Ct.deserialize=function(F,B){return B=B||{},dc(JSON.stringify(F),B)},Object.freeze(Ct);const sr=17825792;let Sn=H.allocate(sr);function Fn(F){Sn.length<F&&(Sn=H.allocate(F))}function dr(F,B={}){const oe=typeof B.checkKeys=="boolean"&&B.checkKeys,Q=typeof B.serializeFunctions=="boolean"&&B.serializeFunctions,Oe=typeof B.ignoreUndefined!="boolean"||B.ignoreUndefined,Te=typeof B.minInternalBufferSize=="number"?B.minInternalBufferSize:sr;Sn.length<Te&&(Sn=H.allocate(Te));const et=Xo(Sn,F,oe,0,0,Q,Oe,null),qe=H.allocate(et);return qe.set(Sn.subarray(0,et),0),qe}function zi(F,B,oe={}){const Q=typeof oe.checkKeys=="boolean"&&oe.checkKeys,Oe=typeof oe.serializeFunctions=="boolean"&&oe.serializeFunctions,Te=typeof oe.ignoreUndefined!="boolean"||oe.ignoreUndefined,et=typeof oe.index=="number"?oe.index:0,qe=Xo(Sn,F,Q,0,0,Oe,Te,null);return B.set(Sn.subarray(0,qe),et),et+qe-1}function Pa(F,B={}){return Ze(H.toLocalBufferType(F),B)}function Ma(F,B={}){return Je(F,typeof(B=B||{}).serializeFunctions=="boolean"&&B.serializeFunctions,typeof B.ignoreUndefined!="boolean"||B.ignoreUndefined)}function pc(F,B,oe,Q,Oe,Te){const et=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},Te),qe=H.toLocalBufferType(F);let Ee=B;for(let at=0;at<oe;at++){const We=qe[Ee]|qe[Ee+1]<<8|qe[Ee+2]<<16|qe[Ee+3]<<24;et.index=Ee,Q[Oe+at]=Ze(qe,et),Ee+=We}return Ee}var t6=Object.freeze({__proto__:null,BSONError:ie,BSONRegExp:Ye,BSONRuntimeError:ee,BSONSymbol:tt,BSONType:re,BSONValue:ce,BSONVersionError:Z,Binary:ue,Code:we,DBRef:$e,Decimal128:ye,Double:ke,EJSON:Ct,Int32:je,Long:ge,MaxKey:Pe,MinKey:De,ObjectId:Xe,Timestamp:ft,UUID:Ae,calculateObjectSize:Ma,deserialize:Pa,deserializeStream:pc,serialize:dr,serializeWithBufferAndIndex:zi,setInternalBufferSize:Fn});s.BSON=t6,s.BSONError=ie,s.BSONRegExp=Ye,s.BSONRuntimeError=ee,s.BSONSymbol=tt,s.BSONType=re,s.BSONValue=ce,s.BSONVersionError=Z,s.Binary=ue,s.Code=we,s.DBRef=$e,s.Decimal128=ye,s.Double=ke,s.EJSON=Ct,s.Int32=je,s.Long=ge,s.MaxKey=Pe,s.MinKey=De,s.ObjectId=Xe,s.Timestamp=ft,s.UUID=Ae,s.calculateObjectSize=Ma,s.deserialize=Pa,s.deserializeStream=pc,s.serialize=dr,s.serializeWithBufferAndIndex=zi,s.setInternalBufferSize=Fn},4946:o=>{o.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},5207:o=>{o.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},1308:o=>{o.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},9799:o=>{o.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},8597:o=>{o.exports={i8:"6.5.5"}},2562:o=>{o.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},r={};function a(o){var s=r[o];if(s!==void 0)return s.exports;var i=r[o]={id:o,loaded:!1,exports:{}};return n[o].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}return a.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),a.nmd=o=>(o.paths=[],o.children||(o.children=[]),o),a(5507)})())})(Y3);var Jp=Y3.exports;const X3=Jo(Jp),zB=X3.Schema({blog_id:{type:String,required:!0,unique:!0},title:{type:String,required:!0},banner:{type:String},des:{type:String,maxlength:200},content:{type:[]},tags:{type:[String]},author:{type:Jp.Schema.Types.ObjectId,required:!0,ref:"users"},activity:{total_likes:{type:Number,default:0},total_comments:{type:Number,default:0},total_reads:{type:Number,default:0},total_parent_comments:{type:Number,default:0}},comments:{type:[Jp.Schema.Types.ObjectId],ref:"comments"},draft:{type:Boolean,default:!1}},{timestamps:{createdAt:"publishedAt"}});X3.model("blogs",zB);const HB=({url:t,caption:e})=>J.jsxs("div",{children:[J.jsx("img",{src:t}),e.length?J.jsx("p",{className:"w-full text-center my-3 md:mb-12 text-base text-dark-grey",children:e}):""]}),qB=({quote:t,caption:e})=>J.jsxs("div",{className:"bg-purple/10 p-3 pl-5 border-l-4 border-purple",children:[J.jsx("p",{className:"text-xl leading-10 md:text-2xl",children:t}),e.length?J.jsx("p",{className:"w-fill text-purple text-base",children:e}):""]}),WB=({style:t,items:e})=>J.jsx("ol",{className:`pl-5 ${t=="ordered"?"list-decimal":"list-disc"}`,children:e.map((n,r)=>J.jsx("li",{className:"my-4",dangerouslySetInnerHTML:{__html:n}},r))}),KB=({block:t})=>{let{type:e,data:n}=t;if(e=="paragraph")return J.jsx("p",{dangerouslySetInnerHTML:{__html:n.text}});if(e=="header")return n.level==3?J.jsx("h3",{className:" text-3xl font-bold",dangerouslySetInnerHTML:{__html:n.text}}):J.jsx("h2",{className:" text-3xl font-bold",dangerouslySetInnerHTML:{__html:n.text}});if(e=="image")return J.jsx(HB,{url:n.file.url,caption:n.caption});if(e=="quote")return J.jsx(qB,{quote:n.text,caption:n.caption});if(e=="list")return J.jsx(WB,{style:n.style,items:n.items})},Q3=({action:t,index:e=void 0,replyingTo:n=void 0,setReplying:r})=>{let{blog:a,blog:{_id:o,author:{_id:s},activity:i,activity:{total_comments:l,total_parent_comments:u},comments:g,comments:{results:h}},setBlog:b,setTotalParentCommentsLoaded:w}=he.useContext(uc),{userAuth:{access_token:p,username:d,fullname:y,profile_img:m}}=he.useContext(Mn);const[c,f]=he.useState(""),v=_=>{if(!p)return Xn.error("Please sign in to add a comment");if(!c.length)return Xn.error("Write something to add a comment");Gt.post("https://quick-quill-server.onrender.com/add-comment",{_id:o,blog_author:s,comment:c,replying_to:n},{headers:{Authorization:`Bearer ${p}`}}).then(({data:S})=>{f(""),S.commented_by={personal_info:{username:d,profile_img:m,fullname:y}};let E;n?(h[e].children.push(S._id),S.childrenLevel=h[e].childrenLevel+1,S.parentIndex=e,h[e].isReplyLoaded=!0,h.splice(e+1,0,S),E=h,r(!1)):(S.childrenLevel=0,E=[S,...h]);let x=n?0:1;b({...a,comments:{...g,results:E},activity:{...i,total_comments:l+1,total_parent_comments:u+x}}),w(T=>T+x);let k=n?"Reply Posted":"Comment Posted";Xn.success(k)}).catch(S=>{console.log(S)})};return J.jsxs(J.Fragment,{children:[J.jsx(oo,{}),J.jsx("textarea",{value:c,onChange:_=>f(_.target.value),placeholder:"Add a comment...",className:"input-box pl-5 placeholder:text-dark-grey resize-none h-[150px] overflow-auto"}),J.jsx("button",{className:"btn-dark mt-5 px-10",onClick:v,children:t})]})},GB=({index:t,leftVal:e,commentData:n})=>{let{commented_by:{personal_info:{profile_img:r,fullname:a,username:o}},commentedAt:s,comment:i,_id:l,children:u}=n,{blog:g,blog:{comments:h,activity:b,activity:{total_parent_comments:w},comments:{results:p},author:{personal_info:{username:d}}},setBlog:y,setTotalParentCommentsLoaded:m}=he.useContext(uc),{userAuth:{access_token:c,username:f}}=he.useContext(Mn);const[v,_]=he.useState(!1),S=()=>{let M=t-1;try{for(;p[M].childrenLevel>n.childrenLevel;)M--}catch{M=void 0}return M},E=(M,N=!1)=>{if(p[M])for(;p[M].childrenLevel>n.childrenLevel&&(p.splice(M,1),!!p[M]););if(N){let L=S();L!=null&&(p[L].children=p[L].children.filter(R=>R!=l),p[L].children.length||(p[L].isReplyLoaded=!1)),p.splice(t,1)}n.childrenLevel==0&&N&&m(L=>L-1),y({...g,comments:{results:p},activity:{...b,total_parent_comments:w-(n.childrenLevel==0&&N?1:0)}})},x=({skip:M=0})=>{u.length&&(k(),Gt.post("https://quick-quill-server.onrender.com/get-replies",{_id:l,skip:M}).then(({data:{replies:N}})=>{n.isReplyLoaded=!0;for(let L=0;L<N.length;L++)N[L].childrenLevel=n.childrenLevel+1,p.splice(t+1+L+M,0,N[L]);y({...g,comments:{...h,results:p}})}).catch(N=>{console.log(N)}))},k=()=>{n.isReplyLoaded=!1,E(t+1)},T=M=>{M.target.setAttribute("disabled",!0),Gt.post("https://quick-quill-server.onrender.com/delete-comment",{_id:l},{headers:{Authorization:`Bearer ${c}`}}).then(()=>{M.target.removeAttribute("disabled"),E(t+1,!0)}).catch(N=>{console.log(N)})},C=()=>{if(!c)return Xn.error("Please sign in to reply to comments");_(M=>!M)};return J.jsxs(J.Fragment,{children:[J.jsx(oo,{}),J.jsx("div",{className:"w-full",style:{paddingLeft:`${e*10}px`},children:J.jsxs("div",{className:"my-5 p-6 rounded-md border border-grey",children:[J.jsxs("div",{className:"flex gap-2 items-center mb-8",children:[J.jsx("img",{src:r,className:"w-6 h-6 rounded-full"}),J.jsx("p",{className:"line-clamp-2 capitalize",children:a}),J.jsxs("p",{className:"line-clamp-1",children:["@",o]}),J.jsx("p",{className:"min-w-fit",children:Ta(s)})]}),J.jsx("p",{className:"font-gelasio text-xl ml-3",children:i}),J.jsxs("div",{className:"flex gap-5 items-center mt-5",children:[n.isReplyLoaded?J.jsxs("button",{onClick:k,className:"text-dark-grey p-2 px-3 bg-grey/50 hover:bg-grey/80 rounded-md flex items-center gap-2",children:[J.jsx("i",{className:"fi fi-rs-comment-dots"}),"Hide Replies"]}):J.jsxs("button",{className:"text-dark-grey p-2 px-3 bg-grey/50 hover:bg-grey/80 rounded-md flex items-center gap-2",onClick:x,children:[J.jsx("i",{className:"fi fi-rs-comment-dots"}),u.length!=1?`${u.length} Replies`:`${u.length} Reply`]}),J.jsx("button",{className:"underline",onClick:C,children:"Reply"}),f==o||f==d?J.jsx("button",{className:"p-2 px-3 rounded-md ml-auto hover:text-red flex items center",onClick:T,children:J.jsx("i",{className:"fi fi-rr-trash pointer-events-none"})}):""]}),v?J.jsx("div",{className:"mt-8",children:J.jsx(Q3,{action:"reply",index:t,replyingTo:l,setReplying:_})}):""]})})]})},Z3=async({skip:t=0,blog_id:e,setParentCommentCountFun:n,comment_array:r=null})=>{let a;return await Gt.post("https://quick-quill-server.onrender.com/get-blog-comments",{blog_id:e,skip:t}).then(({data:o})=>{o.map(s=>{s.childrenLevel=0}),n(s=>s+o.length),r==null?a={results:o}:a={results:[...r,...o]}}),a},JB=()=>{let{blog:t,blog:{_id:e,title:n,comments:{results:r},activity:{total_parent_comments:a}},commentsWrapper:o,setCommentsWrapper:s,totalParentCommentsLoaded:i,setTotalParentCommentsLoaded:l,setBlog:u}=he.useContext(uc);const g=async()=>{let h=await Z3({skip:i,totalParentCommentsLoaded:i,blog_id:e,setParentCommentCountFun:l,comment_array:r});u({...t,comments:h})};return J.jsxs("div",{className:"max-sm:w-full fixed "+(o?"top-0 sm:right-0":"top-[100%] sm:right-[-100%]")+" duration-450 max-sm:right-0 sm:top-0 w-[30%] min-w-[350px] h-full z-50 bg-white shadow-2xl p-8 px-16 overflow-y-auto overflow-x-hidden",children:[J.jsxs("div",{className:"relative",children:[J.jsx("h1",{className:"text-xl font-medium",children:"Comments"}),J.jsx("p",{className:"text-lg mt-2 w-[70%] text-dark-grey line-clamp-2",children:n}),J.jsx("button",{onClick:()=>s(h=>!h),className:"absolute top-0 right-0 flex justify-center items-center w-12 h-12 rounded-full bg-grey",children:J.jsx("i",{className:"fi fi-br-cross text-2xl"})})]}),J.jsx("hr",{className:"border-grey my-8 w-[120%] -ml-10"}),J.jsx(Q3,{action:"comment"}),r&&r.length?r.map((h,b)=>J.jsx(Cn,{children:J.jsx(GB,{index:b,leftVal:h.childrenLevel*4,commentData:h})},b)):J.jsx(wo,{message:"No Comments"}),a>i?J.jsx("button",{onClick:g,className:"text-dark-grey p-2 px-3 bg-grey/50 hover:bg-grey/80 rounded-md flex items-center gap-2",children:"Load More"}):""]})},P1={title:"",des:"",content:[],author:{personal_info:{}},banner:"",publishedAt:""},uc=he.createContext({}),YB=()=>{let{blog_id:t}=ka();const[e,n]=he.useState(P1),[r,a]=he.useState(null),[o,s]=he.useState(!0),[i,l]=he.useState(!1),[u,g]=he.useState(!1),[h,b]=he.useState(0);let{title:w,content:p,banner:d,author:{personal_info:{fullname:y,username:m,profile_img:c}},publishedAt:f}=e;const v=()=>{Gt.post("https://quick-quill-server.onrender.com/get-blog",{blog_id:t}).then(async({data:{blog:S}})=>{S.comments=await Z3({blog_id:S._id,setParentCommentCountFun:b}),n(S),Gt.post("https://quick-quill-server.onrender.com/search-blogs",{multipleTags:S.tags,limit:6,remove_blog:t}).then(({data:E})=>{a(E.blogs)}),s(!1)}).catch(S=>{console.log(S),s(!1)})};he.useEffect(()=>{_(),v()},[t]);const _=()=>{n(P1),a(null),s(!0),l(!1),g(!1),b(0)};return J.jsx(Cn,{children:o?J.jsx(Er,{}):J.jsxs(uc.Provider,{value:{blog:e,setBlog:n,isLikedByUser:i,setLikedByUser:l,commentsWrapper:u,setCommentsWrapper:g,totalParentCommentsLoaded:h,setTotalParentCommentsLoaded:b},children:[J.jsx(JB,{}),J.jsxs("div",{className:"max-w-[900px] center py-10 max-lg:px-[5vw]",children:[J.jsx("img",{src:d,className:"aspect-video"}),J.jsxs("div",{className:"mt-12",children:[J.jsx("h2",{children:w}),J.jsxs("div",{className:"flex max-sm:flex-col justify-between my-8",children:[J.jsxs("div",{className:"flex gap-5 items-start",children:[J.jsx("img",{src:c,className:"w-12 h-12 rounded-full"}),J.jsxs("p",{children:[J.jsx("h1",{className:"capitalize",children:y}),"@",J.jsx(Xt,{to:`/user/${m}`,className:"underline",children:m})]})]}),J.jsxs("p",{className:"text-dark-grey opacity-75 max-sm:mt-3 max-sm:ml-12 max-sm:pl-5",children:["Published on ",Ta(f)]})]})]}),J.jsx(C1,{hide:!1}),J.jsx("div",{className:"my-12 font-gelasio blog-page-content",children:p[0].blocks.map((S,E)=>J.jsx("div",{className:"my-4 mdLmy-8",children:J.jsx(KB,{block:S})},E))}),p[0].blocks.length<3?"":J.jsx(C1,{hide:!0}),r!=null&&r.length?J.jsxs(J.Fragment,{children:[J.jsx("h1",{className:"text-2xl mt-14 mb-10 font-medium",children:"Similar Blogs"}),r.map((S,E)=>{let{author:{personal_info:x}}=S;return J.jsx(Cn,{transition:{duration:1,delay:E*.08},children:J.jsx(nd,{content:S,author:x})},E)})]}):""]})]})})},M1=()=>{let{userAuth:{access_token:t,new_notification_available:e}}=he.useContext(Mn),n=location.pathname.split("/")[2],[r,a]=he.useState(n.replace("-"," ")),[o,s]=he.useState(!1),i=he.useRef(),l=he.useRef(),u=he.useRef();const g=h=>{let{offsetWidth:b,offsetLeft:w}=h.target;i.current.style.width=b+"px",i.current.style.left=w+"px",h.target==l.current?s(!0):s(!1)};return he.useEffect(()=>{s(!1),u.current.click()},[r]),t===null?J.jsx(Xm,{to:"/signin"}):J.jsx(J.Fragment,{children:J.jsxs("section",{className:"relative flex gap-10 py-0 m-0 max-md:flex-col",children:[J.jsxs("div",{className:"sticky top-[80px] z-30",children:[J.jsxs("div",{className:"md:hidden bg-white py-1 border-b border-grey flex flex-nowrap overflow-x-auto ",children:[J.jsx("button",{ref:l,className:"p-5 capitalize ",onClick:g,children:J.jsx("i",{className:"fi fi-rr-bars-sort pointer-events-none"})}),J.jsx("button",{ref:u,className:"p-5 capitalize ",onClick:g,children:r}),J.jsx("hr",{ref:i,className:"absolute bottom-0 duration-500"})]}),J.jsxs("div",{className:"min-w-[200px] h-[calc(100vh-80px-60px)] h-cover md:sticky top-24 overflow-y-auto -ml-10 p-6 md:pr-0 md:border-grey md:border-r absolute max-md:top-[64px] bg-white max-md:w-[calc(100%+80px)] max-md:px-16 max-md:-ml-7 duration-500 "+(o?"opacity-100 pointer-events-auto":"max-md:opacity-0 max-md:pointer-events-none"),children:[J.jsx("h1",{className:"text-xl text-dark-grey mb-3",children:"Dashboard"}),J.jsx("hr",{className:"border-grey -ml-6 mb-8 mr-6"}),J.jsxs(za,{to:"/dashboard/blogs",onClick:h=>a(h.target.innerText),className:"sidebar-link",children:[J.jsx("i",{className:"fi fi-rr-document"}),"Blogs"]}),J.jsxs(za,{to:"/dashboard/notifications",onClick:h=>a(h.target.innerText),className:"sidebar-link",children:[J.jsxs("div",{className:"relative",children:[J.jsx("i",{className:"fi fi-rr-bell"}),e?J.jsx("span",{className:"bg-red w-2 h-2 rounded-full absolute z-10 top-0 right-0"}):""]}),"Notifications"]}),J.jsxs(za,{to:"/editor",onClick:h=>a(h.target.innerText),className:"sidebar-link",children:[J.jsx("i",{className:"fi fi-rr-file-edit"}),"Write"]}),J.jsx("h1",{className:"text-xl text-dark-grey mt-20 mb-3",children:"Settings"}),J.jsx("hr",{className:"border-grey -ml-6 mb-8 mr-6"}),J.jsxs(za,{to:"/settings/edit-profile",onClick:h=>a(h.target.innerText),className:"sidebar-link",children:[J.jsx("i",{className:"fi fi-rr-user"}),"Edit Profile"]}),J.jsxs(za,{to:"/settings/change-password",onClick:h=>a(h.target.innerText),className:"sidebar-link",children:[J.jsx("i",{className:"fi fi-rr-lock"}),"Change Password"]})]})]}),J.jsx("div",{className:"max-md:-mt-8 mt-5 w-full",children:J.jsx(e2,{})})]})})},XB=()=>{let{userAuth:{access_token:t}}=he.useContext(Mn),e=he.useRef(),n=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;const r=a=>{a.preventDefault();let o=new FormData(e.current),s={};for(let[g,h]of o.entries())s[g]=h;let{currentPassword:i,newPassword:l}=s;if(!i.length||!l.length)return mt.error("Please enter both the current and new password");if(!n.test(i)||!n.test(l))return mt.error("Passwords must be 6-20 characters, with at least 1 number, 1 lowercase letter and 1 uppercase letter");a.target.setAttribute("disabled",!0);let u=mt.loading("Updating...");Gt.post("https://quick-quill-server.onrender.com/change-password",s,{headers:{Authorization:`Bearer ${t}`}}).then(()=>(mt.dismiss(u),a.target.removeAttribute("disabled"),mt.success("Password changed successfully!"))).catch(({response:g})=>(mt.dismiss(u),a.target.removeAttribute("disabled"),mt.error(g.data.error)))};return J.jsxs(Cn,{children:[J.jsx(oo,{}),J.jsxs("form",{ref:e,children:[J.jsx("h1",{className:"max-md:hidden",children:"Change Password"}),J.jsxs("div",{className:"py-10 w-full md:max-w-[400px]",children:[J.jsx(Io,{name:"currentPassword",type:"password",className:"profile-edit-input",placeholder:"Current Password",icon:"fi-rr-unlock"}),J.jsx(Io,{name:"newPassword",type:"password",className:"profile-edit-input",placeholder:"New Password",icon:"fi-rr-lock"}),J.jsx("button",{onClick:r,className:"btn-dark px-10 mt-3",children:"Change Password"})]})]})]})},QB=()=>{let{userAuth:t,userAuth:{access_token:e,username:n},setUserAuth:r}=he.useContext(Mn);const[a,o]=he.useState(J3),[s,i]=he.useState(!0),[l,u]=he.useState(0),[g,h]=he.useState(null);let b=160,w=he.useRef(),p=he.useRef(),{personal_info:{fullname:d,username:y,profile_img:m,email:c,bio:f},social_links:v}=a;he.useEffect(()=>{e&&Gt.post("https://quick-quill-server.onrender.com/get-profile",{username:n}).then(({data:k})=>{o(k),i(!1)}).catch(k=>{console.log(k)})},[e]);const _=k=>{u(k.target.value.length)},S=k=>{let T=k.target.files[0];w.current.src=URL.createObjectURL(T),h(T)},E=k=>{if(k.preventDefault(),g){let T=Xn.loading("Uploading...");k.target.setAttribute("disabled",!0),Vy(g).then(C=>{C&&Gt.post("https://quick-quill-server.onrender.com/update-profile-img",{url:C},{headers:{Authorization:`Bearer ${e}`}}).then(({data:M})=>{let N={...t,profile_img:M.profile_img};Xu("user",JSON.stringify(N)),r(N),h(null),Xn.dismiss(T),k.target.removeAttribute("disabled"),Xn.success("Profile Picture Updated!")}).catch(({response:M})=>{Xn.dismiss(T),k.target.removeAttribute("disabled"),Xn.error(M.data.error)})}).catch(C=>{console.log(C)})}},x=k=>{k.preventDefault();let T=new FormData(p.current),C={};for(let[j,P]of T.entries())C[j]=P;let{username:M,bio:N,youtube:L,facebook:R,twitter:D,github:z,instagram:U,website:O}=C;if(M.length<3)return Xn.error("Username must be at least 3 characters");if(N.length>b)return Xn.error(`Bio cannot be more than ${b} characters`);let I=Xn.loading("Saving changes...");k.target.setAttribute("disabled",!0),Gt.post("https://quick-quill-server.onrender.com/update-profile",{username:M,bio:N,social_links:{youtube:L,facebook:R,twitter:D,github:z,instagram:U,website:O}},{headers:{Authorization:`Bearer ${e}`}}).then(({data:j})=>{if(t.username!=j.username){console.log("fine1");let P={...t,username:j.username};console.log("fine1"),Xu("user",JSON.stringify(P)),r(P)}Xn.dismiss(I),k.target.removeAttribute("disabled"),Xn.success("Profile Changes saved successfully!")}).catch(({response:j})=>{Xn.dismiss(I),k.target.removeAttribute("disabled"),Xn.error(j.data.error)})};return J.jsx(Cn,{children:s?J.jsx(Er,{}):J.jsxs("form",{ref:p,children:[J.jsx(oo,{}),J.jsx("h1",{className:"max-md: hidden",children:"Edit Profile"}),J.jsxs("div",{className:"flex flex-col lg:flex-row items-start py-10 gap-8 lg:gap-10",children:[J.jsxs("div",{className:"max-lg:center mb-5",children:[J.jsxs("label",{htmlFor:"uploadImg",id:"profileImgLabel",className:"relative block w-48 h-48 bg-white rounded-full overflow-hidden",children:[J.jsx("div",{className:"w-full h-full absolute top-0 left-0 flex items-center justify-center text-white bg-black/70 opacity-0 hover:opacity-100 cursor-pointer",children:"Change Image"}),J.jsx("img",{ref:w,src:m}),J.jsx("div",{})]}),J.jsx("input",{type:"file",id:"uploadImg",accept:".jpg, .png, .jpeg",hidden:!0,onChange:S}),J.jsx("button",{className:(g?"":"hidden")+" btn-light mt-5 max-lg:center lg:w-full px-10",onClick:E,children:"Save Image"})]}),J.jsxs("div",{className:"w-full",children:[J.jsxs("div",{className:" grid grid-cols-1 md:grid-cols-2 md:gap-5",children:[J.jsx("div",{children:J.jsx(Io,{name:"fullname",type:"text",value:d,placeholder:"Full Name",disable:!0,icon:"fi-rr-user"})}),J.jsx("div",{children:J.jsx(Io,{name:"email",type:"email",value:c,placeholder:"Email",disable:!0,icon:"fi-rr-envelope"})})]}),J.jsx(Io,{type:"text",name:"username",value:y,placeholder:"Username",icon:"fi-rr-at"}),J.jsx("p",{className:"text-dark-grey -mt-2",children:"Your username can be used to search for your profile and is visible to everyone"}),J.jsx("textarea",{name:"bio",maxLength:b,defaultValue:f,className:"input-box h-45 lg:h-30 resize-none leading-7 mt-5 pl-5",placeholder:"Bio",onChange:_}),J.jsxs("p",{className:"mt-1 text-dark-grey",children:[l,"/",b," characters"]}),J.jsx("p",{className:"my-6 text-ddark-grey",children:"Paste the link of your socials below!"}),J.jsx("div",{className:"md:grid md:grid-cols-2 gap-x-6",children:Object.keys(v).map((k,T)=>{let C=v[k];return J.jsx(Io,{name:k,type:"",value:C,placeholder:"https://",icon:"fi "+(k!="website"?"fi-brands-"+k:"fi-rr-globe")},T)})}),J.jsx("button",{className:"btn-dark mt-3 w-auto px-10",type:"submit",onClick:x,children:"Save Changes"})]})]})]})})},ZB=({_id:t,blog_author:e,index:n=void 0,replyingTo:r=void 0,setReplying:a,notification_id:o,notificationData:s})=>{let[i,l]=he.useState(""),{_id:u}=e,{userAuth:{access_token:g}}=he.useContext(Mn),{notifications:h,notifications:{results:b},setNotifications:w}=s;const p=()=>{if(!g)return mt.error("Please sign in to add a comment");if(!i.length)return mt.error("Write something to add a comment");Gt.post("https://quick-quill-server.onrender.com/add-comment",{_id:t,blog_author:u,comment:i,replying_to:r,notification_id:o},{headers:{Authorization:`Bearer ${g}`}}).then(({data:d})=>{a(!1),b[n].reply={comment:i,_id:d._id},w({...h,results:b})}).catch(d=>{console.log(d)})};return J.jsxs(J.Fragment,{children:[J.jsx(oo,{}),J.jsx("textarea",{value:i,onChange:d=>l(d.target.value),placeholder:"Reply...",className:"input-box pl-5 placeholder:text-dark-grey resize-none h-[150px] overflow-auto"}),J.jsx("button",{className:"btn-dark mt-5 px-10",onClick:p,children:"Reply"})]})},eN=({data:t,index:e,notificationState:n})=>{let{seen:r,type:a,reply:o,replied_on_comment:s,comment:i,createdAt:l,_id:u,user:g,user:{personal_info:{fullname:h,username:b,profile_img:w}},blog:{_id:p,blog_id:d,title:y,author:m}}=t,{userAuth:{username:c,profile_img:f,access_token:v}}=he.useContext(Mn),{notifications:_,notifications:{results:S,totalDocs:E},setNotifications:x}=n,[k,T]=he.useState(!1);const C=()=>{T(N=>!N)},M=(N,L,R)=>{R.setAttribute("disabled",!0),Gt.post("https://quick-quill-server.onrender.com/delete-comment",{_id:N},{headers:{Authorization:`Bearer ${v}`}}).then(()=>{L=="comment"?S.splice(e,1):delete S[e].reply,R.removeAttribute("disabled",!1),x({..._,results:S,totalDocs:E-1,deletedDocCount:_.deletedDocCount+1})}).catch(D=>{console.log(D)})};return J.jsxs("div",{className:"p-6 border-b border-grey border-l-black "+(r?"":"border-l-2"),children:[J.jsxs("div",{className:"flex gap-5 mb-3",children:[J.jsx("img",{src:w,className:"w-14 h-14 flex-none rounded-full"}),J.jsxs("div",{className:"w-full",children:[J.jsxs("h1",{className:"font-medium text-xl text-dark-grey",children:[J.jsx("span",{className:"lg:inline-block hidden capitalize",children:h}),J.jsxs(Xt,{className:"mx-1 text-black underline",to:`/user/${b}`,children:["@",b," "]}),J.jsx("span",{className:"font-normal",children:a=="like"?"liked your blog":a=="comment"?"commented on:":J.jsx(Xt,{className:"hover:text-black",to:`/blogs/${d}`,children:`replied to you on: "${y}"`})})]}),a=="reply"?J.jsx("div",{className:"p-4 mt-4 rounded-md bg-grey w-[65%]",children:J.jsxs("p",{children:[s.comment," "]})}):J.jsx(Xt,{className:"font-medium text-dark-grey hover:underline hover:text-black line-clamp-1",to:`/blogs/${d}`,children:`"${y}"`})]})]}),a!="like"?J.jsx("p",{className:"ml-14 pl-5 font-gelasio text-xl my-5",children:i.comment}):"",J.jsxs("div",{className:"ml-14 pl-5 mt-3 text-dark-grey flex gap-8",children:[J.jsx("p",{children:Ta(l)}),a!="like"?J.jsxs(J.Fragment,{children:[o?"":J.jsx("button",{className:"underline hover:text-black",onClick:C,children:"Reply"}),c==m?J.jsx("button",{className:"underline hover:text-black",onClick:N=>M(i._id,"comment",N.target),children:"Delete"}):""]}):""]}),k?J.jsx("div",{className:"mt-8",children:J.jsx(ZB,{_id:p,blog_author:g,index:e,replyingTo:i._id,setReplying:T,notification_id:u,notificationData:n})}):"",o?J.jsxs("div",{className:"ml-20 p-5 bg-grey mt-5 rounded-md",children:[J.jsxs("div",{className:"flex gap-3 mb-3",children:[J.jsx("img",{className:"w-8 h-8 rounded-full",src:f}),J.jsx("div",{children:J.jsxs("h1",{"font-medium":!0,"text-xl":!0,"text-dark-grey":!0,children:[J.jsxs(Xt,{className:"mx-1 text-black underline",to:`/user/${c}`,children:["@",c]}),J.jsx("span",{className:"font-normal",children:"replied to"}),J.jsxs(Xt,{className:"mx-1 text-black underline",to:`/user/${b}`,children:["@",b]})]})})]}),J.jsx("p",{className:"ml-14 font-gelasio text-xl my-2",children:o.comment}),J.jsx("button",{className:"ml-14 mt-2 underline hover:text-black",onClick:N=>M(o,"reply",N.target),children:"Delete Reply"})]}):""]})},tN=()=>{let{userAuth:t,userAuth:{access_token:e,new_notification_available:n},setUserAuth:r}=he.useContext(Mn);const[a,o]=he.useState("all"),[s,i]=he.useState(null);let l=["all","likes","comments","replies"];const u=b=>{if(b=="all")return b;if(b=="likes")return"like";if(b=="comments")return"comment";if(b=="replies")return"reply"},g=({page:b,deletedDocCount:w=0})=>{let p=u(a);Gt.post("https://quick-quill-server.onrender.com/get-notifications",{page:b,filter:p,deletedDocCount:w},{headers:{Authorization:`Bearer ${e}`}}).then(async({data:{notifications:d}})=>{n&&r({...t,new_notification_available:!1});let y=await ya({state:s,data:d,page:b,countRoute:"/all-notifications-count",data_to_send:{filter:a},user:e});i(y)}).catch(d=>{console.log(d.message)})};he.useEffect(()=>{e&&g({page:1})},[e,a]);const h=b=>{let w=b.target.innerHTML;o(w),i(null)};return J.jsxs("div",{children:[J.jsx("h1",{className:"max-md:hidden",children:"Recent Notifications"}),J.jsx("div",{className:"my-8 flex gap-6",children:l.map((b,w)=>J.jsx("button",{className:"py-2 "+(a==b?"btn-dark":"btn-light"),onClick:h,children:b},w))}),s==null?J.jsx(Er,{}):J.jsxs(J.Fragment,{children:[s.results.length?s.results.map((b,w)=>J.jsx(Cn,{transition:{delay:w*.08},children:J.jsx(eN,{data:b,index:w,notificationState:{notifications:s,setNotifications:i}})},w)):J.jsx(wo,{message:"No notifications available"}),J.jsx(ga,{state:s,fetchDataFun:g,additionalParam:{deletedDocCount:s.deletedDocCount}})]})]})},I1=({stats:t})=>J.jsx("div",{className:"flex gap-2 max-lg:mb-6 max-lg:pb-6 border-grey max-lg:border-b ",children:Object.keys(t).map((e,n)=>{let r=t[e]==1,a=e.split("_")[1].length,o=e.split("_")[1];return o=="reads"?o="views":o=o,e.includes("parent")?"":J.jsxs("div",{className:"flex flex-col items-center w-full h-full justify-center p-4 px-6 "+(n!=0?"border-grey border-l":""),children:[J.jsx("h1",{className:"text-xl lg:text-2xl mb-2",children:t[e].toLocaleString()}),J.jsx("p",{className:"max-lg:text-dark-grey capitalize",children:r?o.substring(0,a-1):o})]},n)})}),e6=({type:t,blog:e,access_token:n,target:r})=>{mt.custom(()=>J.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5",children:[J.jsx("div",{className:"flex-1 w-0 p-4",children:J.jsxs("div",{className:"flex items-start",children:[J.jsx("div",{className:"flex-shrink-0 pt-0.5",children:J.jsx("i",{className:"fi fi-ss-triangle-warning h-10 w-10 rounded-full"})}),J.jsxs("div",{className:"ml-3 flex-1",children:[J.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Warning"}),t=="blog"?J.jsx("p",{className:"mt-1 text-sm text-grey-500",children:"Deleting a blog is permanent and cannot be undone! Are you sure you want to delete?"}):J.jsx("p",{className:"mt-1 text-sm text-grey-500",children:"Deleting a draft is permanent and cannot be undone! Are you sure you want to delete?"})]})]})}),J.jsx("div",{className:"flex",children:J.jsx("button",{onClick:()=>oN(e,n,r),className:"w-full border border-transparent rounded-none rounded-r-lg p-4 flex items-center justify-center text-sm font-medium text-indigo-600 hover:text-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-red",children:"Delete Forever"})})]}))},nN=({blog:t})=>{let{banner:e,blog_id:n,title:r,publishedAt:a,activity:o}=t,{userAuth:{access_token:s}}=he.useContext(Mn),[i,l]=he.useState(!1);return J.jsxs(J.Fragment,{children:[J.jsx(oo,{}),J.jsxs("div",{className:"flex gap-10 border-b mb-6 max-md:px-4 border-grey pb-6 items-center",children:[J.jsx("img",{className:"max-md:hidden lg:hidden xl:block w-28 h-28 flex-none bg-grey object-cover rounded-md",src:e}),J.jsxs("div",{className:"flex flex-col justify-between py-2 w-full min-w-[300px]",children:[J.jsxs("div",{children:[J.jsx(Xt,{to:`/blogs/${n}`,className:"blog-title mb-4 hover:underline",children:r}),J.jsxs("p",{className:"line-clamp-1",children:["Published on ",Ta(a)]})]}),J.jsxs("div",{className:"flex gap-6 mt-3",children:[J.jsx(Xt,{className:"pr-4 py-2 underline",to:`/editor/${n}`,children:"Edit"}),J.jsx("button",{onClick:()=>l(u=>!u),className:"lg:hidden pr-4 py-2 underline",children:"Insights"}),J.jsx("button",{onClick:u=>e6({type:"blog",blog:t,access_token:s,target:u.target}),className:"pr-4 py-2 underline text-red",children:"Delete"})]})]}),J.jsx("div",{className:"max-lg:hidden",children:J.jsx(I1,{stats:o})})]}),i?J.jsx("div",{children:J.jsx(I1,{stats:o})}):""]})},rN=({blog:t})=>{let{banner:e,blog_id:n,title:r,publishedAt:a,activity:o,des:s,index:i}=t,{userAuth:{access_token:l}}=he.useContext(Mn);return i++,J.jsxs("div",{className:"flex gap-5 lg:gap-10 pb-5 border-b mb-5 border-grey",children:[J.jsx("h1",{className:"blog-index text-center pl-4 md:pl-6 flex-none",children:i<10?"0"+i:i}),J.jsxs("div",{children:[J.jsx("h1",{className:"blog-title mb-3",children:r}),J.jsx("p",{className:"-mt-5 line-clamp-2 font-gelasio",children:s.length?s:"No Description"}),J.jsxs("div",{className:"flex gap-6 mt-3",children:[J.jsx(Xt,{className:"pr-4 py-2 underline",to:`/editor/${n}`,children:"Edit"}),J.jsx("button",{onClick:u=>e6({type:"draft",blog:t,access_token:l,target:u.target}),className:"pr-4 py-2 underline text-red",children:"Delete"})]})]})]})},oN=(t,e,n)=>{let{index:r,blog_id:a,setStateFunc:o}=t;n.setAttribute("disabled",!0),Gt.post("https://quick-quill-server.onrender.com/delete-blog",{blog_id:a},{headers:{Authorization:`Bearer ${e}`}}).then(({data:s})=>{n.removeAttribute("disabled"),mt.success("Blog deleted successfully"),o(i=>{let{deletedDocCount:l,totalDocs:u,results:g}=i;return g.splice(r,1),l||(l=0),!g.length&&u-1>0?null:{...i,totalDocs:u-1,deletedDocCount:l+1}})}).catch(s=>{console.log(s)})},iN=()=>{const[t,e]=he.useState(null),[n,r]=he.useState(null),[a,o]=he.useState("");let s=C8()[0].get("tab"),{userAuth:{access_token:i}}=he.useContext(Mn);const l=({page:h,draft:b,deletedDocCount:w=0})=>{Gt.post("https://quick-quill-server.onrender.com/user-written-blogs",{page:h,draft:b,query:a,deletedDocCount:w},{headers:{Authorization:`Bearer ${i}`}}).then(async({data:p})=>{let d=await ya({state:b?n:t,data:p.blogs,page:h,user:i,countRoute:"/user-written-blogs-count",data_to_send:{draft:b,query:a}});b?r(d):e(d)}).catch(p=>{console.log(p)})};he.useEffect(()=>{i&&(t==null&&l({page:1,draft:!1}),n==null&&l({page:1,draft:!0})),mt.dismiss()},[i,t,n,a]);const u=h=>{let b=h.target.value;o(b),h.keyCode==13&&b.length&&(e(null),r(null))},g=h=>{h.target.value.length||(o(""),e(null),r(null))};return J.jsxs(J.Fragment,{children:[J.jsx("h1",{className:"max-md:hidden",children:"Manage Blogs"}),J.jsx(oo,{}),J.jsxs("div",{className:"relative max-md:mt-5 md:mt-8 mb-10",children:[J.jsx("input",{type:"search",className:"w-full bg-grey p-4 pl-12 pr-6 rounded-full placeholder:text-dark-grey",placeholder:"Search Blogs",onChange:g,onKeyDown:u}),J.jsx("i",{className:"fi fi-rr-search absolute right-[10%] md:pointer-events-none md:left-5 top-1/2 -translate-y-1/2 text-xl text-dark-grey"})]}),J.jsxs(td,{routes:["Published Blogs","Drafts"],defaultActiveIndex:s!="draft"?0:1,children:[t==null?J.jsx(Er,{}):t.results.length?J.jsxs(J.Fragment,{children:[t.results.map((h,b)=>J.jsx(Cn,{transition:{delay:b*.04},children:J.jsx(nN,{blog:{...h,index:b,setStateFunc:e}})},b)),J.jsx(ga,{state:t,fetchDataFun:l,additionalParam:{draft:!1,deletedDocCount:t.deletedDocCount}})]}):J.jsx(wo,{message:"No published blogs"}),n==null?J.jsx(Er,{}):n.results.length?J.jsxs(J.Fragment,{children:[n.results.map((h,b)=>J.jsx(Cn,{transition:{delay:b*.04},children:J.jsx(rN,{blog:{...h,index:b,setStateFunc:r}})},b)),J.jsx(ga,{state:n,fetchDataFun:l,additionalParam:{draft:!0,deletedDocCount:n.deletedDocCount}})]}):J.jsx(wo,{message:"No draft blogs"})]})]})},Mn=he.createContext({}),rd=he.createContext({}),sN=()=>{const[t,e]=he.useState({}),[n,r]=he.useState("light");return he.useEffect(()=>{let a=wb("user"),o=wb("theme");e(a?JSON.parse(a):{access_token:null}),o?r(()=>(document.body.setAttribute("data-theme",o),o)):document.body.setAttribute("data-theme",n)},[]),J.jsx(rd.Provider,{value:{theme:n,setTheme:r},children:J.jsx(Mn.Provider,{value:{userAuth:t,setUserAuth:e},children:J.jsxs(v8,{children:[J.jsx(Vn,{path:"/editor",element:J.jsx(A1,{})}),J.jsx(Vn,{path:"/editor/:blog_id",element:J.jsx(A1,{})}),J.jsxs(Vn,{path:"/",element:J.jsx(OO,{}),children:[J.jsx(Vn,{index:!0,element:J.jsx(NB,{})}),J.jsxs(Vn,{path:"dashboard",element:J.jsx(M1,{}),children:[J.jsx(Vn,{path:"blogs",element:J.jsx(iN,{})}),J.jsx(Vn,{path:"notifications",element:J.jsx(tN,{})})]}),J.jsxs(Vn,{path:"settings",element:J.jsx(M1,{}),children:[J.jsx(Vn,{path:"edit-profile",element:J.jsx(QB,{})}),J.jsx(Vn,{path:"change-password",element:J.jsx(XB,{})})]}),J.jsx(Vn,{path:"signin",element:J.jsx(w1,{type:"sign-in"})}),J.jsx(Vn,{path:"signup",element:J.jsx(w1,{type:"sign-up"})}),J.jsx(Vn,{path:"search/:query",element:J.jsx(RB,{})}),J.jsx(Vn,{path:"user/:id",element:J.jsx(VB,{})}),J.jsx(Vn,{path:"blogs/:blog_id",element:J.jsx(YB,{})}),J.jsx(Vn,{path:"*",element:J.jsx(G3,{})})]})]})})})};ch.createRoot(document.getElementById("root")).render(J.jsx(O8,{children:J.jsx(sN,{})}));
